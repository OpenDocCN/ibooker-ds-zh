## 附录。练习：示例和答案

答案按章节列在下文。

### 第二章

> **1.**
> 
> **您会向产品设计师提出哪三个问题？**
> 
> 在开始之前，您可能想向产品设计师提出以下问题：
> 
> +   您希望提供哪些预测示例给 FMI 的应用程序用户？
> +   
> +   您如何想象用户与预测的互动？
> +   
> +   预测如何与应用程序中的其他组件相匹配？
> +   
> **2.**
> 
> **您可能会对数据提出哪三个好问题？**
> 
> 一些示例问题包括：
> 
> +   是否可以做出可靠的未来预测？
> +   
> +   如果可以，预测可以可靠地延伸到多远的未来？
> +   
> +   是否可以将诸如提款、购买等交易根据其对用户财务健康的影响分为“好”和“坏”的各个等级，并展示它们如何影响预测？
> +   
> **3.**
> 
> **该项目可能有哪些目标？**
> 
> 可能的目标可能包括：
> 
> +   一种可以可靠地通知用户账户余额何时可能达到某个水平的预测——例如，银行账户空了、达到储蓄目标，或信用卡达到信用额度。
> +   
> +   为用户提供金融行为改变的建议，以改善他们的预测。
> +   
> +   一种清晰简洁地传达预测的可视化。

### 第三章

> **1.**
> 
> **列出三个您认为该项目值得检查的潜在数据来源。对于每个来源，也请列出您预计如何获取数据（例如，数据库、API 等）。**
> 
> 数据来源可能包括：
> 
> +   FMI 的内部数据库；我猜它们是关系型、基于 SQL 的数据库，但它们也可能是 NoSQL。
> +   
> +   FMI 原始数据来源的银行和其他金融机构的 API；这些可能是基于 XML 或 JSON 的 API。
> +   
> +   用户可能会自愿提供一些有用的数据，例如交易、类别或其他属性；这些必须设计到产品中，最初是网络操作，可以放入 FMI 的内部数据库。
> +   
> **2.**
> 
> **考虑上一章练习问题 3 中列出的三个项目目标。为了实现这些目标，您需要哪些数据？**
> 
> 这些目标分别需要：
> 
> +   制作可靠的预测需要每个相关账户几个月（至少）的完整交易数据，以及足够的交易属性来将它们分类到各种类别，如“重复”或“一次性”交易，以提高预测的准确性。
> +   
> +   向用户提供建议需要与预测（前一个项目符号）相同，还需要对交易属性有更严格的要求，以及能够对它们进行分类的能力。可能还需要更长的数据历史（一年？）。
> +   
> +   数据可视化可能没有特殊的数据要求，但可靠的交易属性无疑会帮助在例如，支出类别或交易类型是可视化的一部分的情况下。

### 第四章

> **1.**
> 
> **你即将开始从 FMI 的内部数据库中提取数据，这是一个关系型数据库。列出你在访问和使用数据时需要警惕的三个潜在问题。**
> 
> 例如，需要注意以下几点：
> 
> +   数据库中存在缺失、无效或错误的数据值。
> +   
> +   名称和其他标识符类型的字符串在字段或表之间不一定匹配——例如，一个地方有“John Public”，另一个地方有“John Q Public”。这些是不相等的字符串，可能或可能不表示同一个人。
> +   
> +   如果你必须连接一些数据库表，最好确保你连接的字段与记录很好地匹配。我会检查每个表中有多少条记录与另一个表中的正确匹配记录，反之亦然。
> +   
> **2.**
> 
> **在内部数据库中，对于每个找到的金融交易，都有一个名为`description`的字段，其中包含一个字符串（纯文本），似乎提供了一些有用的信息。但这个字符串似乎没有从条目到条目的一致格式，而且你交谈过的人都不能告诉你该字段是如何生成的或更多关于它的信息。你将如何制定策略来尝试从该字段中提取信息？**
> 
> 我的策略可能如下：
> 
> 1.  从数据库中抽取一个可管理的交易集合（几百个？），检查描述字段，并尝试注意任何模式。
> 1.  
> 1.  自问：字符串看起来主要是以逗号分隔、分号分隔、管道分隔、JSON 格式还是自由格式？从条目到条目中是否有重复的字符或术语？
> 1.  
> 1.  如果我已经诊断出了一种格式，那么要确保它适用于我正在处理的整个集合。
> 1.  
> 1.  如果仍然看不出有共同的格式，就关注字符串中最吸引我的方面。例如，如果我对交易的 ZIP 代码感兴趣（且它们在数据库的其他地方都没有出现），我会检查字符串中 ZIP 代码的表示方式。如果每个描述字符串都包含类似于`"ZIP code: XXXXX"`的子串，那么我可以编写一个脚本，搜索`"ZIP code:"`子串，捕获其后的字符，并将它们记录为 ZIP 代码。我会尝试使用上下文（所需数据周围的文本）来记录描述字符串中所有有趣的片段。
> 1.  
> 1.  如果上述任何一种方法都不足以从描述字符串中提取某些特定信息，我就会开始扩展我用来检测和捕获字符串中数据的上下文和格式元素。如果没有明显的上下文，例如子字符串 `"ZIP code:"`，我会尝试找出一种组合，包括标点符号、分隔符、空白和其他格式元素，这些元素可以区分数据与其相邻的数据。也许 ZIP 代码总是出现在两个逗号之间的前五个数字，例如`",XXXXX,"`，或者它可能总是出现在两个字母州简称之后，例如`"OH,XXXXX,"`。一个脚本可以轻松地找到符合这些模式的子字符串，但如果我不小心，它们也可能捕获到不需要的数据。

### 第五章

> **1.**
> 
> **鉴于该应用的主要目标是提供准确的预测，描述三种你想要在数据上执行描述性统计以更好地理解数据的类型。**
> 
> 一些有用的描述性统计可能包括：
> 
> +   你打算预测的财务账户集合每月典型、最小和最大交易数量。更多的交易对于统计预测方法来说将更有信息量。
> +   
> +   账户余额的方差或其他波动性度量。较小的方差可能使得预测变得更加容易。
> +   
> +   随机选择账户随时间变化的账户余额的一组图表。查看图表可以提供比均值和方差多得多的信息。它还可以让你对账户余额的行为有一个良好的感觉，并让你思考可能有助于预测的统计方法。
> +   
> **2.**
> 
> **假设你强烈考虑尝试使用统计模型来分类重复和一次性财务交易。关于这两个类别中的任何一个，你可能会对交易有哪些假设？**
> 
> 一些可能的假设是：
> 
> +   重复交易每周、每月或以其他某种规律的时间间隔发生。
> +   
> +   重复交易在每个实例中都有相同的标签、名称或其他识别属性。
> +   
> +   一次性交易通常比平均交易额要大，例如在假期、大额购买、意外之财等情况。

### 第六章

> **1.**
> 
> **假设你从上一章的初步分析和描述性统计中得出结论，认为你可能会为拥有许多交易的财务账户的活跃用户生成一些可靠的预测，但你认为你无法为交易相对较少的用户和账户做同样的事情。将这一发现转化为“可能做什么？什么是宝贵的？什么是高效的？”的目标调整框架。**
> 
> 一种可能的翻译：
> 
> +   *什么是可能的？* 对于具有最高质量数据的用户，可能可以做出可靠的预测，但对于具有最低质量数据的用户，几乎肯定不可能。
> +   
> +   *什么是宝贵的？* 最宝贵的是为最活跃的应用程序用户提供可靠的预测。不太活跃的用户可能不太关心，如果他们关心，他们可能会被吸引得更活跃，以便获得访问良好预测的机会。
> +   
> +   *什么是高效的？* 最有效的方法可能是从具有高质量数据的用户账户开始，生成可靠的预测，然后尝试将这些方法应用于低质量账户数据，尽可能调整/改进方法，直到达到某种拐点，即为了（可能）使方法适用于低质量数据所需的工作量过多，以至于无法证明其合理性。
> +   
> **2.**
> 
> **根据您对上一个问题的回答，描述在应用程序内生成预测的一般计划。**
> 
> 一种可能的基本计划是：
> 
> 1.  使用最高质量账户数据开发统计方法和软件，以生成可靠的预测。
> 1.  
> 1.  如果你在（a）方面不成功，重新审视目标，并考虑是否值得在这个问题上花费更多时间。
> 1.  
> 1.  如果你在（a）方面取得成功，将方法和软件应用于低质量数据，并找到一种可靠的预测的最低质量水平。
> 1.  
> 1.  可选地，改进预测方法以更好地处理低质量数据，但权衡所花费的时间与边际收益。与产品设计师讨论，共同决定投入多少工作量。
> 1.  
> 1.  当每个人都对预测的成功、范围和可靠性感到满意时，精炼并准备您的软件与网络应用程序集成。确保包括一些关于数据质量不足的概念；例如，当数据质量阈值未达到时，软件应告诉网络应用程序“数据不足；未生成预测”。

### 第七章

> **1.**
> 
> **描述您可能使用的两种不同的统计模型来预测个人财务账户。对于每种模型，至少给出一个潜在的弱点或劣势。**
> 
> 可能的统计模型包括：
> 
> +   对过去六个月月末账户余额进行线性回归。这将捕捉账户的一般趋势，但弱点包括：它不能很好地捕捉余额的波动，如果支出变化很大；例如，如果一笔大额月度支票（收入）没有按时到达，它可能会落入下一个月，从而可能使月末余额——以及回归结果——大幅偏离。
> +   
> +   估计过去六个月账户的平均月收入和平均月支出；假设未来几个月的收入和支出水平将大致相同。这个模型可能避免了之前提到的问题，即支票没有按时到达，但它的弱点是六个月的数据点不多，该模型容易受到任何地方的一次性或异常交易的影响。
> +   
> **2.**
> 
> **假设你已经成功创建了一个可以将交易准确分类到“常规”、“一次性”和其他任何你想到的合理类别中的分类器。描述一个利用这些分类来提高预测准确性的统计模型。**
> 
> 我还试图创建一个代表日常支出（如咖啡、杂货、晚餐或鸡尾酒）的“正常支出”类别，但这些支出可能并不严格属于之前提到的其他两个类别，即“重复”和“一次性”。正常支出可能不像一次性交易那样庞大，但也不被认为是重复的。例如，如果我每周出去吃两三次饭，这并不是一次性的支出，因为我（可预测地）每周都会这样做，而且它也不是重复的，因为我去不同的地方，在不同的日子。
> 
> 我会使用每个月落入这三个类别之一的金额来计算每个类别的基线。对于重复交易，我会使用六到九个月的数据，对最近几个月的数据赋予更高的权重。因此，我会有一个加权平均的月度金额，用于重复交易和正常支出，但我会排除一次性交易。我的预测将基于假设重复交易和正常支出的总和将继续在近期内持续，目的是以某种方式向用户展示一次性交易如何影响他们的预测和财务状况（但这更多是一个用户体验和产品问题，而不是一个统计问题）。
> 
> 由于我非常重视承认存在的不确定性，我还会为我的预测计算一个方差的概念，对于更远的未来预测和收入和支出波动较大的账户，方差会更大。

### 第八章

> **1.**
> 
> **在这个项目中执行预测所需计算的两个顶级软件选择是什么？为什么？每个选择的缺点是什么？**
> 
> 我的前两个选择是：
> 
> +   ***Python—*** 我可以用 Python 轻松进行计算，但缺点是如果我的代码将要与实时“脏钱预测”应用一起部署，它必须相对无懈可击且无错误；我可能会尝试招募一位生产开发者来帮助解决这个问题。如果 Python 还没有与现有代码良好接口，我还需要找到一种方法。 
> +   
> +   ***无论现有应用中已经使用什么语言/工具进行一些计算——*** 我可能只需向代码中添加一个组件，但缺点可能是，根据语言的不同，它可能没有很好的内置统计库，而且我可能还不了解这种语言，所以我可能需要学习它。
> +   
> **2.**
> 
> **你在问题 1 中的两个选择是否具有内置的线性回归或其他时间序列预测方法的功能？它们是什么？**
> 
> 分别：
> 
> +   Python 有。在`numpy`、`scikit-learn`和其他包之间，Python 在编程语言中拥有一些最好的统计功能。
> +   
> +   这取决于语言；在做出承诺之前，我会先咨询互联网。

### 第九章

> **1.**
> 
> **在项目期间可能会使用哪些三个补充（非严格统计）的软件产品，以及为什么？**
> 
> 一些可能包含的产品：
> 
> +   一个关系数据库，因为 FMI 已经有一个，并且它包含了你需要的大部分数据。
> +   
> +   一台高性能计算服务器或集群，因为有很多数据需要处理，也有很多计算要做。
> +   
> +   云计算服务，因为 FMI 可能还没有足够的计算资源在合理的时间内完成预测计算。
> +   
> **2.**
> 
> **假设 FMI 的内部关系数据库托管在单个服务器上，每晚都会备份到异地的一个服务器上。请给出这种架构可能是一个好架构的理由以及可能是一个坏架构的理由。**
> 
> 优点：如果单个服务器足够强大，且数据集足够小，以至于服务器可以快速高效地处理所有内容，那么这种架构可能比一个更大的分布式系统更容易管理。
> 
> 缺点：数据集会增长，在某个时刻，服务器可能会因为数据本身的巨大规模或管理查询的计算成本而超负荷；此外，单个服务器可能是一个单点故障。

### 第十章

> **1.**
> 
> **列出三位在 FMI 中你执行项目计划时可能最多交谈的人（按角色或专长），并简要说明你为什么可能这么频繁地与他们交谈。**
> 
> 我猜我会和这些人交谈最多：
> 
> +   **负责 FMF 应用的**网络应用开发者***——**将统计软件与应用集成可能需要大量的沟通、谈判和协议，以确保这两部分正确对齐。
> +   
> +   **负责该应用的**产品设计师***——**他们可能对如何解读您统计应用输出的结果有很多疑问，而您也希望对他们的预期有很好的了解，以便确保您的统计结果适用。
> +   
> +   *****内部数据库专家***——**如果您还没有广泛使用数据库，那么在结构、访问和效率方面可能存在一些细微差别，这些差别可能不会立即显现，但对您可能非常有帮助。
> +   
> **2.**
> 
> **假设产品设计师已经与管理团队进行了沟通，并且他们一致认为您的统计应用必须为所有用户账户生成预测，包括那些数据非常稀疏的账户。优先级已经从确保预测结果良好转变为确保每个预测都存在。您将如何应对这种情况？**
> 
> 如果必须存在预测，无论发生什么情况，我可能会假设低数据质量的账户将保持其当前（或月末）的余额在近期内。没有数据来证明预测上升或下降的合理性，现状可能是最好的选择。然而，在实施之前，我会与产品设计师和其他人讨论这个问题。

### 第十一章

> **1.**
> 
> **假设您的老板或其他管理层人物要求一份总结您预测工作结果的报告。您会在报告中包含哪些内容？**
> 
> 我会首先包含高质量数据用户账户预期预测准确性的总结，然后是低质量数据的预测结果。这将把结果放在用户完全参与（这是 FMI 所有问题，而不仅仅是您的问题）主应用的情况下，并突出您项目的一个最大的成功。其次，我会讨论用户账户中高质量和低质量数据的分布，以说明数据质量问题在多大程度上影响了应用。最后，我会提供一些具体的例子（附带数据），说明预测如何影响用户行为，例如警告即将耗尽的银行账户或可能很快达到的信用额度。这将直接将预测项目与用户参与联系起来，这对于管理类型的工作者来说通常是至关重要的，尤其是在应用开发方面。
> 
> **2.**
> 
> **假设 FMF 网络应用的**主要产品设计师**要求您为应用用户撰写一段话，解释您应用生成的预测，特别是关于可靠性和准确性的问题。您会写些什么？**
> 
> 本应用生成的预测基于您最近的消费和收入习惯，以及与 FMF 相连的任何账户中发生的其他交易或事件。您的财务习惯越一致，我们的预测就越准确——这又是控制您财务的另一个理由！不幸的是，在某些情况下，我们可能没有足够的数据来做出预测；在这种情况下，您可能需要将更多账户连接到 FMF，并更频繁地使用该应用，以便在指尖上拥有这些强大的预测，并最大化您的财务福祉。感谢您让 FMF 成为网络上最强大的个人财务网站！

### 第十二章

> **1.**
> 
> **假设您已经完成了统计软件，将其与 Web 应用集成，并且应用中显示的大多数预测似乎都不正确。列出三个检查点以尝试诊断问题。**
> 
> 我会首先检查以下内容：
> 
> +   统计应用输出的结果。如果它输出正确的结果，那么问题可能在于使用这些结果的 app。如果不正确，那么问题可能在于统计部分。
> +   
> +   如果问题似乎出在 Web 应用上，我会检查该应用内部的数据库。如果数据存储不正确，那么在数据输入和存储之间可能存在问题。如果数据存储正确，那么在从应用内部存储中提取数据并在屏幕上显示数据的方式上可能存在问题。
> +   
> +   如果问题似乎出在统计应用上，我会考虑数据通过统计模型流动的方式，并检查直接从统计模型输出的结果，但在它们被转换为发送到 Web 应用格式的格式之前。
> +   
> +   ***额外答案 4——*** 检查应用程序任何部分的初始数据。如果数据库查询有问题，那么之后的所有内容都不会正确。
> +   
> **2.**
> 
> **在部署应用后，产品团队通知您，他们即将向选定的用户发送关于应用的调查。您可以在调查中提交三个开放式问题。您会提交什么问题？**
> 
> 我可能会提出以下问题：
> 
> +   应用中的财务预测对您有信息性吗？在哪些方面？
> +   
> +   您是否对财务预测中的信息采取了行动？如何？
> +   
> +   您觉得财务预测准确吗？为什么或为什么不？

### 第十三章

> **1.**
> 
> **回想一下您过去参与过的项目（数据科学或其他领域），最好是超过一年前。与该项目相关的材料和资源在哪里？如果有人要求您今天重复、重启或继续该项目，您能够做到吗？您当时能做些什么来使今天的工作更容易？**
> 
> 这主要是一个思想实验。它完全取决于你在哪里工作以及你在做什么工作。
> 
> **2.**
> 
> **考虑你的当前工作和就业地点。共享资源存放在哪里？你能轻松找到你想要的东西吗？如果让你制定一个详细的项目归档计划和政策，你会包括哪些内容？**
> 
> 这又是一个思想实验，但有助于改善未来项目的成果。制定良好的项目文档和存储计划可以非常有帮助。
