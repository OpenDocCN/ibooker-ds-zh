# 第二十七章：继续并进行数据科学

> 现在，再次，我命令我的可怕后代前往繁荣昌盛。
> 
> 玛丽·雪莱

从这里开始，你要去哪里？假设我没有吓跑你对数据科学的兴趣，有几件事你应该学习。

# IPython

我在书中早些时候提到了[IPython](http://ipython.org/)。它提供了比标准 Python shell 功能更强大的 shell，并且增加了“魔术函数”，允许你（除了其他功能）轻松复制粘贴代码（这通常会受到空白行和空格格式的组合的复杂性的限制）并且从 shell 内运行脚本。

掌握 IPython 会让你的生活更轻松。（即使学习一点点 IPython 也会让你的生活变得更加轻松。）

###### 注意

在第一版中，我还建议你了解 IPython（现在是 Jupyter）Notebook，这是一个计算环境，允许你结合文本、实时 Python 代码和可视化。

我自从成为[笔记本怀疑论者](https://twitter.com/joelgrus/status/1033035196428378113)以后，发现它们让初学者困惑并且鼓励了不良的编程实践。（我还有很多其他原因。）你肯定会从其他人那里得到使用它们的很多鼓励，但请记住，我是不同意见的声音。

# 数学

在本书中，我们涉足了线性代数（第四章）、统计学（第五章）、概率（第六章）和机器学习的各个方面。

要成为一名优秀的数据科学家，你应该更深入地了解这些主题，我鼓励你使用章节末推荐的教科书，你自己喜欢的教科书，在线课程，甚至是现实中的课程来进行更深入的学习。

# 非从头开始

从头实现事物对于理解它们如何工作是很棒的。但通常不适合性能（除非你专门以性能为目标实现它们）、易用性、快速原型设计或错误处理。

在实践中，你会想要使用设计良好、扎实实现基础功能的库。我的原始书稿提到了书的第二部分“现在让我们学习这些库”，但幸运的是，O'Reilly 否决了这一提议。自第一版发布以来，Jake VanderPlas 写了[*Python 数据科学手册*](http://shop.oreilly.com/product/0636920034919.do)（O'Reilly），它是相关库的良好入门读物，也是你接下来可以阅读的好书。

## NumPy

[NumPy](http://www.numpy.org)（“Numeric Python”）提供了进行“真实”科学计算所需的设施。它提供比我们的`list`向量更优越的数组，比我们的`list-of-list`矩阵性能更好的矩阵，并且提供了大量用于处理它们的数值函数。

NumPy 是许多其他库的基础模块，这使得它特别有价值。

## pandas

[pandas](http://pandas.pydata.org)为在 Python 中处理数据集提供了额外的数据结构。它的主要抽象是`DataFrame`，在概念上类似于我们在第二十四章中构建的 NotQuiteABase `Table`类，但功能更强大，性能更好。

如果你要使用 Python 来处理、切片、分组和操作数据集，pandas 是一个非常宝贵的工具。

## scikit-learn

[scikit-learn](http://scikit-learn.org)可能是 Python 中最流行的机器学习库。它包含了我们已经实现的所有模型，以及许多我们尚未涉及的模型。在真实问题中，你不会从头开始构建一个决策树；你会让 scikit-learn 来处理这些重活。在真实问题中，你不会手动编写一个优化算法；你会依赖于 scikit-learn 已经使用的优秀算法。

其文档包含[许多例子](http://scikit-learn.org/stable/auto_examples/)，展示了它的功能（更广义地说，展示了机器学习的能力）。

## 可视化

我们创建的 matplotlib 图表干净实用，但不特别时尚（而且根本不具有交互性）。如果你想深入数据可视化，你有几个选择。

第一步是进一步探索 matplotlib，我们实际上仅涵盖了其中少数功能。它的网站包含许多[例子](http://matplotlib.org/examples/)展示其功能以及一些更有趣的[画廊](http://matplotlib.org/gallery.html)。如果你想创建静态可视化（比如说，为了在书中打印），这可能是你的最佳下一步。

你还应该查看[seaborn](https://seaborn.pydata.org/)，这是一个使 matplotlib 更具吸引力的库（除其他外）。

如果你想创建*交互式*可视化，并可以在 Web 上分享，显然选择[D3.js](http://d3js.org)是一个明智的选择，这是一个用于创建“数据驱动文档”的 JavaScript 库（这就是三个 D）。即使你对 JavaScript 不甚了解，通常也可以从[D3 画廊](https://github.com/mbostock/d3/wiki/Gallery)中借鉴例子，并调整其适应你的数据。（优秀的数据科学家从 D3 画廊中借鉴；伟大的数据科学家从 D3 画廊中*窃取*。）

即使你对 D3 没有兴趣，浏览其画廊本身也是数据可视化教育的一个相当令人难以置信的途径。

[Bokeh](http://bokeh.pydata.org)是一个将 D3 风格功能引入 Python 的项目。

## R

虽然你完全可以不学习[R](http://www.r-project.org)，但许多数据科学家和数据科学项目都在使用它，所以值得至少熟悉一下。

部分原因在于你可以理解人们基于 R 的博客文章、示例和代码；部分原因在于帮助你更好地欣赏（相对）干净优雅的 Python；还有部分原因在于帮助你成为永无止境的“R vs Python”战争中更有见地的参与者。

## 深度学习

你可以成为一名数据科学家而不进行深度学习，但如果你想成为*时髦的*数据科学家，则必须进行深度学习。

Python 中最流行的两个深度学习框架是 [TensorFlow](https://www.tensorflow.org/)（由谷歌创建）和 [PyTorch](https://pytorch.org/)（由 Facebook 创建）。网络上有很多关于它们的教程，从优秀到糟糕不等。

TensorFlow 是更老、更广泛使用的，但 PyTorch（依我看来）更易于使用，特别是对初学者更友好。我更喜欢（并推荐）PyTorch，但正如人们所说，选择 TensorFlow 也不会有人因此而被解雇。

# 寻找数据

如果你的工作涉及数据科学，那么很可能会作为工作的一部分获取数据（尽管不一定）。如果你只是出于兴趣从事数据科学呢？数据无处不在，但以下是一些起点：

+   [Data.gov](http://www.data.gov) 是政府的开放数据门户。如果你想获取与政府有关的任何数据（这似乎是当今大多数事情的情况），这是一个很好的起点。

+   Reddit 有几个论坛，[r/datasets](http://www.reddit.com/r/datasets) 和 [r/data](http://www.reddit.com/r/data)，这些地方可以提问和发现数据。

+   Amazon.com 维护了一个 [公共数据集](http://aws.amazon.com/public-data-sets/) 集合，他们希望你使用他们的产品分析（但你可以用任何你想用的产品进行分析）。

+   Robb Seaton 在他的博客上有一个精选的数据集列表 [链接](http://rs.io/100-interesting-data-sets-for-statistics/)。

+   [Kaggle](https://www.kaggle.com/) 是一个举办数据科学竞赛的网站。我从未真正参与其中（在涉及数据科学时我没有太多竞争性的天性），但你可能会有兴趣。它托管了许多数据集。

+   谷歌推出了一个新的 [Dataset Search](https://toolbox.google.com/datasetsearch)，让你可以（你猜对了）搜索数据集。

# 做数据科学

浏览数据目录是可以的，但最好的项目（和产品）是那些解决了某些问题的项目。这里有几个我做过的项目。

## Hacker News

[Hacker News](https://news.ycombinator.com/news) 是一个技术相关新闻的新闻聚合和讨论网站。它收集了大量文章，其中许多对我来说并不有趣。

因此，几年前，我着手建立了一个 [Hacker News 故事分类器](https://github.com/joelgrus/hackernews)，以预测我是否对任何给定的故事感兴趣。这在 Hacker News 的用户中并不受欢迎，他们反感这种可能会对网站上的每个故事都不感兴趣的想法。

这涉及手动标记很多故事（为了有一个训练集），选择故事特征（例如标题中的单词和链接的域），并训练一个朴素贝叶斯分类器，类似于我们的垃圾邮件过滤器。

出于当时已经不记得的原因，我用 Ruby 构建了它。从我的错误中吸取教训。

## 消防车

多年来，我住在西雅图市中心的一条主要街道上，距离一个消防站和大部分城市的火灾都有一段距离（或者看起来是这样）。因此，我对西雅图消防局产生了一种娱乐兴趣。

幸运的是（从数据的角度来看），他们维护一个[实时 911 网站](http://www2.seattle.gov/fire/realtime911/getDatePubTab.asp)，列出了每次火警以及涉及的消防车辆。

为了追求我的兴趣，我爬取了多年的火警数据，并对消防车进行了[社交网络分析](https://github.com/joelgrus/fire)。其中，我需要发明一个专门针对消防车的中心性概念，我称之为 TruckRank。

## T 恤衫

我有一个年幼的女儿，她整个童年期间令我极度沮丧的是，大多数“女孩衬衫”都相当无聊，而许多“男孩衬衫”则非常有趣。

特别是，我觉得在市场上针对幼儿男孩和女孩的衬衫之间有明显的区别。因此，我自问是否能训练一个模型来识别这些差异。

剧透：[我可以](https://github.com/joelgrus/shirts)。

这涉及下载数百件衬衫的图片，将它们全部缩小到相同的尺寸，将它们转换为像素颜色向量，并使用逻辑回归构建分类器。

一种方法简单地查看每件衬衫中存在的颜色；第二种方法找到了衬衫图像向量的前 10 个主成分，并使用它们在“特征衬衫”所张成的 10 维空间中的投影对每件衬衫进行分类（图 27-1）。

![第一个主成分对应的特征衬衫。](img/dsf2_2701.png)

###### 图 27-1\. 第一个主成分对应的特征衬衫

## 地球仪上的推文

多年来，我一直想建立一个“旋转地球仪”可视化。在 2016 年选举期间，我制作了[一个小型网络应用](https://twitter.com/voxdotcom/status/1069427256580284416)，监听匹配某些搜索条件（当时我使用了“Trump”，因为那时候有很多相关的推文），并显示这些推文，随着它们出现在地球仪上的位置而旋转。

这完全是一个 JavaScript 数据项目，所以也许要学一些 JavaScript。

## 你呢？

你感兴趣的是什么？什么问题让你彻夜难眠？寻找一个数据集（或者爬取一些网站）并进行一些数据科学分析。

告诉我你发现了什么！通过电子邮件联系我 joelgrus@gmail.com 或在 Twitter 上找到我 [*@joelgrus*](https://twitter.com/joelgrus/)。
