# 序言

我们都希望做出更好的决策。无论是为了更好地服务我们的客户还是保护他们的安全，我们都希望做出正确的判断并做正确的事情。为了自信地行动，我们需要了解我们正在服务的人是谁，以及他们在这个世界上的位置。虽然我们经常可以获得大量的数据，但往往这些数据并不联结，不能告诉我们面前这个个体的完整故事。

实体解析是连接数据、连接点，并看到整体图像的艺术与科学。这本书是一本实用指南，帮助您揭示更广泛的背景，并在行动之前全面了解情况。通常被视为理所当然，但在本书中您会发现，匹配数据并不总是一帆风顺——但请放心，在最后一章，您将具备充分的能力来克服这些挑战，并让您的数据集活跃起来。

# 谁应该读这本书

如果您是金融服务、制药或其他大型企业内的产品经理、数据分析师或数据科学家，这本书适合您。如果您正在应对数据孤岛的挑战，无法将不同数据库中的客户视图整合，或者负责合并来自不同组织或附属机构的信息，这本书也适合您。

负责打击金融犯罪和管理声誉与供应链风险的风险管理专业人士，也将受益于理解本书中提出的数据匹配挑战及其克服技术。

# 我为什么写这本书

实体解析的挑战无处不在——我们可能没有使用这些词，但每天这个过程一次又一次地重复。在完成本书的几周前，我的妻子要求我帮她检查名单上的姓名，因为她正在念出银行对账单上的付款人名单。名单上的人都付款了吗？这就是实体解析在实际中的应用！

编写本书的想法源于希望解释为什么检查与名单中的名称是否匹配并不像听起来那么简单，并展示目前可用于大规模解决此问题的一些惊人工具和技术。

希望通过一些现实生活的例子来引导您，使您能够自信地匹配您的数据集，以便为客户提供服务和保护。我很乐意听听您的经历，以及对本书本身的任何反馈。请随时在[GitHub](https://github.com/mshearer0/HandsOnEntityResolution)上提出任何伴随本书的代码问题，或者讨论实体解析问题，请联系我在[LinkedIn](https://www.linkedin.com/in/mshearer0)。

实体解析既是艺术，也是科学。没有一种大小适合所有数据集的预定义解决方案。您需要决定如何调整您的流程以达到您想要的结果。我希望本书的读者能够互相帮助找到最佳解决方案，并从共享的经验中受益。

# 浏览本书

本书旨在作为实践指南，因此我鼓励您在阅读每一章节时跟着代码操作。本书的一个关键设计原则是使用实际的开源数据展示挑战和解决方案。如果您按照本书操作，由于源数据集自出版日期以来可能会更新，因此您的结果可能会略有不同。请查看 [GitHub 页面](https://github.com/mshearer0/HandsOnEntityResolution) 获取最新更新和访问伴随本书的代码。

+   第一章 提供了实体解析的基本介绍，说明了其必要性以及实施过程中的逻辑步骤。

+   第二章 阐明了在尝试匹配记录之前标准化和清洗数据的重要性。

+   第 3 到第六章展示了如何使用近似比较和概率匹配技术比较数据记录以解决实体。

+   第七章 描述了将描述同一实体的记录分组成唯一可识别的集群的过程。

+   第 8 和 9 章说明了如何使用云计算服务扩展实体解析过程。

+   第十章 展示了如何在保护数据所有者隐私的同时链接记录。

+   最后，第十一章 描述了在设计实体解析过程时需要考虑的一些进一步问题，并对可能的未来发展提出了一些结论性的思考。

我建议按顺序阅读第 2 到第九章，因为它们逐步使用共享的问题数据集构建实体解析解决方案。

本书假设读者具备基本的 Python 理解。您可以通过[*http://learnpython.org*](http://learnpython.org)开始交互式教程，或者我推荐阅读 Wes McKinney 的 *Python 数据分析*（O’Reilly）进一步学习。更进一步的读者可能会从掌握 pandas、Spark 和 Google Cloud Platform 中获益。

# 本书中使用的约定

本书使用以下排版约定：

*斜体*

表示新术语、网址、电子邮件地址、文件名和文件扩展名。

`等宽字体`

用于程序清单，以及在段落内引用程序元素，例如变量或函数名、数据库、数据类型、环境变量、语句和关键字。

**`等宽粗体`**

显示用户应直接输入的命令或其他文本。

*`等宽斜体`*

显示应由用户提供值或由上下文确定值的文本。

###### 注意

此元素表示一般说明。

###### 警告

此元素表示警告或注意事项。

# 使用代码示例

补充材料（代码示例、练习等）可在[*https://github.com/mshearer0/HandsOnEntityResolution*](https://github.com/mshearer0/HandsOnEntityResolution)下载。

如果您有技术问题或在使用代码示例时遇到问题，请发送电子邮件至*support@oreilly.com*。

本书旨在帮助您完成工作。通常情况下，如果本书提供示例代码，您可以在程序和文档中使用它。除非您复制了代码的大部分内容，否则无需联系我们以获得许可。例如，编写一个使用本书多个代码块的程序不需要许可。销售或分发 O’Reilly 图书示例需要许可。通过引用本书并引用示例代码来回答问题不需要许可。将本书大量示例代码整合到产品文档中需要许可。

我们感谢，但通常不要求署名。署名通常包括标题、作者、出版商和 ISBN。例如：“*Hands-On Entity Resolution* by Michael Shearer (O’Reilly)。2024 年版权所有 Michael Shearer, 978-1-098-14848-5。”

如果您认为您使用的代码示例超出了公平使用范围或上述许可，请随时与我们联系：*permissions@oreilly.com*。

# O’Reilly 在线学习

###### 注意

40 多年来，[*O’Reilly Media*](https://oreilly.com)一直致力于为公司提供技术和商业培训、知识和见解，帮助其取得成功。

我们独特的专家和创新者网络通过书籍、文章和我们的在线学习平台分享他们的知识和专业知识。O’Reilly 的在线学习平台为您提供按需访问的现场培训课程、深入学习路径、交互式编码环境以及来自 O’Reilly 和其他 200 多家出版商的大量文本和视频。有关更多信息，请访问[*https://oreilly.com*](https://oreilly.com)。

# 如何联系我们

请将有关本书的评论和问题发送给出版商：

+   O’Reilly Media, Inc.

+   1005 Gravenstein Highway North

+   Sebastopol, CA 95472

+   800-889-8969 (美国或加拿大)

+   707-827-7019 (国际或本地)

+   707-829-0104 (传真)

+   *support@oreilly.com*

+   [*https://www.oreilly.com/about/contact.html*](https://www.oreilly.com/about/contact.html)

本书有一个网页，我们在那里列出勘误、示例和任何额外信息。您可以访问这个页面：[*https://oreil.ly/handsOnEntityResolution*](https://oreil.ly/handsOnEntityResolution)。

欲了解有关我们的书籍和课程的新闻和信息，请访问：[*https://oreilly.com*](https://oreilly.com)。

在 LinkedIn 上找到我们：[*https://linkedin.com/company/oreilly-media*](https://linkedin.com/company/oreilly-media)。

在 Twitter 上关注我们：[*https://twitter.com/oreillymedia*](https://twitter.com/oreillymedia)。

在 YouTube 上观看我们：[*https://youtube.com/oreillymedia*](https://youtube.com/oreillymedia)。

# 致谢

我学到写书是一个团队合作的工作。我很感激能有时间和空间编写这本指南，并感谢所有支持我的人，他们毫不犹豫地投入时间，使这一切成为可能。

首先，我要感谢 Aurélien Géron，他的书《使用 Scikit-Learn、Keras 和 TensorFlow 实战机器学习》激发了我写一本实战指南的想法。我还要感谢在汇丰银行工作过的所有前同事，他们在打击金融犯罪中充分利用了实体解析技术。

我要感谢所有奥莱利媒体的同事，特别是高级内容采编 Michelle Smith，感谢她对最初的想法的支持和制定提案。由衷感谢 Jeff Bleiel 在起草过程中的编辑技巧和指导。感谢制作编辑 Aleeya Rahman 在格式化和 LaTeX 艺术方面的指导，以及内容服务经理 Kristen Brown 在早期发布方面的支持，这是一个令人鼓舞的里程碑。我还要感谢 Karen Montgomery 为本书设计的封面插图——那些鸟是不是很匹配呢？

特别感谢审稿人 Robin Linacre、Olivier Binette 和 Juan Amador。感谢 Juan 几年前向我介绍实体解析的主题并激励我进一步学习；感谢 Olivier 在最新技术和评估方面的专业指导以及他在实验评估方面的开拓工作；感谢 Robin 在实体解析复杂性的解释中表现出的承诺，以一种实用和易理解的方式。我还要感谢 Splink 和 OpenMined 团队提供的开源框架，本书的很多内容都基于这些框架——"站在巨人的肩膀上"。

最后，我要向我心爱的妻子 Kay 表示敬意，感谢她在整个过程中的支持和耐心。我还要感谢我的女儿们：Abigail 挑战我以易于理解的方式表述主题的能力，Emily 鼓励我永不放弃！
