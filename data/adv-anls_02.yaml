- en: Chapter 1\. Foundations of Exploratory Data Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. 探索性数据分析的基础
- en: '“You never know what is gonna come through that door,” Rick Harrison says in
    the opening of the hit show *Pawn Stars*. It’s the same in analytics: confronted
    with a new dataset, you never know what you are going to find. This chapter is
    about *exploring* and *describing* a dataset so that we know what questions to
    ask of it. The process is referred to as *exploratory data analysis*, or EDA.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: “你永远不知道会有什么从那扇门走出来，”瑞克·哈里森在热门节目*当铺之星*的开场白中说道。在分析中也是一样：面对一个新数据集，你永远不知道你将会发现什么。本章是关于
    *探索* 和 *描述* 数据集，以便我们知道要向它提出什么问题。这个过程被称为 *探索性数据分析*，或者EDA。
- en: What Is Exploratory Data Analysis?
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是探索性数据分析？
- en: American mathematician John Tukey promoted the use of EDA in his book, *Exploratory
    Data Analysis* (Pearson). Tukey emphasized that analysts need first to *explore*
    the data for potential research questions before jumping into *confirming* the
    answers with hypothesis testing and inferential statistics.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 美国数学家约翰·图基在他的书《探索性数据分析》（Pearson）中推广了使用EDA的方法。图基强调分析员需要首先 *探索* 数据以找出潜在的研究问题，然后再通过假设检验和推断统计学来
    *确认* 答案。
- en: 'EDA is often likened to “interviewing” the data; it’s a time for the analyst
    to get to know it and learn about what interesting things it has to say. As part
    of our interview, we’ll want to do the following:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: EDA（探索性数据分析）通常被比喻为对数据进行“面试”；这是分析员了解数据并了解它有什么有趣的事情的时候。作为我们的面试的一部分，我们将要做以下事情：
- en: Classify our variables as continuous, categorical, and so forth
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将我们的变量分类为连续的，分类的等等
- en: Summarize our variables using descriptive statistics
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用描述性统计总结我们的变量
- en: Visualize our variables using charts
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图表可视化我们的变量
- en: 'EDA gives us a lot to do. Let’s walk through the process using Excel and a
    real-life dataset. You can find the data in the *star.xlsx* workbook, which can
    be found in the *datasets* folder of this book’s [repository](https://oreil.ly/VHslH),
    under the *star* subfolder. This dataset was collected for a study to examine
    the impact of class size on test scores. For this and other Excel-based demos,
    I suggest you complete the following steps with the raw data:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 'EDA给了我们很多事情要做。让我们使用Excel和一个真实的数据集来走一遍这个过程。您可以在本书的[存储库](https://oreil.ly/VHslH)中的*star*子文件夹下的*datasets*文件夹中找到*star.xlsx*工作簿中的数据。这个数据集是为了研究班级规模对考试成绩的影响而收集的。对于这个和其他基于Excel的演示，我建议您完成以下步骤，使用原始数据： '
- en: Make a copy of the file so that the original dataset is unchanged. We’ll later
    be importing some of these Excel files into R or Python, so any changes to the
    datasets will impact that process.
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制文件，以保持原始数据集不变。我们稍后将把这些Excel文件中的一些导入到R或Python中，因此对数据集的任何更改都将影响到该过程。
- en: Add an index column called *id*. This will number each row of the dataset so
    that the first row has an ID of 1, the second of 2, and so forth. This can be
    done quickly in Excel by entering numbers into the first few rows of the column,
    then highlighting that range and using Flash Fill to complete the selection based
    on that pattern. Look for the small square on the bottom right-hand side of your
    active cell, hover over it until you see a small plus sign, then fill out the
    rest of your range. Adding this index column will make it easier to analyze data
    by group.
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个名为*id*的索引列。这将为数据集的每一行编号，使得第一行的ID为1，第二行为2，依此类推。这可以在Excel中快速完成，方法是在列的前几行输入数字，然后突出显示该范围，并使用快速填充根据该模式完成选择。查找您活动单元格右下角的小方块，在上面悬停直到您看到一个小加号，然后填写其余的范围。添加这个索引列将使得按组分析数据更容易。
- en: Finally, convert your resulting dataset into a table by selecting any cell in
    the range, then going to the ribbon and clicking on Insert → Table. The keyboard
    shortcut is Ctrl + T for Windows, Cmd + T for Mac. If your table has headers,
    make sure the “My table has headers” selection is turned on. Tables carry quite
    a few benefits, not the least of which is their aesthetic appeal. It’s also possible
    to refer to columns by name in table operations.
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，通过选择范围中的任何单元格，然后转到功能区并单击插入→表格来将结果数据集转换为表格。Windows的键盘快捷键是Ctrl + T，Mac的是Cmd
    + T。如果您的表格有标题，请确保“我的表格有标题”选项已打开。表格有很多好处，其中最重要的是它们的美观性。在表操作中也可以通过名称引用列。
- en: You can give the table a specific name by clicking anywhere inside it, then
    going to the ribbon and clicking Table Design → Table Name under the Properties
    group, as shown in [Figure 1-1](#table-name).
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以通过单击表格任意位置，然后转到功能区并单击“表格设计”→“属性”组下的“表格名称”，来为表格命名，就像[图1-1](#table-name)所示。
- en: '![Table Name in Excel](assets/aina_0101.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![Excel中的表格名称](assets/aina_0101.png)'
- en: Figure 1-1\. The Table Name box
  id: totrans-14
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-1\. 表格名称框
- en: Doing these first few analysis tasks will be good practice for other datasets
    you want to work with in Excel. For the *star* dataset, your completed table should
    look like [Figure 1-2](#labeled-star-data). I’ve named my table `star`. This dataset
    is arranged in a rectangular shape of columns and rows.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这些首个分析任务将成为在Excel中处理其他数据集时的良好实践。对于*star*数据集，你完成的表格应该看起来像[图1-2](#labeled-star-data)。我已经将我的表格命名为`star`。这个数据集按列和行的矩形形式排列。
- en: '![Labeled STAR data](assets/aina_0102.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![标记的STAR数据](assets/aina_0102.png)'
- en: Figure 1-2\. The star dataset, arranged in rows and columns
  id: totrans-17
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-2\. *star*数据集，按行和列排列
- en: You’ve probably worked with enough data to know that this is a desirable shape
    for analysis. Sometimes, we need to clean up our data to get it to the state we
    want; I will discuss some of these data-cleaning operations later in the book.
    But for now, let’s count our blessings and learn about our data and about EDA.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经处理过足够多的数据，知道这是分析所需的理想形式。有时，我们需要清理数据，以使其达到我们想要的状态；我将在本书的后面讨论其中一些数据清理操作。但是现在，让我们感叹一下，并学习关于我们的数据和EDA的相关内容。
- en: In analytics, we often refer to *observations* and *variables* rather than *rows*
    and *columns*. Let’s explore the significance of these terms.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在分析中，我们经常使用*观察*和*变量*这些术语，而不是*行*和*列*。让我们探索这些术语的重要性。
- en: Observations
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 观察
- en: 'In this dataset we have 5,748 rows: each is a unique observation. In this case,
    measurements are taken at the student level; observations could be anything from
    individual citizens to entire nations.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个数据集中，我们有5,748行：每一行都是一个独特的观察结果。在这种情况下，测量是在学生级别进行的；观察结果可以是从个体公民到整个国家的任何内容。
- en: Variables
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 变量
- en: 'Each column offers a distinct piece of information about our observations.
    For example, in the *star* dataset we can find each student’s reading score (*treadssk*)
    and which class type the student was in (*classk*). We’ll refer to these columns
    as *variables*. [Table 1-1](#star-descriptions) describes what each column in
    *star* is measuring:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 每列都提供了关于我们观察的独特信息片段。例如，在*star*数据集中，我们可以找到每个学生的阅读分数（*treadssk*）以及学生所在班级类型（*classk*）。我们将这些列称为*变量*。[表1-1](#star-descriptions)描述了*star*数据集中每列所测量的内容：
- en: Table 1-1\. Descriptions of the *star* dataset’s variables
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 表1-1\. *star*数据集变量的描述
- en: '| Column | Description |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 列 | 描述 |'
- en: '| --- | --- |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *id* | Unique identifier/index column |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| *id* | 唯一标识符/索引列 |'
- en: '| *tmathssk* | Total math scaled score |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| *tmathssk* | 总数学标准化分数 |'
- en: '| *treadssk* | Total reading scaled score |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| *treadssk* | 总阅读标准化分数 |'
- en: '| *classk* | Type of class |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| *classk* | 班级类型 |'
- en: '| *totexpk* | Teacher’s total years of experience |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| *totexpk* | 教师的总工作年限 |'
- en: '| *sex* | Sex |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| *sex* | 性别 |'
- en: '| *freelunk* | Qualified for free lunch? |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| *freelunk* | 是否有资格免费午餐？ |'
- en: '| *race* | Race |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| *race* | 种族 |'
- en: '| *schidkn* | School indicator |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| *schidkn* | 学校标识符 |'
- en: Ready for a tautology? We call them variables because their values may *vary*
    across observations. If every observation we recorded returned the same measurements,
    there wouldn’t be much to analyze. Each variable can provide quite different information
    about our observations. Even in this relatively small dataset, we have text, numbers,
    and yes/no statements all as variables. Some datasets can have dozens or even
    hundreds of variables.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好一个废话？我们称它们为变量，因为它们的值可能会在观察中*变化*。如果我们记录的每个观察结果都返回相同的测量结果，那么分析的意义就不大了。每个变量可以为我们的观察提供非常不同的信息。即使在这个相对较小的数据集中，我们有文本、数字以及是/否陈述作为变量。有些数据集可能会有几十甚至上百个变量。
- en: It can help to classify these variable types, as these distinctions will be
    important when we continue our analysis. Keep in mind that these distinctions
    are somewhat arbitrary and may change based on the purpose and circumstances of
    our analysis. You will see that EDA, and analytics in general, is highly iterative.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续我们的分析时，对这些变量类型进行分类将会有所帮助。请记住，这些区分在某种程度上是任意的，并且可能会根据分析的目的和情况而改变。你会发现探索性数据分析（EDA）以及整体分析具有高度的迭代性。
- en: Note
  id: totrans-38
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Classifying variables is somewhat arbitrary and, like much of analytics, built
    on rules of thumb rather than hard-and-fast-criteria.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 变量的分类有些是主观的，与许多分析一样，建立在经验法则而不是硬性标准之上。
- en: I will discuss the different variable types as shown in [Figure 1-3](#variable-types-diagram),
    then classify the *star* dataset based on these distinctions.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 我将讨论不同的变量类型，如[图 1-3](#variable-types-diagram)所示，然后根据这些区别对*star*数据集进行分类。
- en: '![Types of variables](assets/aina_0103.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![变量类型](assets/aina_0103.png)'
- en: Figure 1-3\. Types of variables
  id: totrans-42
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-3\. 变量类型
- en: 'There are further types of variables that could be covered here: for example,
    we won’t consider the difference between interval and ratio data. For a closer
    look at variable types, check out Sarah Boslaugh’s [*Statistics in a Nutshell*](https://oreil.ly/QAOxt),
    2nd edition (O’Reilly). Let’s work our way down [Figure 1-3](#variable-types-diagram),
    moving from left to right.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这里还有进一步的变量类型可以涵盖：例如，我们不会考虑区间和比例数据之间的差异。要更详细地了解变量类型，请查阅Sarah Boslaugh的[*Statistics
    in a Nutshell*](https://oreil.ly/QAOxt)，第二版（O’Reilly）。让我们从[图 1-3](#variable-types-diagram)的左侧向右侧工作。
- en: Categorical variables
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类变量
- en: Sometimes referred to as *qualitative* variables, these describe a quality or
    characteristic of an observation. A typical question answered by categorical variables
    is “Which kind?” Categorical variables are often represented by nonnumeric values,
    although this is not always the case.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 有时被称为*定性*变量，这些描述观察结果的质量或特征。分类变量通常回答的典型问题是“哪种类型？”分类变量通常用非数值表示，尽管并非总是如此。
- en: An example of a categorical variable is country of origin. Like any variable,
    it could take on different values (United States, Finland, and so forth), but
    we aren’t able to make quantitative comparisons between them (what is two times
    Indonesia, anyone?). Any unique value that a categorical variable takes is known
    as a *level* of that variable. Three levels of a country of origin could be US,
    Finland, or Indonesia, for example.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 一个分类变量的例子是原产国家。像任何变量一样，它可以采用不同的值（美国，芬兰等），但我们不能在它们之间进行定量比较（谁能告诉我印度尼西亚是美国的两倍？）。分类变量所采用的任何独特值称为该变量的一个*级别*。原产国家的三个级别可能是美国，芬兰或印度尼西亚，例如。
- en: Because categorical variables describe a quality of an observation rather than
    a quantity, many quantitative operations on this data aren’t applicable. For example,
    we can’t calculate the *average* country of origin, but we could calculate the
    *most common*, or the overall frequency count of each level.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 因为分类变量描述的是观察结果的质量而不是数量，因此这些数据上的许多定量操作并不适用。例如，我们无法计算*平均*出生国家，但我们可以计算*最常见*的，或者每个级别的总体频率计数。
- en: We can further distinguish categorical values based on how many levels they
    can take, and whether the rank-ordering of those levels is meaningful.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以进一步根据它们可以采用的级别数量以及这些级别的排名顺序是否有意义来区分分类值。
- en: 'Binary variables can only take two levels. Often, these variables are stated
    as yes/no responses, although this is not always the case. Some examples of binary
    variables:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 二元变量只能采用两个级别。通常，这些变量被陈述为是/否的回答，尽管并非总是如此。一些二元变量的例子包括：
- en: Married? (yes or no)
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结婚了吗？（是或否）
- en: Made purchase? (yes or no)
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否购买？（是或否）
- en: Wine type? (red or white)
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 酒的类型？（红或白）
- en: In the case of wine type, we are implicitly assuming that our data of interest
    only consists of red or white wine…but what happens if we also want to analyze
    rosé? In that case, we can no longer include all three levels and analyze the
    data as binary.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 就酒的类型而言，我们隐含地假设我们感兴趣的数据仅包括红葡萄酒或白葡萄酒……但是如果我们还想分析葡萄酒，会发生什么？在这种情况下，我们不能再包含所有三个级别并将数据分析为二元数据。
- en: 'Any qualitiative variable with more than two levels is a nominal variable.
    Some examples include:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 任何具有超过两个级别的定性变量都是名义变量。一些例子包括：
- en: Country of origin (US, Finland, Indonesia, and so forth)
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 原产国家（美国，芬兰，印度尼西亚等）
- en: Favorite color (orange, blue, burnt sienna, and so forth)
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 喜欢的颜色（橙色，蓝色，烧焦赭色等）
- en: Wine type (red, white, rosé)
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 酒的类型（红，白，葡萄酒）
- en: 'Note that something like an ID number is a categorical variable stated numerically:
    while we *could* take an average ID number, this figure is meaningless. Importantly,
    there is no *intrinsic ordering* of nominal variables. For example, *red* as a
    color can’t inherently be ordered higher or lower than *blue*. Since intrinsic
    ordering isn’t necessarily clear, let’s look at some examples of its use.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，像ID号这样的东西是以数字形式陈述的分类变量：虽然我们*可以*计算平均ID号，但这个数字是没有意义的。重要的是，名义变量没有*内在的排序*。例如，红色作为颜色不能本质上比蓝色更高或更低。由于内在的排序并不一定清楚，让我们看一些其使用的例子。
- en: 'Ordinal variables take more than two levels, where there *is* an intrinsic
    ordering between these levels. Some examples of ordinal variables:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 有序变量具有两个以上的级别，在这些级别之间存在内在的排序。一些有序变量的例子包括：
- en: Beverage size (small, medium, large)
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 饮料尺寸（小，中，大）
- en: Class (freshman, sophomore, junior, senior)
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 班级（大一，大二，大三，大四）
- en: Weekdays (Monday, Tuesday, Wednesday, Thursday, Friday)
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作日（星期一，星期二，星期三，星期四，星期五）
- en: 'Here, we *can* inherently order levels: senior is higher than freshman, whereas
    we can’t say the same about red versus blue. While we can *rank* these levels,
    we can’t necessarily quantify the *distance* between them. For example, the difference
    in size between a small and medium beverage may not be the same as that between
    a medium and large beverage.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们*可以*本质上对级别进行排序：高年级高于低年级，而我们不能说红色与蓝色一样。虽然我们可以*排名*这些级别，但我们不一定能量化它们之间的*距离*。例如，小型和中型饮料之间的大小差异可能不同于中型和大型饮料之间的差异。
- en: Quantitative variables
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定量变量
- en: These variables describe a measurable quantity of an observation. A typical
    question answered by quantitative variables is “How much?” or “How many?” Quantitative
    variables are nearly always represented by numbers. We can further distinguish
    between quantitative variables based on the number of values they can take.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这些变量描述了观察的可测量数量。定量变量通常由数字表示。我们可以根据它们能够取值的数量进一步区分定量变量。
- en: 'Observations of a *continuous* variable can in theory take an infinite number
    of values between any two other values. This sounds complicated, but continuous
    variables are quite common in the natural world. Some examples:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*连续*变量的观察理论上可以在任何两个其他值之间取无限多个值。这听起来很复杂，但连续变量在自然界中非常常见。一些例子包括：'
- en: Height (within a range of 59 and 75 inches, an observation could be 59.1, 74.99,
    or any other value in between)
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 身高（在59到75英寸范围内，观察值可以是59.1、74.99或者介于两者之间的任何其他值）
- en: pH level
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pH水平
- en: Surface area
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表面积
- en: Because we can make quantitative comparisons across observations of continuous
    variables, a fuller range of analyses apply to them. For example, it makes sense
    to take the average of continuous variables, whereas with categorical ones, it
    doesn’t. Later in this chapter, you’ll learn how to analyze continuous variables
    by finding their descriptive statistics in Excel.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我们可以对连续变量的不同观察进行定量比较，所以我们可以应用更广泛的分析方法。例如，对连续变量取平均值是有意义的，而对于分类变量则不然。本章后面，您将学习如何通过在Excel中找到它们的描述性统计来分析连续变量。
- en: 'On the other hand, observations of a *discrete* variable can take only a fixed
    number of countable values between any two values. Discrete variables are quite
    common in the social sciences and business. Some examples include:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，*离散*变量的观察只能在任意两个值之间取有限数量的可计数值。离散变量在社会科学和商业中非常常见。一些例子包括：
- en: Number of individuals in a household (within a range of 1 and 10, an observation
    could be 2 or 5, but not 4.3)
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个家庭中的人数（在1和10之间的范围内，观察可以是2或5，但不能是4.3）
- en: Units sold
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售单位
- en: Number of trees in a forest
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 森林中的树木数量
- en: Often, when we are dealing with discrete variables with many levels, or many
    observations, we treat them as continuous for the fuller range of statistical
    analysis that affords. For example, you may have heard that the average US household
    has 1.93 children. We know that no family *actually* has such a number of children.
    After all, this is a *discrete* variable that comes in whole numbers. However,
    across many observations this claim can be a helpful representation of how many
    children are to be expected in a typical household.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 经常情况下，当我们处理具有许多水平或许多观测值的离散变量时，为了进行更全面的统计分析，我们会将它们视为连续变量。例如，你可能听说过美国家庭平均有1.93个孩子。我们知道，没有家庭*确实*有这么多孩子。毕竟，这是一个*离散*变量，只能是整数。然而，在许多观察中，这个说法可以作为期望在典型家庭中有多少孩子的有用表示。
- en: 'But wait, there’s more! In more advanced analytics, we will also often recalculate
    and blend variables: for example, we may take a *logarithmic transformation* of
    one variable so that it meets the assumptions of a given analysis, or we may extract
    the meaning of many variables into fewer using a method called *dimensionality
    reduction*. These techniques are beyond the scope of this book.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 但等等，还有更多！在更高级的分析中，我们经常会重新计算和混合变量：例如，我们可能对一个变量进行*对数变换*，以满足特定分析的假设，或者我们可能使用称为*降维*的方法将多个变量的含义提取为更少的变量。这些技术超出了本书的范围。
- en: 'Demonstration: Classifying Variables'
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 演示：变量分类
- en: Using what you’ve learned so far, classify the *star* variables using the types
    covered in [Figure 1-3](#variable-types-diagram). As you think through it, don’t
    hesitate to investigate the data. I’ll give you an easy way to do so here, and
    we’ll walk through a more thorough process later in this chapter.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 利用你到目前为止学到的知识，使用[图 1-3](#variable-types-diagram) 中介绍的类型来分类*星号*变量。在你深入思考时，不要犹豫去调查数据。我会在这里为你提供一个简便方法，稍后在本章节中我们将详细讨论这个过程。
- en: One quick way to get a sense of what type variables may be is by finding the
    number of unique values they take. This can be done in Excel by checking the filter
    preview. I’ve clicked on the drop-down arrow next to the *sex* variable in [Figure 1-4](#filtered-table)
    and found it takes only two distinct values. What kind of variable do you think
    this might be? Take a moment to walk through the variables using this or other
    methods.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 一个快速获取变量类型感觉的方法是查找它们所具有的唯一值的数量。可以通过Excel中的筛选预览来完成此操作。我点击了[图 1-4](#filtered-table)
    中*sex*变量旁边的下拉箭头，并发现它只有两个不同的值。你认为这可能是什么类型的变量？花点时间通过这种或其他方法来检查这些变量。
- en: '![Filtered table](assets/aina_0104.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![过滤表格](assets/aina_0104.png)'
- en: Figure 1-4\. Using the filter preview to find how many distinct values a variable
    takes
  id: totrans-81
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-4\. 使用筛选预览查找变量具有多少个不同值
- en: '[Table 1-2](#variables-classified) shows how I decided to classify these variables.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '[表格 1-2](#variables-classified) 展示了我如何对这些变量进行分类。'
- en: Table 1-2\. How I classified these variables
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 1-2\. 我如何对这些变量进行分类
- en: '| **Variable** | **Description** | **Categorical or quantitative?** | **Type?**
    |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| **变量** | **描述** | **分类或数量？** | **类型？** |'
- en: '| --- | --- | --- | --- |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| *id* | Index column | Categorical | Nominal |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| *id* | 索引列 | 分类 | 名义 |'
- en: '| *tmathssk* | Total math scaled score | Quantitative | Continuous |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| *tmathssk* | 总数学标准化分数 | 数量型 | 连续型 |'
- en: '| *treadssk* | Total reading scaled score | Quantitative | Continuous |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| *treadssk* | 总阅读分数标准化分数 | 数量型 | 连续型 |'
- en: '| *classk* | Type of class | Categorical | Nominal |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| *classk* | 班级类型 | 分类 | 名义 |'
- en: '| *totexpk* | Teacher’s total years of experience | Quantitative | Discrete
    |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| *totexpk* | 教师的总工作经验年限 | 数量型 | 离散型 |'
- en: '| *sex* | Sex | Categorical | Binary |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| *sex* | 性别 | 分类 | 二元 |'
- en: '| *freelunk* | Qualified for free lunch? | Categorical | Binary |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| *freelunk* | 是否有资格享受免费午餐？ | 分类 | 二元 |'
- en: '| *race* | Race | Categorical | Nominal |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| *race* | 种族 | 分类 | 名义 |'
- en: '| *schidkn* | School indicator | Categorical | Nominal |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| *schidkn* | 学校指标 | 分类 | 名义 |'
- en: 'Some of these variables, like *classk* and *freelunk* were easier to categorize.
    Others, like *schidkn* and *id*, were not so obvious: they are stated in numeric
    terms, but cannot be quantitatively compared.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一些变量，如*classk*和*freelunk*，比较容易分类。而其他一些，如*schidkn*和*id*，则不那么明显：它们以数值方式陈述，但不能进行数量化比较。
- en: Warning
  id: totrans-96
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 警告
- en: Just because data is stated numerically doesn’t mean it can be used as a quantitative
    variable.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 数据以数值方式陈述，并不意味着它可以用作数量型变量。
- en: 'You’ll see that only three of these are quantitative: *tmathssk*, *treadssk*,
    and *totexpk*. I decided to classify the first two as continuous, and the last
    as discrete. To understand why, let’s start with *totexpk*, the number of years
    of the teacher’s experience. All of these observations are expressed in whole
    numbers, ranging from 0 to 27\. Because this variable can only take on a fixed
    number of countable values, I classified it as discrete.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 你会发现，这些变量中只有三个是定量的：*tmathssk*、*treadssk*和*totexpk*。我决定将前两个分类为连续变量，最后一个分类为离散变量。为了理解原因，让我们从*totexpk*开始，即教师的教学经验年限。所有这些观察结果都是以整数表达的，范围从0到27。因为这个变量只能取固定数量的可数值，我将其分类为离散变量。
- en: 'But what about *tmathssk* and *treadssk*, the test scores? These are also expressed
    in whole numbers: that is, a student can’t receive a reading score of 528.5, only
    528 or 529\. In this respect, they are discrete. However, because these scores
    can take on so many unique values, in practice it makes sense to classify them
    as continuous.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 那么*tmathssk*和*treadssk*这两个测试分数如何呢？这些分数也都是以整数表达的：也就是说，一个学生不能得到528.5分，只能是528或529分。从这个角度来看，它们也是离散的。然而，因为这些分数可以有如此多的唯一值，实际上将它们分类为连续变量是有道理的。
- en: It may surprise you to see that for such a rigorous field as analytics, there
    are very few hard-and-fast rules.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 看到这样一个严谨的分析领域中竟然没有多少明确的规则，可能会让你感到惊讶。
- en: 'Recap: Variable Types'
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结：变量类型
- en: Know the rules well, so you can break them effectively.
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 熟知规则，这样你才能有效地打破它们。
- en: ''
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Dalai Lama XIV
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 第十四世达赖喇嘛
- en: The way we classify a variable influences how we treat it in our analysis—for
    example, we can calculate the mean of continous variables, but not nominal variables.
    At the same time, we often bend the rules for expediency—for example, taking the
    average of a discrete variable, so that a family has 1.93 children on average.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们如何对待一个变量的分类方式会影响我们在分析中对其的处理方式——例如，我们可以计算连续变量的均值，但不能计算名义变量的均值。同时，出于便利性考虑，我们常常会打破规则——例如，计算离散变量的平均值，这样一家人平均有1.93个孩子。
- en: As we progress in our analysis, we may decide to twist more rules, reclassify
    variables, or build new variables entirely. Remember, EDA is an iterative process.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们在分析中的进展，我们可能会决定更改更多规则，重新分类变量，或者完全构建新的变量。记住，探索性数据分析（EDA）是一个迭代的过程。
- en: Note
  id: totrans-107
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Working with data and variables is an iterative process. The way we classify
    variables may change depending on what we find later in our exploration and the
    kinds of questions we decide to ask of our data.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 与数据和变量一起工作是一个迭代的过程。我们对变量分类的方式可能会随着我们在探索中发现的内容以及我们决定询问数据的类型而改变。
- en: Exploring Variables in Excel
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Excel中探索变量
- en: Let’s continue exploring the *star* dataset with *descriptive statistics* and
    *visualizations*. We will be conducting this analysis in Excel, although you could
    follow these same steps in R or Python and get matching results. By the end of
    the book, you’ll be able to conduct EDA using all three methods.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续使用*star*数据集进行*描述性统计*和*可视化*的探索。我们将在Excel中进行这一分析，尽管你也可以在R或Python中按照相同步骤获得相同的结果。通过本书的学习，你将能够使用这三种方法进行EDA。
- en: We’ll start our variable exploration with the categorical variables of *star*.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从*star*的分类变量开始进行变量探索。
- en: Exploring Categorical Variables
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索分类变量
- en: Remember that we are measuring *qualities* and not *quantities* with categorical
    variables, so these won’t have a meaningful average, minimum, or maximum, for
    example. We can still conduct some analysis on this data, namely by counting *frequencies*.
    We can do this in Excel with PivotTables. Place your cursor anywhere in the *star*
    dataset and select Insert → PivotTable, as in [Figure 1-5](#inserting-pivot-table).
    Click OK.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，我们在处理分类变量时是在测量*特性*而不是*数量*，因此这些变量不会有有意义的平均值、最小值或最大值，例如。尽管如此，我们仍然可以对这些数据进行一些分析，特别是通过计算*频率*。在Excel中，我们可以使用数据透视表来做到这一点。将光标放在*star*数据集的任何位置，然后选择插入
    → 数据透视表，如[图1-5](#inserting-pivot-table)所示。然后点击确定。
- en: '![Insert Pivot Table](assets/aina_0105.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![插入数据透视表](assets/aina_0105.png)'
- en: Figure 1-5\. Inserting a PivotTable
  id: totrans-115
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-5\. 插入数据透视表
- en: 'I would like to find how many observations come from each class type. To do
    so, I will drag *classk* to the Rows area of the PivotTable, and *id* to the Values.
    By default, Excel will take the *sum* of the *id* field. It’s made the mistake
    of assuming a categorical variable to be quantitative. We cannot quantitatively
    compare ID numbers, but we *can* count their frequencies. To do this on Windows,
    click “Sum of id” in the Values area and select Value Field Settings. Under “Summarize
    value field by,” select “Count.” Click OK. For Mac, click the *i* icon next “Sum
    of id” to do this. Now we have what we want: the number of observations for each
    class type. This is known as a *one-way frequency table* and is shown in [Figure 1-6](#one-way-frequency-table).'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我想找出每种班级类型的观察次数。为此，我将*classk*拖到数据透视表的“行区域”，并将*id*放入“值”中。默认情况下，Excel将*id*字段的*总和*。它错误地假设分类变量是定量的。我们不能定量比较ID号码，但我们*可以*计算它们的频率。在Windows上执行此操作，请单击“值区域”中的“Sum
    of id”，然后选择“值字段设置”。在“汇总值字段方式”下，选择“计数”。单击“确定”。在Mac上，单击“Sum of id”旁边的*i*图标以执行此操作。现在我们得到了想要的结果：每种班级类型的观察次数。这被称为*单向频率表*，如[图 1-6](#one-way-frequency-table)所示。
- en: '![One-way frequency table](assets/aina_0106.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![单向频率表](assets/aina_0106.png)'
- en: Figure 1-6\. One-way frequency table of class type
  id: totrans-118
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-6\. 班级类型的单向频率表
- en: Let’s break this frequency count into observations of students who were and
    were not on the free lunch program. To do this, place *freelunk* into the Columns
    area of the PivotTable. We now have a *two-way* frequency table, as in [Figure 1-7](#two-way-frequency-table).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 将这个频率计数拆分为参加和未参加免费午餐项目的学生的观察结果。为此，请将*freelunk*放入数据透视表的“列区域”中。现在我们有一个*双向*频率表，如[图 1-7](#two-way-frequency-table)所示。
- en: '![Two-way frequency table](assets/aina_0107.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![双向频率表](assets/aina_0107.png)'
- en: Figure 1-7\. Two-way frequency table of class type by lunch program
  id: totrans-121
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-7\. 班级类型按午餐项目分类的双向频率表
- en: Throughout this book, we’ll be creating visualizations as part of our analysis.
    With everything else we have to cover, we won’t spend too much time on the principles
    and techniques of data visualization. However, this field is well worth your study;
    for a helpful introduction, check out Claus O. Wilke’s [*Fundamentals of Data
    Visualization*](https://oreil.ly/Tg5xC) (O’Reilly).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的整个过程中，我们将创建可视化作为分析的一部分。除此以外，我们不会花太多时间讨论数据可视化的原则和技术。然而，这个领域非常值得您的研究；对于一个有帮助的介绍，请查看克劳斯·O·威尔克的《[*数据可视化基础*](https://oreil.ly/Tg5xC)》（O’Reilly）。
- en: We can visualize a one- or two-way frequency table with a bar chart (also known
    as a *barplot* or *countplot*). Let’s plot our two-way frequency table by clicking
    inside the PivotTable and clicking on Insert → Clustered Column. [Figure 1-8](#grouped-bar-chart)
    shows the result. I will add a title to the chart by clicking around its perimeter,
    then on the plus sign icon that appears on the upper right. Under the Chart Elements
    menu that appears, check on the selection for Chart Title. To find this menu on
    Mac, click on the chart and from the ribbon go to Design → Add Chart Element.
    I’ll be adding charts this way several more times in the book.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以用条形图（也称为*条形图*或*计数图*）可视化一种或两种方式的频率表。让我们通过点击数据透视表内部并点击插入 → 聚类列来绘制我们的双向频率表。[图 1-8](#grouped-bar-chart)显示了结果。我将通过点击图表周围，然后点击右上角出现的加号图标来为图表添加标题。在显示的图表元素菜单中，选中图表标题。在Mac上找到此菜单，请单击图表，然后从功能区转到“设计”
    → “添加图表元素”。在本书的其余部分，我将继续以这种方式添加图表。
- en: Notice that the countplot and table have each split the number of observations
    by class type into students who are and are not on the free lunch program. For
    example, 1,051 and 949 indicate the first and second labels and bars on the table
    and countplot, respectively.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，计数图和表格将观察次数按班级类型分成了参与和不参与免费午餐项目的学生。例如，表格和计数图上的第一和第二标签和柱分别表示1,051和949。
- en: '![Grouped bar chart](assets/aina_0108.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![分组条形图](assets/aina_0108.png)'
- en: Figure 1-8\. Two-way frequency table visualized as countplot
  id: totrans-126
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-8\. 以计数图方式可视化的双向频率表
- en: Even for analysis as simple as a two-way frequency table, it’s not a bad idea
    to visualize the results. Humans can process lines and bars on a chart far more
    easily than they can numbers in a table, so as our analysis grows in complexity,
    we should continue to plot the results.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 即使对于像双向频率表这样简单的分析，将结果可视化也不是一个坏主意。人们可以比处理表中的数字更轻松地处理图表上的线条和柱，因此随着我们分析的复杂性增加，我们应继续绘制结果。
- en: 'We can’t make quantitative comparisons about categorical data, so any analysis
    we perform on them will be based on their counts. This may seem unexciting, but
    it’s still important: it tells us what levels of values are most common, and we
    may want to compare these levels by other variables for further analysis. But
    for now, let’s explore quantitative variables.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 对于分类数据，我们无法进行定量比较，因此我们对它们进行的任何分析都将基于它们的计数。这可能看起来不那么令人兴奋，但仍然很重要：它告诉我们哪些值的级别最常见，我们可能希望通过其他变量比较这些级别进行进一步分析。但现在，让我们探索定量变量。
- en: Exploring Quantitative Variables
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索定量变量
- en: Here, we’ll run a fuller range of *summary* or *descriptive* statistics. Descriptive
    statistics allow you to summarize datasets using quantitative methods. Frequencies
    are one type of descriptive statistic; let’s walk through some others and how
    to calculate them in Excel.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将运行更全面的*摘要*或*描述性*统计。描述性统计允许你使用定量方法总结数据集。频率是描述性统计的一种类型；让我们逐步介绍其他方法以及如何在
    Excel 中计算它们。
- en: '*Measures of central tendency* are one set of descriptive statistics that express
    what value or values a typical observation takes. We will cover the three most
    common of these measures.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '*集中趋势度量*是描述性统计的一组统计量，表达了典型观测值的取值。我们将涵盖这些度量中的三个最常见的。'
- en: First, the mean or average. More specifically the *arithmetic* mean, this is
    calculated by adding all observations together and dividing that number by the
    total number of observations. Of all the statistical measures covered, you may
    be most familiar with this one, and it’s one we’ll continue to refer to.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 首先是均值或平均值。更具体地说是*算术*平均值，计算方法是将所有观测值相加，然后除以观测值的总数。在所有讨论的统计量中，你可能最熟悉这个，我们会继续参考它。
- en: Next, the median. This is the observation found in the *middle* of our dataset.
    To calculate the median, sort or rank the data from low to high, then count into
    the data from both sides to find the middle. If two values are found in the middle,
    take the average to find the median.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是中位数。这是数据集中的*中间*观测值。要计算中位数，首先将数据从低到高排序或排名，然后从两侧向内数，找到中间的观测值。如果中间有两个值，取平均值作为中位数。
- en: 'Finally, the mode: the most commonly occurring value. It is also helpful to
    sort the data to find the mode. A variable can have one, many, or no modes.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，众数：出现频率最高的值。排序数据也有助于找到众数。一个变量可能有一个、多个或没有众数。
- en: Excel has a rich suite of statistical functions, including some to calculate
    measures of central tendency, which are shown in [Table 1-3](#excel-central-tendency-formulas).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: Excel 拥有丰富的统计函数套件，包括一些用于计算集中趋势度量的函数，这些函数在[表格 1-3](#excel-central-tendency-formulas)中显示。
- en: Table 1-3\. Excel’s functions for measuring central tendency
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1-3\. Excel 用于测量集中趋势的函数
- en: '| Statistic | Excel function |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| 统计量 | Excel 函数 |'
- en: '| --- | --- |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Mean | `AVERAGE(number1, [number2], ...)` |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| Mean | `AVERAGE(number1, [number2], ...)` |'
- en: '| Median | `MEDIAN(number1, [number2], ...)` |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| Median | `MEDIAN(number1, [number2], ...)` |'
- en: '| Mode | `MODE.MULT(number1, [number2], ...)` |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| Mode | `MODE.MULT(number1, [number2], ...)` |'
- en: '`MODE.MULT()` is a new function in Excel that uses the power of dynamic arrays
    to return multiple potential modes. If you do not have access to this function,
    try `MODE()`. Using these functions, find the measures of central tendency for
    our *tmathssk* scores. [Figure 1-9](#excel-central-tendency) shows the results.'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '`MODE.MULT()` 是 Excel 中利用动态数组返回多个潜在模式的新函数。如果你无法使用此函数，请尝试 `MODE()`。利用这些函数，找出我们的*tmathssk*分数的集中趋势度量。[图表 1-9](#excel-central-tendency)
    显示了结果。'
- en: 'From this analysis, we see our three measures of central tendency have quite
    similar values, with a mean of 485.6, median of 484, and mode of 489\. I’ve also
    decided to find out how often the mode occurs: 277 times.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个分析中，我们看到我们的三个集中趋势度量具有相似的值，均值为 485.6，中位数为 484，众数为 489。我还决定查找众数发生的频率：277 次。
- en: '![Calculating measures of central tendency in Excel](assets/aina_0109.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![在 Excel 中计算集中趋势度量](assets/aina_0109.png)'
- en: Figure 1-9\. Calculating measures of central tendency in Excel
  id: totrans-145
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图表 1-9\. 在 Excel 中计算集中趋势度量
- en: With all of these measures of central tendency, which one is right to focus
    on? I’ll answer this with a brief case study. Imagine you are consulting at a
    nonprofit. You’ve been asked to look at donations and advise which measure of
    central tendency to track. The donations are shown in [Table 1-4](#nonprofit-donations).
    Take a moment to calculate and decide.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 有了所有这些中心趋势度量，应该关注哪一个呢？我将通过一个简短的案例研究来回答这个问题。想象一下你在一个非营利组织做咨询。他们要求你查看捐赠情况，并建议追踪哪种中心趋势度量。捐赠情况如[表1-4](#nonprofit-donations)所示。请花一点时间计算并做出决定。
- en: Table 1-4\. Consider which measure you should track given this data
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 表1-4。考虑给定这些数据应该追踪哪个度量
- en: '| $10 | $10 | $25 | $40 | $120 |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| $10 | $10 | $25 | $40 | $120 |'
- en: 'The mean seems like a conventional one to track, but is $41 *really* representative
    of our data? All individual donations but one were actually *less* than that;
    the $120 donation is inflating this number. This is one downside of the mean:
    extreme values can unduly influence it.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 算术平均数似乎是一个传统的追踪方法，但是$41 *真的*代表了我们的数据吗？实际上，除了一个个人捐赠以外，所有捐赠都*不到*这个数；$120的捐赠正在夸大这个数字。这是算术平均数的一个缺点：极端值可能会不适当地影响它。
- en: 'We wouldn’t have this problem if we used the median: $25 is perhaps a better
    representation of the “middle value” than $41\. The problem with this measure
    is it does not account for the precise value of each observation: we are simply
    “counting down” into the middle of the variable, without taking stock of each
    observation’s relative magnitude.'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们使用中位数就不会有这个问题：$25或许更能代表“中间值”而不是$41。这个度量的问题在于它没有考虑到每个观察值的精确值：我们只是“倒数”进入变量的中间，而没有考虑每个观察值的相对大小。
- en: 'That leaves us with the mode, which does offer useful information: the most
    *common* gift is $10\. However, $10 is not all that representative of the donations
    as a whole. Moreover, as mentioned, a dataset can have multiple modes or none,
    so this is not a very stable measure.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这就让我们只剩下众数，它确实提供了有用的信息：*普遍*的礼物是$10。然而，$10并不能代表捐赠的整体情况。此外，正如前文所述，数据集可能有多个众数，也可能没有，因此这不是一个非常稳定的度量。
- en: Our answer to the nonprofit, then? It should track and evaluate them all. Each
    measure summarizes our data from a different perspective. As you will see in later
    chapters, however, it’s most common to focus on the mean when conducting more
    advanced statistical analysis.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非营利组织的回答呢？应该追踪和评估它们所有的度量。每个度量都从不同的角度总结了我们的数据。然而，正如你将在后面的章节中看到的，进行更高级的统计分析时，最常见的是关注平均值。
- en: Note
  id: totrans-153
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注：
- en: We will frequently analyze several statistics to get a fuller perspective about
    the same dataset. No one measure is necessarily better than others.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 我们经常会分析几个统计量，以便更全面地了解同一数据集。没有一种度量一定比其他更好。
- en: Now that we have established where the “center” of the variable is, we want
    to explore how “spread” those values are from the center. Several *measures of
    variability* exist; we’ll focus on the most common.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经确定了变量的“中心”在哪里，我们想要探索这些值从中心“散开”的程度。存在几种*可变性度量*；我们将重点关注最常见的。
- en: 'First, the range, or the difference between the maximum and minimum values.
    Though simple to derive, it is highly sensitive to observations: just one extreme
    value, and the range can be misleading about where most observations are actually
    found.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，是范围，或者说最大值和最小值之间的差异。尽管推导起来很简单，但它对观察结果非常敏感：只要有一个极端值，范围就可能对大多数观察结果的实际位置产生误导。
- en: 'Next, the variance. This is a measure of how spread observations are from the
    mean. This is a bit more intensive to calculate than what we’ve covered thus far.
    Our steps will be:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是方差。这是一个测量观察值与平均值之间分散程度的指标。这比我们到目前为止讨论的内容更加深入。我们的步骤如下：
- en: Find the mean of our dataset.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到我们数据集的平均值。
- en: Subtract the mean from each observation. This is the *deviation*.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从每个观察值中减去平均值。这就是*偏差*。
- en: Take the sum of the squares of all deviations.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 求出所有偏差的平方和。
- en: Divide the sum of the squares by the number of observations.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将平方和除以观察次数。
- en: 'That’s a lot to follow. For operations this involved, it can be helpful to
    use mathematical notation. I know it can take some getting used to and is intimidating
    at first, but consider the alternative of the previous list. Is that any more
    intelligible? Mathematical notation can provide a more precise way to express
    what to do. For example, we can cover all the steps needed to find the variance
    in [Equation 1-1](#variance-formula):'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 要跟上这么多内容确实有点难。对于这么复杂的操作，使用数学符号可能会有所帮助。我知道起初可能会有些让人畏惧，但请考虑前面列表的替代方案。这里的数学符号可以提供一个更精确的表达方法。例如，我们可以涵盖找到方差的所有步骤，如[公式
    1-1](#variance-formula) 所示：
- en: Equation 1-1\. Formula for finding variance
  id: totrans-163
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 公式 1-1\. 找到方差的公式
- en: <math alttext="s squared equals StartFraction sigma-summation left-parenthesis
    upper X minus upper X overbar right-parenthesis squared Over upper N EndFraction"
    display="block"><mrow><msup><mi>s</mi> <mn>2</mn></msup> <mo>=</mo> <mfrac><mrow><mo>∑</mo><msup><mrow><mo>(</mo><mi>X</mi><mo>-</mo><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow>
    <mi>N</mi></mfrac></mrow></math>
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="s squared equals StartFraction sigma-summation left-parenthesis
    upper X minus upper X overbar right-parenthesis squared Over upper N EndFraction"
    display="block"><mrow><msup><mi>s</mi> <mn>2</mn></msup> <mo>=</mo> <mfrac><mrow><mo>∑</mo><msup><mrow><mo>(</mo><mi>X</mi><mo>-</mo><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow>
    <mi>N</mi></mfrac></mrow></math>
- en: <math alttext="s squared"><msup><mi>s</mi> <mn>2</mn></msup></math> is our variance.
    <math alttext="left-parenthesis upper X minus upper X overbar right-parenthesis
    squared"><msup><mrow><mo>(</mo><mi>X</mi><mo>-</mo><mover accent="true"><mi>X</mi>
    <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></math> tells us that we
    need to subtract each observation <math alttext="upper X"><mi>X</mi></math> from
    the average <math alttext="upper X overbar"><mover accent="true"><mi>X</mi> <mo>¯</mo></mover></math>
    , and square it. <math alttext="sigma-summation"><mo>∑</mo></math> tells us to
    sum those results. Finally, that result is divided by the number of observations
    <math alttext="upper N"><mi>N</mi></math> .
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="s 平方"><msup><mi>s</mi> <mn>2</mn></msup></math> 是我们的方差。 <math
    alttext="左括号 上标X 减 上标X横线 平方"><msup><mrow><mo>(</mo><mi>X</mi><mo>-</mo><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></math>
    告诉我们，我们需要从每个观察值 <math alttext="上标X"><mi>X</mi></math> 中减去平均值 <math alttext="上标X横线"><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover></math> ，然后平方。 <math alttext="sigma-求和"><mo>∑</mo></math>
    告诉我们对这些结果求和。最后，将结果除以观察值的数量 <math alttext="上标N"><mi>N</mi></math> 。
- en: I will use mathematical notation a few more times in this book, but only to
    the extent that it is a more efficient way to express and understand a given concept
    than writing down all the steps discursively. Try calculating the variance of
    the numbers in [Table 1-5](#variance-practice).
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中我还会多次使用数学符号，但只有在它比逐步书写更有效表达和理解给定概念时才会这样做。尝试计算 [表 1-5](#variance-practice)
    中数字的方差。
- en: Table 1-5\. Measure the variability of this data
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1-5\. 测量这些数据的变异性
- en: '| 3 | 5 | 2 | 6 | 3 | 2 |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 5 | 2 | 6 | 3 | 2 |'
- en: Because this statistic is comparatively more complex to derive, I will use Excel
    to manage the calculations. You’ll learn how to calculate the variance using Excel’s
    built-in functions in a moment. [Figure 1-10](#excel-variance-calculation) shows
    the results.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个统计量相对更复杂，我将使用Excel来管理计算。稍后你将学习如何使用Excel的内置函数计算方差。[图 1-10](#excel-variance-calculation)
    展示了结果。
- en: '![Calculating variance in Excel](assets/aina_0110.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![在Excel中计算方差](assets/aina_0110.png)'
- en: Figure 1-10\. Calculating the variance in Excel
  id: totrans-171
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-10\. 在Excel中计算方差
- en: You can find these results in the *variability* worksheet of the accompanying
    workbook for this chapter, *ch-1.xlsx*.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在本章附带的工作簿的 *variability* 工作表中找到这些结果，即 *ch-1.xlsx*。
- en: 'You may be asking why we are working with the *square* of the deviations. To
    see why, take the sum of the unsquared deviations. It’s zero: these deviations
    cancel each other out.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会问为什么我们要处理偏差的*平方*。要理解为什么，请对未平方的偏差求和。它是零：这些偏差互相抵消了。
- en: The problem with the variance is that now we are working in terms of *squared
    deviations* of the original unit. This is not an intuitive way to analyze data.
    To correct for that, we’ll take the square root of the variance, known as the
    *standard deviation*. Variability is now expressed in terms of the original unit
    of measurement, the mean. [Equation 1-2](#standard-deviation-equation) shows the
    standard deviation expressed in mathematical notation.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 方差的问题在于现在我们是在处理原始单位的*平方偏差*。这不是分析数据的直观方式。为了纠正这一点，我们将取方差的平方根，即*标准差*。变异性现在是用测量单位的平均值来表达的。[公式
    1-2](#standard-deviation-equation) 展示了用数学符号表示的标准差。
- en: Equation 1-2\. Formula for finding standard deviation
  id: totrans-175
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 公式 1-2\. 找到标准差的公式
- en: <math alttext="s equals StartRoot StartFraction sigma-summation left-parenthesis
    upper X Subscript i Baseline minus upper X overbar right-parenthesis squared Over
    upper N EndFraction EndRoot" display="block"><mrow><mi>s</mi> <mo>=</mo> <msqrt><mfrac><mrow><mo>∑</mo><msup><mfenced
    close=")" open="(" separators=""><msub><mi>X</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover></mfenced> <mn>2</mn></msup></mrow>
    <mi>N</mi></mfrac></msqrt></mrow></math>
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="s equals StartRoot StartFraction sigma-summation left-parenthesis
    upper X Subscript i Baseline minus upper X overbar right-parenthesis squared Over
    upper N EndFraction EndRoot" display="block"><mrow><mi>s</mi> <mo>=</mo> <msqrt><mfrac><mrow><mo>∑</mo><msup><mfenced
    close=")" open="(" separators=""><msub><mi>X</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>X</mi> <mo>¯</mo></mover></mfenced> <mn>2</mn></msup></mrow>
    <mi>N</mi></mfrac></msqrt></mrow></math>
- en: Using this formula, the standard deviation of [Figure 1-10](#excel-variance-calculation)
    is 1.5 (the square root of 2.25). We can calculate these measures of variability
    in Excel using the functions in [Table 1-6](#variability-measures-excel). Note
    that different functions are used for the *sample* versus *population* variance
    and standard deviation. The sample measure uses <math alttext="upper N minus 1"><mrow><mi>N</mi>
    <mo>-</mo> <mn>1</mn></mrow></math> rather than <math alttext="upper N"><mi>N</mi></math>
    in the denominator, resulting in a larger variance and standard deviation.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个公式，[图 1-10](#excel-variance-calculation)的标准偏差是1.5（2.25的平方根）。我们可以使用[表 1-6](#variability-measures-excel)中的函数在Excel中计算这些变异度的测量。请注意，对*样本*和*总体*方差和标准偏差使用了不同的函数。样本测量使用<math
    alttext="上N减1"><mrow><mi>N</mi> <mo>-</mo> <mn>1</mn></mrow></math>而不是<math alttext="上N"><mi>N</mi></math>作为分母，结果是较大的方差和标准偏差。
- en: Table 1-6\. Excel’s functions for measuring variability
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1-6\. Excel的测量变异性的函数
- en: '| Statistic | Excel function |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '| 统计量 | Excel函数 |'
- en: '| --- | --- |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Range | `MAX(number1, [number2], ...)_ - _MIN(number1, [number2], ...)` |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| 范围 | `MAX(number1, [number2], ...)_ - _MIN(number1, [number2], ...)` |'
- en: '| Variance (sample) | `VAR.S(number1, [number2], ...)` |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| 方差（样本） | `VAR.S(number1, [number2], ...)` |'
- en: '| Standard deviation (sample) | `STDEV.S(number1, [number2], ...)` |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| 标准偏差（样本） | `STDEV.S(number1, [number2], ...)` |'
- en: '| Variance (population) | `VAR.P(number1, [number2], ...)` |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| 方差（总体） | `VAR.P(number1, [number2], ...)` |'
- en: '| Standard deviation (population) | `STDEV.P(number1, [number2], ...)` |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| 标准偏差（总体） | `STDEV.P(number1, [number2], ...)` |'
- en: The distinction between the sample and population will be a key theme of later
    chapters. For now, if you’re not sure you have collected *all* the data that you’re
    interested in, use the *sample* functions. As you’re beginning to see, we have
    *several* descriptive statistics to look out for. We can expedite calculating
    them using Excel’s functions, but we can also use its Data Analysis ToolPak to
    derive a full suite of descriptive statistics with a few clicks.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 后面的章节将重点讨论样本与总体的区别。如果你不确定是否已经收集了你感兴趣的*所有*数据，可以使用*样本*函数。正如你现在看到的，我们有*几个*描述统计要关注。我们可以利用Excel的函数加快计算速度，但也可以使用其数据分析工具包通过几次点击生成完整的描述统计。
- en: Tip
  id: totrans-187
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: Some statistical measures differ when calculated for a population or a sample.
    If you’re not sure which you’re working with, assume the sample.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在计算总体或样本的统计量时，有些统计量会有所不同。如果你不确定你正在处理的是哪种情况，请假设是样本。
- en: This add-in comes installed with Excel, but you need to load it first. For Windows,
    from the ribbon select File → Options > Add-ins. Then click Go toward the bottom
    of the menu. Select Analysis ToolPak from the menu, then click OK. It is not necessary
    to select the Analysis ToolPak–VBA option. For Mac, from the menu bar you will
    select Data → Analysis Tools. Select Analysis ToolPak from the menu, then click
    OK. You may need to restart Excel to complete the configuration. After that, you
    will see a new Data Analysis button in the Data tab.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 这个插件已经与Excel一同安装，但首先需要加载它。对于Windows，从功能区选择 文件 → 选项 > 加载项。然后点击底部的“转到”。从菜单中选择分析工具包，然后点击确定。不必选择分析工具包-VBA选项。对于Mac，从菜单栏选择
    数据 → 分析工具。从菜单中选择分析工具包，然后点击确定。可能需要重新启动Excel以完成配置。之后，您将在“数据”选项卡中看到一个新的数据分析按钮。
- en: In [Table 1-1](#star-descriptions), we determined that *tmathssk* and *treadssk*
    are continuous variables. Let’s calculate their descriptive statistics using the
    ToolPak. From the ribbon, select Data → Data Analysis → Descriptive Statistics.
    A menu will appear; select the input range `B1:C5749`. Make sure to turn the checkboxes
    on for “Labels in First Row” and “Summary statistics.” Your menu should look like
    [Figure 1-11](#toolpak-descriptive-stats). You can leave the other settings as-is
    and click OK.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在[表 1-1](#star-descriptions)中，我们确定了*tmathssk*和*treadssk*是连续变量。让我们使用ToolPak计算它们的描述统计。从功能区选择
    数据 → 数据分析 → 描述统计。会出现一个菜单；选择输入范围`B1:C5749`。确保打开“首行为标签”和“汇总统计”复选框。您的菜单应该看起来像[图 1-11](#toolpak-descriptive-stats)。您可以保持其他设置不变，然后点击确定。
- en: This will insert descriptive statistics for these two variables into a new worksheet,
    as in [Figure 1-12](#toolpak-generated-stats).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 这将把这两个变量的描述统计插入到一个新的工作表中，如[图 1-12](#toolpak-generated-stats)所示。
- en: Now let’s look at finding descriptive statistics for each level of a categorical
    variable for the sake of comparison across groups. To do this, insert a new PivotTable
    based off the *star* data into a new worksheet. Place *freelunk* in the Columns
    area, *id* in the Rows, and *Sum of treadssk* in the Values section. Remember
    that the *id* field is a unique identifier, so we really shouldn’t sum this in
    the PivotTable, despite what it thinks.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来比较各组中每个分类变量的描述统计量。为此，将基于*star*数据插入新的工作表中的透视表。将*freelunk*放置在列区域，*id*放置在行区域，将*Sum
    of treadssk*放置在值区域。请记住，*id*字段是唯一标识符，因此我们实际上不应该在透视表中对其求和，尽管它可能会这样认为。
- en: '![Running descriptive statistics in the ToolPak](assets/aina_0111.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![在ToolPak中运行描述统计](assets/aina_0111.png)'
- en: Figure 1-11\. Deriving descriptive statistics with the Analysis ToolPak
  id: totrans-194
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-11\. 使用分析ToolPak导出描述统计量
- en: '![ToolPak descriptive statistics](assets/aina_0112.png)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![ToolPak中的描述统计](assets/aina_0112.png)'
- en: Figure 1-12\. Descriptive statistics derived from the Analysis ToolPak
  id: totrans-196
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-12\. 从分析ToolPak导出的描述统计量
- en: For this and any future PivotTable operations we’ll be conducting, it’s best
    to turn off all totals by clicking inside it and selecting Design → Grand Totals
    → Off for Rows and Columns. This way we don’t mistakenly include grand totals
    as part of the analysis. You can now use the ToolPak to insert descriptive statistics.
    [Figure 1-13](#descriptive-stats-by-group) shows the result.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这次以及将来进行的任何透视表操作，最好是关闭所有总计，方法是单击内部并选择“设计”→“总计”→“关闭行”和“关闭列”。这样我们就不会误将总计包括在分析中。现在可以使用ToolPak插入描述统计量。[图1-13](#descriptive-stats-by-group)显示了结果。
- en: '![Descriptive stats by group](assets/aina_0113.png)'
  id: totrans-198
  prefs: []
  type: TYPE_IMG
  zh: '![按组进行的描述统计](assets/aina_0113.png)'
- en: Figure 1-13\. Calculating descriptive statistics by group
  id: totrans-199
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-13\. 按组计算描述统计量
- en: You know the majority of these measures already; this book will touch on the
    rest later. It may seem like all of the information presented by the ToolPak negates
    any need for visualizing the data. In fact, visualizations still play an indispensable
    role in EDA. In particular, we’ll use them to tell us about the *distribution*
    of observations across the entire range of values in a variable.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经了解了这些措施的大部分内容；本书稍后将会涉及其余部分。看起来，ToolPak呈现的所有信息似乎都消除了对数据可视化的需求。事实上，可视化仍然在探索性数据分析中发挥着不可或缺的作用。特别是，我们将使用它们来了解在变量的整个值范围内观测值的*分布*。
- en: First, we’ll look at histograms. With these plots, we can visualize the relative
    frequency of observations by interval. To build a histogram of *treadssk* in Excel,
    select that range of data, then go to the ribbon and select Insert → Histogram.
    [Figure 1-14](#reading-scores-distribution) shows the result.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将看看直方图。通过这些图，我们可以可视化观测值按区间的相对频率。要在Excel中构建*treadssk*的直方图，请选择该数据范围，然后转到功能区并选择“插入”→“直方图”。[图1-14](#reading-scores-distribution)显示了结果。
- en: We can see from [Figure 1-14](#reading-scores-distribution) that the most frequently
    occurring interval is between 426.6 and 432.8, and there are approximately 650
    observations falling in this range. None of our actual test scores include decimals,
    but our x-axis may include them depending on how Excel establishes the intervals,
    or bins. We can change the number of bins by right-clicking on the x-axis of the
    chart and selecting Format Axis. A menu will appear at the right. (These features
    are not available for Mac.)
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图1-14](#reading-scores-distribution)中我们可以看到，最频繁出现的区间在426.6到432.8之间，大约有650个观测值落在这个范围内。我们实际的测试分数中没有小数，但是我们的x轴可能包括它们，这取决于Excel如何确定间隔或箱子。我们可以通过右键单击图表的x轴并选择“格式轴”来更改箱子的数量。右侧将显示一个菜单。（这些功能在Mac上不可用。）
- en: '![Distribution of reading scores](assets/aina_0114.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![阅读分数的分布](assets/aina_0114.png)'
- en: Figure 1-14\. Distribution of reading scores
  id: totrans-204
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-14\. 阅读分数的分布
- en: By default, Excel decided on 51 bins, but what if we (approximately) halved
    and doubled that number at 25 and 100, respectively? Adjust the numbers in the
    menu; [Figure 1-15](#changing-histogram-bins) shows the results. I like to think
    of this as “zooming in and out” on the details of the distribution.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Excel决定使用51个箱子，但如果我们（大约）将该数字减半和加倍为25和100呢？在菜单中调整这些数字；[图1-15](#changing-histogram-bins)显示了结果。我喜欢将其看作是在分布的细节上“放大和缩小”。
- en: '![Histogram bin widths](assets/aina_0115.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![直方图箱子宽度](assets/aina_0115.png)'
- en: Figure 1-15\. Changing the number of histogram bins
  id: totrans-207
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-15\. 改变直方图箱子数量
- en: With the distribution visualized as a histogram, we can quickly see that there
    are a sizable number of test scores to the extreme right of the distribution,
    but that most test scores are overwhelmingly in the 400–500 range.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 将分布可视化为直方图后，我们可以快速看到，在分布的极右端有相当数量的考试分数，但大多数考试分数主要集中在400–500的范围内。
- en: What if we wanted to see how the distribution of reading scores varies across
    the three class sizes? Here, we are comparing a continuous variable across three
    levels of a categorical one. Setting this up with a histogram in Excel will take
    some “hacking,” but we can lean on PivotTables to get the job done.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们想要查看阅读分数的分布如何在三种班级规模之间变化？在这里，我们正在比较一个连续变量在一个分类变量的三个水平上的表现。在Excel中通过直方图设置这一点将需要一些“技巧”，但我们可以依赖数据透视表来完成任务。
- en: Insert a new PivotTable based on the *star* dataset, then drag *treadssk* to
    the Rows area, *classk* to the Columns area, and “Count of id” to the Values area.
    Again, subsequent analysis will be easier if we remove totals from the PivotTable.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于*star*数据集上插入一个新的数据透视表，然后将*treadssk*拖到行区域，*classk*拖到列区域，“id的计数”拖到值区域。同样地，如果我们从数据透视表中删除总计，后续的分析会更容易。
- en: 'Now let’s create a chart from this data. Click anywhere in your PivotTable,
    and from the ribbon, select Insert → Clustered Column. The result, shown in [Figure 1-16](#multi-group-histogram-start),
    is extremely hard to read, but compare it to the source PivotTable: it is telling
    us that for students with a score of 380, 10 had regular classes, 2 had regular
    classes with aides, and 2 had small classes.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们从这些数据创建一个图表。单击数据透视表中的任意位置，然后从功能区选择插入 → 簇状列。结果如[图 1-16](#multi-group-histogram-start)所示，非常难以阅读，但与源数据透视表进行比较，它告诉我们对于分数为380的学生，10人是常规班级，2人是带助理的常规班级，2人是小班级。
- en: '![Raw grouped histogram](assets/aina_0116.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![原始分组直方图](assets/aina_0116.png)'
- en: Figure 1-16\. Starting a multigroup histogram
  id: totrans-213
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-16\. 开始一个多组直方图
- en: From here, it’s a matter of rolling these values up into larger intervals. To
    do this, right-click anywhere inside the values of your PivotTable’s first column
    and select Group. Excel will default this grouping to increments of 100; change
    it to 25.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 从这里开始，将这些值合并到更大的间隔中就是一个问题了。为此，右键单击数据透视表的第一列的任意位置，然后选择“组合”。Excel将默认将此分组设置为100的增量；将其更改为25。
- en: A recognizable histogram is starting to emerge. Let’s reformat the chart to
    make it look even more like one. Right-click on any of the bars of the chart and
    select Format Data Series. You will turn Series Overlap to 75% and Gap Width to
    0%. [Figure 1-17](#multi-group-histogram-finish) shows the result.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 一个可识别的直方图开始显现。让我们重新格式化图表，使其看起来更像一个。右键单击图表的任何条形，然后选择“格式数据系列”。您将把“系列重叠”调整为75%，将“间隙宽度”调整为0%。[图
    1-17](#multi-group-histogram-finish)显示了结果。
- en: '![Grouped histogram](assets/aina_0117.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![分组直方图](assets/aina_0117.png)'
- en: Figure 1-17\. Creating a multigroup histogram with a PivotTable
  id: totrans-217
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-17\. 使用数据透视表创建一个多组直方图
- en: We could set the gap widths to completely intersect, but then it becomes even
    harder to see the regular class size distribution. Histograms are a go-to visualization
    to see the distribution of a continuous variable, but they can quickly get cluttered.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将间隙宽度设置为完全相交，但这样一来，就更难看清晰的常规班级大小分布。直方图是查看连续变量分布的常用可视化工具，但它们很快就会变得混乱不堪。
- en: As an alternative, let’s look at boxplots. Here, we’ll visualize our distribution
    in terms of *quartiles*. The center of the boxplot is a measure you’re familiar
    with, the *median*.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 作为替代方案，让我们来看看箱线图。在这里，我们将以*四分位数*来可视化我们的分布。箱线图的中心是一个您熟悉的度量值，*中位数*。
- en: As the “middle” of our dataset, one way to think about the median is as the
    second quartile. We can find the first and third quartiles by dividing our dataset
    evenly into quadrants and finding their midpoints. [Figure 1-18](#parts-of-boxplot)
    labels these various elements of a boxplot.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 作为我们数据集的“中间”位置，一个理解中位数的方式是将其视为第二个四分位数。我们可以通过将数据集均匀地分成四分之一并找到它们的中点来找到第一和第三四分位数。[图
    1-18](#parts-of-boxplot)标记了箱线图的各个元素。
- en: '![Labeled boxplot](assets/aina_0118.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![带标签的箱线图](assets/aina_0118.png)'
- en: Figure 1-18\. Elements of a boxplot
  id: totrans-222
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-18\. 箱线图的元素
- en: The part of the resulting plot found in the “box” is known as the *interquartile
    range*. This range is used as the basis for deriving other parts of the plot.
    The remaining range that falls within 1.5 times the interquartile range is represented
    by two lines or “whiskers.” In fact, Excel refers to this type of chart as Box
    & Whisker.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在“盒形图”中找到的结果图的部分被称为*四分位距*。 这个范围被用作推导图的其他部分的基础。 落在1.5倍四分位距内的剩余范围由两条线或“须”表示。 实际上，Excel将这种类型的图称为盒形和须图。
- en: Observations that aren’t found within this range are shown as individual dots
    on the plot. These are considered *outliers*. The boxplot may be more complex
    than the histogram, but fortunately Excel will handle all preparation for us.
    Let’s return to our *treadssk* example. Highlight this range, then from the ribbon
    select Insert → Box & Whisker.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 不在此范围内的观察显示为图中的单个点。 这些被视为*异常值*。 盒形图可能比直方图更复杂，但幸运的是Excel会为我们处理所有准备工作。 让我们回到我们的*treadssk*示例。
    高亮显示此范围，然后从选项卡中选择“插入”→“盒形图”。
- en: We can see in [Figure 1-19](#boxplot-reading-scores) that our interquartile
    range falls within about 415 to 450, and that there are several outliers, especially
    on the high side. We noticed similar patterns about the data from the histogram,
    although we had a more visual perspective of the complete distribution, and were
    able to examine at different levels of granularity with different bin widths.
    Just like with the descriptive statistics, each visualization offers a unique
    perspective of the data; none is inherently superior to the others.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以在[图1-19](#boxplot-reading-scores)中看到，我们的四分位距大约在415到450之间，并且有几个异常值，特别是在高端。
    我们从直方图中注意到了数据的类似模式，虽然我们对完整分布有了更加视觉化的视角，并且能够使用不同的箱宽度在不同粒度水平上进行检查。 就像描述性统计一样，每个可视化都提供了数据的独特视角；
    没有一个本质上比其他视角更优越。
- en: '![Distribution of reading scores boxplot](assets/aina_0119.png)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![阅读成绩分布的盒形图](assets/aina_0119.png)'
- en: Figure 1-19\. A boxplot of reading scores
  id: totrans-227
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-19\. 一个阅读成绩的盒形图
- en: One advantage of the boxplot is that it gives us some precise information about
    where the quartiles of our data are located, and what observations are considered
    outliers. Another is that it can be easier to compare distributions across multiple
    groups. To make boxplots of multiple groups in Excel, it’s easiest to have the
    categorical variable of interest directly to the left of the continuous one. In
    this manner, move *classk* to the left of *treadssk* in your data source. With
    this data selected, click Insert → Box & Whisker from the ribbon. In [Figure 1-20](#boxplot-multiple-groups)
    we see that the general distribution of scores looks similar across the three
    groups.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 盒形图的一个优点是它为我们提供了关于数据四分位数位置的一些精确信息，以及哪些观测值被认为是异常值。 另一个优点是，它可以更容易地比较多个组之间的分布情况。
    要在Excel中制作多组的盒形图，最简单的方法是直接将感兴趣的分类变量放在连续变量的左侧。 通过这种方式，在数据源中将*classk*移至*treadssk*左侧。
    选择此数据后，单击“插入”→“盒形图”选项卡。 在[图1-20](#boxplot-multiple-groups)中，我们可以看到三组分数的总体分布看起来相似。
- en: '![Grouped boxplot](assets/aina_0120.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![分组盒形图](assets/aina_0120.png)'
- en: Figure 1-20\. A boxplot of reading scores by class type
  id: totrans-230
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-20\. 根据班级类型的阅读成绩盒形图
- en: 'To recap, when working with quantitative data we can do much more than count
    frequencies:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，在处理定量数据时，我们可以做的远不止计数频率：
- en: We can determine what value(s) the data is centered around using measures of
    central tendency.
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以使用集中趋势的测量确定数据围绕哪个（些）值中心化。
- en: We can determine how relatively spread out that data is using measures of variability.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以使用变异性的测量来确定数据的相对分布情况。
- en: We can visualize the distribution of that data using histograms and boxplots.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以使用直方图和盒形图来可视化数据的分布。
- en: There are other descriptive statistics and other visualizations to explore quantitative
    variables with. You will even learn about some of them later in the book. But
    this is a good start with the most crucial questions to ask of your data during
    EDA.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 还有其他描述性统计和其他可视化方法来探索定量变量。 您将在本书的后面了解其中一些。 但在探索探索性数据分析期间，这是对数据最关键的问题的良好开端。
- en: Conclusion
  id: totrans-236
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: 'While we never know what we’ll get in a new dataset, the EDA framework gives
    us a good process to make sense of it. We now know what kind of variables we’re
    working with in *star*, and how their observations as a whole look and behave:
    quite an in-depth interview. In [Chapter 3](ch03.html#foundations-of-inference),
    we will build on this work by learning how to *confirm* the insights we’ve gained
    about the data by exploring it. But before that, we’ll take a tour of probability
    in [Chapter 2](ch02.html#foundations-of-probability), which provides much of the
    fuel for the analytics engine.'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们永远不知道在新数据集中会得到什么，但是探索性数据分析（EDA）框架为我们提供了一个很好的过程来理解它。现在我们知道在*star*中我们正在处理哪些类型的变量，以及它们的整体观察如何看待和行为：相当深入的访谈。在[第3章](ch03.html#foundations-of-inference)，我们将通过学习如何通过探索数据*confirm*所获得的洞察来进一步建立这项工作。但在此之前，我们将在[第2章](ch02.html#foundations-of-probability)中进行概率之旅，这为分析引擎提供了很多燃料。
- en: Exercises
  id: totrans-238
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习
- en: 'Practice your EDA skills with the *housing* dataset, available in the book’s
    [repository](https://oreil.ly/LHiLl) under *datasets* → *housing* → *housing.xlsx*.
    This is a real-life dataset consisting of housing sales prices in the city of
    Windsor, Ontario, Canada. You can find a description of the variables on the *readme*
    worksheet of the file. Complete the following, and don’t hesitate to complete
    your own EDA as well:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 使用书籍的[仓库](https://oreil.ly/LHiLl)中的*datasets* → *housing* → *housing.xlsx*中的*housing*数据集练习您的EDA技能。这是一个真实的数据集，包含加拿大安大略省温莎市的住房销售价格。您可以在文件的*readme*工作表中找到变量的描述。完成以下内容，同时也不要犹豫自己完成您的EDA：
- en: Classify each variable’s type.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对每个变量的类型进行分类。
- en: Build a two-way frequency table of *airco* and *prefarea*.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 建立*airco*和*prefarea*的双向频率表。
- en: Return descriptive statistics for *price*.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回*price*的描述统计数据。
- en: Visualize the distribution of *lotsize*.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化*lotsize*的分布。
- en: You can find a solution to these and all other book exercises in the *exercise-solutions*
    folder of the book repository. There is a file named for each chapter.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在书籍仓库的*exercise-solutions*文件夹中找到这些和所有其他习题的解决方案。每章都有一个命名的文件。
