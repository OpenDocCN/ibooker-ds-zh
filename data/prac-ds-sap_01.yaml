- en: Chapter 1\. Introduction
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章\. 引言
- en: Telling Better Stories with Data
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 用数据讲好故事
- en: Not enough gets said about abandoning crap.
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 我们关于放弃垃圾的说法还远远不够。
- en: ''
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Ira Glass
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 伊拉·格拉斯
- en: We’ve all seen them. The intimidating PowerPoint presentations with the army
    of bullet points marching down the screen. Often the lecturer will even apologize
    for the busy slide and then continue to present, reading every word on the slide
    exactly as printed. You start to wonder if you left the oven on last night. We
    all like stories. A well-constructed narrative in the form of a movie, book, television
    show, or podcast wraps around us like a blanket and draws our attention. The bullet-ridden
    PowerPoint…not so much. With the deluge of data that has come with the advent
    of the internet and IoT, we are tempted to splash some findings in a presentation,
    wipe our hands, and say “that is that.” However, as data professionals we can’t
    just rain data findings down on our audience. The prevailing advice is that you
    must tell a story with data—make sure it’s a compelling story that people want
    to hear. Don’t deny yourself the joy that storytelling can bring.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都见过它们。那些令人生畏的 PowerPoint 演示文稿，屏幕上滚动着一队队的项目符号。讲师经常会为繁忙的幻灯片道歉，然后继续按照幻灯片上印刷的每个字读。您开始怀疑自己是否昨晚忘了关炉子。我们都喜欢故事。一个结构良好的叙事，无论是电影、书籍、电视节目还是播客，都会像毯子一样缠绕在我们周围，吸引我们的注意力。那些布满项目符号的
    PowerPoint 幻灯片……却不是这样。随着互联网和物联网的兴起带来的数据洪流，我们很容易在演示中加入一些发现，擦干净我们的手，然后说“就是这样了”。然而，作为数据专业人士，我们不能只是向受众“淋浴”数据发现。流行的建议是，您必须用数据讲述一个故事——确保它是人们愿意听的引人入胜的故事。不要否认讲述故事能带来的乐趣。
- en: To tell a compelling story, you must identify it. What is being asked of my
    data? What insights are my users looking for? A company that specializes in providing
    services and equipment might ask, “What equipment needs servicing the most? The
    least? Is there a correlation between equipment type and parts replacement?” At
    that same company someone in the finance department might ask, “How can we more
    accurately predict cash-on-hand?” In sales the question might be, “What kind of
    customer churn do I have?”
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 要讲述一个引人入胜的故事，您必须首先识别它。我的数据被要求展示什么？我的用户正在寻找什么洞察？专门提供服务和设备的公司可能会问：“哪些设备最需要维修？哪些最不需要？设备类型与零件更换之间是否存在相关性？”在同一家公司，财务部门的某人可能会问：“我们如何更准确地预测手头的现金？”在销售部门，问题可能是：“我有什么样的客户流失情况？”
- en: After you’ve identified your story, you’ll need to find your audience. There
    are many ways to break them down, but generally your audience includes executives,
    business professionals, and technical professionals. While they might manage or
    direct many business processes, executives often know little about the daily functioning
    of such processes. The detail is irrelevant (or possibly confusing) to them—they
    want to know the story in big bold letters. Business professionals are the daily
    administrators of a business process, such as super users and business analysts.
    They know the process in detail and can understand raw tabular data. Technical
    professionals are the smallest segment of your audience; they usually comprise
    colleagues in data analytics and data science teams. This group requires less
    business and process background and more technical details such as the root-mean-squared
    error of the regression or the architecture of the neural network.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 确定了您的故事之后，您需要找到您的受众。有多种方法可以细分受众，但通常您的受众包括高管、业务专业人员和技术专业人员。尽管他们可能管理或指导许多业务流程，但高管通常对这些流程的日常运行了解甚少。细节对他们来说无关紧要（或可能令人困惑）——他们想要看到大大的粗体字。业务专业人员是业务流程的日常管理员，如超级用户和业务分析师。他们了解流程的详细信息，并能理解原始的表格数据。技术专业人员是您受众中最小的部分；他们通常包括数据分析和数据科学团队中的同事。这个群体需要较少的业务和流程背景，而更多的是如回归的均方根误差或神经网络的架构等技术细节。
- en: 'Once you’ve got your story and audience set, you’ll need to move forward with
    the most difficult and tenuous part of the journey: finding the data. Without
    the data to support your story, your journey will quickly come to an end. Let’s
    say you wanted to tell the story of how sunspots correlate to sales of hats and
    mittens in the northern hemisphere. Surprisingly, sunspot data is easy to obtain.
    You got that. However, you only have details on sales of hats, not mittens. You
    can’t find that data. A cautious step is needed here. Do you alter your story
    to fit the data or do you cut bait and find another story? Reversing the process
    can be done but it’s a slippery slope. As a general rule, do not change your hypothesis
    to match your data.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你确定了故事和受众，你就需要继续进行旅程中最困难和不确定的部分：寻找数据。如果没有数据来支持你的故事，你的旅程将很快结束。假设你想讲述太阳黑子如何与北半球的帽子和手套销售相关的故事。令人惊讶的是，太阳黑子数据很容易获取。你已经有了这部分数据。然而，你只有关于帽子销售的细节，没有手套的数据。这里需要谨慎。你是改变你的故事以适应数据，还是放弃并找到另一个故事？反向过程是可行的，但这是一条很险的路。一般的规则是，不要改变你的假设来适应你的数据。
- en: 'Before you fully trust that data, you’ll need to vet it and start asking a
    lot of questions:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在你完全信任这些数据之前，你需要对其进行审核，并开始问很多问题：
- en: Is the source reputable? Did you scrape the data from a table on a website?
    What sources did that website use for the data, and how was it obtained? Sources
    such as Data.gov, ProPublica, the US Census Bureau, and GapMinder are trustworthy,
    but others might need a dash of caution.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 数据源是否可靠？你是从网站上的一个表中爬取数据吗？该网站使用了什么数据源，并且数据是如何获取的？像Data.gov、ProPublica、美国人口普查局和GapMinder这样的来源是可信的，但其他来源可能需要小心处理。
- en: Do you have too much data? Are there easily recognizable, worthless features?
    Look for features that are obviously precisely correlated. In the sunspot data
    mentioned earlier, perhaps you have a UTC timestamp feature and two other features
    for date and time. Either the date and time should be thrown out or the timestamp.
    You can quickly look at correlations using techniques we will discuss later to
    help you identify when two features are too closely correlated for both of them
    to be useful.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 你有太多数据吗？是否有易于识别的无用特征？寻找明显相关的特征。在前面提到的太阳黑子数据中，也许你有一个UTC时间戳特征和另外两个日期和时间的特征。要么日期和时间应该被抛弃，要么时间戳。我们稍后将讨论的技术可以帮助你快速查看相关性，以帮助你确定何时两个特征过于相关，两者都不再有用。
- en: Is the data complete? Use some preliminary data tools to make sure your data
    is not missing too much information. We’ll discuss this process in more detail
    later.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 数据是否完整？使用一些初步的数据工具确保你的数据没有太多遗漏的信息。我们稍后会详细讨论这个过程。
- en: With the story in place, the audience identified, and the data vetted, what’s
    next? You’re now ready for the art and fun of the story—identifying what tools
    to use to either support or reject your null hypothesis. To say you’re using “data
    science” as a tool is a slippery slope. You have advanced reporting, machine learning,
    and deep learning in your arsenal. Often, just the organization of the data into
    an easy-to-use dashboard tells the whole story. Nothing more needs to be done.
    As deflating as that has been in our careers, it has happened more times than
    any other scenario. We start the journey thinking that we have a case for a recursive
    neural network with either a gated recurrent unit or a long short-term memory
    module. And the excitement builds while we’re gathering the data. Then we realize
    a support vector machine or a simple regression would do just as well. Later,
    with not a little disappointment, we realize that a dashboard for users to explore
    the data is more than enough to tell the story. Not everything requires deep or
    even machine learning. Although it can often be entertaining, shoehorning your
    story into these paradigms often does not tell the story any better.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 故事已经定好，受众已确认，数据已审核，接下来怎么办？现在你准备好进行故事的艺术和乐趣了——确定使用什么工具来支持或拒绝你的零假设。说你在使用“数据科学”作为工具是一条很险的路。你有先进的报告、机器学习和深度学习在你的工具库中。通常，只需将数据组织成易于使用的仪表板，就能讲述整个故事。不需要再做更多。尽管这在我们的职业生涯中曾让我们沮丧过，但这种情况发生的次数比其他任何情况都多。我们开始旅程时认为我们有一个适用于递归神经网络的案例，其中有门控循环单元或长短期记忆模块。在收集数据时，兴奋感不断增加。然后我们意识到支持向量机或简单的回归也能胜任。后来，有些失望地意识到，为用户提供探索数据的仪表板已经足够讲述故事。并非所有情况都需要深度甚至机器学习。尽管这通常很有趣，但将你的故事硬套到这些范式中通常并不能更好地讲述故事。
- en: Finally, take a little time to learn a bit about the art of storytelling. Even
    our dry data science stories deserve some love and attention. Ira Glass is a fantastic
    storyteller. He has [a series of four short videos](https://www.youtube.com/watch?v=f6ezU57J8YI)
    on the art of storytelling. Watch them and sprinkle some of his sage advice into
    your story.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，花点时间学习一下讲故事的艺术。即使是我们干燥的数据科学故事也值得一些关注和关注。艾拉·格拉斯是一个了不起的讲故事者。他在讲述故事艺术方面有[一系列四段短视频](https://www.youtube.com/watch?v=f6ezU57J8YI)。观看它们，并将他的智慧建议融入到你的故事中。
- en: 'A Quick Look: Data Science for SAP Professionals'
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一个快速的观察：SAP专业人士的数据科学
- en: 'SAP professionals are busy every day supporting the business and users, constantly
    looking for process improvements. They gather requirements, configure or code
    in the SAP system, and, more often than not, live in the SAP GUI. They have intimate
    knowledge of the data within SAP as well as the business processes and can summon
    an army of transaction codes like incantations. When asked for a report with analytics,
    they really have two options: code the report in SAP or push the data to a data
    warehouse where someone else will generate the report. Both of these processes
    are typically long, resource-intensive endeavors that lead to frustration for
    the end user and the SAP professional. For one particular client, the biggest
    complaint from the SAP users was that by the time they actually got a requested
    report, it was no longer relevant.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: SAP专业人士每天都在忙于支持业务和用户，不断寻找流程改进。他们收集需求，在SAP系统中进行配置或编码，并且往往生活在SAP GUI中。他们对SAP内的数据以及业务流程有着深入的了解，并可以像念咒语一样召唤一大堆事务代码。当要求提供带有分析的报告时，他们确实有两个选择：在SAP中编写报告或将数据推送到数据仓库，由其他人生成报告。这两个过程通常是长期的、资源密集型的努力，给最终用户和SAP专业人员带来沮丧。
- en: Reading this book will help you—the SAP professional—build a bridge between
    the worlds of the business professional and the data scientist. Within these pages
    you will find ideas for getting out of the typical reporting and/or analytics
    methodology that has hitherto been so restrictive. As we discussed earlier, one
    of the first ways to do that is to simply *ask better questions*.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读本书将帮助你——作为SAP专业人士——在业务专业人士和数据科学家的世界之间架起一座桥梁。在这些页面中，你会找到一些打破以往受限制的典型报告和/或分析方法的想法。正如我们之前讨论的那样，做到这一点的首要方法之一就是*提出更好的问题*。
- en: 'Here’s a typical SAP scenario: Cindy works in Accounts Receivable. She needs
    a 30-60-90 day overdue report listing past due customers and putting them into
    buckets according to whether they are 30 days, 60 days, or 90 days past due. Sharon
    in Finance gets the request and knows that she can have a standard ALV (ABAP List
    Viewer) report created or can extract the data and push it to a business warehouse
    (BW) where they will generate a report using Microstrategy or whatever tools they
    have.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个典型的SAP场景：辛迪在应收账款部门工作。她需要一个30-60-90天逾期报告，列出逾期客户并根据逾期时间将其分组到30天、60天或90天逾期的桶中。财务部门的莎伦收到请求，她知道可以创建一个标准的ALV（ABAP列表查看器）报告，或者提取数据并将其推送到业务仓库（BW），在那里使用Microstrategy或其他工具生成报告。
- en: What if we shifted Sharon’s perspective to that of a data scientist? Sharon
    gets the report request. She knows she can deliver just what was requested, but
    then she thinks, “What more can be done?” She opens up a notepad and jots down
    some ideas.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将莎伦的视角转移到数据科学家的角度会怎样呢？莎伦收到报告请求。她知道她可以提供刚刚被请求的内容，但是她想：“还能做些什么？”她打开记事本，记下了一些想法。
- en: Are there repeat offenders in late payments?
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 是否存在拖欠付款的惯犯？
- en: Are there any interesting correlations in the data? We know the customer name,
    customer payment history, customer purchases, and dollar amount.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 数据中是否存在任何有趣的相关性？我们知道客户名称、客户付款历史、客户购买和金额。
- en: Can we predict when a person will be paying late? How late?
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 能预测一个人会延迟支付吗？延迟多久？
- en: Can we use this data to help *rate* our customers? Lower rated customers may
    not get an order when inventory is low and a higher rated customer also makes
    the same request.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用这些数据来帮助*评估*我们的客户吗？评级较低的客户在库存不足时可能无法下订单，而评级较高的客户则可以提出同样的请求。
- en: What types of visualizations would be helpful?
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 哪些可视化类型会有帮助？
- en: Sharon sketches out an interactive dashboard report that she thinks would be
    very useful for her users. Armed with these ideas and sketches, Sharon asks the
    department data scientist (or SAP developer) about the possibilities.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Sharon 概述了一个交互式仪表盘报告，她认为对用户非常有用。凭借这些想法和草图，Sharon 向部门数据科学家（或 SAP 开发人员）询问可能性。
- en: There is a distinctive difference in approaches here. The first is a typical
    SAP response, and limits the creative and intellectual capacity of the business
    analysts. The second leverages their creativity. Sharon won’t just provide the
    requested information. When she sees the data in SAP and asks better questions,
    she’ll be instrumental in substantial process improvements.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里存在明显的方法差异。第一种是典型的 SAP 响应，限制了业务分析师的创造力和智力能力。第二种则利用了他们的创造力。当 Sharon 在 SAP 中看到数据并提出更好的问题时，她将在实质性流程改进中发挥重要作用。
- en: This is just one example. Think of the possibilities with all the requests a
    typical SAP team gets, and hence this book!
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是一个例子。想象一下典型 SAP 团队接收到的所有请求及其可能性，因此这本书出现了！
- en: Another way to shift the thinking of the SAP team to be more dynamic and data
    centric is to *use better tools*. This is the responsibility of the SAP developer.
    Most SAP developers live in the world of its application programming language
    called ABAP (Advanced Business Application Programming), and when asked to provide
    reports or process improvements turn instantly to the SAP GUI or Eclipse. This
    is where they’re expected to spend time and deliver value.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种改变 SAP 团队思维，使其更加动态和数据中心化的方法是*使用更好的工具*。这是 SAP 开发人员的责任。大多数 SAP 开发人员生活在名为 ABAP（高级业务应用程序编程）的应用程序编程语言的世界中，当被要求提供报告或流程改进时，立即转向
    SAP GUI 或 Eclipse。这是他们被期望花费时间并提供价值的地方。
- en: Tip
  id: totrans-29
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: ABAP was originally *Allgemeiner Berichts-Aufbereitungs-Prozessor*. It’s a server-side
    language specially designed to extend the core functionality of SAP. You can create
    programs that display reports, run business transactions or ingest outside system
    data and integrate it into SAP. A great deal of SAP ERP transactions run solely
    on ABAP code.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ABAP 最初被称为*Allgemeiner Berichts-Aufbereitungs-Prozessor*。它是一种专门设计用于扩展 SAP 核心功能的服务器端语言。您可以创建显示报告、运行业务交易或接收外部系统数据并集成到
    SAP 中的程序。大量 SAP ERP 交易完全依赖 ABAP 代码运行。
- en: ABAP developers often specialize in one or more of the business functions that
    SAP provides. Since ABAP programs often directly enhance standard SAP features,
    ABAP developers become very familiar with how enterprises design their processes.
    It’s very common for people familiar with ABAP to perform both technical programming
    roles and business analyst roles.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ABAP 开发人员经常专注于 SAP 提供的一个或多个业务功能之一。由于 ABAP 程序经常直接增强标准 SAP 功能，ABAP 开发人员对企业如何设计其流程非常熟悉。熟悉
    ABAP 的人很常见同时承担技术编程角色和业务分析角色。
- en: Tip
  id: totrans-32
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'SAP developers, we implore you: view SAP as a data source. The presentation
    layer and logic layer of reports should be abstracted away from the database layer
    (see [Figure 1-1](#fig0101)). It is worth noting that SAP data is highly structured
    with strict business rules. One of the most obvious advantages to this approach
    is the logic layer has access to other sources of data, such as public data. Within
    an SAP system, if a request was made to view the correlations between sales of
    galoshes and weather patterns, the weather data from the NOAA would have to be
    brought into either BI or SAP itself. However, by using a tiered model the data
    can be accessed by the logic tier and presented in the presentation layer. Often
    the data may be an API, which allows for access without storage. This model also
    allows the logic tier to tie into tools like Azure Machine Learning Studio to
    perform machine or deep learning on the SAP data.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: SAP 开发人员，我们恳请您：将 SAP 视为数据源。报告的呈现层和逻辑层应该从数据库层抽象出来（见[图 1-1](#fig0101)）。值得注意的是，SAP
    数据具有高度结构化和严格的业务规则。采用这种方法的一个最明显的优势是逻辑层可以访问其他数据源，例如公共数据。在 SAP 系统内部，如果需要查看雨靴销售与天气模式之间的关联，NOAA
    的天气数据必须被带入 BI 或 SAP 本身。然而，通过使用分层模型，数据可以被逻辑层访问并在呈现层中呈现。通常情况下，数据可能是 API，允许在没有存储的情况下访问。这种模型还允许逻辑层与像
    Azure 机器学习工作室这样的工具进行绑定，对 SAP 数据执行机器学习或深度学习。
- en: '![](assets/pdss_01in01.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/pdss_01in01.png)'
- en: Figure 1-1\. A simple, layered approach to databases, logic, and presentation
    of data science findings
  id: totrans-35
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-1\. 数据科学发现的简单分层方法：数据库、逻辑和数据呈现
- en: 'SAP lacks the thousands of libraries in Python or the thousands of packages
    in R.^([1](ch01.html#idm46252725111528)) It also lacks the ability to easily create
    dynamic/interactive dashboards and visualizations. Don’t get us wrong: SAP does
    have tools to do advanced analytics, dashboards, and visualizations. It’s just
    that they cost a lot of money, effort, and time. Some places have lead times measured
    in months or quarters before reports can be created, and sometimes the window
    for a valid business question is measured in hours. With the tools in this book,
    we intend to close that gap. If you’re an SAP developer, we would strongly advise
    you to learn programming languages like Python and R so that you can use them
    to do your analytics on SAP data. Firstly, they are not limited to the SAP ecosystem
    and secondly, they are free.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: SAP缺乏Python中数以千计的库或R中数以千计的包。^[1](ch01.html#idm46252725111528) 它也缺乏轻松创建动态/交互式仪表盘和可视化的能力。不要误会：SAP确实有工具进行高级分析、仪表盘和可视化。只是这些工具成本高，需要大量时间和精力。有些地方需要几个月甚至几个季度才能创建报告，有时甚至有效的商业问题时间只有几小时。通过本书中的工具，我们打算弥补这一差距。如果你是SAP开发人员，我们强烈建议你学习Python和R等编程语言，以便用它们来对SAP数据进行分析。首先，它们不局限于SAP生态系统，其次，它们是免费的。
- en: Outside of SAP, there are numerous other tools to help SAP developers present
    their SAP data. You can use RMarkdown in R, Shiny in R, Jupyter Notebooks in Python,
    PowerBI, Tableau, Plotly...the list goes on. In this book we will provide presentation
    examples using PowerBI, RMarkdown, and Jupyter Notebooks.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 除了SAP之外，还有许多其他工具可帮助SAP开发人员展示其SAP数据。你可以在R中使用RMarkdown，在Python中使用Shiny和Jupyter
    Notebooks，还有PowerBI、Tableau、Plotly等等。在本书中，我们将使用PowerBI、RMarkdown和Jupyter Notebooks作为演示示例。
- en: 'A Quick Look: SAP Basics for Data Scientists'
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介：数据科学家的SAP基础知识
- en: 'The lack of awareness around SAP is often surprising considering its size and
    ubiquity. Here’s an amazing fact: 77% of the world’s transaction revenue is involved—in
    one way or another—with an SAP system. If you spend money, you have more than
    likely interacted with SAP. And 92% of the Forbes Global 2000 largest companies
    are SAP customers.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管SAP如此之大且无处不在，其缺乏广泛的认知常常令人惊讶。一个惊人的事实是：全球77%的交易收入以某种方式与SAP系统相关。如果你花钱，很可能你已经与SAP打过交道。而92%的《福布斯》全球2000强企业是SAP的客户。
- en: 'But how in the world does SAP software touch all that? What does it do? While
    in recent years SAP has acquired a number of SaaS (Software as a Service) companies
    to broaden its portfolio and make shareholders richer, it began with its core
    focus on ERP: enterprise resource planning.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 但是SAP软件究竟如何触及所有这些？它到底做了什么？近年来，SAP通过收购多家SaaS（软件即服务）公司来扩展其产品组合并使股东获益，但它最初的核心专注点是ERP：企业资源规划。
- en: 'SAP started in Germany in 1972 under the sexy moniker Systemanalyse und Programmentwicklung.
    Running under DOS on IBM servers, the first functionality was a back-office financial
    accounting package. Modules soon followed for purchasing, inventory management,
    and invoice verification. You can see the theme emerging: doing the common stuff
    that businesses need to do.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: SAP成立于1972年，最初被称为Systemanalyse und Programmentwicklung，源自德国。在IBM服务器上运行DOS系统，首个功能是一个后台财务会计软件包。很快，相继推出了采购、库存管理和发票验证模块。可以看出其主题：完成企业日常需求。
- en: 'That list of functionality may seem rather dull at first, especially to us
    cool hipster data scientists with Python modules and TensorWhatsits who know how
    to make a computer tell us that a picture has a dog (but not an airplane) in it.
    It’s not magic like searching Google or using Siri on your iPhone. But SAP added
    a twist to those first few boring modules: integration. Inventory management directly
    affected purchasing, which directly affected financials, which directly affected...well,
    everything. That single SAP ERP system contained all of these modules. Now, instead
    of having to purchase and run separate financial/inventory/invoicing systems,
    companies saved loads of money. When one system gave them all the answers to business
    questions, customers started buying in droves. That was the value and the win
    of ERP. By the time Gartner coined the term ERP in the 1990s, SAP was doing over
    a billion Deutsche marks in yearly sales.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 起初，这些功能列表可能看起来相当乏味，尤其对于我们这些拥有Python模块和TensorWhatsits的酷炫数据科学家来说，我们知道如何让计算机告诉我们图片中有狗（但没有飞机）。它不像搜索Google或者在iPhone上使用Siri那样神奇。但SAP在这些乏味的初始模块中添加了一个变数：集成。库存管理直接影响采购，采购直接影响财务，财务直接影响……嗯，一切。这一个SAP
    ERP系统包含了所有这些模块。现在，公司不再需要购买和运行单独的财务/库存/发票系统，从而节省了大量资金。当一个系统可以提供所有业务问题的答案时，客户开始大量购买。这就是ERP的价值和胜利。到了1990年代，当Gartner创造了ERP这个术语时，SAP的年销售额已经超过10亿德国马克。
- en: Note
  id: totrans-43
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Since such a high percentage of large companies around the world use SAP for
    so many business-critical functions, is it any wonder that so much business can
    be conducted inside it?
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 由于全球大多数大公司在如此多的业务关键功能中使用SAP，难怪如此多的业务可以在其中进行。
- en: Getting Data Out of SAP
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从SAP获取数据
- en: Like most large business applications, SAP ERP uses a relational database to
    house transactional and master data. It’s designed such that customers can choose
    from many relational database management systems (RDBMS) to function as the SAP
    application database. Microsoft SQL Server, IBM DB2, Oracle, and SAP’s MaxDB are
    all supported. In the last few years, SAP has rapidly introduced another proprietary
    database technology, HANA, as an RDBMS solution with in-memory technology. While
    future versions of SAP’s core ERP product will one day require HANA, most SAP
    installations today still use one of the other technologies as their database.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 像大多数大型商业应用程序一样，SAP ERP使用关系数据库来存储事务数据和主数据。它设计得让客户可以从多种关系数据库管理系统（RDBMS）中选择作为SAP应用程序数据库。Microsoft
    SQL Server、IBM DB2、Oracle和SAP的MaxDB都得到支持。在过去几年中，SAP迅速引入了另一种专有的数据库技术——HANA，作为一种具有内存技术的关系数据库管理系统解决方案。虽然未来版本的SAP核心ERP产品有朝一日将要求使用HANA，但今天大多数的SAP安装仍然使用其他技术作为其数据库。
- en: Tip
  id: totrans-47
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: In this book, we will introduce several ways of getting data out of your SAP
    system, none of which will require you to know exactly which DB your SAP system
    runs on. But if you’re a true nerd, you’ll find out anyway.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将介绍几种从你的SAP系统中提取数据的方法，这些方法都不需要你准确地知道你的SAP系统运行在哪种数据库上。但是如果你是一个真正的极客，你最终还是会弄清楚的。
- en: The relational databases that power the SAP instances at your company are huge
    and full of transactional and master data. They fully describe the shape of the
    vital business information stored and processed by SAP. The databases at the heart
    of your SAP systems are the source of truth for the discoveries you can make.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在你公司的SAP实例中驱动关系数据库都是巨大且充满了事务和主数据。它们完全描述了由SAP存储和处理的关键业务信息的形状。你的SAP系统核心的数据库是你可以进行发现的真实来源。
- en: And unless it’s your absolute last resort, you should never directly connect
    to them.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 除非它是你的绝对最后选择，否则你永远不应该直接连接它们。
- en: All right, we’re being a little facetious here. You will find valid times to
    directly query data from the SAP databases with SQL statements. But the sheer
    size and incredible complexity of the data model make it so that fully understanding
    the structure of a simple sales order can involve over 40 tables and 1000+ fields.
    Even SAP black belts have difficulty remembering all the various tables and fields
    they need to use, so imagine how inefficient it would be for a data scientist
    who is new to SAP to unpack all the various bits of requisite data.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，我们在这里有点在开玩笑。你会找到合适的时机通过SQL语句直接从SAP数据库查询数据。但是数据模型的巨大规模和难以置信的复杂性使得完全理解一个简单的销售订单的结构可能涉及超过40个表和1000多个字段。即使是SAP的黑带也很难记住所有他们需要使用的各种表和字段，所以想象一下对于一个刚接触SAP的数据科学家来说，解开所有这些必要数据的各种要素会是多么低效。
- en: 'BAPIs: Using the NetWeaver RFC Library'
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: BAPIs：使用NetWeaver RFC库
- en: Data nerds who don’t know SAP that well should start by examining the available
    Business Application Programming Interfaces (BAPIs) in the SAP system. BAPIs are
    remote-callable functions provided by SAP that expose the data in various business
    information documents. Instead of figuring out which of the 40+ sales order tables
    apply to your particular data question, you can look at the structure of various
    sales order BAPIs and determine if they fill that gap. The trouble of reverse
    engineering the data model is gone.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 数据爱好者们，如果对SAP不太熟悉，应该从检查SAP系统中可用的业务应用程序接口（BAPIs）开始。BAPIs是由SAP提供的远程调用函数，用于公开各种业务信息文档中的数据。不必去弄清楚40多个销售订单表中哪些适用于你的特定数据问题，可以查看各种销售订单BAPIs的结构，确定它们是否填补了这个空缺。逆向工程数据模型的麻烦不复存在。
- en: BAPIs also help by covering over system limitations from earlier versions. During
    the early period of SAP’s core product development, the various modules restricted
    the number of characters that could denote a table or field. With SAP’s remarkable
    stability over the years, those table and field names have stuck around. Without
    living inside SAP, how could you possibly know that “LIKP” and “VBELN” have anything
    to do with delivery data? BAPIs are a later addition, so they have grown up with
    interfaces that better describe their shape and function.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: BAPIs还通过覆盖早期版本中的系统限制来提供帮助。在SAP核心产品开发的早期阶段，各种模块限制了可以表示表或字段的字符数。多年来，随着SAP的显著稳定性，这些表和字段名称一直保留下来。如果不在SAP内部工作，你怎么可能知道“LIKP”和“VBELN”与交货数据有关？BAPIs是后来的补充，因此它们已经通过更好地描述其形状和功能的接口成长起来。
- en: OData
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: OData
- en: SAP NetWeaver Gateway represents one of SAP’s many ways of breaking into the
    modern web era. It’s an SAP module—in some cases running enough of its own stuff
    to be worth a separate system—that allows SAP developers to quickly and easily
    establish HTTP connections to SAP backend business data. We predict that you’ll
    see examples of using SAP NetWeaver Gateway in [Chapter 6](ch06.html#predictive_analytics_in_r_and_python).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: SAP NetWeaver Gateway代表SAP进入现代Web时代的许多方式之一。它是一个SAP模块，在某些情况下运行足够自己的东西以至于值得作为一个独立系统，允许SAP开发人员快速轻松地建立HTTP连接到SAP后端业务数据。我们预测你将在[第6章](ch06.html#predictive_analytics_in_r_and_python)看到使用SAP
    NetWeaver Gateway的例子。
- en: The foundational layer of transport is known as OData. OData represents many
    tech companies coming together to put forward a standard way of communicating
    over the web via RESTful APIs. It provides a common format for data going over
    the web using either XML or JSON, ways for clients to indicate the basic create/read/update/delete
    operations for server data, and an XML-based method for servers to specify to
    clients exactly the fields, structure, and options for interacting with data that
    the servers provide via metadata.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 运输的基础层称为OData。OData代表许多技术公司联合起来通过RESTful API在Web上进行通信的一种标准方式。它提供了一个通用的数据格式，使用XML或JSON通过Web传输数据的方式，为客户端指示基本的创建/读取/更新/删除操作，并通过基于XML的方法让服务器指定与数据交互时提供的字段、结构和选项的元数据。
- en: 'Using OData through SAP NetWeaver Gateway requires programming in SAP’s native
    backend language, ABAP. Some of our SAP-native readers may be well versed in this
    language and can produce Gateway OData APIs. Other readers will likely be unfamiliar,
    but should take solace: if your company runs SAP in any meaningful way, your company
    will have people who know ABAP. These people will either know how to create OData
    services, or will be able to quickly learn since it’s not difficult.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 通过SAP NetWeaver Gateway使用OData需要使用SAP的原生后端语言ABAP进行编程。我们一些熟悉这种语言的SAP原生读者可以生成Gateway
    OData API。其他读者可能不熟悉，但可以放心：如果你的公司在任何有意义的方式上运行SAP，公司内会有了解ABAP的人员。这些人要么知道如何创建OData服务，要么能够快速学习，因为这并不难。
- en: 'Choose OData when you can’t find a BAPI that meets your data needs. It’s a
    great middle ground that provides SAP administrators with the flexibility to meter
    and monitor its usage. It also gives developers the ability to put together data
    in any way they choose. Another benefit of using OData is that it doesn’t require
    a NetWeaver connector like the BAPI method: any device that can make HTTP requests
    safely inside the corporate network will be able to make OData requests.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 当您找不到满足数据需求的BAPI时，请选择OData。这是一个很好的中间地带，为SAP管理员提供了灵活性来计量和监控其使用情况。它还赋予开发人员以任意方式组合数据的能力。使用OData的另一个好处是，它不像BAPI方法那样需要NetWeaver连接器：任何能够在企业网络内安全进行HTTP请求的设备都能够进行OData请求。
- en: Other ways to get data
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 获取数据的其他方法
- en: If you can’t find the right BAPI and you can’t find the resources to make an
    OData service, there are always a few other routes you can take. We’ll cover those
    more briefly, since they aren’t things we typically recommend.^([2](ch01.html#idm46252725050632))
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您找不到合适的BAPI，并且找不到资源来制作OData服务，总是还有几条其他路线可供选择。由于这些通常不是我们推荐的事项，我们将简要涵盖它们。
- en: Web services
  id: totrans-62
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Web服务
- en: SAP allows you to create web services based on its Internet Communication Manager
    (ICM) layer. These web services allow you to work even more flexibly than OData,
    but they still require ABAP knowledge. The space between OData with Gateway and
    a totally custom SAP web service is small—consider carefully whether your data
    question can’t be answered with OData.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: SAP允许您基于其Internet Communication Manager (ICM)层创建Web服务。这些Web服务使您比OData更灵活地工作，但仍需要ABAP知识。介于Gateway和完全自定义的SAP
    Web服务之间的空间很小，请仔细考虑您的数据问题是否无法通过OData来回答。
- en: Direct database access
  id: totrans-64
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 直接数据库访问
- en: Everyone says you shouldn’t, but we’ve all also encountered one or two times
    when it was the only thing that would work. If you need to go this route, a key
    task will be ensuring that the data you extract matches up with what SAP provides
    on the screen to end users. Many times there are hidden input/output conversions
    and layers of data modeling that don’t become apparent when just browsing through
    a data model.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 每个人都说你不应该这样做，但我们也都遇到过一两次这是唯一行得通的情况。如果您必须选择这条路线，一个关键任务将是确保您提取的数据与SAP向最终用户提供的数据匹配。许多时候，隐藏的输入/输出转换和数据建模层不会在仅通过数据模型浏览时显现出来。
- en: Seriously. Picking directly from an SAP database is like driving a Formula One
    car with brake problems. You’ll get where you need to go really fast, but you’ll
    probably smash into a wall or two on the way.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 严肃地说，直接从SAP数据库中选择数据就像是驾驶一辆有刹车问题的方程式赛车。你会快速到达目的地，但可能在路上撞上一两堵墙。
- en: Screen dumps to Excel
  id: totrans-67
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 将屏幕截图导出到Excel
- en: Sometimes an end user will know exactly which screen has the right data for
    them. Many times this screen will have a mechanism for exporting data to Excel.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，最终用户会准确地知道哪个屏幕上有他们需要的数据。许多时候，这个屏幕会有一种机制，可以将数据导出到Excel中。
- en: Roles and Responsibilities
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 角色和责任
- en: Data science combines a range of skill sets. These often include statistics,
    programming, machine learning, analysis, architecture, and engineering. Many blogs
    and posts online discuss the differences between data science roles. There are
    innumerable job titles and delineations. One camp defines roles into data analysts,
    data engineers, data architects, data scientists, and data generalists. Other
    groups have their own delineations.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学结合了各种技能集。这些技能通常包括统计学、编程、机器学习、分析、架构和工程。许多博客和在线帖子讨论数据科学角色之间的差异。有无数的职位标题和界定。一个阵营将角色定义为数据分析师、数据工程师、数据架构师、数据科学家和数据通用角色。其他组织有他们自己的划分。
- en: Readers should understand something very important. Unless you are at a very
    large company with a data science team, you will be lucky to have one person on
    your team with some of these skills. These job delineations exist in theory for
    all, but in practice for only a small percentage. Be prepared to wear many hats.
    If you apply some of these forays into data science at your company, be prepared
    to do the work yourself. Don’t have a SQL database and want to extract and store
    some SAP data? We’ll introduce this. Want to automate a workflow for extraction?
    Here you go. Everything from the SAP data to the presentation layer will be covered.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 读者应该明白一件非常重要的事情。除非你在一个非常大的公司并且拥有一个数据科学团队，否则你很幸运能有一个人拥有这些技能。这些职位划分在理论上存在于所有人，但实际上只有少部分人。准备好做很多事情。如果你在公司应用了一些数据科学的尝试，准备好自己动手。没有
    SQL 数据库想要提取和存储一些 SAP 数据？我们来介绍一下。想要自动化工作流程以进行数据提取？这里给你。从 SAP 数据到呈现层，我们将涵盖所有内容。
- en: 'Our intention is clear: we want to create citizen data scientists who understand
    what it takes to make data science work at their organizations. You may not have
    any resources to help you, and you may get resistance when you ask for some of
    these things. Often, you must prove your theory before someone helps. We understand
    that the roles and responsibilities are not well defined. We hope to give you
    an overview of the landscape. If you’re reading this book, you’ve already rolled
    up your sleeves and are ready to do everything from building SQL databases to
    presenting machine learning results in PowerBI.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的意图很明确：我们希望培养懂得如何在他们的组织中进行数据科学工作的公民数据科学家。你可能没有任何资源来帮助你，当你请求这些资源时可能会遇到阻力。通常情况下，你必须在得到帮助之前证明你的理论。我们理解角色和责任并没有很好地定义。我们希望给你一个概览。如果你正在阅读本书，那么你已经卷起袖子准备做从构建
    SQL 数据库到在 PowerBI 中呈现机器学习结果的所有事情。
- en: Summary
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'A huge part of getting value is communicating it. We went over how to tell
    great stories with the data you find in SAP: identify your story, find the audience,
    discover the data, and apply rigorous tooling to that discovered data. Sometimes
    all it takes to communicate the story is one simple graph. Other times it may
    require detailed lists of results. But no matter what visual method conveys your
    findings, be prepared to tell a story with it.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 获取价值的一个重要部分是进行沟通。我们讨论了如何使用在 SAP 中找到的数据讲述精彩故事：确认你的故事，找到受众，发现数据，并对这些发现的数据应用严格的工具。有时，仅仅需要一个简单的图表来传达故事。其他时候可能需要详细的结果列表。但无论用什么视觉方法来传达你的发现，都要准备好用它来讲故事。
- en: SAP professionals looking to tell stories about their data should look at tools
    such as programming languages like Python and R, and visualization tools like
    Tableau and Power BI. Look at [Chapter 2](ch02.html#ch02) to dive deeper.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 想要讲述关于他们数据的故事的 SAP 专业人员应该看看像 Python 和 R 这样的编程语言，以及 Tableau 和 Power BI 这样的可视化工具。深入了解请参考[第二章](ch02.html#ch02)。
- en: Data scientists looking to discover what’s in SAP should look at ways of getting
    that data out. BAPIs provide a function-based approach to retrieving data, OData
    sets up repeatable and predictable HTTP services, and you can always dump screen
    data to Excel or directly query the SAP database as a last resort. Look at [Chapter 3](ch03.html#ch03)
    to find out more.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 想要发现 SAP 中有什么的数据科学家应该看看获取这些数据的方法。BAPI 提供了一种基于功能的数据检索方法，OData 设置了可重复和可预测的 HTTP
    服务，作为最后的手段，你总是可以将屏幕数据导出到 Excel 或直接查询 SAP 数据库。详细内容请参考[第三章](ch03.html#ch03)。
- en: We want you to get the most out of the SAP data that’s ripe for the picking
    in your enterprise, and the best way to get value out of raw data is by applying
    data science principles. This book will show you how to marry the world of SAP
    with the world of data science.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望你能充分利用企业中可供挖掘的 SAP 数据，并且从原始数据中获取价值的最佳方式是应用数据科学原理。本书将向你展示如何将 SAP 的世界与数据科学的世界结合起来。
- en: ^([1](ch01.html#idm46252725111528-marker)) For a taste of how expansive the
    R package landscape is, see [this blog post](http://bit.ly/2kIobHy) for perspective
    on package list growth and search strategies for finding the right ones.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch01.html#idm46252725111528-marker)) 想要体验 R 软件包领域有多广阔，可以看看[这篇博客文章](http://bit.ly/2kIobHy)，了解软件包列表的增长和寻找合适软件包的搜索策略。
- en: ^([2](ch01.html#idm46252725050632-marker)) However, this book couldn’t be called
    “Practical” if we didn’t acknowledge that the worst hacks and ill-advised duct-tape
    solutions make up at least 50% of any real-world environment.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch01.html#idm46252725050632-marker)) 但是，如果我们不承认最糟糕的黑客和不明智的胶带解决方案至少占据了任何真实环境的50%，那么这本书就不能被称为“实用”。
