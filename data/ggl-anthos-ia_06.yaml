- en: 6 Bringing it all together
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6 将所有内容整合
- en: Onofrio Petragallo
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Onofrio Petragallo
- en: This chapter covers
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: How Anthos components provide a unique and powerful developer experience
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthos 组件如何提供独特且强大的开发者体验
- en: Deploying applications using different Anthos offerings
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不同的 Anthos 产品部署应用程序
- en: Using policy enforcement for management and consistency
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用策略执行进行管理和一致性
- en: Using Anthos Service Mesh to observe and secure applications
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Anthos Service Mesh 观察和保障应用程序
- en: As we have seen in the previous chapters, Anthos is a modern application platform
    that provides a consistent development and operations experience for cloud and
    hybrid environments. In this chapter, you will get an overview of the main layers
    of the platform and the main functionalities. Figure 6.1 illustrates the Anthos
    components and features and how they provide Anthos’s functionality across your
    environments, from infrastructure management to supporting application development.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前面的章节中看到的，Anthos 是一个现代应用程序平台，为云和混合环境提供一致的开发和运营体验。在本章中，您将了解平台的主要层和主要功能。图
    6.1 展示了 Anthos 组件和功能以及它们如何跨越您的环境提供 Anthos 的功能，从基础设施管理到支持应用程序开发。
- en: '![06-01](../../OEBPS/Images/06-01.png)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![06-01](../../OEBPS/Images/06-01.png)'
- en: Figure 6.1 Anthos components and features
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.1 Anthos 组件和功能
- en: 6.1 Application development
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.1 应用程序开发
- en: 'For the developer, Anthos provides a state-of-the-art container management
    platform based on Kubernetes. Developers can use this platform to quickly and
    easily build and deploy existing container-based applications and microservices-based
    architectures. The key benefits to developers include the following:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 对于开发者来说，Anthos 提供了一个基于 Kubernetes 的最先进的容器管理平台。开发者可以使用这个平台快速轻松地构建和部署现有的基于容器的应用程序和基于微服务的架构。对开发者而言的关键好处包括以下内容：
- en: Git-compliant management and CI/CD workflows for configuration as well as code,
    using Anthos Config Management
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Anthos Config Management 进行配置以及代码的 Git 兼容管理和 CI/CD 工作流程
- en: A code-free abstraction layer, using Anthos Service Mesh and Cloud Monitoring
    and Cloud Logging to provide uniform observability
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Anthos Service Mesh 和 Cloud Monitoring 以及 Cloud Logging 提供的无代码抽象层，以实现统一的可观察性
- en: Code-free protection of services, using mTLS and throttling
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 mTLS 和节流提供无代码的服务保护
- en: 'Developers can develop modern applications using the IDEs they prefer: for
    example, they can use IntelliJ ([https://www.jetbrains.com/idea/](https://www.jetbrains.com/idea/))
    or Visual Studio Code for the implementation of cloud native applications that
    can run on Anthos.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 开发者可以使用他们偏好的 IDE 开发现代应用程序：例如，他们可以使用 IntelliJ ([https://www.jetbrains.com/idea/](https://www.jetbrains.com/idea/))
    或 Visual Studio Code 来实现可在 Anthos 上运行的云原生应用程序。
- en: 'Google Cloud provides Cloud Code ([https://cloud.google.com/code](https://cloud.google.com/code)),
    which is a plug-in for IntelliJ, Visual Studio Code, and Google Cloud Shell that
    allows you to obtain a Kubernetes development and debugging environment fully
    integrated with the IDE. Thanks to Cloud Code, you can create and manage clusters
    directly from the IDE, and you can deploy your code in an Anthos cluster or Cloud
    Run for Anthos in a few clicks. You can also do the following:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Google Cloud 提供了 Cloud Code ([https://cloud.google.com/code](https://cloud.google.com/code))，这是一个
    IntelliJ、Visual Studio Code 和 Google Cloud Shell 的插件，允许您获得一个与 IDE 完全集成的 Kubernetes
    开发和调试环境。得益于 Cloud Code，您可以直接从 IDE 中创建和管理集群，并且可以轻点几下将代码部署到 Anthos 集群或 Cloud Run
    for Anthos。您还可以执行以下操作：
- en: Debug the code within your IDEs using Cloud Code, taking advantage of built-in
    IDE debugging features
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Cloud Code 在 IDE 中调试代码，利用内置的 IDE 调试功能
- en: 'View underlying resources and metadata for your Kubernetes clusters and Cloud
    Run services. You’re a click away from acting on these resources: you can fetch
    a description, view logs, manage secrets, or get a terminal directly into a Pod.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看您的 Kubernetes 集群和 Cloud Run 服务的底层资源和元数据。您只需点击一下即可对这些资源采取行动：您可以获取描述、查看日志、管理密钥或直接进入
    Pod 的终端。
- en: While interacting with Google Cloud configuration files, get out-of-the-box
    support for IDE features including code completion, inline documentation, linting,
    and snippets.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与 Google Cloud 配置文件交互时，IDE 特性包括代码补全、内联文档、代码检查和代码片段的即插即用支持。
- en: Under the covers, Cloud Code for IDEs uses popular tools such as Skaffold ([https://skaffold.dev/](https://skaffold.dev/)),
    Jib ([https://github.com/GoogleContainerTools/jib](https://github.com/GoogleContainerTools/jib)),
    and kubectl ([http://mng.bz/Nm9X](http://mng.bz/Nm9X)) to provide continuous feedback
    on your code in real time.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在底层，IDE的Cloud Code使用流行的工具，如Skaffold([https://skaffold.dev/](https://skaffold.dev/))、Jib([https://github.com/GoogleContainerTools/jib](https://github.com/GoogleContainerTools/jib))和kubectl([http://mng.bz/Nm9X](http://mng.bz/Nm9X))，以实时提供关于您代码的持续反馈。
- en: 6.2 Application deployment
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.2 应用程序部署
- en: Once your application has been developed, you can reuse your favorite CI/CD
    tools for full application testing and deployment. Google Cloud provides several
    cloud native tools that allow you to speed up the build, test, and release applications.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的应用程序开发完成，您可以为全面的应用程序测试和部署重用您喜欢的CI/CD工具。Google Cloud提供了一些云原生工具，允许您加快构建、测试和发布应用程序的速度。
- en: 6.2.1 Cloud Source Repositories
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.2.1 Cloud Source Repositories
- en: Cloud Source Repositories are Git repositories managed by Google (see [https://cloud.google.com/source-repositories](https://cloud.google.com/source-repositories)).
    Git ([https://git-scm.com](https://git-scm.com)*)* is a free, open source, distributed
    version-control system designed to handle everything from small to very large
    projects with speed and efficiency. With Cloud Source Repositories, you get free
    access to unlimited private repositories to organize your code the way you want.
    Mirror code from GitHub or Bitbucket repositories to use powerful code search,
    code exploration, and diagnostics.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud Source Repositories是由Google管理的Git仓库（见[https://cloud.google.com/source-repositories](https://cloud.google.com/source-repositories)）。Git([https://git-scm.com](https://git-scm.com)*)是一个免费、开源、分布式版本控制系统，旨在以速度和效率处理从小到非常大的项目。使用Cloud
    Source Repositories，您可以免费访问无限数量的私有仓库，以您想要的方式组织代码。将GitHub或Bitbucket仓库的代码镜像到此处，以使用强大的代码搜索、代码探索和诊断功能。
- en: Figure 6.2 shows the first page of the Google Cloud console, where we can select
    to create a new repository or connect an existing one.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.2显示了Google Cloud控制台的第一页，我们可以选择创建一个新的仓库或连接现有的一个。
- en: '![06-02](../../OEBPS/Images/06-02.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![06-02](../../OEBPS/Images/06-02.png)'
- en: Figure 6.2 Connection of an existing Git repository from the Google Cloud console
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.2 从Google Cloud控制台连接现有的Git仓库
- en: Assuming we would like to create a new repository, figure 6.3 shows the list
    view of the Git repository inside the project “onofrio.” “hello-world” is the
    new Git repository created inside the project.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们想要创建一个新的仓库，图6.3显示了项目“onofrio”内Git仓库的列表视图。“hello-world”是在项目内部创建的新Git仓库。
- en: '![06-03](../../OEBPS/Images/06-03.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![06-03](../../OEBPS/Images/06-03.png)'
- en: Figure 6.3 List of Git repositories
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.3 Git仓库列表
- en: Figure 6.4 shows the content of the new repository, the example.py file.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4显示新仓库的内容，示例.py文件。
- en: '![06-04](../../OEBPS/Images/06-04.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![06-04](../../OEBPS/Images/06-04.png)'
- en: Figure 6.4 Repository root view
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4 仓库根视图
- en: If we click the single file, we can see the content of the file, as shown in
    figure 6.5.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们点击单个文件，我们可以看到文件的内容，如图6.5所示。
- en: '![06-05](../../OEBPS/Images/06-05.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![06-05](../../OEBPS/Images/06-05.png)'
- en: Figure 6.5 File content view
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.5 文件内容视图
- en: With Cloud Source Repositories, you get feedback on code changes quickly with
    built-in integrations for continuous integration. You can easily configure triggers
    to automatically build and test with Cloud Build when you push changes to Cloud
    Source Repositories.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Cloud Source Repositories，您可以通过内置的持续集成集成快速获得代码更改的反馈。当您将更改推送到Cloud Source Repositories时，您可以轻松配置触发器，以自动使用Cloud
    Build进行构建和测试。
- en: '![06-06](../../OEBPS/Images/06-06.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![06-06](../../OEBPS/Images/06-06.png)'
- en: Figure 6.6 File search with regex
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6 使用正则表达式的文件搜索
- en: You can also use powerful regular expressions to search across multiple directories,
    as displayed in figure 6.6\. Regular expressions (regex) allow you to refine your
    search or perform a single targeted search across projects, files, and code repositories.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用强大的正则表达式在多个目录中进行搜索，如图6.6所示。正则表达式（regex）允许您细化您的搜索或在项目、文件和代码仓库中进行单一的目标搜索。
- en: 6.2.2 Cloud Build
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.2.2 Cloud Build
- en: Cloud Build ([https://cloud.google.com/build](https://cloud.google.com/build)*)*
    is a service that runs your builds on Google Cloud Platform infrastructure. Cloud
    Build can import source code from a variety of repositories or cloud storage spaces,
    build to your specifications, and produce artifacts such as Docker containers
    or Java Archives. With Cloud Build, you access connected machines via Google’s
    global network to significantly reduce the build time of your applications. You
    can run builds on high CPU VMs or cache source code, images, or other dependencies
    to further increase build speed. Figure 6.7 shows the history of a build in Cloud
    Build.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud Build ([https://cloud.google.com/build](https://cloud.google.com/build)*)*
    是一种在Google Cloud Platform基础设施上运行构建的服务。Cloud Build可以从各种仓库或云存储空间导入源代码，按照您的规格进行构建，并生成如Docker容器或Java存档等工件。使用Cloud
    Build，您可以通过Google的全球网络访问连接的机器，从而显著减少应用程序的构建时间。您可以在高CPU虚拟机上运行构建，或缓存源代码、镜像或其他依赖项，以进一步提高构建速度。图6.7显示了Cloud
    Build中的构建历史。
- en: '![06-07](../../OEBPS/Images/06-07.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![06-07](../../OEBPS/Images/06-07.png)'
- en: Figure 6.7 History of a build
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.7 构建历史
- en: The process of pulling requests from the Git repository for building, testing,
    and deployment is easy. You can set up a trigger on the Google Cloud console to
    automatically create, test, or deploy source code when you push changes to a Cloud
    Source repository, Bitbucket, or GitHub. Figure 6.8 shows how to integrate Cloud
    Build with an existing Cloud Source repository. Inside the dashboard, you can
    find all the Git repositories on Cloud Source Repositories. You can create a trigger
    by clicking Add Trigger, as shown in figure 6.8.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 从Git仓库拉取请求进行构建、测试和部署的过程很简单。您可以在Google Cloud控制台上设置一个触发器，当您将更改推送到Cloud Source
    repository、Bitbucket或GitHub时，自动创建、测试或部署源代码。图6.8显示了如何将Cloud Build与现有的Cloud Source
    repository集成。在仪表板中，您可以找到Cloud Source Repositories上的所有Git仓库。您可以通过点击“添加触发器”来创建一个触发器，如图6.8所示。
- en: '![06-08](../../OEBPS/Images/06-08.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![06-08](../../OEBPS/Images/06-08.png)'
- en: Figure 6.8 Adding a trigger from an existing repository
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.8 从现有仓库添加触发器
- en: After selecting the repository, you can create a trigger that will build the
    software. As shown in figure 6.9, the trigger with the tag “prod” will build each
    time a push is done in the repository.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择仓库后，您可以创建一个触发器来构建软件。如图6.9所示，带有“prod”标签的触发器将在仓库中进行推送操作时构建。
- en: '![06-09](../../OEBPS/Images/06-09.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![06-09](../../OEBPS/Images/06-09.png)'
- en: Figure 6.9 Trigger configuration
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.9 触发器配置
- en: For each build, you can see the details of the execution with all the logs,
    as illustrated in figure 6.10.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个构建，您都可以看到所有日志的执行详情，如图6.10所示。
- en: '![06-10](../../OEBPS/Images/06-10.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![06-10](../../OEBPS/Images/06-10.png)'
- en: Figure 6.10 Build execution details
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.10 构建执行详情
- en: Cloud Build helps you secure your containers by allowing you to identify package
    vulnerabilities. You can automatically run package vulnerability scans for Ubuntu,
    Debian, and Alpine.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud Build通过允许您识别软件包漏洞来帮助您保护容器。您可以为Ubuntu、Debian和Alpine自动运行软件包漏洞扫描。
- en: Once you’ve built your containerized application, you can deploy to multiple
    clouds via Anthos as part of your CI/CD pipeline. Cloud Build includes builder
    images with languages and tools already installed.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦构建了容器化应用程序，您可以通过Anthos将其部署到多个云平台，作为CI/CD管道的一部分。Cloud Build包含预装了语言和工具的构建器镜像。
- en: You can also run builds locally on your development machine before sending them
    to Cloud Build. You build and debug on the local machine with the local open source
    builder.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在将构建任务发送到Cloud Build之前，您也可以在开发机器上本地运行构建。您可以在本地机器上使用本地开源构建器进行构建和调试。
- en: 6.2.3 Artifact Registry
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.2.3 艺术品注册库
- en: Once you’ve built your containerized application, Artifact Registry ([https://cloud.google.com/artifact-registry](https://cloud.google.com/artifact-registry)*)*
    offers a single location from which your team can manage Docker images, perform
    vulnerability scans, and decide who has access to what with granular access control.
    You can automatically create and push images to the private registry when you
    commit code to Cloud Source Repositories, GitHub, or Bitbucket.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦构建了容器化应用程序，Artifact Registry ([https://cloud.google.com/artifact-registry](https://cloud.google.com/artifact-registry)*)*
    提供了一个单一的位置，您的团队可以从这里管理Docker镜像，执行漏洞扫描，并使用细粒度访问控制来决定谁可以访问什么。当您将代码提交到Cloud Source
    Repositories、GitHub或Bitbucket时，您可以自动创建和推送镜像到私有仓库。
- en: 'Artifact Registry allows you to scan Docker containers for package vulnerabilities
    in Linux distributions. You can also add and remove image tags with a single click
    in the Google Cloud console web interface, as well as perform the following tasks:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Artifact Registry 允许您在 Linux 发行版中扫描 Docker 容器中的软件包漏洞。您还可以在 Google Cloud 控制台
    Web 界面中通过单点点击添加和删除镜像标签，以及执行以下任务：
- en: Create triggers to automatically save your builds
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建触发器以自动保存您的构建
- en: Create containers based on code or tag changes in a repository
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于代码或存储库中的标签更改创建容器
- en: Search all previous builds from the Google Cloud console
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 Google Cloud 控制台搜索所有以前的构建
- en: View information about a build, such as trigger, source, steps, and logs
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看有关构建的信息，例如触发器、来源、步骤和日志
- en: 6.2.4 Google Cloud Marketplace
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.2.4 Google Cloud 市场place
- en: In addition to applications developed by you, you can deploy ready-to-market
    applications that Google partners and vendors make available on Google Cloud Marketplace
    ([https://cloud.google.com/marketplace](https://cloud.google.com/marketplace)*).*
    You can find integrated solutions reviewed by Google Cloud to meet all your IT
    needs. Thanks to the tight integration with Anthos, you can choose solutions and
    applications that can be deployed on-prem and multicloud. Using the Google Cloud
    Marketplace allows you to speed up the acquisition process for you and your teams.
    You can make purchases without needing an internal vendor review if Google is
    already one of your preferred partners. You can build a scalable and repeatable
    procurement process with deployments integrated with Google Cloud without having
    to contact the product vendor separately. All the details relating to the deployment
    modalities of containerized and ready-to-use applications and solutions for Anthos
    can be found in chapter 14.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 除了您开发的应用程序外，您还可以部署由 Google 合作伙伴和供应商在 Google Cloud Marketplace 上提供的现成市场应用程序([https://cloud.google.com/marketplace](https://cloud.google.com/marketplace)*)。您可以在
    Google Cloud 上找到经过 Google Cloud 审查的集成解决方案，以满足您所有的 IT 需求。得益于与 Anthos 的紧密集成，您可以选择可以在本地和多云环境中部署的解决方案和应用程序。使用
    Google Cloud Marketplace 可以加快您和您的团队获取解决方案的过程。如果 Google 已经是您的首选合作伙伴之一，您可以在无需联系产品供应商的情况下进行购买。您可以通过与
    Google Cloud 集成部署来构建可扩展和可重复的采购流程，而无需单独联系产品供应商。有关 Anthos 的容器化和现成应用程序及解决方案的部署方式的所有详细信息，请参阅第
    14 章。
- en: 6.2.5 Migrate for Anthos
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.2.5 为 Anthos 迁移
- en: If you already have an application running in VM on-prem or in another cloud
    and you want it to be deployed on Anthos, you can take advantage of the exclusive
    Migrate for Anthos technology ([https://cloud.google.com/migrate/anthos](https://cloud.google.com/migrate/anthos)*)*.
    Migrate for Anthos simplifies and speeds up the modernization of traditional applications
    by allowing them to be moved from virtual machines to native containers. This
    unique automated approach allows you to extract critical application elements
    from the VM so you can easily place them in containers in Google Kubernetes Engine
    or an Anthos cluster. The details of Migrate for Anthos can be found in chapter
    15.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经在本地或另一个云中的虚拟机上运行应用程序，并且希望将其部署到 Anthos 上，您可以利用专属的 Migrate for Anthos 技术([https://cloud.google.com/migrate/anthos](https://cloud.google.com/migrate/anthos)*)*.
    Migrate for Anthos 通过允许应用程序从虚拟机迁移到原生容器来简化并加快传统应用程序的现代化。这种独特的自动化方法允许您从虚拟机中提取关键应用程序元素，以便您可以将它们轻松地放置在
    Google Kubernetes Engine 或 Anthos 集群中的容器中。Migrate for Anthos 的详细信息请参阅第 15 章。
- en: 6.3 Policy enforcement
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.3 政策执行
- en: Extending multiple hybrid, on-prem, and multicloud environments adds complexity
    in terms of resource management and consistency. Anthos provides a unified declarative
    model for computing, networking, and even managing cloud and data center services.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展多个混合、本地和多云环境在资源管理和一致性方面增加了复杂性。Anthos 提供了一个统一的声明性模型，用于计算、网络，甚至管理云和数据中心服务。
- en: Configuration as data is a common approach to managing this complexity, allowing
    you to store the desired state of your hybrid environment under version control
    and apply it directly with repeatable results. Anthos makes this possible with
    Anthos Config Management, which integrates with Anthos clusters locally or in
    the cloud, allowing you to deploy and monitor configuration changes stored in
    a central Git repository, as shown figure 6.11.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 将配置作为数据是管理这种复杂性的常见方法，允许您在版本控制下存储您混合环境的期望状态，并直接应用以获得可重复的结果。Anthos 通过 Anthos Config
    Management 实现了这一点，该管理工具与本地或云中的 Anthos 集群集成，允许您部署和监控存储在中央 Git 仓库中的配置更改，如图 6.11
    所示。
- en: '![06-11](../../OEBPS/Images/06-11.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![06-11](../../OEBPS/Images/06-11.png)'
- en: Figure 6.11 Apply and enforce common policy with Anthos Config Management.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.11 使用Anthos Config Management应用和执行常见策略。
- en: 'This approach uses core Kubernetes concepts, such as namespaces, labels, and
    annotations, to determine how and where to apply configuration changes to all
    of your Kubernetes clusters, from where they reside. Anthos Config Management
    offers the following advantages for your Anthos environments:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法使用核心Kubernetes概念，如命名空间、标签和注解，来确定如何以及在哪里将配置更改应用于您的所有Kubernetes集群，包括它们所在的位置。Anthos
    Config Management为您的Anthos环境提供以下优势：
- en: Single source of truth, control, and management
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 真实、控制和管理的单一来源
- en: One-step deployment across all clusters
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在所有集群上一步式部署
- en: Rich inheritance model for applying changes
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 丰富的继承模型以应用更改
- en: Advanced policy enforcement and control with Policy Controller
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Policy Controller进行高级政策执行和控制
- en: You can find all the details about Anthos Config Management in chapters 11 and
    13.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在第11章和第13章中找到有关Anthos Config Management的所有详细信息。
- en: 6.4 Service management
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.4 服务管理
- en: 'As we saw in chapter 4, Anthos Service Mesh manages your service mesh environment
    by offering you the following features and services:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在第4章中看到的，Anthos Service Mesh通过提供以下功能和服务的以下功能来管理您的服务网格环境：
- en: Service metrics and logs for all traffic within your mesh’s GKE cluster are
    automatically imported into Google Cloud.
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您mesh的GKE集群内所有流量的服务指标和日志将自动导入Google Cloud。
- en: It automatically generates in-depth telemetry in the Anthos Service Mesh dashboard.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在Anthos Service Mesh仪表板中自动生成深入的遥测数据。
- en: Service-to-service relationships at a glance—understand who connects to each
    service and which services they depend on.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一目了然地了解服务之间的服务关系——了解谁连接到每个服务以及它们依赖哪些服务。
- en: Protect your traffic between services through the Anthos Service Mesh Certificate
    Authority (Mesh CA), automatically generating and rotating certificates so you
    can easily enable TLS authentication (mTLS) with Istio policies.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过Anthos Service Mesh证书授权机构（Mesh CA）保护服务之间的流量，自动生成和轮换证书，以便您能够轻松地使用Istio策略启用TLS身份验证（mTLS）。
- en: Quickly view the communication security status of not only your service but
    also its relationships with other services.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速查看您服务的通信安全状态，以及与其他服务的关联关系。
- en: Dig deeper into your service metrics, and combine them with other Google Cloud
    metrics using Cloud Monitoring.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 深入了解您的服务指标，并使用Cloud Monitoring将它们与其他Google Cloud指标结合使用。
- en: Get clear and simple insights into your service health with service-level objectives,
    which allows you to easily define and send alerts on your service health standards.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过服务级别目标，您可以清晰地了解您的服务健康状况，这使您能够轻松定义和发送关于您的服务健康标准的警报。
- en: Summary
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: The Anthos components provide all the tools a developer requires to develop
    and deploy their applications.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthos组件为开发者提供所有开发和应用其应用程序所需的工具。
- en: Anthos application development features include Cloud Code, a plug-in for IntelliJ,
    Visual Studio Code, and Google Cloud Shell.
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthos应用程序开发功能包括Cloud Code，它是IntelliJ、Visual Studio Code和Google Cloud Shell的插件。
- en: Various components can be used for deploying an application, including versioning
    using Cloud Source Repository and Cloud Build to build the source code.
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用各种组件来部署应用程序，包括使用Cloud Source Repository和Cloud Build进行版本控制，以构建源代码。
- en: Policy enforcement provides management and consistency across multiple cloud
    providers and hybrid cloud environments.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 政策执行为多个云提供商和混合云环境提供管理和一致性。
- en: Anthos Service Mesh provides service metrics and logs to communicate security
    status and health.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthos Service Mesh提供服务指标和日志，以传达安全状态和健康状况。
