- en: Chapter 10\. Using Python to Measure Climate Data
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章。使用Python测量气候数据
- en: Developing technical skills and pathways for learning Python and geospatial
    analysis is important, but unless you provide context or create a narrative to
    share, it’s all simply data on a shelf.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 开发技术技能和学习Python和地理空间分析的途径很重要，但除非提供上下文或创建共享叙述，否则这只是架上的数据。
- en: In this final chapter, you will explore three approaches to exploring time-series
    data by accessing satellite image layers from [Landsat](https://oreil.ly/9bHFj),
    [China–Brazil Earth Resources Satellite (CBERS)](https://oreil.ly/PM7Lt), and
    [Sentinel](https://oreil.ly/1Kym6). You will use your geospatial analysis skills
    to examine questions about climate change and deforestation.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将探索三种探索时间序列数据的方法，通过访问来自[Landsat](https://oreil.ly/9bHFj)、[中巴地球资源卫星（CBERS）](https://oreil.ly/PM7Lt)和[哨兵](https://oreil.ly/1Kym6)的卫星图像层。您将利用您的地理空间分析技能来研究关于气候变化和森林砍伐的问题。
- en: Spatial modeling is a crucial tool for forecasting, predicting, and monitoring
    the real-time status of global temperature increases and deforestation, which
    in turn helps us anticipate the consequences of these phenomena and potentially
    intervene or prepare for them.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 空间建模是预测、预测和监测全球温度增加和森林砍伐实时状态的关键工具，从而帮助我们预测这些现象可能带来的后果，并可能干预或为其做好准备。
- en: 'Three examples are presented to highlight some powerful Python packages: Xarray,
    Web Time Series Service (WTSS), and Forest at Risk (FAR). Although these may appear
    to be new tools, you have been introduced to many of their dependencies in earlier
    chapters. The last example is a deeper dive into the statistical power of packages
    designed for predictive modeling, which you’ll use in analyzing deforestation.
    You can run code in [the accompanying notebook](https://oreil.ly/9ADWy), since
    complete explanations of everything in it is beyond the scope of this book.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 展示了三个示例，以突出一些强大的Python包：Xarray、Web时间序列服务（WTSS）和森林危险（FAR）。虽然这些工具可能看起来是新的，但在早期章节中已经介绍了它们的许多依赖项。最后一个示例深入探讨了用于预测建模的包的统计能力，这将在分析森林砍伐时使用。您可以在[附带的笔记本](https://oreil.ly/9ADWy)中运行代码，因为本书的范围无法完全解释其中的所有内容。
- en: 'Example 1: Examining Climate Prediction with Precipitation Data'
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例1：使用降水数据检查气候预测
- en: Spatial analysis often relies on multidimensional data analysis. Think of a
    gridded dataset as resembling a cube. In Python (and in computer programming in
    general), arrays store lists of data. The objects in the list can be referenced
    individually or collectively. This is important when calling a Python array because
    you can access each item by its index number.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 空间分析通常依赖于多维数据分析。将网格化数据集想象为一个立方体。在Python（以及计算机编程一般情况下），数组存储数据列表。列表中的对象可以单独或集体引用。这在调用Python数组时很重要，因为可以通过索引号访问每个项目。
- en: Multidimensional and N-dimensional arrays, or *tensors*, are displayed in NumPy
    ndarrays. Think of a tensor as a container of data or information. In Python,
    [NumPy](http://www.numpy.org) provides the fundamental data structure and API
    for working with raw ndarrays.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: NumPy的多维和N维数组，或称为*tensor*，显示在NumPy的ndarrays中。将张量视为数据或信息的容器。在Python中，[NumPy](http://www.numpy.org)提供了用于处理原始ndarrays的基本数据结构和API。
- en: You will be working with real-world datasets that encode information about how
    the array’s values map to locations. The data you are working with is labeled
    with encoded information such as timestamps, coordinates, elevation, land cover,
    and precipitation.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 您将使用真实世界的数据集，这些数据集编码了有关数组值如何映射到位置的信息。您处理的数据带有时间戳、坐标、海拔、土地覆盖和降水等编码信息。
- en: Goals
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 目标
- en: The mission of the US government’s [National Oceanic and Atmospheric Administration
    (NOAA)](https://oreil.ly/NKI29) is to “predict changes in climate, weather, oceans,
    and coasts” and to inform and address urgent societal and environmental impacts
    from extreme weather events. In this exercise, you will work with a publicly available
    dataset to analyze daily precipitation. Comparing data from the continental US
    from 2015 and 2021, you will observe patterns in the data to determine if there
    are distinct observable differences.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 美国政府的[国家海洋和大气管理局（NOAA）](https://oreil.ly/NKI29)的使命是“预测气候、天气、海洋和海岸的变化”，并通知和应对极端天气事件带来的紧急社会和环境影响。在这个练习中，您将使用公开可用的数据集来分析每日降水量。比较2015年和2021年美国大陆的数据，您将观察数据中的模式，以确定是否存在明显的可观察差异。
- en: First, I will introduce you to Xarray, an open source project that interoperates
    with NumPy, SciPy, and matplotlib, extending beyond NumPy ndarrays and pandas
    dataframes.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我将向您介绍 Xarray，这是一个与 NumPy、SciPy 和 matplotlib 互操作的开源项目，扩展了 NumPy ndarrays
    和 pandas 数据帧之外的功能。
- en: As with the preceding chapters, after you complete an introduction to a package
    and its supporting documentation, I strongly encourage you to experiment with
    different datasets and applications of Python packages and libraries.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 与前几章一样，在您完成对一个包及其支持文档的介绍后，我强烈建议您尝试不同数据集和 Python 包和库的应用。
- en: Downloading Your Data
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载您的数据
- en: 'First, navigate to [Gridded Climate Datasets: Precipitation](https://oreil.ly/NhTn2)
    and choose the Climate Prediction Center (CPC) [Global Precipitation dataset](https://oreil.ly/M8ynH).
    Weather data for a given latitude/longitude is returned for the grid cell aligned
    with the requested lat/long.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，导航到 [网格化气候数据集：降水](https://oreil.ly/NhTn2) 并选择 Climate Prediction Center (CPC)
    的 [全球降水数据集](https://oreil.ly/M8ynH)。返回给定经度/纬度的天气数据，与请求的经度/纬度对齐的网格单元。
- en: Download the years of interest, 2015 and 2021, and upload the files to either
    your Google drive or directly to your computer. [Figure 10-1](#files_in_google_colab)
    shows the folder and file hierarchy.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 下载感兴趣的年份，2015 年和 2021 年，并将文件上传到您的 Google 云硬盘或直接上传到您的计算机。[图 10-1](#files_in_google_colab)
    显示了文件夹和文件层次结构。
- en: '![Files in Google Colab](assets/pgda_1001.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![Google Colab 中的文件](assets/pgda_1001.png)'
- en: Figure 10-1\. Files in Google Colab
  id: totrans-17
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-1\. Google Colab 中的文件
- en: Working in Xarray
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Xarray 中工作
- en: Xarray is a Python library that hosts many dependencies that should by now be
    familiar to you, such as NumPy and pandas, as well as a few optional dependencies
    that you’ll need to work with the CPC Global Precipitation dataset. Originally
    developed by the Climate Corporation, [Xarray](https://oreil.ly/NjJmL) has become
    a useful open source resource for analyzing climate change data files for plotting
    and analysis. It’s useful for exploring weather, water, and climate extremes and
    their impact.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Xarray 是一个 Python 库，托管了许多您现在应该熟悉的依赖项，如 NumPy 和 pandas，以及一些您需要处理 CPC 全球降水数据集的可选依赖项。最初由
    Climate Corporation 开发，[Xarray](https://oreil.ly/NjJmL) 已成为用于分析气候变化数据文件以进行绘图和分析的有用开源资源。它对于探索天气、水文和气候极端及其影响非常有用。
- en: The NOAA Physical Sciences Laboratory relies on the Network Common Data Form
    (netCDF) format of Xarray, which is an interface for array-oriented data containing
    dimensions, variables, and attributes on top of NumPy arrays. The dimensions are
    often time and latitude or longitude, so this format is directly applicable to
    spatial observation and analysis.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 美国国家海洋和大气管理局物理科学实验室依赖于 Xarray 的 Network Common Data Form（netCDF）格式，这是一个基于 NumPy
    数组的数组导向数据接口，包含维度、变量和属性。这些维度通常是时间和纬度或经度，因此该格式直接适用于空间观测和分析。
- en: You will download daily precipitation data and apply functions to it, including
    `groupby` (for grouping), `concat` (to combine files, also called *concatenation*),
    and `sel & isel` (to select data for specific dates or particular locations).
    Additionally, you will learn how to handle leap years. You’ll save the desired
    outputs as netCDF files.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 您将下载每日降水数据并对其应用函数，包括 `groupby`（用于分组）、`concat`（用于合并文件，也称为*串联*）和 `sel & isel`（用于选择特定日期或特定位置的数据）。此外，您还将学习如何处理闰年。您将将所需输出保存为
    netCDF 文件。
- en: '*Gridded data* combines point data (such as data from an individual weather
    station) and other data sources and maintains a spatially and temporally consistent
    method to account for factors like temperature changes and precipitation caused
    by location or elevation. The weather data is provided from a data distribution
    containing more than 2,500 monthly gridded data points, representing the entire
    globe.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*网格化数据*将点数据（如来自个别气象站的数据）与其他数据源结合起来，保持空间和时间上的一致性方法，以考虑因位置或海拔引起的温度变化和降水等因素。天气数据来自包含超过
    2,500 个月度网格化数据点的数据分布，代表了整个地球。'
- en: Xarray’s data structures are *N-dimensional*, meaning that they have a variable
    number of dimensions. This makes Xarray suitable for dealing with multidimensional
    scientific data. Because it uses dimension names instead of axis labels (dim=‘time’
    instead of axis=0), these arrays are more manageable than arrays in NumPy ndarrays.
    With Xarray, you don’t need to keep track of the order of dimensions or insert
    placeholder dimensions of size 1 to align arrays.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Xarray 的数据结构是 *N 维* 的，这意味着它们具有可变数量的维度。这使得 Xarray 适合处理多维科学数据。由于它使用维度名称而不是轴标签（`dim='time'`
    而不是轴=0），这些数组比 NumPy ndarrays 更易管理。使用 Xarray，您无需跟踪维度的顺序或插入大小为 1 的占位维度来对齐数组。
- en: 'You will work with a few of the available functions to analyze geospatial data.
    Running `open_mfdataset` opens multiple files at one time. You will use this to
    compare different timepoints. You are going to run these examples in [Google Colab](https://oreil.ly/J8wam).
    I always connect to my Google Drive, as I keep most of the datasets on the cloud
    and not on my local computer. It is simple to connect your drive to Colab and
    select the directory where you are hosting the dataset:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您将使用几个可用函数来分析地理空间数据。运行 `open_mfdataset` 可以一次打开多个文件。您将使用这个功能来比较不同的时间点。您将在 [Google
    Colab](https://oreil.ly/J8wam) 中运行这些示例。我总是连接到我的谷歌云端硬盘，因为我将大部分数据集存储在云上，而不是本地计算机上。将您的驱动器连接到
    Colab 并选择您托管数据集的目录非常简单：
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Tip
  id: totrans-26
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: Not everyone has a Google Drive. You can also access your data by simply uploading
    it to Google Colab. I actually upgraded to Google Colab Pro to improve runtime
    performance. Connecting to your Google Drive is usually the best option, but your
    mileage may vary.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 不是每个人都有谷歌云端硬盘。您也可以通过将数据简单上传到谷歌 Colab 来访问数据。我实际上升级到了谷歌 Colab Pro 以提高运行时性能。通常连接到您的谷歌云端硬盘是最佳选择，但效果可能因人而异。
- en: You will need to establish the connection by selecting and approving it. Mounting
    the drive will take a little time, but then the files will show up in your available
    files.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要通过选择和批准来建立连接。挂载驱动器会花费一些时间，但之后文件将显示在您的可用文件中。
- en: 'Google Colab has a preinstalled version of Xarray, but I suggest a `pip install`
    to make certain the dependencies are all included:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌 Colab 预装了 Xarray 的版本，但我建议使用 `pip install` 确保所有依赖项都包含在内：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: I make it a habit to run installs separately but bundle the import functions;
    this allows me to isolate and address any errors.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我习惯于单独运行安装，但捆绑导入功能；这样可以隔离并解决任何错误。
- en: 'Let’s take a look at the less familiar modules you will be importing. The `glob`
    module (short for “global”) returns the files or folders that you specify. This
    also applies to paths inside directories/files and subdirectories/subfiles. You
    should recognize matplotlib as our plotting library, built on NumPy, and `urllib.request`
    as a module for retrieving URLs. You can download data to upload to Colab or,
    if your data is available as a URL, add the import to your code:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看您将要导入的较不熟悉的模块。`glob` 模块（全局模块的简称）返回您指定的文件或文件夹。这也适用于目录/文件内的路径和子目录/子文件。您应该认识
    matplotlib 作为我们的绘图库，基于 NumPy 构建，以及 `urllib.request` 作为用于检索 URL 的模块。您可以下载数据以上传到
    Colab，或者如果您的数据以 URL 形式可用，则将其导入到您的代码中：
- en: '[PRE2]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Combining Your 2015 and 2021 Datasets
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结合您的 2015 和 2021 年数据集
- en: The Xarray dataset is a container of labeled arrays. It is similar to a dataframe,
    except it is multidimensional and aligns with the netCDF dataset representation,
    shown in [Figure 10-2](#netcdf_data_array).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: Xarray 数据集是带有标签数组的容器。它类似于数据框架，但是它是多维的，并与 netCDF 数据集表示相对应，如 [图 10-2](#netcdf_data_array)
    所示。
- en: '![NetCDF data array](assets/pgda_1002.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![NetCDF 数据数组](assets/pgda_1002.png)'
- en: Figure 10-2\. NetCDF data array
  id: totrans-37
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-2\. NetCDF 数据数组
- en: 'Enter the code to create your two variables, `ds2015` for 2015 and `ds2021`
    for 2021:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 输入代码以创建您的两个变量，`ds2015` 用于 2015 年和 `ds2021` 用于 2021 年：
- en: '[PRE3]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[Figure 10-3](#dataset_properties_in_xarray) shows the key properties of the
    Xarray dataset, including dimensions, coordinates, data variables, and attributes.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 10-3](#dataset_properties_in_xarray) 显示了 Xarray 数据集的关键属性，包括维度、坐标、数据变量和属性。'
- en: '![Dataset properties in Xarray](assets/pgda_1003.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![Xarray 数据集的属性](assets/pgda_1003.png)'
- en: Figure 10-3\. Dataset properties in Xarray
  id: totrans-42
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-3\. Xarray 数据集的属性
- en: Click the database icon (it looks like stacked discs) to see more details. You
    will see the cell expand, as shown in [Figure 10-4](#expanded_dataset_details).
    The expanded metadata reveals the array and additional information.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 单击数据库图标（看起来像堆叠的光盘）以查看更多详细信息。您将看到单元格展开，如 [图 10-4](#expanded_dataset_details)
    所示。扩展的元数据显示了数组和其他信息。
- en: 'Next, you are going to [concatenate](https://oreil.ly/E60L2) (join) Xarray
    objects along the `time` dimension:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将会沿 `time` 维度进行 [连接](https://oreil.ly/E60L2) （合并）Xarray 对象。
- en: '[PRE4]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![Expanded dataset details](assets/pgda_1004.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![扩展数据集详细信息](assets/pgda_1004.png)'
- en: Figure 10-4\. Expanded dataset details
  id: totrans-47
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-4\. 扩展数据集详细信息
- en: The output ([Figure 10-5](#time_coordinates_concatenated)) will confirm that
    the datasets have been combined. The time coordinate now lists both years that
    you selected.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 输出（[图 10-5](#time_coordinates_concatenated)）将确认数据集已被合并。时间坐标现在列出了您选择的两个年份。
- en: '![Time coordinates concatenated](assets/pgda_1005.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![时间坐标串联](assets/pgda_1005.png)'
- en: Figure 10-5\. Time coordinates concatenated
  id: totrans-50
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-5\. 时间坐标串联
- en: 'The function `dataarray.groupby` returns an object for group operations. You
    will be grouping operations by month (`time.month` in the code). There is a `dataarray`
    object for a daily dataset that spans a few years. This object has one variable
    and three dimensions: latitude, longitude, and time (daily). You can generate
    a graphic for both 2015 and 2021 ([Figure 10-6](#monthly_precipitation_in_the_continenta)).'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 函数 `dataarray.groupby` 返回一个用于分组操作的对象。您将按月份 (`time.month` 在代码中) 进行分组操作。有一个跨越几年的每日数据集的
    `dataarray` 对象。该对象有一个变量和三个维度：纬度、经度和时间（每日）。您可以为2015年和2021年生成一个图形（[图 10-6](#monthly_precipitation_in_the_continenta)）。
- en: '![Monthly precipitation in the continental US in 2015 (left) and 2021 (right)](assets/pgda_1006.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![2015年美国大陆月降水量（左）和2021年（右）](assets/pgda_1006.png)'
- en: Figure 10-6\. Monthly precipitation in the continental US in 2015 (left) and
    2021 (right)
  id: totrans-53
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-6\. 2015年美国大陆月降水量（左）和2021年（右）
- en: Generating the Images
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成图像
- en: 'To generate the plot for your 2015 image, state the lower bound by the first
    item (`0`), the default for the upper bound, and the step size default. Monthly
    precipitation is an object to be sliced, as indicated by `mon.precip`. We are
    operating across the three dimensions:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 要生成2015年图像的绘图，请在第一个项（`0`）处指定下限，使用默认的上限和步长。月降水量是一个要切片的对象，如 `mon.precip` 所示。我们正在跨三个维度进行操作：
- en: '[PRE5]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: You can use the same method to generate a map for 2021\. The output for both
    is in [Figure 10-6](#monthly_precipitation_in_the_continenta), and the different
    patterns of precipitation are visible.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用相同的方法生成2021年的地图。两者的输出在 [图 10-6](#monthly_precipitation_in_the_continenta)
    中，可以看到不同的降水模式。
- en: 'Let’s expand beyond a single month to compare different years. Python has a
    calendar module that will display an entire year for comparison. Follow this code
    to iterate over each month in a calendar year, using matplotlib and the `calendar`
    module:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们扩展到单个月份以比较不同年份。Python 有一个日历模块，用于显示整个年份进行比较。使用 matplotlib 和 `calendar` 模块迭代每个月份的代码如下：
- en: '[PRE6]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now, you will apply the sum along the `time` dimension. The landmask you are
    creating will “mask out” certain observations instead of returning NaN values:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将沿 `time` 维度应用总和。您正在创建的 landmask 将“掩盖”某些观测而不是返回 NaN 值：
- en: '[PRE7]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Matplotlib allows you to format and plot a series of maps. There are defaults
    for these parameters, but when you want to customize them, you can provide a width
    and height in inches for the image (`figsize`) and a background color (`facecolor`).
    The parameter `subplots_adjust` allows you to adjust the position of the subplot
    or axes. Let’s do 2015 first:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: Matplotlib 允许您格式化和绘制一系列地图。这些参数有默认值，但当您想要自定义它们时，可以为图像提供宽度和高度（`figsize`），以及背景颜色（`facecolor`）。参数
    `subplots_adjust` 允许您调整子图或坐标轴的位置。首先我们来处理2015年：
- en: '[PRE8]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Experiment with different values to see how the image changes. The edges of
    the subplots are nudged along with the amount of width space (`wspace`) or height
    space (`hspace`).
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试不同的值以查看图像如何变化。通过调整宽度空间 (`wspace`) 或高度空间 (`hspace`) 来微调子图的边缘。
- en: You can explore different plot types in the [matplotlib](https://oreil.ly/7Nrc9)
    usage guide. The output is shown in [Figure 10-7](#yearly_precipitation_in_the_continental).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在 [matplotlib 使用指南](https://oreil.ly/7Nrc9) 中探索不同的绘图类型。输出显示在 [图 10-7](#yearly_precipitation_in_the_continental)
    中。
- en: '![Yearly precipitation in the continental US by month, 2015, in Xarray](assets/pgda_1007.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![2015年美国大陆按月年降水量，Xarray](assets/pgda_1007.png)'
- en: Figure 10-7\. Yearly precipitation in the continental US by month, 2015, in
    Xarray
  id: totrans-67
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-7\. 2015 年美国大陆每月的年降水量，使用 Xarray
- en: Next, update the code cell to run the 2021 data ([Figure 10-8](#yearly_precipitationcomma_twozerotwoone))
    and visually compare the difference in precipitation between the two years.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，更新代码单元以运行2021年的数据（[图 10-8](#yearly_precipitationcomma_twozerotwoone)），并直观地比较两年间降水量的差异。
- en: '![Yearly precipitation, 2021](assets/pgda_1008.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![2021 年的年降水量](assets/pgda_1008.png)'
- en: Figure 10-8\. Yearly precipitation, 2021
  id: totrans-70
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-8\. 2021 年的年降水量
- en: More Exploration
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多探索
- en: There are additional queries you can try if you want to see the data underlying
    the imagery. For instance, `ds2021.precip.dims` will list the dimensions in the
    data, `ds2021.precip.attrs` will list attributes, and `ds2021.precip.data` will
    show the daily precipitation.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想看到图像下的数据，还有其他查询可以尝试。例如，`ds2021.precip.dims` 将列出数据的维度，`ds2021.precip.attrs`
    将列出属性，而 `ds2021.precip.data` 将显示每日降水量。
- en: 'Precipitation data might be more meaningful if grouped seasonally, so let’s
    try that:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果按季节分组降水数据可能会更有意义，所以让我们试一试：
- en: '[PRE9]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The seasons are named by the months they contain: `DJF` for winter, `JJA` for
    summer, `MAM` for spring, and `SON` for fall. Let’s order them in an intuitive
    manner:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 季节以包含的月份命名：`DJF` 表示冬季，`JJA` 表示夏季，`MAM` 表示春季，`SON` 表示秋季。让我们按直觉的方式对它们进行排序：
- en: '[PRE10]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The seasons are now displayed chronologically, as they occur in a single year.
    Visualizing precipitation levels allows you to observe how precipitation varies
    by season and location ([Figure 10-9](#mean_precipitation_arranged_by_season)).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 季节现在按照它们在一年中的顺序显示。可视化降水水平使您能够观察降水如何因季节和位置的不同而变化（[图 10-9](#mean_precipitation_arranged_by_season)）。
- en: '![Mean precipitation arranged by season](assets/pgda_1009.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![按季节排列的平均降水量](assets/pgda_1009.png)'
- en: Figure 10-9\. Mean precipitation arranged by season
  id: totrans-79
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-9\. 按季节排列的平均降水量
- en: Observations of precipitation levels demonstrate patterns in the data. You may
    have noticed that temperature datasets are also available in gridded format. Now
    that you have been introduced to Xarray and how to work with multidimensional
    arrays, try exploring maximum temperature, minimum temperature, and average temperature
    to expand your insights. What can you learn by plotting this data as well?
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 降水水平的观察显示数据中的模式。你可能已经注意到温度数据集也以网格格式提供。现在您已经了解了 Xarray 及其如何处理多维数组，尝试探索最高温度、最低温度和平均温度，以扩展您的见解。通过绘制这些数据，您可以学到什么？
- en: 'Example 2: Deforestation and Carbon Emissions in the Amazon Rain Forest Using
    WTSS Series'
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 2：使用 WTSS 系列探索亚马逊雨林的砍伐和碳排放
- en: The Amazon rain forest is shrinking. Roadway construction in the forest, contact
    between humans and animals, and contact between visitors and the Indigenous peoples
    who live in the rain forest all contribute to ongoing deforestation and forest
    degradation. *Degradation* refers to a decline in forest density that does not
    quite meet the level of deforestation—typically, when tree cover is diminished
    between 10% and 30% and the land is being converted to alternative uses, such
    as timber harvesting or agriculture. When the forest cover is disturbed, *biodiversity—*the
    Amazon’s mixture of living things and ecosystems that exists nowhere else on earth—is
    threatened. Deforestation also has an impact on carbon emissions.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊雨林正在缩小。森林中的道路建设，人类与动物的接触，以及游客与居住在雨林中的土著人之间的接触都导致持续的森林砍伐和森林退化。*退化* 指的是森林密度下降，虽然未达到砍伐的程度，但通常在10%到30%之间，并且土地正在转为替代用途，如木材采伐或农业。当森林覆盖受到干扰时，*生物多样性*——亚马逊独有的生物和生态系统混合——受到威胁。砍伐也对碳排放产生影响。
- en: Web Time Series Service (WTSS) is a web service that processes time-series data
    gathered by remote sensing imagery.^([1](ch10.xhtml#ch01fn14)) Again, you’ll be
    working with a 3D array with spatial (latitude and longitude) and temporal references.
    WTSS is a Python client library, so you can obtain a list of actual values recorded
    at a specific location over time.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: Web 时间序列服务（WTSS）是一个处理遥感图像采集的时间序列数据的网络服务。^([1](ch10.xhtml#ch01fn14)) 你将再次使用一个具有空间（纬度和经度）和时间参考的三维数组。WTSS
    是一个 Python 客户端库，因此你可以获取特定位置随时间记录的实际数值列表。
- en: Setup
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置
- en: In this exercise, you will explore data from a research project of Brazil’s
    National Institute for Space Research (INPE), [Brazil Data Cube (BDC)](https://oreil.ly/wZ1DD).
    This data cube is a temporal composite from CBERS-4 and surface reflectance data
    from Advanced Wide Field Imager (AWFI), an instrument that captures high-resolution
    land and vegetation imagery.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，你将探索巴西国家空间研究院（INPE）的研究项目数据，[巴西数据立方体（BDC）](https://oreil.ly/wZ1DD)。这个数据立方体是从CBERS-4和Advanced
    Wide Field Imager（AWFI）的表面反射数据中得出的时间合成图像，AWFI是一种捕捉高分辨率陆地和植被图像的仪器。
- en: Obtaining the data
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 获取数据
- en: Begin by registering at the website. You will need to create a profile, then
    generate and save an access token using the menu pictured in [Figure 10-10](#bdc_access_token).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 首先在网站上注册。你需要创建一个个人资料，然后在菜单中生成并保存访问令牌，如[图10-10](#bdc_access_token)所示。
- en: '![BDC access token](assets/pgda_1010.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![BDC访问令牌](assets/pgda_1010.png)'
- en: Figure 10-10\. BDC access token
  id: totrans-89
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-10\. BDC访问令牌
- en: The BDC project collects continuous data on land cover (an example is shown
    in [Figure 10-11](#brazil_data_cube)).^([2](ch10.xhtml#ch01fn15)) To identify
    an area of interest, select the cube stack CBERS-4-AWFI within the CBB4_64_16D_STK-1
    collection. The information icon (“i”) will provide background information.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: BDC项目收集了土地覆盖的持续数据（例如[图10-11](#brazil_data_cube)中的示例）。^([2](ch10.xhtml#ch01fn15))
    为了识别感兴趣的区域，选择CBERS-4-AWFI立方体堆栈中的CBB4_64_16D_STK-1集合。信息图标（“i”）将提供背景信息。
- en: '![Brazil Data Cube](assets/pgda_1011.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![巴西数据立方体](assets/pgda_1011.png)'
- en: Figure 10-11\. Brazil Data Cube
  id: totrans-92
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-11\. 巴西数据立方体
- en: 'You’ll investigate if the vegetation density of the Amazon has changed over
    time by computing the NDVI, which you learned about in [Chapter 6](ch06.xhtml#the_arcgis_python_api).
    Recall that the NDVI calculates the difference between near-infrared (which is
    reflected by vegetation) and red light (absorbed by vegetation). These bands highlight
    vegetated areas and allow you to observe the density of vegetative growth. You
    will select a location in the Amazon rain forest within a region of dense vegetation.
    Enter the coordinates: latitude = –16.350000 and longitude = –56.666668.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 通过计算你在[第6章](ch06.xhtml#the_arcgis_python_api)学到的NDVI来调查亚马逊植被密度是否随时间变化。回想一下，NDVI计算近红外（被植被反射）和红光（被植被吸收）之间的差异。这些波段突出了有植被的区域，使你能观察到植被生长的密度。你将选择亚马逊雨林内一个植被密集区域的位置。输入坐标：纬度
    = –16.350000，经度 = –56.666668。
- en: Tip
  id: totrans-94
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: As you explore BDC on your own after finishing this exercise, try entering latitude
    and longitude coordinates of your own choosing. As an alternative, you can also
    use the bounding box (bbox) information to locate areas of interest.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成本练习后，你可以自行探索BDC。尝试输入你自己选择的纬度和经度坐标。作为另一种选择，你还可以使用边界框（bbox）信息来定位感兴趣的区域。
- en: Creating your environment
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建你的环境
- en: Open a Jupyter Notebook and install the libraries using `pip install`. (I know,
    I know—I typically advocate for Conda installs, but the WTSS is only stable in
    pip. Often, we must adapt!)
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 打开一个Jupyter Notebook并使用`pip install`安装库。（我知道，我知道 —— 通常我推荐使用Conda安装，但WTSS只稳定支持pip。我们经常需要做出调整！）
- en: '[PRE11]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To access WTSS, use the link in the following code and the BDC access token
    you generated when creating your account:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问WTSS，请使用以下代码中的链接和创建账户时生成的BDC访问令牌：
- en: '[PRE12]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Next, run:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来运行：
- en: '[PRE13]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'This outputs a list of services available at the link:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出链接中可用的服务列表：
- en: '[PRE14]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Creating Your Map
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建你的地图
- en: 'Select the CBERS coverage for the code cell:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 选择CBERS覆盖在代码单元格中：
- en: '[PRE15]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The output ([Figure 10-12](#cbfour_sixfour_datacube_with_descriptio)) provides
    the attributes of the CB4_64 cube.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 输出([图10-12](#cbfour_sixfour_datacube_with_descriptio))提供了CB4_64立方体的属性。
- en: '![CB4_64 datacube with description](assets/pgda_1012.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![CB4_64带有描述的数据立方体](assets/pgda_1012.png)'
- en: Figure 10-12\. CB4_64 datacube with description
  id: totrans-110
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-12\. CB4_64带有描述的数据立方体
- en: 'Notice how, when you assign variables, you use the name *exactly* as it appears
    in the table. We are interested in the near-infrared and red bands, so let’s assign
    variables for those:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，当你分配变量时，要使用表中的名称*完全*如其所示。我们对近红外和红波段感兴趣，所以让我们为它们分配变量：
- en: '[PRE16]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The time-series data for the location and dates listed is retrieved by the
    `ts` method:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`ts`方法检索所列位置和日期的时间序列数据：
- en: '[PRE17]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Plot the static visualization of the time series with the `plot` method:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`plot`方法绘制时间序列的静态可视化图：
- en: '[PRE18]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The output is pictured in [Figure 10-13](#static_visualization_of_cbfour_sixfour).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 输出显示在[图10-13](#static_visualization_of_cbfour_sixfour)中。
- en: '![Static visualization of CB4_64_16D_STK-1 data cube time series](assets/pgda_1013.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![CB4_64_16D_STK-1数据立方体时间序列的静态可视化](assets/pgda_1013.png)'
- en: Figure 10-13\. Static visualization of CB4_64_16D_STK-1 data cube time series
  id: totrans-119
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-13\. CB4_64_16D_STK-1数据立方体时间序列的静态可视化
- en: Analysis
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分析
- en: As you can see in [Figure 10-13](#static_visualization_of_cbfour_sixfour), the
    NDVI in this area of the Amazonian rain forest trends upward between 2016 and
    2022\. This could suggest an increase in atmospheric carbon dioxide (CO[2]) levels,
    although precipitation and temperature are more important for explaining interannual
    NDVI variability. Indeed, ecosystem models suggest that most of the observed increase
    in the seasonal amplitude of atmospheric CO[2], indicated by increasing plant
    growth over recent decades, is mostly due to CO[2] fertilization, with climate
    and land-use changes playing secondary roles. We can’t claim anything definitively
    based on this data, but the ability to capture surface reflectance and observe
    NDVI can help in generating hypotheses.^([3](ch10.xhtml#ch01fn16))
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如您在[图10-13](#static_visualization_of_cbfour_sixfour)中所见，亚马逊雨林此区域的NDVI在2016年至2022年间呈上升趋势。这可能表明大气二氧化碳（CO[2]）水平增加，尽管降水和温度更重要，用于解释年际NDVI变异性。确实，生态系统模型表明，由于二氧化碳施肥效应，表现为近几十年来植物生长的季节振幅增加，大气CO[2]浓度增加的观察主要归因于CO[2]施肥效应，而气候和土地利用变化则起次要作用。基于这些数据，我们无法做出任何明确的声明，但捕获地表反射率并观测NDVI有助于提出假设。^([3](ch10.xhtml#ch01fn16))
- en: Refinements
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 优化
- en: Let’s look at a few more ways to improve this map.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看改进地图的几种方法。
- en: Making your map interactive
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使您的地图交互式
- en: 'Next, try creating an interactive display of your findings, using the pandas
    dataframe:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，请尝试使用pandas数据框创建交互式展示您的发现：
- en: '[PRE19]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: You can hover in the notebook to watch the information display ([Figure 10-14](#interactive_graphic_cbers_four)).
    Select different bands in different years for additional information.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在笔记本中悬停以观看信息显示（[图10-14](#interactive_graphic_cbers_four)）。选择不同的波段和不同年份以获取更多信息。
- en: '![Interactive graphic CBERS-4](assets/pgda_1014.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![CBERS-4交互图形](assets/pgda_1014.png)'
- en: Figure 10-14\. Interactive graphic CBERS-4
  id: totrans-129
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-14\. CBERS-4交互图形
- en: '`px.line()` is calling a plotly function. The `dataframe` parameter allows
    you to plot data. The `x` parameter specifies the variable on the *x*-axis, and
    the `y` parameter does the same for the *y*-axis. The title is described as well:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '`px.line()`调用plotly函数。`dataframe`参数允许您绘制数据。`x`参数指定*x*轴的变量，`y`参数做同样的事情。标题也有详细描述：'
- en: '[PRE20]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Reducing cloud coverage with masking
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用遮罩减少云层覆盖
- en: Satellite images observed in time series often display noise or distortion from
    clouds, which can change the spectral behavior of the regions being analyzed.
    Clouds and their shadows can decrease reflectance.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列观测的卫星图像通常显示出由云层引起的噪音或扭曲，这会改变被分析地区的光谱行为。云层及其阴影可能降低反射率。
- en: '*Interpolation* is one way of replacing pixel values or points that have been
    distorted by cloud cover. The process of interpolation constructs new data points
    within the range of discrete values of known data points. Data cubes contain *masks*
    that capture the influence of cloud cover, pixel by pixel.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '*插值*是替换被云层扭曲的像素值或点的一种方式。插值过程在已知数据点的离散值范围内构建新的数据点。数据立方体包含*掩码*，逐像素捕捉云层的影响。'
- en: Tip
  id: totrans-135
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: The Jupyter Notebook contains additional exercises working with masking and
    interpolation using BDC.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: Jupyter Notebook包含使用BDC进行遮罩和插值的额外练习。
- en: Remote sensing technology relies on cloud masking to process data imagery and
    improve its quality. Cloud masks let users identify cloudy and cloud-free pixels
    by analyzing the percentage of cloud in the mask.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 遥感技术依赖于云层遮罩来处理数据图像，并提高其质量。通过分析遮罩中的云百分比，云层掩码可以让用户识别有云和无云的像素。
- en: The code in this section will walk you through first detecting clouds, then
    obtaining a mask to “hide” any low-quality data and prevent it from skewing the
    results.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 此部分中的代码将首先检测云层，然后获取一个遮罩以“隐藏”任何低质量数据，以防止它影响结果。
- en: 'When you run the code, it will output metadata with one of three values:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 运行代码时，它将输出元数据，其中包含三个值中的一个：
- en: A value of `0` means the pixel contains no data.
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 值为`0`表示像素不包含数据。
- en: A value of `127` means the pixel is clear, with no clouds.
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 值为`127`表示像素清晰，没有云层。
- en: A value of `255` means the pixel is obscured by clouds.
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 值为`255`表示像素被云层遮挡。
- en: 'Let’s look at a slightly different location:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一个稍微不同的位置：
- en: '[PRE21]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'This gives the output:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这将给出输出：
- en: '[PRE22]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'You can see that most of the pixels are clear, but a few cloud observations
    record a value of `255.0`. The `set` function displays the values as well:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到大多数像素是清晰的，但少数云观测记录值为`255.0`。`set` 函数也显示了这些值：
- en: '[PRE23]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The output is `{127.0, 255.0}`.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 输出是 `{127.0, 255.0}`。
- en: 'The following code will display cloud observations over the time selected in
    the range:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码将显示所选时间范围内的云观测：
- en: '[PRE24]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The timeline data is stored as a list of dates, but you will need to transform
    it to a `datetime` object. To do that, run the following code:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 时间线数据存储为日期列表，但你需要将其转换为 `datetime` 对象。为此，请运行以下代码：
- en: '[PRE25]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Now, you’ll store the transformed data in the variables `ndvi_data` and `cmask_data`:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你将把转换后的数据存储在变量 `ndvi_data` 和 `cmask_data` 中：
- en: '[PRE26]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The next step is to remove the clouds.  The NumPy array (`np`) will convert
    all `127` values (no clouds) to `1`, and the `255` (cloudy) values will now show
    as NaN (not a number):'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是去除云层。 NumPy 数组（`np`）将所有`127`值（无云）转换为`1`，`255`（多云）的值现在显示为 NaN（非数值）：
- en: '[PRE27]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Now multiply the NaN values by the NDVI array to interpolate the time-series
    data:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 现在将 NaN 值乘以 NDVI 数组以插值时间序列数据：
- en: '[PRE28]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'This creates a new dataframe for the NaN values:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 这为 NaN 值创建了一个新的数据框：
- en: '[PRE29]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: And sure enough, when you run the code, there they are in the output ([Table 10-1](#nan_values_in_interpolated_cloud_mask_d)).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 确实，当你运行代码时，它们会出现在输出中（[Table 10-1](#nan_values_in_interpolated_cloud_mask_d)）。
- en: Table 10-1\. NaN values in interpolated cloud mask data
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10-1\. 插值云掩模数据中的 NaN 值
- en: '| 2018-01-01 | NaN |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '| 2018-01-01 | NaN |'
- en: '| 2018-03-06 | NaN |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '| 2018-03-06 | NaN |'
- en: '| 2020-02-18 | NaN |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
  zh: '| 2020-02-18 | NaN |'
- en: '| 2021-03-06 | NaN |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| 2021-03-06 | NaN |'
- en: 'Now we can pull out all of the NaN data and view the interpolated data:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以提取所有 NaN 数据并查看插值数据：
- en: '[PRE30]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Let’s visualize the interpolated data! Run this code:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们可视化插值数据！运行这段代码：
- en: '[PRE31]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Your output should look like [Figure 10-15](#comparison_of_the_time_series_data_afte).
    Removing the cloud observations yields unobstructed values of the pixels and the
    surface reflectance to more accurately depict the vegetation density.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 你的输出应该类似于 [Figure 10-15](#comparison_of_the_time_series_data_afte)。去除云观测可以清晰地显示像素和表面反射率的无遮挡值，更准确地描绘植被密度。
- en: '![Comparison of the time-series data after interpolating](assets/pgda_1015.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![插值后时间序列数据的比较](assets/pgda_1015.png)'
- en: Figure 10-15\. Comparison of the time-series data after interpolating
  id: totrans-174
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-15\. 插值后时间序列数据的比较
- en: This exercise showed you how to use WTSS to access and analyze remote sensing
    data with Python and APIs and introduced you to the BDC resource. You also saw
    that data analysis isn’t just for backing up your arguments; in fact, exploring
    data with these tools can be an important part of the process of *generating*
    a hypothesis and can lead your inquiries to new and unexpected places.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 这个练习向你展示了如何使用 WTSS 访问和分析远程感知数据，使用 Python 和 API，并向你介绍了 BDC 资源。你也看到，数据分析不仅仅是支持你的论点；事实上，使用这些工具探索数据可以成为
    *生成* 假设过程的重要组成部分，并可能引导你的调查走向新的和意想不到的地方。
- en: 'Example 3: Modeling and Forecasting Deforestation in Guadeloupe with Forest
    at Risk'
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 3：使用 Forest at Risk 对瓜德罗普岛进行砍伐建模和预测
- en: 'Beyond the benefit of modeling the spatial probability of deforestation, this
    final section is a great example of modeling large georeferenced raster files.
    We will be working with a Python package that analyzes deforestation: [Forest
    at Risk (FAR)](https://oreil.ly/2MLdk). The functions in this package process
    blocks of data modeled over large geographic scales at a high resolution.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 除了建模森林破坏的空间概率的益处外，本节还是建模大型地理参考栅格文件的一个很好的例子。我们将使用一个分析森林破坏的 Python 包：[Forest at
    Risk (FAR)](https://oreil.ly/2MLdk)。这个包中的函数处理大规模地理尺度上模拟的数据块，并以高分辨率展示。
- en: The area of interest is Guadeloupe, an archipelago and overseas department of
    France located in the eastern Caribbean Sea. According to Global Forest Watch,
    more than 240 acres of Guadeloupe’s humid primary forest have been lost in 2021
    alone. Tree-cover loss was responsible for about 1.07 metric tons (2,358.95 pounds)
    of CO[2] emissions.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 研究区域是瓜德罗普岛，这是法国的一个群岛和海外省份，位于东加勒比海。根据全球森林观察，仅在2021年，瓜德罗普的湿润原始森林就失去了超过240英亩。树木覆盖损失导致约1.07公吨（2358.95磅）CO[2]的排放。
- en: The goal of working with FAR is to model Guadeloupe’s deforestation spatially,
    predict the risk of deforestation based on a set of variables, and forecast future
    forest density. The spatial variables you’ll be working with include topography
    (altitude, slope, and aspect), accessibility (distance to roads, towns, and the
    forest edge), and distance to previous areas of deforestation or protected areas.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 使用FAR的目标是对瓜德罗普的森林破坏进行空间建模，基于一组变量预测森林破坏的风险，并预测未来的森林密度。您将使用的空间变量包括地形（海拔、坡度和坡向）、可访问性（距离道路、城镇和森林边缘的距离）、以及距离先前的砍伐区域或受保护区的距离。
- en: Any statistical model class with a `.predict()` method can potentially be used
    with the function `forestatrisk.predict_raster()` to predict the spatial risk
    of deforestation. Performing computations on arrays using NumPy and GDAL increases
    efficiency without the need for high computational power. You’ll use this data
    to define the geographic area and to measure deforestation, forest degradation,
    and forest regrowth. Let’s see if we can visualize the change in surface reflectance
    and underlying tree cover by relying on geospatial tools.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 具有`.predict()`方法的任何统计模型类都可以与函数`forestatrisk.predict_raster()`一起用于预测森林破坏的空间风险。使用NumPy和GDAL在数组上执行计算可以提高效率，而无需高计算能力。您将使用这些数据定义地理区域，并测量森林砍伐、森林退化和森林再生。让我们看看是否可以依赖于地理空间工具来可视化表面反射变化和底层树木覆盖的变化。
- en: We’ll be using data from International Forest Resources and Carbon Emissions
    (IFORCE), part of the European Commission’s Joint Research Center, which is responsible
    for independent scientific and technical support. This data measures Landsat time-series
    forest-cover change in tropical moist forests (TMFs). It was gathered from seasonal
    rain forests at increasing distance from the equator over 30 years, from 1990
    to 2020.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用欧洲委员会联合研究中心的国际森林资源和碳排放（IFORCE）数据，该中心负责提供独立的科学技术支持。该数据测量了热带湿润森林（TMF）中的Landsat时间序列森林覆盖变化。它收集了30年来从赤道向远离赤道的季节性雨林的数据，从1990年到2020年。
- en: Setup
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置
- en: Although I am working with Google Colab in this example, there were challenges
    with reproducibility, and I found creating a Conda environment to be a more stable
    option. The dashboard in [Figure 10-16](#opening_the_far_dataset_in_google_colab)
    shows the output files that will not show up in your notebook automatically. Select
    them from the file hierarchy in Colab or from your Jupyter Notebook file structure.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在此示例中我使用Google Colab工作，但在可复制性方面存在挑战，我发现创建Conda环境是一个更稳定的选择。[图 10-16](#opening_the_far_dataset_in_google_colab)中的仪表板显示的输出文件不会自动显示在您的笔记本中。您可以从Colab的文件层次结构或您的Jupyter
    Notebook文件结构中选择它们。
- en: '![Opening the FAR dataset in Google Colab Pro](assets/pgda_1016.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![在Google Colab Pro中打开FAR数据集](assets/pgda_1016.png)'
- en: Figure 10-16\. Opening the FAR dataset in Google Colab Pro
  id: totrans-185
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-16\. 在Google Colab Pro中打开FAR数据集
- en: Depending on your individual setup, Google Colab usually runs quite well. I
    default to Colab when instructing because it is straightforward in highlighting
    the folder structure within your Google Drive (or the import paths, if you choose
    to upload files). There are occasions when you might not be able to get this to
    work. In those instances, I have found creating an environment in the terminal
    to be the solution.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的个人设置，Google Colab通常运行良好。我默认使用Colab进行指导，因为它在突出显示您的Google Drive内的文件夹结构（或者如果您选择上传文件，则在导入路径中）方面非常简单。有时您可能无法使其正常工作。在这些情况下，我发现在终端中创建环境是解决方案。
- en: Creating your environment
  id: totrans-187
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建您的环境
- en: I am using Python 3.10, which as of this writing is the current version, but
    you’ll enter your own version when you run the following code. Everything should
    work, but note that when you build environments and adjust versioning, the details
    might need a little fine-tuning. (You are far enough along in your Python journey
    to be familiar with a few of these options, but return to the preface if you need
    a reminder.)
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 我正在使用Python 3.10，在本文写作时它是当前版本，但在运行以下代码时，您将输入您自己的版本。一切应该工作正常，但请注意，当您构建环境并调整版本时，细节可能需要稍微调整。（在Python旅程中，您已经足够熟悉其中一些选项，但如果需要提醒，请返回前言部分。）
- en: 'Now you can create your environment using Conda:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以使用Conda创建您的环境：
- en: '[PRE32]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Tip
  id: totrans-191
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: 'If you get an error message that forestatrisk is not recognized, you can create
    a kernel inside your FAR environment in the terminal:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您收到一个错误消息，指出未识别到forestatrisk，则可以在终端内的FAR环境中创建一个内核：
- en: '[PRE33]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '[PRE34]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Enter `**jupyter notebook**` and select the FAR kernel. Your package should
    now run.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 输入 `**jupyter notebook**` 并选择FAR内核。现在应该可以运行您的程序包了。
- en: Downloading and importing packages
  id: totrans-196
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 下载和导入包
- en: Importing the necessary files and packages is the first step. The `os` module
    allows you to interact with folders on your operating system. The shutil and copy2
    packages preserve the metadata of the files you are importing, including permissions.
    (There are limits to this when working on MacOS, so consult the [Python documentation](https://oreil.ly/cJTAA).)
    The urllib package collects several modules for opening and reading URLs. You’ll
    also be working with ZIP files, and the `ZipFile` module provides the necessary
    tools.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 导入必要的文件和包是第一步。 `os` 模块允许您与操作系统上的文件夹交互。shutil 和 copy2 包保留您导入的文件的元数据，包括权限。（在MacOS上工作时存在一些限制，请参阅[Python文档](https://oreil.ly/cJTAA)。）urllib
    包收集了几个用于打开和读取URL的模块。您还将使用ZIP文件，并且 `ZipFile` 模块提供了必要的工具。
- en: 'Go ahead and import your packages:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 继续导入您的包：
- en: '[PRE35]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Downloading and importing the data
  id: totrans-200
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 下载和导入数据
- en: 'Next you’ll create an output directory, which is especially convenient when
    working in a notebook environment. When you run your scripts, the output files
    will be in this designated location, including the figures you are generating:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将创建一个输出目录，在笔记本环境中特别方便。运行脚本时，生成的输出文件将位于指定位置，包括您生成的图像：
- en: '[PRE36]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The ZIP file *data_GLP.zip* is located at the link in the following code block,
    and `z.extractall` will unzip the file into your Colab or Jupyter Notebook directory,
    as shown in [Figure 10-13](#static_visualization_of_cbfour_sixfour):'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: ZIP 文件 *data_GLP.zip* 位于以下代码块中的链接处，`z.extractall` 将文件解压缩到您的Colab或Jupyter Notebook目录中，如[图
    10-13](#static_visualization_of_cbfour_sixfour)所示：
- en: '[PRE37]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'The *.zip* file contains a selection of environmental variables and maps from
    across a timespan: all of the data you will need for this brief walk through the
    FAR tutorial, in which you will model the spatial probability of deforestation
    in a specific geography.'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '*.zip* 文件包含跨时间跨度的环境变量和地图的选择：这是您在FAR教程的简要演练中所需的所有数据，您将在其中对特定地理位置的森林砍伐的空间概率进行建模。'
- en: As you [download the data](https://oreil.ly/lkzTB), take a few moments to explore
    the details regarding symbology, values, and labels on the [IFORCE](https://oreil.ly/wtHAi)
    site.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 当您[下载数据](https://oreil.ly/lkzTB)时，请花些时间探索关于 [IFORCE](https://oreil.ly/wtHAi)
    站点的符号学、值和标签的详细信息。
- en: Plotting the Data
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 绘制数据
- en: 'Run the following code to plot the data:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 运行以下代码以绘制数据：
- en: '[PRE38]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: When you run the code cell, this code will generate a map as output, but it
    will not populate in the notebook automatically. To find the output files in Google
    Colab, use the dashboard to navigate through the folder hierarchy to your output
    folder. In a Jupyter Notebook, review the files listed in the tab at the top left
    corner ([Figure 10-17](#locating_your_output_in_the_jupyter_not)). The data files
    you downloaded will also be visible.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 运行代码单元格时，此代码将生成一个地图作为输出，但不会自动填充到笔记本中。要在Google Colab中找到输出文件，请使用仪表板导航到您的输出文件夹的文件层次结构。在Jupyter
    Notebook中，查看位于左上角标签页中的文件列表（[图 10-17](#locating_your_output_in_the_jupyter_not)）。您下载的数据文件也将可见。
- en: '![](assets/pgda_1017.png)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/pgda_1017.png)'
- en: Figure 10-17\. Locating your output in the Jupyter Notebook file structure
  id: totrans-212
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-17\. 在Jupyter Notebook文件结构中定位您的输出
- en: When you plot the data ([Figure 10-18](#plotting_far_data_on_forest_cover_chang)),
    the forest appears as green and the deforested areas as red. Can you see the perimeter
    where deforestation is more likely?
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 当您绘制数据（[图 10-18](#plotting_far_data_on_forest_cover_chang)）时，森林显示为绿色，而砍伐区域显示为红色。您能看到砍伐更可能发生的周边吗？
- en: '![](assets/pgda_1018.png)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/pgda_1018.png)'
- en: Figure 10-18\. Plotting FAR data on forest cover change in Guadeloupe as a GeoTiff
    raster file
  id: totrans-215
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-18\. 在瓜德罗普岛上以GeoTiff栅格文件形式绘制的FAR数据，展示了森林覆盖变化
- en: Sampling the Data
  id: totrans-216
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据采样
- en: Next, it’s time to sample your data. You’ll use the function `far.sample`. The
    help documentation, which you can access by running `help(far.sample)`, tells
    us that this function “randomly draws spatial points in deforested and forested
    areas and…extract[s] environmental variable values for each spatial point.” In
    other words, it samples 10,000 randomly selected pixel centers (points) in the
    areas identified as either deforested or as remaining forest.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，是时候对您的数据进行采样了。您将使用`far.sample`函数。帮助文档可以通过运行`help(far.sample)`来访问，告诉我们这个函数“在砍伐和保留森林区域中随机绘制空间点…提取每个空间点的环境变量值”。换句话说，它在被标识为已砍伐或仍然是森林的区域中随机抽样10,000个像素中心（点）。
- en: Let’s take a moment to look at the arguments this function takes. First, `seed`
    tells the function to reproduce the random sampling data from the previous step.
    Next, the spatial cells for each sample are grouped by the `csize` argument. Each
    spatial cell is attributed to a parameter, so they need to be of a sufficient
    size to ease the burden of memory and large datasets. These grouped observations
    are estimates of spatial autocorrelation in deforestation.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们花点时间来看看这个函数接受的参数。首先，`seed`告诉函数从前一步的随机抽样数据中复制数据。接下来，每个样本的空间单元由`csize`参数分组。每个空间单元都被归属到一个参数，因此它们需要足够大的尺寸以减轻内存和大数据集的负担。这些分组的观测结果是森林砍伐中空间自相关的估算。
- en: 'Remember Tobler’s First Law, introduced in [Chapter 1](ch01.xhtml#introduction_to_geospatial_analytics):
    “Everything is related to everything else, but near things are more related than
    distant things.” *Spatial autocorrelation* is a measure of spatial variation within
    adjacent observations where it is possible for near things to not be similar!
    Adjacent observations can have similar values (positive spatial autocorrelation)
    or have contrasting values (negative autocorrelation). The presence or absence
    of a pixel value between measurements has important implications for spatial statistics.
    There are many reasons why this might be the case, but one could be that a small
    sample from a much larger dataset simply isn’t representative of the larger sample.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 记住托布勒的第一定律，介绍见[第1章](ch01.xhtml#introduction_to_geospatial_analytics)：“一切事物都与其他事物相关，但接近的事物比远处的事物更相关。”*空间自相关*是衡量相邻观测内的空间变异的指标，在这里，可能会出现附近事物并不相似的情况！相邻观测可以具有相似的值（正空间自相关）或具有对比的值（负自相关）。在空间统计中，测量之间的像素值的存在或缺失具有重要意义。有许多可能的原因，但其中一种可能是，来自更大数据集的小样本简单地不代表更大的样本。
- en: 'In the following code cell, you’ll also see the argument `var_dir`. This points
    to the directory where all of the GeoTIFF files are located and to *fcc23.tif*
    as a forest-cover-change raster file. Once more, pay attention to the output file
    and notice it appearing in your directory:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下代码单元中，您还将看到参数`var_dir`。这指向存放所有GeoTIFF文件的目录，并且指向*fcc23.tif*作为森林覆盖变化栅格文件。再次注意输出文件，并留意其出现在您的目录中：
- en: '[PRE39]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'I’m showing you the output here to demonstrate how the calculations are conducted:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这里展示输出，以演示计算的进行方式：
- en: '[PRE40]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The following code removes “not available” (NA) values from the dataset, then
    computes the number of neighbors of each spatial cell. It outputs a pandas dataframe:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码从数据集中删除“不可用”（NA）值，然后计算每个空间单元的邻居数量。它输出一个pandas数据框：
- en: '[PRE41]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: If you do not remove the NAs, you won’t be able to model the data in the next
    steps—recall that the logistic regression model is reporting on the presence or
    absence of a pixel value between measurements.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不删除NA值，您将无法在接下来的步骤中对数据建模——请记住，逻辑回归模型正在报告测量之间的像素值的存在或不存在。
- en: 'The output shown here is a sample of the first five rows. The variables represent
    the spatial explanatory variables used to model the impact of deforestation and
    include topography represented by altitude and slope; accessibility, measured
    as distance to nearest road, town, river, and forest edge; deforestation history,
    calculated as distance to past deforestation; and land conservation status as
    a protected area (`pa`):'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 这里显示的输出是前五行的样本。变量代表用于建模森林砍伐影响的空间解释变量，包括高程和坡度表示的地形；可达性，作为距离最近的道路、城镇、河流和森林边缘的距离；过去砍伐历史，计算为距离过去砍伐的距离；以及作为保护区（`pa`）的土地保护状态：
- en: '[PRE42]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Sample-size calculations for forest cover change the map—the pixel value is
    set to `1` when there is forest and to `0` when there is no forest:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 森林覆盖变化地图的样本大小计算——当森林存在时，像素值设置为`1`，当没有森林时设置为`0`：
- en: '[PRE43]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Correlation Plots
  id: totrans-231
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关性图
- en: The next step is to correlate all this data. This means actually comparing the
    locations of forested areas with the other variables, such as roads, rivers, towns,
    and other deforested areas, to plot how likely it is that the point in question
    will be deforested.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是相关所有这些数据。这意味着实际上比较森林区域的位置与其他变量，如道路、河流、城镇和其他已砍伐的区域，以绘制问题点可能遭受砍伐的可能性有多大。
- en: 'Run the code to correlate and then plot the result:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 运行代码以进行相关性分析，并绘制结果：
- en: '[PRE44]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: This outputs the *correlation plots* shown in [Figure 10-19](#correlation_plots_of_selected_variables).
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出在[图 10-19](#correlation_plots_of_selected_variables)中显示的*相关性图*。
- en: You can read the probability of deforestation by looking first at the distribution
    of the data. Notice the shape of the probability curve. Look at how far the distance
    a pixel is from a deforested state. In [Figure 10-16](#opening_the_far_dataset_in_google_colab),
    you can see that the bulk of pixels in the sample are relatively close to a deforested
    area already—and, as you know, as the distance increases, the probability of deforestation
    declines.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 通过首先查看数据分布可以读取砍伐的概率。注意概率曲线的形状。查看一个像素离砍伐状态有多远。在[图 10-16](#opening_the_far_dataset_in_google_colab)中，您可以看到样本中的大多数像素与已砍伐区域相对接近—正如您所知，随着距离的增加，砍伐的概率会下降。
- en: Looking at the parameter estimates in [Figure 10-19](#correlation_plots_of_selected_variables),
    you can see that the probability of deforestation decreases with altitude, slope,
    distance to past deforestation, and forest edge. The distances to road, town,
    and river all “cross zero,” meaning that the values are not significantly different
    from zero. The confidence interval range includes zero.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[图 10-19](#correlation_plots_of_selected_variables)中的参数估计，您可以看到砍伐的概率随着海拔、坡度、距离以前砍伐的距离和森林边缘而减少。道路、城镇和河流的距离都“穿过零”，意味着这些值与零没有显著差异。置信区间范围包括零。
- en: '![Correlation plots of selected variables](assets/pgda_1019.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![图 10-19：选定变量的相关性图](assets/pgda_1019.png)'
- en: Figure 10-19\. Correlation plots of selected variables
  id: totrans-239
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-19：选定变量的相关性图
- en: Modeling the Probability of Deforestation with the iCAR Model
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用iCAR模型建模砍伐概率
- en: You won’t need to understand the underlying statistics to be able to render
    the output. The statistical model `model_binomial_iCAR` estimates the probability
    of deforestation by examining each pixel and evaluating a set of environmental
    variables like altitude, distance to edge of forest, distance to road, and distance
    to the nearest towns. These variables tell us how accessible the forest is to
    humans. In simple terms, we need this data because fixed environmental variables
    don’t completely explain the process of deforestation, at least not at large scales
    like a country or geographic region.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 你不需要理解底层统计学就能呈现输出。统计模型`model_binomial_iCAR`通过检查每个像素并评估一组环境变量（如海拔、距离森林边缘的距离、距离道路的距离和距离最近的城镇）来估计森林砍伐的概率。这些变量告诉我们森林对人类的可访问性。简单来说，我们需要这些数据是因为固定的环境变量并不能完全解释砍伐过程，至少在像国家或地理区域这样的大尺度上是如此。
- en: The probability of deforestation at any given point depends on the probability
    of deforestation in its neighboring cells. Nearest-neighbor methods look for training
    samples near a given point to indicate the number of adjacent entities. In short,
    it is observing patterns in the data and using them to predict new observations.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在任意给定点，砍伐的概率取决于其相邻单元的砍伐概率。最近邻方法寻找接近给定点的训练样本，以指示相邻实体的数量。简而言之，这是观察数据模式并使用它们来预测新观察结果。
- en: The statistics behind many of the methods used in this example, such as Markov
    Chain Monte Carlo (MCMC) methods, involve advanced concepts beyond the focus of
    this book, but if you’re interested in learning more, see the [Appendix](app01.xhtml#appendix).
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 本示例中使用的许多方法背后的统计学，如马尔可夫链蒙特卡罗（MCMC）方法，涉及超出本书重点的高级概念，但如果您有兴趣了解更多，请参阅[附录](app01.xhtml#appendix)。
- en: 'For those who know some statistics, briefly, the Intrinsic Conditional Auto-Regressive
    (iCAR) model allows estimations of varying probability of deforestation regardless
    of the nature of immeasurability. For example, it is impossible to measure each
    individual tree and its impact on the tree cover. We use a logistic regression
    model of a binary outcome: 1 if a forest pixel is deforested (fewer pixels) and
    0 if it is not.'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一些了解统计学的人来说，简而言之，内在条件自回归（iCAR）模型允许估计砍伐概率的变化，而不考虑不可测性的性质。例如，不可能测量每棵树及其对树冠的影响。我们使用二元结果的Logistic回归模型：如果森林像素被砍伐（像素较少），则为1，否则为0。
- en: Run the code in the notebook if you are interested in the model preparation
    or variable selection models. The deep statistical tangent is out of the scope
    of this book, but understanding the process is quite interesting.^([4](ch10.xhtml#ch01fn17))
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对模型准备或变量选择模型感兴趣，请在笔记本中运行代码。深入的统计学内容超出本书的范围，但理解过程非常有趣。^([4](ch10.xhtml#ch01fn17))
- en: 'Let’s look at the model summary:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看模型总结：
- en: '[PRE45]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: What you are observing is that when the coefficient is negative, the variable
    has a negative effect on what you are measuring. For example, the likelihood of
    deforestation is higher when the distance from the road is smaller.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 您观察到的是，当系数为负时，该变量对您测量的影响是负面的。例如，当距离道路的距离较小时，砍伐的可能性较高。
- en: The MCMC Distance Matrix
  id: totrans-249
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MCMC距离矩阵
- en: First, we sample the data, then we prepare, run, and test the model. The model
    is summarized in [Figure 10-20](#mcmc_traces). The statistics behind many of the
    methods are advanced concepts beyond the focus of this book but are highlighted
    in the article “Spatial Scenario of Tropical Deforestation and Carbon Emissions
    for the 21st Century” by Ghislain Vieilledent et al. Briefly, MCMC methods are
    used in Bayesian inference and are based on techniques used to generate random
    sampling sequences to approximate a probability distribution.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们对数据进行抽样，然后准备、运行和测试模型。模型总结在[图10-20](#mcmc_traces)中显示。许多方法背后的统计学涵盖了本书关注之外的高级概念，但在“21世纪热带砍伐和碳排放的空间情景”一文中由Ghislain
    Vieilledent等人进行了强调。简言之，MCMC方法用于贝叶斯推断，基于生成随机采样序列的技术来近似概率分布。
- en: MCMC tools, in brief, verify if an algorithm-generated sample is sufficient
    to serve as an approximation of the at-large distribution. Is your sample size
    large enough? To simplify a discussion on traces and posteriors, MCMC draws samples
    from posterior distributions, summaries of uncertainty that you can update based
    on new information. In a nutshell, once you see the data, you are likely to update
    your knowledge.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，MCMC工具验证算法生成的样本是否足以作为整体分布的近似。你的样本大小足够大吗？简化关于跟踪和后验的讨论，MCMC从后验分布中抽取样本，这些样本总结了不确定性，你可以根据新信息进行更新。简言之，一旦你看到数据，你可能会更新你的知识。
- en: The main purpose is to make sure that the effective size of your sample is not
    too small and that the samples are similar to the target population. Compare the
    trace to the shape of the sample histograms to the normal distributions in [Figure 10-20](#mcmc_traces).
    Do you notice any potential skew?
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 主要目的是确保样本的有效大小不会太小，并且样本与目标人群相似。比较跟踪与样本直方图形状与[图10-20](#mcmc_traces)中的正态分布。你注意到任何潜在的偏斜吗？
- en: '![MCMC traces](assets/pgda_1020.png)'
  id: totrans-253
  prefs: []
  type: TYPE_IMG
  zh: '![MCMC跟踪](assets/pgda_1020.png)'
- en: Figure 10-20\. MCMC traces
  id: totrans-254
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-20\. MCMC跟踪
- en: Modeling Deforestation Probability with predict_raster_binomial_iCAR
  id: totrans-255
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用`predict_raster_binomial_iCAR`模型建模森林砍伐概率。
- en: Using `predict_raster_binomial_iCAR`, you can predict the spatial probability
    of deforestation from the `model_binomial_iCAR` model by computing block by block
    over large geographical areas. Selecting just 10 rows should help limit memory
    drain.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`predict_raster_binomial_iCAR`，您可以通过在大地理区块上逐块计算来预测来自`model_binomial_iCAR`模型的砍伐空间概率。选择仅10行应有助于限制内存使用。
- en: Run the code in the notebooks, and let’s look at the generated graphics here.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 在笔记本中运行代码，让我们在这里看生成的图形。
- en: The output shown in [Figure 10-21](#probability_tiff) shows deforested areas
    as white and forested areas as black.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '[图10-21](#probability_tiff)中显示的输出将砍伐区域显示为白色，森林区域显示为黑色。'
- en: '![Probability TIFF](assets/pgda_1021.png)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![概率TIFF](assets/pgda_1021.png)'
- en: Figure 10-21\. Probability TIFF
  id: totrans-260
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图10-21\. 概率TIFF
- en: This model predicts that annual deforestation between 2010 and 2020 was 498.375
    hectares per year. For comparison, that is the equivalent of more than 11,000
    NBA basketball courts or 930 football fields (including the endzones). The notebook
    includes code to analyze predictions for future forest-cover change. [Figure 10-22](#forest_cover_changecomma_twozerozerozer)
    shows historical forest-cover change for the period between 2000 and 2020.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型预测，2010年至2020年间的年度砍伐面积为498.375公顷。作为比较，这相当于超过11,000个NBA篮球场或930个足球场（包括端区）。本笔记本包含了分析未来森林覆盖变化预测的代码。[图 10-22](#forest_cover_changecomma_twozerozerozer)显示了2000年至2020年间历史森林覆盖变化。
- en: 'Modeling data and generating probabilities and projections are powerful tools
    for open source communities tasked with monitoring the threat to our rain forests
    and the deleterious downstream impact on our ecosystems and climate. Run the code
    to try modeling the data forward to 2050 and 2100:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 数据建模和生成概率以及预测是开源社区在监测我们的雨林受到威胁及其对生态系统和气候的有害影响时强大的工具。运行代码，尝试将数据模型推进到2050年和2100年：
- en: '[PRE46]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '![Forest-cover change, 2000, 2010, and 2020](assets/pgda_1022.png)'
  id: totrans-264
  prefs: []
  type: TYPE_IMG
  zh: '![2000、2010和2020年森林覆盖变化](assets/pgda_1022.png)'
- en: Figure 10-22\. Forest-cover change, 2000, 2010, and 2020
  id: totrans-265
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-22\. 2000、2010和2020年的森林覆盖变化
- en: 'The output is shown in [Figure 10-23](#future_forest_covercomma_twozerofivezer):'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示在[图 10-23](#future_forest_covercomma_twozerofivezer)中：
- en: '[PRE47]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '![Future forest cover, 2050](assets/pgda_1023.png)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![2050年未来的森林覆盖](assets/pgda_1023.png)'
- en: Figure 10-23\. Future forest cover, 2050
  id: totrans-269
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 10-23\. 未来的森林覆盖，2050年
- en: The persistent impact of ongoing deforestation can be monitored by tracking
    carbon emissions as well.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 持续的森林砍伐影响可以通过跟踪碳排放来监测。
- en: Carbon Emissions
  id: totrans-271
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 碳排放
- en: 'The carbon emissions of current and future deforestation can be calculated
    from the aboveground biomass (*AGB.tif*) file and the function `.emissions()`:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 当前和未来砍伐的碳排放可以从地上生物量（*AGB.tif*）文件和函数`.emissions()`中计算出来：
- en: '[PRE48]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'To view the dataframe of deforestation rate estimates:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 若要查看砍伐率估算的数据框：
- en: '[PRE49]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Estimating the persistent rate of change in deforestation rates, annual carbon
    emissions will continue to increase, as depicted in the output of the code cell:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 预计砍伐率的持续变化速率，年碳排放将继续增加，如代码单元格输出所示：
- en: '[PRE50]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: The model predicts that, in the absence of robust preservation or conservation
    in the area, carbon emissions will continue to increase rapidly.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 模型预测，在该地区若没有强有力的保护或保育措施，碳排放将继续迅速增加。
- en: Analysis
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分析
- en: This section showed you an approach for using your Python and geospatial analytics
    skills to model and forecast tropical deforestation at the country level. This
    approach allows us to estimate the individual effect of each of several different
    environmental factors on the probability of deforestation.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 本节向您展示了一种使用Python和地理空间分析技能在国家级别建模和预测热带森林砍伐的方法。该方法使我们能够估计几种不同环境因素对砍伐概率的单独影响。
- en: 'The findings are easy to interpret: deforestation becomes more likely as forested
    land becomes more accessible. Deforestation is less likely inside protected areas.
    We also showed that there is a great deal of spatial variability in the deforestation
    process, and we need to account for that to be able to forecast deforestation
    in a realistic way at the national scale.'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 研究结果易于解释：随着森林土地的更易接近，砍伐变得更有可能。在受保护区内，砍伐的可能性较低。我们还表明，在砍伐过程中存在很大的空间变异性，我们需要考虑这一点，以便能够在国家尺度上以现实方式预测砍伐。
- en: Summary
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter provided a glimpse into the available packages you can use to explore
    and analyze climate change and its potential risks using location intelligence
    and geospatial tools.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 本章向您展示了可以使用的可用包，以探索和分析使用位置智能和地理空间工具的气候变化及其潜在风险。
- en: In this book, you have been introduced to geospatial analysis and important
    Python libraries, packages, and tools. In the beginning, introductory packages
    like pandas and GeoPandas introduced you to working with dataframes and GeoDataFrames.
    Tools like NumPy, matplotlib, and Plotly began to appear as important dependencies
    for more complex packages.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您已经介绍了地理空间分析和重要的Python库、包和工具。在开始阶段，介绍了像pandas和GeoPandas这样的入门包，使您能够处理数据框架和地理数据框架。随着更复杂包的出现，像NumPy、matplotlib和Plotly等工具成为了重要的依赖项。
- en: I hope the long journey has been worth your time, and that you’ll continue to
    explore these functions, tools, packages, and more. Any work in data science is
    iterative. You gain confidence from practice—and, dare I say, from navigating
    the hiccups along the way.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '-   我希望这段长途旅程对你的时间是值得的，也希望你会继续探索这些功能、工具、软件包等等。数据科学的工作是迭代的。你通过实践获得信心——我敢说，也是通过应对途中的波折。'
- en: Kudos on your journey.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '-   对你的旅程表示祝贺。'
- en: '^([1](ch10.xhtml#ch01fn14-marker)) To learn more, I recommend this paper, which
    introduces WTSS to create a time series from remote sensing data in the Brazilian
    rainforest: Vinhas, L., Queiroz, G. R., Ferreira, K. R., and Camara, G. 2017\.
    “Web Services for Big Earth Observation Data.” *Revista Brasileira de Cartografia*
    69: 5\. [English translation](https://oreil.ly/rbckx).'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '^([1](ch10.xhtml#ch01fn14-marker)) 欲了解更多信息，我推荐这篇论文，介绍了WTSS如何从巴西雨林的遥感数据中创建时间序列：Vinhas,
    L., Queiroz, G. R., Ferreira, K. R., 和 Camara, G. 2017\. “Web Services for Big
    Earth Observation Data.” *Revista Brasileira de Cartografia* 69: 5\. [英文翻译](https://oreil.ly/rbckx).'
- en: '^([2](ch10.xhtml#ch01fn15-marker)) Earth Observation Data Cubes for Brazil:
    Requirements, Methodology and Products, Earth Observation and Geoinformatics Division,
    National Institute for Space Research (INPE), Avenida dos Astronautas, 1758, Jardim
    da Granja, Sao Jose dos Campos, SP 12227-010, Brazil.'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '^([2](ch10.xhtml#ch01fn15-marker)) Earth Observation Data Cubes for Brazil:
    Requirements, Methodology and Products, Earth Observation and Geoinformatics Division,
    National Institute for Space Research (INPE), Avenida dos Astronautas, 1758, Jardim
    da Granja, Sao Jose dos Campos, SP 12227-010, Brazil.'
- en: '^([3](ch10.xhtml#ch01fn16-marker)) Ito, Akihiko. 2019\. “Disequilibrium of
    Terrestrial Ecosystem CO[2] Budget Caused by Disturbance-Induced Emissions and
    Non-CO[2] Carbon Export Flows: A Global Model Assessment.” *Earth System Dynamics*
    10: 685–709\. [*https://doi.org/10.5194/esd-10-685-2019*](https://doi.org/10.5194/esd-10-685-2019).'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '^([3](ch10.xhtml#ch01fn16-marker)) Ito, Akihiko. 2019\. “Disequilibrium of
    Terrestrial Ecosystem CO[2] Budget Caused by Disturbance-Induced Emissions and
    Non-CO[2] Carbon Export Flows: A Global Model Assessment.” *Earth System Dynamics*
    10: 685–709\. [*https://doi.org/10.5194/esd-10-685-2019*](https://doi.org/10.5194/esd-10-685-2019).'
- en: '^([4](ch10.xhtml#ch01fn17-marker)) For a deeper dive into the statistical methods
    at work here, please see: Vieilledent, Ghislain, Vancutsem, Christelle, Bourgoin,
    Clément, Ploton, Pierre, Verley, Philippe, and Achard, Frédéric. 2022\. “Spatial
    Scenario of Tropical Deforestation and Carbon Emissions for the 21st Century.”
    BioRxiv preprint. [*https://www.biorxiv.org/content/biorxiv/early/2022/07/23/2022.03.22.485306.full.pdf*](https://www.biorxiv.org/content/biorxiv/early/2022/07/23/2022.03.22.485306.full.pdf)'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: ^([4](ch10.xhtml#ch01fn17-marker)) 有关此处所使用的统计方法的深入探讨，请参阅：Vieilledent, Ghislain,
    Vancutsem, Christelle, Bourgoin, Clément, Ploton, Pierre, Verley, Philippe 和
    Achard, Frédéric. 2022\. “Spatial Scenario of Tropical Deforestation and Carbon
    Emissions for the 21st Century.” BioRxiv 预印本。[*https://www.biorxiv.org/content/biorxiv/early/2022/07/23/2022.03.22.485306.full.pdf*](https://www.biorxiv.org/content/biorxiv/early/2022/07/23/2022.03.22.485306.full.pdf)
