- en: Chapter 2\. Quantitative Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二章。定量分析
- en: This chapter is about crafting visualizations that show distribution, spread,
    and plenty of nuance. If you’ve ever worked with data, you know it can be a challenge
    to communicate detailed, complex information in clear and accessible ways. We’ll
    offer techniques to help you overcome this challenge.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章讨论的是制作展示分布、传播和许多细微差别的可视化图表。如果您曾经处理过数据，您就会知道，在清晰和易于理解的方式中传达详细复杂信息可能是一项挑战。我们将提供技术来帮助您克服这一挑战。
- en: 'The visualizations in this chapter focus on measures and statistics. Using
    numeric fields, we’ll show you how different charts can provide different insights
    through numerical representations of data values. *Measures* are numeric fields
    to which we can apply functions, like `SUM()`. *Statistics* is, of course, a branch
    of mathematics; in Tableau, we use its concepts in specialized functions, working
    with averages, medians, means, standard deviations (SDs), and more. (Don’t worry
    if you never took statistics in school—we’ll walk you through it!) These functions
    don’t necessarily produce a summative value, like total sales; instead, they usually
    describe how the data points are distributed: their highs, their lows, where data
    points are concentrated, and where the outliers are.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的可视化重点是度量和统计。使用数值字段，我们将向您展示不同的图表如何通过数据值的数值表示提供不同的洞见。*度量*是我们可以应用函数如`SUM()`的数值字段。*统计*当然是数学的一个分支；在Tableau中，我们使用它的概念在专门的函数中工作，处理平均数、中位数、均值、标准偏差（SD）等等。（如果你以前没有学过统计学也不用担心——我们会一步步引导你！）这些函数通常不会产生类似总销售额的总和值，而是描述数据点如何分布：它们的高点、低点、数据点集中的地方以及离群值的位置。
- en: Every dataset has a unique data shape. Most have some common features once you
    explore them. Some data shapes can be hard to work with, so we’ll also explore
    techniques to work with those.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 每个数据集都有独特的数据形状。一旦您探索它们，大多数都具有一些共同的特征。有些数据形状可能很难处理，因此我们还将探讨处理这些形状的技术。
- en: 'In this chapter, we’ll explore the following types of visualizations:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨以下类型的可视化：
- en: Histogram
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直方图
- en: Dot plot
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点图
- en: Jitterplot
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 抖动图
- en: Ranged dot plot
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 范围点图
- en: Box plot
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 箱线图
- en: Line chart
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 折线图
- en: Pareto chart
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帕累托图
- en: Because we know you’re using these visualizations to do your job, we’ll keep
    using case studies to help you see how these chart types function in real-world
    business communications that involve real people (like your boss). Through our
    advice to analysts for an office-supply retailer, a delivery and logistics company,
    and a large bank, we’ll give you a general overview of each type, including what
    it looks like, its advantages and disadvantages, and the kinds of information
    it’s best for. We’ll also spend time working with some core concepts from statistics
    that you can use to bring your data insights to the next level.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我们知道您正在使用这些可视化工具来完成工作，我们将继续使用案例研究来帮助您了解这些图表类型在涉及真实人员（比如您的老板）的实际业务沟通中如何运作。通过我们对办公用品零售商、物流公司和大型银行的分析师的建议，我们将为您概述每种类型的一般情况，包括其外观、优缺点以及它最适合的信息类型。我们还将花时间学习一些统计学的核心概念，这些概念可以帮助您将数据见解提升到更高的水平。
- en: 'Histograms: Office Essentials Case Study'
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直方图：办公必需品案例研究
- en: Our first case study involves a large retail chain that sells office supplies.
    We’ll call it *Office Essentials* (*OE*). The data team is getting ready to make
    a big presentation to the OE C-suite and board. The team has been asked to do
    an analysis of customers’ purchasing behaviors. The board wants to know who is
    placing orders, how often, and how many.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的第一个案例研究涉及销售办公用品的大型零售连锁店。我们称之为*办公必需品*（*OE*）。数据团队正准备向OE的高级管理层和董事会做一次重要的演示。董事会希望了解谁在下订单，多频繁，以及数量有多少。
- en: What metrics should the team members be trying to tease out of this data? And
    what’s the best way for them to present what they find, knowing that they might
    have only a few seconds to communicate the most important insights from the data?
    The team members know that they need to be thinking about order frequency, for
    one thing. How many orders do OE’s customers place? Are most of them frequent
    return shoppers, or do they purchase only once?
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 团队成员应该从这些数据中挖掘出哪些指标？以及他们如何最好地展示他们所发现的内容，知道他们可能只有几秒钟来传达数据中最重要的见解？团队成员知道他们需要考虑的一件事是订单频率。OE的客户下了多少订单？他们大多数是经常回购的顾客，还是只购买一次？
- en: To answer this question, the best chart to turn to is the histogram. Before
    we dive into making one, let’s give you some background on this popular chart
    type.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 要回答这个问题，最好的图表是直方图。在我们深入制作之前，让我们先给您一些关于这种流行图表类型的背景知识。
- en: A *histogram* is a specialized bar chart used to visualize *distributions*,
    or spreads, of data points that have a numerical value. In this case, how are
    OE’s sales distributed across its customers? You might decide to look at the number
    of customers who spent $100 to $200 last year at one of OE’s retail stores, or
    the number of times a certain customer purchases a specific product.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一个*直方图*是一种专门用于可视化具有数值的数据点*分布*或散布的条形图。在这种情况下，OE公司的销售如何在其客户中分布？您可能决定查看去年在OE公司的零售店中花费100到200美元的客户数量，或特定客户购买特定产品的次数。
- en: Unlike a standard bar chart, the y-axis of a histogram (that’s the vertical
    one) has a numerical value, range, or interval (often referred to as a *bin*),
    represented as a header, and its x-axis (the horizontal one) represents a frequency,
    like the number of orders per customer per year. A histogram is a bar chart with
    the frequency on the x-axis and the number of customers on the y-axis.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 与标准条形图不同，直方图的y轴（即垂直轴）具有数字值、范围或间隔（通常称为*bin*），表示为一个标题，其x轴（即水平轴）表示频率，如每年每位客户的订单数。直方图是一种在x轴上表示频率，在y轴上表示客户数的条形图。
- en: 'Strategy: Make a Simple Histogram of Purchasing Behavior'
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个简单的购买行为直方图
- en: 'For this type of chart, we will utilize a LOD expression instead of bins to
    construct histograms. As noted in [Chapter 1](ch01.xhtml#categorical_analysis),
    Tableau’s LOD expressions allow you to define the *aggregation* of a measure (such
    as sum, average, or median). By default, Tableau bases the aggregation of any
    field on the detail or fields in the view or worksheet, but LODs let you create
    customized aggregated fields. Let’s try it out:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这种类型的图表，我们将使用LOD表达式而不是bin来构建直方图。正如在[第 1 章](ch01.xhtml#categorical_analysis)中提到的，Tableau的LOD表达式允许您定义度量的*聚合*（如总和、平均值或中位数）。默认情况下，Tableau基于视图或工作表中的详细信息或字段来聚合任何字段，但LOD允许您创建定制的聚合字段。让我们来试试：
- en: 'Create a field called `**[# Orders per Customer]**`. This tells Tableau to
    count the distinct number of orders by each customer name:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[# Orders per Customer]**`的字段。这告诉Tableau按客户名称统计订单的不同数量：
- en: '[PRE0]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Right-click the measure and choose Create → Bins. A dialog box opens.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击度量并选择创建 → Bins。将打开对话框。
- en: Tableau will automatically suggest a bin size after reviewing the various values
    for your measure. You are free to adjust these to suit your needs. For this analysis,
    it doesn’t make sense for the number of orders per customer to be a decimal, so
    change the bin size to 1.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在审查度量的各种值后，Tableau将自动建议一个bin大小。您可以自由调整这些以满足您的需求。对于这个分析，客户订单数量不应该是小数，所以将bin大小改为1。
- en: Once you create the bin, it shows up as a discrete dimension in the Data pane.
    This is an important point, because it will give you insight into how the field
    will behave when we use it in a chart.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建bin后，它会显示为数据窗格中的离散维度。这是一个重要的观点，因为它将为您使用它在图表中时的行为提供洞察。
- en: Now, drag [Orders per Customer (bin)] onto Columns. As expected, Tableau has
    created discrete headers.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将[Orders per Customer (bin)]拖放到列中。正如预期的那样，Tableau创建了离散的标题。
- en: 'Now, drag [# of Customers], which is the COUNTD([Customer Name]) measure, onto
    Rows:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将[# of Customers]，即COUNTD([Customer Name])度量，拖放到行中：
- en: '[PRE1]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You should end up with something like [Figure 2-1](#a_histogram_of_order_frequency_by_number).
    Let’s stop and digest this visualization.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该得到类似于[图 2-1](#a_histogram_of_order_frequency_by_number)的结果。让我们停下来消化这个可视化效果。
- en: '![A histogram of order frequency by number of customers](Images/TAST_0201.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![客户数量的订单频率直方图](Images/TAST_0201.png)'
- en: Figure 2-1\. A histogram of order frequency by number of customers
  id: totrans-31
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-1\. 客户数量的订单频率直方图
- en: 'Even if you haven’t taken a statistics class, you’re probably familiar with
    one of the most common visuals in statistics: the normal distribution, also widely
    known as a *bell curve* ([Figure 2-2](#a_normal_distribution_with_percentages_f)).
    Whenever you’re looking at a histogram, the normal distribution should come to
    mind.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您没有上过统计课，您可能也熟悉统计学中最常见的视觉之一：正态分布，也广为人知为*钟形曲线*（[图 2-2](#a_normal_distribution_with_percentages_f)）。每当您查看直方图时，正态分布应该会出现在您的脑海中。
- en: 'While the histogram you created just now is *not* a normal distribution, comparing
    it to the normal distribution will prove useful in trying to explain the shape
    of the data. In a *normal distribution*, data is represented such that the top
    of the curve represents the mean, or average. The curve is symmetrical: exactly
    half of the data is to the left, and half is to the right of the mean.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管你刚刚创建的直方图*不是*正态分布，但将其与正态分布进行比较将有助于解释数据形状。在*正态分布*中，数据被表示为曲线的顶部代表平均值或平均值。曲线是对称的：数据的一半位于平均值的左侧，另一半位于右侧。
- en: When you are working with numbers, *standard deviation* (*SD*) refers to how
    the numbers in your dataset spread out from “normal,” or the average. In practice,
    the larger your SD, the more variation exists among your data points; conversely,
    the smaller your SD, the smaller the difference, or data spread. In a normal distribution,
    a majority of the data is within one SD of the mean; 95% of the data is two SDs
    from the average.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当你处理数字时，*标准偏差*（*SD*）指的是数据集中数字从“正常”或平均值分散出来的程度。在实践中，你的 SD 越大，数据点之间的变化就越大；相反，SD
    越小，差异或数据分散就越小。在正态分布中，大多数数据在平均值的一个 SD 内；95% 的数据距平均值两个 SD。
- en: '![A normal distribution with percentages for each standard deviation](Images/TAST_0202.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![一个正态分布，显示每个标准差的百分比](Images/TAST_0202.png)'
- en: Figure 2-2\. A normal distribution with percentages for each standard deviation
  id: totrans-36
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-2\. 一个正态分布，显示每个标准差的百分比
- en: You can see from the chart you made ([Figure 2-1](#a_histogram_of_order_frequency_by_number))
    that the order frequency is definitely centered on a range of four to eight orders,
    and that a few customers order much more frequently (we’ll call them outliers).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从你制作的图表中看到（[图 2-1](#a_histogram_of_order_frequency_by_number)），订单频率明显集中在四到八个订单的范围内，而一些顾客订单频率更高（我们称他们为异常值）。
- en: We can create even more immediate value out of the histogram by cutting it into
    small multiples and comparing the distribution, or spread, of the data among a
    dimension such as [Segment], as shown in [Figure 2-3](#histograms_of_order_frequency_by_custome).
    We’ll go into this chart type more in [Chapter 3](ch03.xhtml#making_comparisons),
    but for now, just know that a small multiples chart (also known as a *trellis
    chart*) is actually a series of charts that use the exact same axes, most often
    ordered in a grid.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过将直方图切分为小多个并比较数据在诸如 [Segment] 这样的维度上的分布或扩展来创造更即时的价值，如 [图 2-3](#histograms_of_order_frequency_by_custome)
    所示。我们将在 [第 3 章](ch03.xhtml#making_comparisons) 中更详细地讨论这种图表类型，但现在只需知道，小多个图表（也称为*格栅图*）实际上是一系列使用完全相同轴线的图表，通常以网格形式排列。
- en: Try dragging [Segment] onto Rows and also onto Color.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试将 [Segment] 拖动到行和颜色上。
- en: '![Histograms of order frequency by customer separated by segment](Images/TAST_0203.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![按顾客分割的订单频率直方图，按部门分开](Images/TAST_0203.png)'
- en: Figure 2-3\. Histograms of order frequency by customer separated by segment
  id: totrans-41
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-3\. 按顾客分割的订单频率直方图，按部门分开
- en: 'Now here is where things get interesting. Previously, we saw the overall distribution
    of order frequency among customers, but now we’ve separated it out by business
    unit/segment. While the data shape of each of the histograms is *similar* to the
    original, we can definitely discern some differences among them:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在事情变得有趣了。之前，我们看到了顾客订单频率的总体分布，但现在我们已经按业务单位/部门将其分开了。尽管每个直方图的数据形状与原始数据类似，但我们肯定可以分辨出它们之间的一些差异：
- en: The overall number of customers purchasing from the Consumer segment dominates
    the other two segments.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从整体上看，购买来自消费者部门的顾客数量占据了其他两个部门。
- en: Those outlier customers exist only within the Consumer segment.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些异常客户仅存在于消费者部门。
- en: The order frequency for Home Office looks relatively stable, generally ranging
    from 4 to 9; the amounts are much closer together for this segment than for others.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 家庭办公室的订单频率看起来相对稳定，通常范围在 4 到 9 之间；与其他部门相比，这个段的数量更加接近。
- en: For more precision, try changing the y-axis to be independent for each row,
    as shown in [Figure 2-4](#histograms_of_order_frequency_by_number). When you make
    this change, though, do so with caution! It should be very clear what the bar
    lengths represent and that they are unique for each of the segments.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更精确，尝试将 y 轴改为每行独立，如 [图 2-4](#histograms_of_order_frequency_by_number) 所示。不过，当你做出这个改变时，请务必小心！应该非常清楚条形图长度代表什么，以及它们在每个部分中是唯一的。
- en: '![Histograms of order frequency by number of customers with independent y-axes](Images/TAST_0204.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![独立 y 轴下的订单频率直方图](Images/TAST_0204.png)'
- en: Figure 2-4\. Histograms of order frequency by number of customers with independent
    y-axes
  id: totrans-48
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-4\. 独立 y 轴下的订单频率直方图
- en: Let’s look at a few other techniques you can utilize to make even more-effective
    histograms.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看您可以利用的其他几种技术，以制作更有效的直方图。
- en: 'Strategy: Create a Histogram with a Continuous Bin'
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个具有连续区间的直方图
- en: In mathematics and statistics books, histograms usually show the bars without
    any space between them, as seen in [Figure 2-5](#in_these_continuous_histograms_of_order).
    To do this, change your bin from discrete to continuous by right-clicking the
    field.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在数学和统计书籍中，直方图通常显示没有任何间隙的条形图，正如[图 2-5](#in_these_continuous_histograms_of_order)所示。要做到这一点，通过右键单击字段将您的箱从离散变成连续。
- en: '![In these continuous histograms of order frequency by number of customers,
    note the lack of space between bars](Images/TAST_0205.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![这些连续直方图的订单频率是按客户数量计算的，注意条形之间的空隙](Images/TAST_0205.png)'
- en: Figure 2-5\. In these continuous histograms of order frequency by number of
    customers, note the lack of space between bars
  id: totrans-53
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-5\. 这些连续直方图的订单频率是按客户数量计算的，注意条形之间的空隙
- en: 'Recall, from [Chapter 1](ch01.xhtml#categorical_analysis), that continuous
    fields will draw axes: this means that instead of having a header for each order
    bin, we will have an unbroken number line. Additionally, the width of the bars
    will automatically change to the size of the bins—in our case, 1.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，从[第 1 章](ch01.xhtml#categorical_analysis)可以知道，连续字段将绘制坐标轴：这意味着，我们不再为每个订单区间设定标题，而是使用一个不间断的数轴。此外，柱的宽度将自动调整为区间的大小——在我们的情况下，是
    1。
- en: 'Strategy: Use LOD Expressions in Histograms'
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：在直方图中使用 LOD 表达式
- en: The last thing we can do is take the existing bins and create a bin for anything
    of a certain number or greater. Why go through this extra effort? Two reasons.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以做的最后一件事是将现有的箱子创建为任何数量或更多的箱子。为什么要做这些额外的努力？有两个原因。
- en: First, we reduce the overall noise in the chart. Odds are, when you looked at
    the initial histogram, your eyes were drawn to the right. This may have even prevented
    you from accurately remembering the overall shape of the histogram.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们减少图表中的整体噪声。很可能，当您查看初始直方图时，您的视线被吸引到右侧。这甚至可能会妨碍您准确记住直方图的整体形状。
- en: 'Next, the chart becomes easier to read aloud, which will be helpful in your
    presentation. Since there are so few members in the 11 through 17 group, bucketing
    them together allows us to assign a single number to that grouping. [Figure 2-6](#orders_per_customer_grouping)
    shows the visualization that results from these steps:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，图表在演讲时变得更易读，这对您的演示非常有帮助。由于 11 到 17 组中成员如此之少，将它们分组在一起使我们可以为该组分配一个单一的数字。这些步骤的结果如[图
    2-6](#orders_per_customer_grouping)所示：
- en: Create the same histogram as in [Figure 2-1](#a_histogram_of_order_frequency_by_number)
    (which shows the order frequency by customer).
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建与[图 2-1](#a_histogram_of_order_frequency_by_number)相同的直方图（显示按客户计算的订单频率）。
- en: 'Create a calculated field called `**[Orders per Customer Grouping]**`. This
    calculation will combine orders per customer that are greater than 11 into a single
    section. This will get rid of the empty bins and group everything into one final
    bar:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[Orders per Customer Grouping]**`的计算字段。此计算将把大于 11 的每个客户的订单组合成一个部分。这将消除空箱子并将所有内容分组到一个最终柱中：
- en: '[PRE2]'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![Orders per Customer grouping](Images/TAST_0206.png)'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![每个客户的订单分组](Images/TAST_0206.png)'
- en: Figure 2-6\. Orders per Customer grouping
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-6\. 每个客户的订单分组
- en: Drag and drop your newly calculated field on top of [Orders per Customer] on
    the Columns shelf. You should right-click and drag this into the visualization
    so that you can quickly drop it as a dimension, as opposed to an aggregated measure
    (see [Figure 2-7](#dropping_a_field)).
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您新计算的字段拖放到[每个客户的订单]列上。您应该右键单击并将其拖放到可视化效果中，以便快速将其作为维度而不是聚合度量项放置（见[图 2-7](#dropping_a_field)）。
- en: '![Dropping a field](Images/TAST_0207.png)'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![拖放字段](Images/TAST_0207.png)'
- en: Figure 2-7\. Dropping a field
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-7\. 拖放字段
- en: 'Now your chart has everything over 10 in a single bar. Consider this an intermediary
    step to our solution. We would *never* suggest that you should share this histogram
    with your audience: the final bar would be confusing and potentially misleading.'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在你的图表中所有大于 10 的数据都集中在一个柱状图中。将其视为我们解决方案的中间步骤。我们绝对*不建议*您与观众分享这个直方图：最终的柱状图可能会令人困惑，甚至有误导性。
- en: Instead, we will make one last change for the sake of accuracy. First we’ll
    change the field to discrete by right-clicking it on the Columns shelf. Next we
    will *alias* (that is, assign an alias to) the value of 11 to 11+. You can alias
    this value by right-clicking 11 and selecting Edit Alias. [Figure 2-8](#completed_histogram)
    shows the result.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相反，为了准确性的缘故，我们将进行最后一次更改。首先，通过右键单击列架上的字段将其更改为离散。接下来，我们将对值11进行*别名*（即为其指定别名）。您可以通过右键单击11并选择编辑别名来为此值指定别名。[图2-8](#completed_histogram)
    显示了结果。
- en: '![Completed histogram](Images/TAST_0208.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![完成的直方图](Images/TAST_0208.png)'
- en: Figure 2-8\. Completed histogram
  id: totrans-70
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-8\. 完成的直方图
- en: Now we’ve neatly dealt with the right “tail” of the data, and the 11+ clearly
    communicates to the audience that the final bar represents everything greater
    than or equal to 11\. Good luck with your presentation!
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经清楚地处理了数据的右“尾部”，而11+清楚地向观众传达了最终柱形条代表的大于或等于11的一切。祝你的演示好运！
- en: 'Dot Plots and Jitterplots: Office Essentials Case Study'
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 点图和抖动图：Office Essentials 案例研究
- en: The senior management team at Office Essentials now wants to know, on average,
    how much customers spend on each order. What kind of chart should the data team
    use?
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Office Essentials 的高级管理团队现在想要知道，客户每个订单平均花费多少。数据团队应该使用哪种类型的图表？
- en: 'Histograms alone won’t be enough to communicate all of your insights. You need
    a strategy that incorporates other chart types. This section introduces you to
    two types of charts you can use to display quantitative information: dot plots
    and jitterplots.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 单独的直方图将无法传达所有见解。您需要一个整合其他图表类型的策略。本节介绍了两种可用于显示定量信息的图表类型：点图和抖动图。
- en: 'If anyone ever asks you to provide the average of a metric, proceed with caution.
    An *average* is a very aggregated value; whenever you present only that level
    of information, you risk oversimplifying the underlying dataset. What’s more,
    your audience might rightly ask: “But what if there are outliers that skew the
    average?”'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有人要求你提供某个度量的平均值，请谨慎行事。*平均值* 是一个非常汇总的数值；当你只呈现这个信息级别时，你可能会过度简化底层数据集。更重要的是，你的听众可能会合理地问道：“但如果有离群值导致平均值偏斜怎么办？”
- en: If you have only the aggregate, responding might be difficult. To avoid that,
    we suggest starting with the detailed data and *then* presenting the aggregated
    average. Including this additional detail immediately provides you with a response
    and allows the audience to be more analytical in their thought process.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 如果只有聚合数据，回应可能会很困难。为了避免这种情况，我们建议从详细数据开始，然后再呈现汇总的平均值。包含这些额外细节立即为您提供了一个回应，并允许听众在思考过程中更具分析性。
- en: 'Strategy: Create a Basic Dot Plot'
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建基本点图
- en: 'A *dot plot* is a one-dimensional chart representing data as circles (dots).
    Each dot represents a single data point. This type of chart is effective when
    you have lots of data points or members within a dimension, or when the distribution
    of those data points is an important insight. We also like working with dot plots
    because they take up very little visual screen space. Let’s go ahead and build
    one out ([Figure 2-9](#a_dot_plot_showing_the_sales_amount_per)) and then take
    a closer look:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '*点图* 是一种将数据表示为圆圈（点）的一维图表。每个点代表一个单独的数据点。当你有大量数据点或者维度内有许多成员时，或者这些数据点的分布是重要见解时，这种图表非常有效。我们喜欢使用点图，因为它们在视觉屏幕上占用很少的空间。让我们继续构建一个（[图2-9](#a_dot_plot_showing_the_sales_amount_per)）并仔细观察一下：'
- en: Drag [Order ID] onto Detail on the Marks card. This will define the level at
    which you will display your data.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[订单ID]拖放到标记卡片的详细信息上。这将定义您将显示数据的级别。
- en: Drag `SUM([Sales])` to Columns.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`SUM([销售额])`拖放到列上。
- en: Change your mark type to Circle.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标记类型更改为圆圈。
- en: Since we have such dense data toward smaller values, add Transparency by changing
    the Opacity of Color to 60%.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于我们的数据朝向较小的数值密集，通过将颜色的不透明度改为60%，添加透明度。
- en: To ensure that you answer the original question, drag an Average Line from the
    Analytics pane across the entire Table.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确保回答原始问题，从分析窗格中拖放平均线跨整个表格。
- en: '![A dot plot showing the sales amount per order with an average](Images/TAST_0209.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![显示每个订单销售金额的点图，包含平均值](Images/TAST_0209.png)'
- en: Figure 2-9\. A dot plot showing the sales amount per order with an average
  id: totrans-85
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-9\. 显示每个订单销售金额的点图，包含平均值
- en: Now that you have the underlying picture, what conclusions can you draw? We
    would conclude that a lot of data density certainly exists around smaller values,
    and most likely around the average, but we can’t neglect the obvious outliers.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经有了潜在的图片，您能得出什么结论？我们会得出这样的结论，很多数据密度确实存在于较小的值周围，很可能在平均值周围，但我们不能忽视明显的异常值。
- en: The problem is, we now have a lot of data points that overlap, clumping together
    at a shared numerical value—which makes it hard to see the individual data points.
    To clean up this view, you need a way to expand all those data points that are
    collecting on top of one another. The technical term for this is *jittering* the
    data—that is, turning the dot plot into a jitterplot.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 问题是，现在我们有很多重叠的数据点，在共享的数值上聚集在一起，这使得很难看到单个数据点。为了清理这个视图，您需要一种方法来扩展所有那些在一起收集的数据点。这个技术术语称为*抖动*数据——即将点图转换为抖动图。
- en: 'Strategy: Create a Jitterplot'
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建抖动图
- en: When you create a jitterplot, you get the advantage of a dot plot, but with
    the members spread out randomly among the y-axis. The data points no longer overlap
    as much. A *jitterplot* is almost identical to a dot plot, but includes a numeric
    value on the y-axis. That value has no analytical value and should not be shown;
    its only purpose is to spread out the data and make it less dense, so it’s easier
    to read.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 创建抖动图时，您将获得点图的优势，但成员在y轴上随机分布。数据点不再重叠那么多。*抖动图*几乎与点图相同，但包括y轴上的数值。该值没有分析价值，不应显示；它的唯一目的是展开数据并使其更少密集，以便更容易阅读。
- en: 'If you are using a Tableau Extract or Published Data Source, you will have
    access to a built-in function called `RANDOM()` that returns a random decimal
    number from 0 to 1\. We highly recommend that you take advantage of this function
    if you can: it will ensure that your jitter is natural and not influenced by any
    other metrics. (Other methods involve indexing your data, requiring you to impose
    some type of ordering on the data.)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您正在使用Tableau抽取或已发布的数据源，则可以访问名为`RANDOM()`的内置函数，该函数返回0到1之间的随机小数。如果可以的话，我们强烈建议您利用这个函数：它将确保您的抖动是自然的，不受任何其他指标的影响。（其他方法涉及对数据进行索引，要求您对数据施加某种排序。）
- en: 'Follow these steps to create your jitterplot:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建您的抖动图：
- en: Double-click into Rows and type `**RANDOM()**`, and then press Enter. You will
    notice that the aggregation will be `SUM(RANDOM())`. Change this so it doesn’t
    overaggregate and return values greater than 1.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击进入行并输入`**RANDOM()**`，然后按Enter键。您会注意到聚合将是`SUM(RANDOM())`。更改此项，以免过度聚合并返回大于1的值。
- en: Change the aggregation to `MIN(RANDOM())` by right-clicking `SUM(RANDOM())`
    and changing the Measure to Minimum (see [Figure 2-10](#changing_the_measure_to_minimum)).
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过右键单击`SUM(RANDOM())`并将度量更改为最小值来更改聚合（参见[图2-10](#changing_the_measure_to_minimum)）。
- en: Right-click the y-axis (rows) and uncheck “Show Header.”
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击y轴（行）并取消选中“显示标题”。
- en: '![Changing the measure to minimum](Images/TAST_0210.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![将测量值更改为最小值](Images/TAST_0210.png)'
- en: Figure 2-10\. Changing the measure to minimum
  id: totrans-96
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-10\. 将测量值更改为最小值
- en: Let’s look at the resulting chart in [Figure 2-11](#a_completed_jitterplot).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看在[图2-11](#a_completed_jitterplot)中得到的结果图表。
- en: '![A completed jitterplot](Images/TAST_0211.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![完成的抖动图](Images/TAST_0211.png)'
- en: Figure 2-11\. A completed jitterplot
  id: totrans-99
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-11\. 完成的抖动图
- en: Now we have a much clearer picture of the data. When we looked at the previous
    chart, it was one-dimensional, so we really had no idea how much density there
    was toward the left side of the chart. This should give management the insight
    it needs.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们对数据有了更清晰的认识。当我们查看以前的图表时，它是一维的，所以我们真的不知道左侧有多少密度。这应该给管理层提供所需的洞察力。
- en: 'Ranged Dot Plots: Office Essentials Case Study'
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 范围点图：Office Essentials案例研究
- en: The jitterplot we created for OE has too much detail—it’s overwhelming. The
    team’s visualization will be shown as a slide during a presentation, so it needs
    to convey the point quickly. The senior managers want a soundbite—information
    they can easily remember and tell others.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为OE创建的抖动图细节太多了，让人感到不知所措。团队的可视化将在演示中作为幻灯片展示，因此需要快速传达重点。高级经理们想要简短精炼的信息——他们可以轻松记住并告诉他人。
- en: 'So you can’t convince your executives to embrace the jitterplot; it’s just
    too much data for them to consume. We’ve been in your shoes! How can we simplify
    this chart without losing important information? When we’ve encountered this situation,
    our first response has been to suggest a happy medium: show only the aggregate,
    but include the detail in a secondary place, like the tooltip.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，您无法说服您的高管接受抖动图，因为这对他们来说是太多的数据。我们曾经有过同样的困扰！我们如何在不丢失重要信息的情况下简化这个图表？当我们遇到这种情况时，我们的第一个反应是建议一个折中的方案：只显示聚合数据，但在类似提示工具的次要位置包含详细信息。
- en: 'If that’s still too much data, though, we have another solution: a *ranged
    dot plot*. It’s a distilled version of the dot plot that still demonstrates some
    key features of the data shape. Ranged dot plots represent aggregate values like
    the average, minimum, maximum, or median, instead of all the individual data points.
    They can be great visual representations of the overall scope of a dataset.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 不过，如果这仍然对您来说是太多的数据，我们有另一个解决方案：*范围点图*。它是点图的一种简化版本，仍然展示了数据形状的一些关键特征。范围点图表示聚合值，如平均值、最小值、最大值或中位数，而不是所有单个数据点。它们可以是数据集整体范围的良好视觉表示。
- en: Since your data is about the average amount customers spend, the key features
    you’ll want to focus on are the average (of course), the minimum, the maximum,
    and the range between the minimum and maximum.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您的数据是关于客户平均花费的数据，您需要关注的关键特征包括平均值（当然），最小值，最大值以及最小值和最大值之间的范围。
- en: 'Strategy: Create a Ranged Dot Plot'
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个范围点图
- en: 'Use these steps to create your ranged dot plot:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下步骤创建您的范围点图：
- en: 'Make sure there is a measure that represents the total sales per Order ID.
    In this dataset, that means you will create an LOD expression. This calculation
    is telling Tableau to find the `SUM()` of Sales for each Order ID, because your
    final visualization will not have an Order ID detail:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保有一个表示每个订单ID的总销售额的度量。在这个数据集中，这意味着您将创建一个LOD表达式。这个计算告诉Tableau找到每个订单ID的`SUM()`销售额，因为您的最终可视化效果将不包含订单ID的详细信息：
- en: '[PRE3]'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Right-click and drag [Sales by Order ID] onto the Columns shelf to select the
    aggregation, and choose `AVG()`. Set the mark type to Circle and choose a color
    of your liking.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并拖动[按订单ID销售]到列架上选择聚合方式，并选择`AVG()`。将标记类型设置为圆圈，并选择您喜欢的颜色。
- en: 'Make a calculated field called `**[Range of Order Sales]**` to find the difference
    between the maximum and the minimum:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 制作一个名为`**[订单销售范围]**`的计算字段，以找到最大值和最小值之间的差异。
- en: '[PRE4]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Right-click and drag [Sales by Order ID] to the Columns shelf again, but this
    time select Minimum. (You need a starting point for your range, and what better
    starting point than the minimum?) Make this a dual axis and synchronize your axes.
    Also make sure the marks for this new axis are in the back by right-clicking and
    selecting “Move marks to back.”
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次右键单击并拖动[按订单ID销售]到列架上，但这次选择最小值。（您需要一个范围的起点，没有比最小值更好的选择。）将其设置为双轴并同步轴线。还要确保这个新轴的标记位于后面，右键单击并选择“将标记移至后面”。
- en: Change the mark type to Gantt Bar. This will allow you to put a measure—namely,
    our [Range of Order Sales]—onto Size.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标记类型更改为甘特条形图。这将允许您将度量值——即我们的[订单销售范围]——放到大小上。
- en: Drag [Range of Order Sales] onto Size.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[订单销售范围]拖放到大小。
- en: Drag [Sub-Category] onto Rows so you can compare the range and averages among
    the product categories.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[子类别]拖放到行上，以便您可以比较产品类别之间的范围和平均值。
- en: Adjust formatting and sizing until you like the final visual (ours is in [Figure 2-12](#ranged_dot_plot)).
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整格式和大小，直到您喜欢最终的视觉效果（我们在[图 2-12](#ranged_dot_plot)中展示）。
- en: '![Ranged dot plot](Images/TAST_0212.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![范围点图](Images/TAST_0212.png)'
- en: Figure 2-12\. Ranged dot plot
  id: totrans-119
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-12\. 范围点图
- en: This visualization tells a much more compelling story. At a glance, your audience
    can see many elements, like the average per sub-category and the range, and do
    some natural visual comparisons. They can see, for example, that Envelopes orders
    average $550, and that the range isn’t too extreme compared to similar subcategories.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这种可视化效果讲述了一个更具吸引力的故事。一眼就能看到许多元素，如每个子类别的平均值和范围，并进行一些自然的视觉比较。例如，可以看到信封订单平均为$550，并且与类似子类别相比，范围并不是太极端。
- en: 'If you like this visualization, you can take it further as follows:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您喜欢这种可视化效果，可以进一步操作如下：
- en: If you find that you have heavy skew or outliers—as your data does—try changing
    the average to the median.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果发现您的数据存在严重偏斜或异常值——正如您的数据一样——尝试将平均值更改为中位数。
- en: If your audience can’t decide whether they want to see the median or the average,
    build in a parameter that allows them to toggle between the two.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的受众无法决定他们想要看到中位数还是平均数，请建立一个允许他们在两者之间切换的参数。
- en: You can also leverage percentiles instead of the minimum and maximum range.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您还可以利用百分位数而不是最小值和最大值范围。
- en: If you see that one or two extremes significantly pull the data shape, your
    strategy should be to make this known, but provide a solution. Let’s try percentiles
    and see what we come up with.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到一个或两个极端值显著地拉动数据形状，你的策略应该是让这一点知道，但提供一个解决方案。让我们试试百分位数，看看我们能得出什么结论。
- en: 'Strategy: Use Median and Leveraged Percentiles'
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用中位数和杠杆百分位数
- en: 'If you imagine your data spread out, *percentiles* allow you to cut up your
    data points into chunks, ranging from 0% to 100%. The most common percentiles
    are quantiles and deciles. *Quantiles* break the data into quarters: four equal
    portions, each 25% of the dataset. *Deciles* break the data into 10 equal pieces,
    each 10%.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想象你的数据散开，*百分位数*允许你把数据点分成从0%到100%的几个部分。最常见的百分位数是分位数和分位数。 *分位数* 将数据分成四分之一：四个相等的部分，每个部分占数据集的25%。
    *分位数* 将数据分成10个相等的部分，每个部分占10%。
- en: Percentiles are also used in statistical scenarios that relate back to the normal
    distribution. Remember that in a normal distribution, 95% of the data is two SDs
    from the average—so it might be appropriate to limit the range to between 2.5%
    and 97.5%, or to say that “95% of the data” is within a specific range.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 百分位数还用于与正态分布相关的统计场景中。请记住，在正态分布中，数据的95%位于平均值的两个标准偏差之内——因此，限制范围在2.5%和97.5%之间可能是合适的，或者说“95%的数据”位于特定范围内。
- en: 'Beginning with the chart from the previous strategy, follow these steps to
    create a range:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 从先前策略的图表开始，按照以下步骤创建一个范围：
- en: 'Start by changing the aggregation of the average from the previous strategy
    to the median with a simple right-click. Now you can construct the percentile
    calculations:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先通过右键单击将平均值的聚合从先前的策略更改为中位数。现在你可以进行百分位数计算：
- en: '[PRE5]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You can repeat this calculation for 97.5%, or 0.975\. Then you can create a
    new Range that is nearly identical to our original. Keep going to complete the
    chart in the exact same fashion:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以重复这个计算到97.5%或0.975。然后，你可以创建一个新的范围，几乎与我们的原始范围相同。继续以完全相同的方式完成图表：
- en: '[PRE6]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Replace the second axis, MIN([Sales by Order ID]) with [2.5% of Data], and replace
    [Range of Order Sales] with [Percentile Range]. [Figure 2-13](#ranged_dot_plot_with_leveraged_percentil)
    shows the updated view.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用[2.5%的数据]替换第二轴的MIN([订单ID销售额])，并用[百分位范围]替换[订单销售范围]。[图2-13](#ranged_dot_plot_with_leveraged_percentil)显示了更新后的视图。
- en: '![Ranged dot plot with leveraged percentiles](Images/TAST_0213.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![带有杠杆百分位数的分段点图](Images/TAST_0213.png)'
- en: Figure 2-13\. Ranged dot plot with leveraged percentiles
  id: totrans-136
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-13\. 带有杠杆百分位数的分段点图
- en: So what makes this view special? Sure, we’ve reduced the range, but we’ve also
    reduced the amount of noise in the view.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 那么是什么让这个视图特别？当然，我们缩小了范围，但我们也减少了视图中的噪音量。
- en: 'Anytime you make a chart, ask yourself: What insights do you want the audience
    to take away? What insights are relevant to their needs?'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 每次你制作一个图表时，问问自己：你希望观众带走什么见解？哪些见解与他们的需求相关？
- en: 'If the OE executives need an average or median order value and a soundbite,
    this ranged dot plot will fulfill that need. Now they have an easy way to convey
    information about each segment, such as this: “Aside from some outliers, most
    of our copier orders averaged about $1,500.”'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 如果OE高管需要平均或中位订单价值以及一个简短的说法，这个范围点图将满足这一需求。现在他们有一个简单的方法来传达关于每个段的信息，比如这样：“除了一些离群值，我们大部分复印机订单的平均价格约为$1,500。”
- en: 'Box Plots: Spear-Tukey Shipping Case Study'
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 箱形图：Spear-Tukey运输案例研究
- en: Our next case study takes place at Spear-Tukey Shipping (STS), a transportation
    and logistics company.^([1](ch02.xhtml#ch02fn01)) STS ships products all over
    the world, on incredibly tight deadlines, so processes have to be precise. If
    a problem arises, the company needs to know about it.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一个案例研究发生在Spear-Tukey Shipping (STS)，一家运输和物流公司。^([1](ch02.xhtml#ch02fn01))
    STS在全球范围内运输产品，需要严格的截止期限，因此流程必须精确。如果出现问题，公司需要知道。
- en: When a customer ships with STS, they have to select a shipping method. There
    are four methods. They’re all different, and each one has its own delivery deadline.
    The delivery *must* happen within the specified number of days.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 当客户使用STS发货时，他们必须选择一种运输方式。有四种方法。它们都不同，并且每一种都有自己的交货期限。交货*必须*在指定的天数内完成。
- en: Recently, STS has been hearing complaints about late deliveries, but executives
    aren’t sure how big the problem is (or even if it’s really a problem). The data
    team has collected data and is working on analyzing it. The team plans to present
    the results to the CEO, who wants to know how often the company meets its required
    deadlines per method.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，STS听到了关于延迟交货的投诉，但高管们不确定问题有多严重（甚至是否真的是问题）。数据团队已经收集了数据并正在进行分析。团队计划向CEO呈现结果，CEO想知道公司每种方法符合要求的截止日期的频率。
- en: '[Table 2-1](#shipping_methods_and_deadlines) lists STS’s methods and deadlines.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '[表2-1](#shipping_methods_and_deadlines)列出了STS的方法和截止日期。'
- en: Table 2-1\. Shipping methods and deadlines
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 表2-1\. 运输方法和截止日期
- en: '| **Method** | **Days to delivery** |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| **方法** | **交货天数** |'
- en: '| --- | --- |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Same Day Air | 1 |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| 当天空运 | 1 |'
- en: '| Priority Air | 2 |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| 紧急空运 | 2 |'
- en: '| Priority Ground | 3 |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 紧急陆运 | 3 |'
- en: '| Ground | 5 |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 陆运 | 5 |'
- en: Before we get too deep, let’s think about expectations. In the OE case study,
    we came in without an expected answer; we may have had some institutional or intuitive
    guesses, but we were using visualizations to *find* answers. Here, though, we
    have a process that should be controlled; the objective is to find *examples*
    where that process isn’t working as designed. We also have lots of data for each
    method, so we need to figure out how to visualize it all in one chart without
    the information getting overly complex and confusing.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入讨论之前，让我们先考虑预期。在OE案例研究中，我们没有预期的答案；也许我们有一些制度上或直觉上的猜测，但我们使用可视化工具来*寻找*答案。然而，在这里，我们有一个应该受到控制的过程；目标是找到那些设计不合理的*例子*。我们也有大量每种方法的数据，因此需要想办法在一个图表中将所有信息可视化，而不会变得过于复杂和令人困惑。
- en: With any highly controlled process, we find it best to lean on statistics to
    communicate performance. For this use case, we will combine a few concepts into
    one visualization, the *box plot* ([Figure 2-14](#anatomy_of_a_box_plot)). Box
    plots are a little more complicated than the other charts we’ve shown so far,
    so let’s look at how they’re constructed.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何高度受控的过程，我们发现最好依靠统计数据来传达性能。对于这个用例，我们将几个概念结合到一个可视化中，即*箱线图*（[图2-14](#anatomy_of_a_box_plot)）。箱线图比我们到目前为止展示的其他图表稍微复杂一些，所以让我们看看它们是如何构建的。
- en: '![Anatomy of a box plot](Images/TAST_0214.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![箱线图的构造](Images/TAST_0214.png)'
- en: Figure 2-14\. Anatomy of a box plot
  id: totrans-155
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-14\. 箱线图的构造
- en: 'A box plot comprises the following elements:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 箱线图包括以下元素：
- en: Median
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 中位数
- en: The *median*, or the midpoint the of data, is represented as a line inside a
    box.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '*中位数*，或者数据的中点，被表示为盒子内的一条线。'
- en: Quartiles
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 四分位数
- en: Q1 and Q3 are quartiles; you’ll also see these labeled as *hinges* in Tableau.
    Q1 is at 25% of the data, and Q3 is at the 75% mark.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Q1和Q3是四分位数；在Tableau中，你也会看到它们被标记为*中间值*。Q1位于数据的25%，而Q3位于75%处。
- en: Inner quartile range (IQR)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 内四分位距（IQR）
- en: The range between Q1 and Q3.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Q1和Q3之间的范围。
- en: Whiskers
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 触须
- en: 'These are the horizontal lines that extend out from the box. They can be constructed
    in two ways:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是从盒子伸出的水平线。它们可以通过两种方式构建：
- en: The *minimum* whisker can extend to Q1 minus 1.5 times the IQR. The *maximum*
    whisker can extend to Q3 plus 1.5 times the IQR.
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*最小*触须可以延伸到Q1减去1.5倍的IQR。*最大*触须可以延伸到Q3加上1.5倍的IQR。'
- en: Alternatively, the whiskers can extend to the minimum and maximum of the dataset.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者，触须可以延伸到数据集的最小值和最大值。
- en: Outliers
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 离群值
- en: Any data points that extend beyond the whiskers and are shown as dots.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 任何超出触须范围的数据点，显示为点。
- en: 'Strategy: Create a Basic Box Plot'
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建基本的箱线图
- en: 'Now that you have a sense of what we’re building, follow along and let’s try
    it:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你对我们正在构建的东西有了一个感觉，请跟随我们一起尝试：
- en: 'Create the `**[Days to Delivery]**` field. You’ll construct this calculated
    field to compute the days between the shipping date and the delivery date:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建`**[Days to Delivery]**`字段。你将构建这个计算字段来计算发货日期和交货日期之间的天数：
- en: '[PRE7]'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Drag the [Days to Delivery] field onto the Rows shelf. Notice that when you
    drag the field, Tableau will aggregate the data by using a measure. We don’t want
    to look at aggregated data, so we can disaggregate the data in one of two ways:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[Days to Delivery]字段拖动到行架上。请注意，当您拖动该字段时，Tableau将使用一种度量来聚合数据。我们不想查看聚合数据，因此我们可以通过以下两种方式之一来解除数据的聚合：
- en: Choose Analysis → Uncheck Aggregate Measures.
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择分析 → 取消勾选聚合测量。
- en: Drag [Manifest ID] onto Detail. This is the lowest level of detail in the dataset
    and will construct an aggregate that is equal to the row-level value.
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将[清单 ID]拖放到详细信息中。这是数据集中的最低详细级别，并将构建等于行级值的聚合。
- en: Include the shipping method. Also drag [Ship Method] to Columns.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 包括运输方式。还将[运输方式]拖放到列中。
- en: Change your mark type to Circle and reduce opacity to 60%. Notice that you again
    have something very similar to a dot plot, as shown in [Figure 2-15](#each_dot_is_the_number_of_days_it_took_f).
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标记类型更改为圆圈，并将不透明度降至60%。请注意，您再次得到了与点图非常相似的东西，如[图 2-15](#each_dot_is_the_number_of_days_it_took_f)所示。
- en: '![Each dot is the number of days it took for a delivery](Images/TAST_0215.png)'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![每个点表示交货所需的天数](Images/TAST_0215.png)'
- en: Figure 2-15\. Each dot is the number of days it took for a delivery
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-15\. 每个点表示交货所需的天数。
- en: To turn this into a box plot, go to the Analytics pane and drag Box Plot onto
    the worksheet. When you drag it on, drop it on Cell. Tableau has now drawn a box
    plot on top of your data.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将其转换为箱线图，请转到分析面板并将箱线图拖放到工作表上。当您将其拖放到单元格上时，Tableau现在在您的数据上绘制了一个箱线图。
- en: When you hover over the box plot, the summary tooltip will show the values for
    the median, the quartiles, and the whiskers ([Figure 2-16](#finished_box_plot)).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 当您悬停在箱线图上时，摘要工具提示将显示中位数、四分位数和盒须的值（参见[图 2-16](#finished_box_plot)）。
- en: '![Finished box plot](Images/TAST_0216.png)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![完成的箱线图](Images/TAST_0216.png)'
- en: Figure 2-16\. Finished box plot
  id: totrans-183
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-16\. 完成的箱线图
- en: At this point, you’re probably wondering how to interpret this box plot—and
    how to explain it to the CEO. First, narrow the data. Let’s zoom in on the Same
    Day Air method ([Figure 2-17](#interpreting_a_box_plot)) and try interpreting
    just that part first.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您可能想知道如何解释这个箱线图——以及如何向CEO解释。首先，缩小数据范围。让我们放大同日空运方法的数据（参见[图 2-17](#interpreting_a_box_plot)）并首先尝试解释该部分。
- en: '![Interpreting a box plot](Images/TAST_0217.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![解释箱线图](Images/TAST_0217.png)'
- en: Figure 2-17\. Interpreting a box plot
  id: totrans-186
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-17\. 解释箱线图
- en: We can see in the third row that the median time for a Same Day Air delivery
    is 1.08 days. You could phrase this as “50% of our Same Day Air deliveries arrive
    within 1.08 days.” Looking at the hinges (IQR), you can add that “25% of deliveries
    arrive in less than one day (0.69 days), and 75% arrive in less than 2 days (1.725).”
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到第三行，同日空运交货的中位时间为1.08天。您可以表达为“我们的同日空运交货中有50%在1.08天内到达。”观察箱限（IQR），您可以补充说“25%的交货在不到一天（0.69天）内到达，75%在不到2天（1.725天）内到达。”
- en: It looks like the maximum is at 3.05 days. This means we can confidently say
    that 100% of STS’s Same Day Air deliveries arrive within three days—not great
    for something that should be same day!
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来最大值为3.05天。这意味着我们可以自信地说，STS的同日空运交货100%在三天内到达——对于应该是同日的东西来说，这并不理想！
- en: In Tableau, we can customize this visualization further, by right-click editing.
    There’s a lot of information here. We can reduce the total number of marks on
    the screen, leaving only the box plot and any outliers.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在Tableau中，我们可以通过右键单击编辑进一步自定义此可视化。这里有很多信息。我们可以减少屏幕上的标记总数，仅留下箱线图和任何异常值。
- en: As we mentioned, we can extend whiskers in two ways. You’ll see both as options
    when you right-click to edit. Click the checkbox to hide the underlying marks
    within the box plot. You can see the finished version in [Figure 2-18](#customized_box_plot).
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所提到的，我们可以通过两种方式扩展盒须。在右键单击以编辑时，您将看到两种选项。单击复选框以隐藏箱线图内部的标记。您可以在[图 2-18](#customized_box_plot)中看到最终版本。
- en: '![Customized box plot](Images/TAST_0218.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![定制的箱线图](Images/TAST_0218.png)'
- en: Figure 2-18\. Customized box plot
  id: totrans-192
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-18\. 定制的箱线图
- en: If this box plot will work for your audience, great! But there’s a lot going
    on here, and sometimes box plots can intimidate audiences. Knowing that, we usually
    pair the box plot with a less intimidating chart, like the histogram, to help
    communicate the contents and ensure that everyone understands the key takeaways.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这个箱线图适合您的受众，太棒了！但这里涉及很多内容，有时箱线图可能会让观众感到不安。知道这一点，通常我们会将箱线图与更少让人不安的图表（如直方图）配对，以帮助传达内容并确保每个人都理解主要信息。
- en: 'Strategy: Combine a Box Plot and Histogram'
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：结合箱线图和直方图
- en: To create this chart, we’ll start with the box plot you just built. This time,
    instead of disaggregating your measures, you will need to aggregate them. If instead
    you added [Manifest ID] to Detail, you’re good to go!
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建此图表，我们将从您刚刚构建的箱线图开始。这次，不是解聚您的测量值，而是需要对它们进行聚合。如果您将[清单 ID]添加到详细信息中，您就可以开始了！
- en: Modify the box plot so that the whiskers range from minimum to maximum.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改箱线图，使触须从最小到最大范围。
- en: 'Now that you have this view, you can bring on other measures that will need
    to be aggregated—specifically, as a dual axis. Create a calculated field, specifically
    an LOD called `**[Days to Delivery by Manifest ID]**`:'
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你有了这个视图，可以引入其他需要聚合的度量作为双轴。创建一个名为`**[Days to Delivery by Manifest ID]**`的特定LOD计算字段：
- en: '[PRE8]'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Create bins, using the same method that you used when constructing the histogram
    at the beginning of this chapter. Make the bins at every 0.5 days. Right-click
    the field in the Data pane and convert it to continuous.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建分箱，使用与本章开头构建直方图时相同的方法。将分箱设置为每0.5天一个。在数据窗格中右键单击字段并转换为连续型。
- en: Toggle the layout of the rows and columns by clicking the Swap Rows and Columns
    icon in the top toolbar (next to the sorting icons).
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击顶部工具栏旁边的交换行和列图标（排序图标旁边），切换行和列的布局。
- en: Drag the new bin calculation, [Days to Delivery by Manifest ID (bin)], to Columns,
    to the right of AVG([Days to Delivery]).
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的分箱计算[Days to Delivery by Manifest ID (bin)]拖动到列中，位于AVG([Days to Delivery])的右侧。
- en: On the Marks card for this visual, change the mark type to Bars. Remove [Manifest
    ID] from Detail.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此可视化的标记卡上，将标记类型更改为柱形图。从详细信息中移除[Manifest ID]。
- en: 'Create a calculated field called `**[# Shipments]**` and drag it to Rows:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[# Shipments]**`的计算字段，并将其拖动到行中：
- en: '[PRE9]'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Right-click [Days to Delivery by Manifest ID (bin)] and select Dual Axis; right-click
    the newly created dual axis and synchronize axes.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击[Days to Delivery by Manifest ID (bin)]，选择双轴；右键单击新创建的双轴并同步轴线。
- en: Remove [Measure Names] from Color on the All Marks card, and right-click to
    hide the extra axis on the top.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有标记卡上，从颜色中移除[Measure Names]，右键单击以隐藏顶部的额外轴线。
- en: '[Figure 2-19](#completed_box_chart_and_histogram_combin) shows our result—it’s
    easier to read, isn’t it? It’s also easier to explain the data.'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 2-19](#completed_box_chart_and_histogram_combin)展示了我们的结果——更易于阅读，不是吗？解释数据也更容易。'
- en: '![Completed box chart and histogram combined](Images/TAST_0219.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![完成的箱线图和直方图合并](Images/TAST_0219.png)'
- en: Figure 2-19\. Completed box chart and histogram combined
  id: totrans-209
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-19\. 完成的箱线图和直方图合并
- en: Now the STS CEO can see how the construction of the box plot relates to the
    underlying data. The executives can see the frequency constructing each of the
    bars and understand how the data shape presents itself in box plot form. They
    can also see both the frequency and the density of the data at one time.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 现在STS CEO可以看到箱线图的构建与基础数据的关系。高管们可以看到每个柱形的频率并理解数据在箱线图形式下的呈现方式。他们还可以同时看到数据的频率和密度。
- en: 'Line Charts: Office Essentials Case Study'
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 线图：办公室必备案例研究
- en: Let’s go back to OE, where the data team now needs to show the company’s overall
    sales numbers for the last few years, broken down by month, using a sample of
    the data. The idea is that a good view of those numbers will help predict future
    months’ sales and identify trends, especially if there’s anything alarming the
    company should act on quickly. Showing sales by month is easy enough, but how
    do you indicate what’s normal and what’s not?
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们回到OE，在那里数据团队现在需要展示公司过去几年的整体销售数据，按月份细分，使用数据的样本。这个想法是，良好的视图可以帮助预测未来几个月的销售，并识别趋势，特别是如果公司需要快速采取行动的情况。按月份显示销售情况很容易，但如何表明什么是正常的，什么是不正常的？
- en: One thing we’ve learned over the years is that whenever someone asks about trends,
    in their mind they’ve drawn a mental picture of a line chart. Like bar charts,
    *line charts* are a popular tool in data visualization. They take a metric and
    display it over time. Here we won’t dive too deep into working with time (we’ll
    save that for [Chapter 4](ch04.xhtml#working_with_time)), but we do want to introduce
    some ways you can use statistical values and derivative measures to make really
    impactful line charts. It sounds like OE’s leadership is interested in becoming
    more data-driven, and these techniques will help.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来我们学到的一件事是，每当有人问及趋势时，他们的脑海中就会形成一幅折线图的心理图像。与条形图一样，*折线图*是数据可视化中常用的工具。它们将指标随时间显示出来。在这里，我们不会深入讨论如何处理时间（我们将把它保存到[第四章](ch04.xhtml#working_with_time)），但我们确实想介绍一些可以使用统计值和派生度量来制作具有真正影响力的折线图的方法。听起来OE的领导层有兴趣变得更加数据驱动，这些技术将有所帮助。
- en: 'Strategy: Build a Line Chart'
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：构建一条线图
- en: Let’s start with a basic line chart showing OE’s Sales by Month ([Figure 2-20](#line_chart_showing_sales_by_month)).
    To build this, right-click and drag [Order Date] onto Columns, selecting Month
    toward the bottom. Drag `SUM([Sales])` to Rows.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从基本的折线图开始，显示OE的按月销售额（[图2-20](#line_chart_showing_sales_by_month)）。要构建此图，右键单击并拖动[订单日期]到列中，选择底部的月份。将`SUM([销售])`拖动到行中。
- en: '![Line chart showing sales by month](Images/TAST_0220.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![按月销售的折线图](Images/TAST_0220.png)'
- en: Figure 2-20\. Line chart showing sales by month
  id: totrans-217
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-20\. 按月销售的折线图
- en: 'This provides some immediate insight. We can tell there is seasonality in the
    data: every year spikes occur in September, November, and December. And in general,
    it looks like sales are going up over time.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 这提供了一些直观的见解。我们可以看出数据中存在季节性：每年的9月、11月和12月发生了峰值。总体上看，销售额似乎随时间而增加。
- en: 'But we can get more sophisticated in the story that we’re telling by including
    statistical measures. We’ll start with tools that are built in and easy to utilize
    in Tableau. In [Chapter 1](ch01.xhtml#categorical_analysis), we explored adding
    a reference line for an average; this time, let’s go a step further and add *reference
    distributions*: a set of bands on the chart that indicate a range, so the audience
    can see where the lines fall into that range.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 但我们可以通过包含统计量来讲述更复杂的故事。我们将从内置且易于在Tableau中使用的工具开始。在[第1章](ch01.xhtml#categorical_analysis)中，我们探索了为平均值添加参考线；这一次，让我们更进一步，添加*参考分布*：图表上一组指示范围的带子，使观众可以看到线条落在该范围内的情况。
- en: 'Strategy: Add Reference Distributions to a Line Chart'
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：将参考分布添加到折线图中
- en: Remember we warned you that averages (and other aggregate values) don’t always
    communicate enough on their own? This is a great way to mitigate that by showing
    exactly how sure you are about the averages you’re providing.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，我们警告过您，平均值（以及其他聚合值）并不总是足够传达足够的信息？通过显示您所提供的平均值的确切程度，这是减轻这种情况的一个很好的方式。
- en: 'The reference distribution we’ll include here shows the range of a confidence
    interval. A *confidence interval* is a range of values computed from a random
    sample that is likely to contain the true value of a chosen measure. It’s a function
    of two items of your data: the *sample size* (or number of data points) and the
    overall *confidence level*. As you increase your sample size, your confidence
    interval is likely to narrow, because there are more observations. The confidence
    level has the inverse effect: the more confident you need to be with your data
    (say, if you need to be 99% confident rather than 95%), the wider the band.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在这里包含的参考分布显示置信区间的范围。*置信区间*是从随机样本计算的一系列值，这些值很可能包含所选择的测量的真实值。它是您的数据的两个项目的函数：*样本大小*（或数据点数）和整体*置信水平*。随着样本大小的增加，置信区间可能会变窄，因为观察次数增加了。置信水平具有相反的效果：您对数据越有信心（例如，如果您需要对数据的信心为99%，而不是95%），带子越宽。
- en: 'To add the confidence interval, follow these steps:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加置信区间，请按照以下步骤操作：
- en: From the Analytics pane, drag an Average line onto the view, and then drop it
    on Table.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从分析面板中，将一个平均线拖放到视图上，然后将其放置在表上。
- en: Focusing on the middle section, add a confidence interval in addition to your
    line, and specify the level of confidence. As you’re doing this, change the Label
    option to Value instead of the computation.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 焦点放在中间部分，除了线条，还添加一个置信区间，并指定置信水平。在此过程中，将标签选项更改为数值，而不是计算。
- en: The chart ([Figure 2-21](#average_monthly_sales_line_chart_with_co)) now shows
    average monthly sales, with a gray band for the confidence interval.
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在图表（[图2-21](#average_monthly_sales_line_chart_with_co)）显示了平均每月销售额，并且用灰色带表示置信区间。
- en: '![Average monthly sales line chart with confidence interval](Images/TAST_0221.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![带置信区间的平均月销售折线图](Images/TAST_0221.png)'
- en: Figure 2-21\. Average monthly sales line chart with confidence interval
  id: totrans-228
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-21\. 带置信区间的平均月销售折线图
- en: Why add this type of context to charts? For this presentation, it’s to add detail
    for the audience, the OE executives and board, who are relying on the average
    value that we present. Now they can easily see, thanks to that gray band, which
    months had sales that were below or above average—exactly the kind of information
    they’re looking for.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么要向图表添加这种类型的上下文？对于这个演示文稿，这是为了为依赖我们提供的平均值的OE高管和董事会增加细节。现在，由于那个灰色带子，他们可以轻松地看到哪些月份的销售额低于或高于平均水平——这正是他们寻找的信息类型。
- en: While the chart we just created shows a computed average of $47,858 (based on
    the sample data provided), a *margin of error* of about $7,000 exists on either
    side to show what the average *could* be. The margin of error is a way of saying
    that we can state with 95% confidence that if we had *all* the values of monthly
    sales, the average would fall between $40,542 and $55,174.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们刚刚创建的图表显示基于提供的样本数据的计算平均值为$47,858，但平均值两侧存在约$7,000的*误差范围*，用来展示平均值*可能*是什么。误差范围是一种表示我们可以在95%的置信水平下陈述如果我们有*所有*的月销售额数值，那么平均值将在$40,542和$55,174之间。
- en: 'Strategy: Add a Standard Deviation to a Line Chart'
  id: totrans-231
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：在线图中添加标准差
- en: 'You can also use distribution bands and reference lines in Tableau to represent
    percentiles or SDs. We’ll add SDs next:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在Tableau中使用分布带和参考线来表示百分位数或标准差。接下来我们将添加标准差：
- en: Right-click the average line and click Edit.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击平均线，然后点击“编辑”。
- en: Change back to Line Only.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次更改为仅线条。
- en: To create another reference line, right-click the axis and this time choose
    Distribution.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建另一条参考线，右键点击坐标轴，然后选择分布。
- en: Change the Computation Value to Standard Deviation and leave the factors at
    –1 and 1\. Similarly, leave the Sample option selected, since we don’t have *all*
    the data, just a subset.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将计算值更改为标准差，保持因子为-1和1。同样，选择样本选项，因为我们没有*所有*数据，只有一个子集。
- en: Change the Label option to Value and click OK (see [Figure 2-22](#adding_a_standard_deviation_to_a_line_ch)).
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标签选项更改为数值，然后点击“确定”（见[图2-22](#adding_a_standard_deviation_to_a_line_ch)）。
- en: '![Adding a standard deviation to a line chart](Images/TAST_0222.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![在线图中添加标准差](Images/TAST_0222.png)'
- en: Figure 2-22\. Adding a SD to a line chart
  id: totrans-239
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-22\. 在线图中添加标准差
- en: So what can we conclude from this resulting chart? For one thing, there is a
    *lot* of spread from the average. For any given month, the sales numbers might
    be as far as $25,000 from the average. That’s nearly half the computed monthly
    average—not so great.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 那么从这个生成的图表我们能得出什么结论呢？首先，与平均值相比，存在*很大的差距*。对于任何给定的月份，销售额可能会与平均值相差高达$25,000。这几乎是计算的每月平均值的一半，情况不太乐观。
- en: What should the OE executives take away from that? It’s important for them to
    realize that a lot of variability exists in the monthly sales data. At this point
    in time, it probably isn’t appropriate to use the data to forecast future values.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: OE高管应该从中得到什么启示呢？他们需要意识到每月销售数据存在大量的变异。在这个时候，也许还不适合使用这些数据来预测未来的数值。
- en: Our audience also wants to know what’s normal and what isn’t. When should they
    worry?
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的观众也想知道什么是正常的，什么是不正常的。什么时候他们应该担心？
- en: We’re going to try another way of working with SDs—but instead of showing them
    as reference distributions, we’ll use them as an alerting tactic. It’s an unbiased
    way to review your dataset and see where meaningful statistical variation truly
    exists. (In statistics, it’s common practice to say that something is “out of
    control” when the reported value is outside a certain number of SDs from the average.)
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试另一种处理标准差的方法，但不是将它们显示为参考分布，而是将它们用作一种警示策略。这是一种客观的方法来审查数据集并查看哪里真正存在有意义的统计变异（在统计学中，当报告的数值距平均值超出一定数量的标准差时，通常会说某事处于“失控”状态）。
- en: 'Strategy: Use Reference Distributions as an Alerting Tactic'
  id: totrans-244
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用参考分布作为警示策略
- en: 'Our next chart will have monthly sales and an average line, as it did before.
    This time, though, we’ll add red dots to months that are more than one SD above
    or below the average:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一个图表将展示每月销售额和平均线，就像以前一样。不过这次，我们将在超过平均值1个标准差的月份添加红色圆点：
- en: Create a new calculated field called `**[SD Alert Dot]**`. This calculation
    will compare the monthly sales amount against the average of the view plus 1 SD,
    and likewise for minus 1 SD. If the condition is true, it will return the sales
    amount. We will then turn that sales amount into a dot.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[SD Alert Dot]**`的新计算字段。此计算将比较月销售额与视图平均值加1个标准差的数额，以及减去1个标准差的数额。如果条件成立，它将返回销售额。然后我们将该销售额转换成一个点。
- en: '[PRE10]'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'When you read this calculated field, it looks like a lot is going on, but let’s
    simplify the various components:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你阅读这个计算字段时，看起来好像有很多内容，但让我们简化各个组成部分：
- en: '`SUM([Sales])` is just the sales amount, which will be drawn by month because
    that’s the level of detail you have in your view.'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SUM([Sales])`只是销售金额，会按月绘制，因为这是您视图的详细级别。'
- en: '`WINDOW_AVG(SUM([Sales]))` is exactly the same as the Average Reference line:
    it is the average of all the data points in the view (in the “window”).'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WINDOW_AVG(SUM([Sales]))`与平均参考线完全相同：它是视图中所有数据点（在“窗口”中）的平均值。'
- en: '`WINDOW_STDEV(SUM([Sales]))` is the same concept as the average, but this time
    it’s the SD.'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WINDOW_STDEV(SUM([Sales]))`与平均值的概念相同，但这次是标准差。'
- en: The rest of the conditional is determining whether the Sales value is above
    or below those points. And if it is, you want to return the sales; otherwise,
    you can null it out.
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 其余的条件是确定销售价值是否在这些点之上或之下。如果是，则返回销售额；否则，可以将其置空。
- en: Drag the [SD Alert Dot] field onto your Rows shelf.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[SD Alert Dot]字段拖动到您的行架上。
- en: Right-click and make it a dual axis and then synchronize your axes.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并使其成为双轴，然后同步您的轴。
- en: Change your mark type for the secondary axis to Circle. Make sure your first
    mark is still a line.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您的第二轴的标记类型更改为圆圈。确保您的第一个标记仍然是一条线。
- en: Color the measures appropriately and right-click the null indicator in the bottom
    right to hide it.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 适当地着色测量，并右键单击右下角的空指示器以隐藏它。
- en: You can also drag the reference distribution from the visualization, by clicking
    where the visual line for the top or bottom SD is.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以通过单击可视化的顶部或底部标准差处来拖动参考分布。
- en: '[Figure 2-23](#line_chart_with_months_dotted_in_red_whe) shows the resulting
    line chart.'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图2-23](#line_chart_with_months_dotted_in_red_whe)显示了生成的折线图。'
- en: '![Line chart with months dotted in red when they are ±1 SD from the average](Images/TAST_0223.png)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![折线图，红色标记的月份在平均值的±1个标准差内](Images/TAST_0223.png)'
- en: Figure 2-23\. Line chart with months dotted in red when they are ±1 SD from
    the average
  id: totrans-260
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-23. 折线图，红色标记的月份在平均值的±1个标准差内。
- en: So what’s the difference between this chart and the previous example with reference
    bands? Both show the trended metric and SD, but the key difference is in *how
    the audience will perceive them*. With the reference bands, the team will present
    the executives with the SD spread—but the alert dots invite them to take action.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 那么这张图与前一个带参考线带的例子有什么区别？两者都显示趋势指标和标准差，但关键区别在于*观众如何感知它们*。使用参考线带，团队将向高管展示标准差的分布，但警报点则邀请他们采取行动。
- en: That’s the difference between showing information with charts and being truly
    data driven. A strong, data-driven organization defines alerts or thresholds with
    metrics, so that its leaders know when to take action.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是以图表形式展示信息与真正数据驱动的区别。一个强大的数据驱动组织定义了具有度量标准的警报或阈值，以便其领导知道何时采取行动。
- en: Our next case study has us looking at another way to take a statistical output
    and turn it into a dimension.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一个案例研究将看看另一种将统计输出转化为维度的方法。
- en: 'Calculated Dimensions Based on Statistics: Banco de Tableau Case Study'
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基于统计的计算维度：Banco de Tableau案例研究
- en: Our next study is at the Banco de Tableau (BoT), a large (fictitious) financial
    institution you met in [Chapter 1](ch01.xhtml#categorical_analysis). The bank
    is finding new ways to leverage its merchant-category data to better understand
    its customers. The data has a lot of categories, and the BoT data team needs a
    way to group and score them based on their total spending.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 我们下一个研究案例位于Banco de Tableau（BoT），这是一个大型（虚构的）金融机构，您在[第1章](ch01.xhtml#categorical_analysis)中已经见过。该银行正在寻找利用其商户类别数据更好地了解其客户的新方法。数据包含许多类别，BoT数据团队需要一种方法来根据它们的总消费进行分组和评分。
- en: The Top N bar chart from [Chapter 1](ch01.xhtml#categorical_analysis) is great,
    but now the team needs a more holistic way to communicate results. It should include
    *every* category in the dataset, not just the top 10\. Team members want to compare
    the lowest spenders to the top spenders, for instance, and drill down for even
    more pointed insights.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 来自[第1章](ch01.xhtml#categorical_analysis)的Top N条形图很棒，但现在团队需要一种更全面的方式来传达结果。它应包括数据集中的*每一个*类别，而不仅仅是前10个。团队成员希望将最低消费者与最高消费者进行比较，并进行更深入的洞察。
- en: Deploying statistics is a great way to deepen your data visualizations. We’ll
    try two approaches here. The first is to assign a summary statistical value to
    the data point based on what data is in the view. The second is to use a Pareto
    chart (stand by for more about those).
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 部署统计学是深化数据可视化的一个好方法。我们将在这里尝试两种方法。第一种是根据视图中的数据为数据点分配一个摘要统计值。第二种是使用帕累托图（请稍候详细了解）。
- en: 'Strategy: Assign a Summary Statistical Value to Data Points'
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：为数据点分配摘要统计值
- en: 'Here are the steps to assign a summary statistical value to data points:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是为数据点分配摘要统计值的步骤：
- en: Start with a new horizontal bar chart that has the total transaction amount
    for each [Merchant Category]. Sort the bars in descending order.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从一个新的水平条形图开始，该图显示了每个[商户类别]的总交易金额。将条形图按降序排序。
- en: 'Build out a calculated field called `**[Merchant Category Level]**` that will
    allow you to categorize merchant categories into three cohorts: one for the top
    10%, one for the bottom 10%, and one that contains the rest of the data. Drag
    the calculated field onto Color. Remember that here, `window_percentile` will
    be the equivalent percentile based on the data in our view:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[Merchant Category Level]**`的计算字段，可以将商户类别分为三个群体：一个为前10%，一个为后10%，还有一个包含其余数据的群体。将计算字段拖动到颜色上。记住，在这里，`window_percentile`将是基于我们视图中的数据的相应百分位数：
- en: '[PRE11]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'This calculation really evaluates only one essential thing: whether the transaction
    amount is above or below a specific percentile.'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个计算实际上只评估了一件重要的事情：交易金额是否高于或低于特定百分位数。
- en: Add the calculated field as a header to the view. This will allow you to create
    new aggregates, like the average, for the various cohorts. You may have to manually
    reorder the headers.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将计算字段添加为视图的标题。这将允许您创建新的聚合，如各个群体的平均值。您可能需要手动重新排序标题。
- en: There are a few reasons to assign a summary statistical value. Now, with mathematical
    analysis, we have separated out our merchant categories evenly. Doing this also
    lets us speak in aggregate about those new categorizations. If we want to draw
    even more pointed insights, we can add back a reference line that addresses only
    merchants within a certain percentile.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 有几个理由需要分配一个摘要统计值。现在，通过数学分析，我们已经平均分离出了我们的商户类别。这样做也使我们能够对这些新的分类进行汇总讨论。如果我们想要获得更加深刻的见解，我们可以添加一个仅针对某个百分位数内商户的参考线。
- en: As an example, in our chart ([Figure 2-24](#assigning_summary_statistical_value_to_d)),
    we can see that the average spending in the top 10% of merchant categories is
    $10.1 million. Compare that to those in the bottom 10% of merchant categories,
    whose average spending is a mere $1.75 million.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在我们的图表（[图2-24](#assigning_summary_statistical_value_to_d)）中，我们可以看到在前10%的商户类别中，平均支出为1,010万美元。与底部10%的商户类别相比，其平均支出仅为175万美元。
- en: '![Assigning summary statistical value to data points](Images/TAST_0224.png)'
  id: totrans-277
  prefs: []
  type: TYPE_IMG
  zh: '![为数据点分配摘要统计值](Images/TAST_0224.png)'
- en: Figure 2-24\. Assigning summary statistical value to data points
  id: totrans-278
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-24。为数据点分配摘要统计值
- en: Using statistics to create the various groupings also makes the chart dynamic,
    allowing for the deep dives our bankers are hoping for. If our scope of analysis
    changes when we filter our data, the subsequent visualization will also update.
    We can filter the data to look at transactions completed during a certain time
    period or even in a specific region, and the visual will respond.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 使用统计数据创建各种分组还使图表变得动态，可以实现我们的银行家们期望的深度分析。如果我们在筛选数据时改变分析范围，后续的可视化也将更新。我们可以筛选数据以查看在特定时间段内完成的交易，甚至是在特定地区完成的交易，可视化效果也会相应变化。
- en: Up to this point, we have talked about how to show categorical data and some
    of its spread, but we haven’t gone deep. Let’s do that now.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经讨论了如何展示分类数据及其分布，但我们还没有深入探讨。现在让我们来做这件事。
- en: 'Pareto Charts: Amplify Performance (AP) Case Study'
  id: totrans-281
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 帕累托图：Amplify Performance（AP）案例研究
- en: We’re back analyzing data for Amplify Performance. This time, the executives
    want to better understand the distribution of grant dollars. They’ve seen the
    treemap from [Chapter 1](ch01.xhtml#categorical_analysis) and know that a few
    program categories seem to take up the majority of funds, but they want to be
    able to communicate this to a broader audience. What kind of visualization can
    we build to satisfy this request?
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 我们再次分析 Amplify Performance 的数据。这一次，高管们希望更好地理解资助金额的分布情况。他们已经看过[第一章](ch01.xhtml#categorical_analysis)的树状图，并知道一些项目类别似乎占据了大部分资金，但他们希望能够向更广泛的观众传达这一点。我们可以建立什么样的可视化来满足这一要求？
- en: 'Strategy: Use Pareto Charts to Show Categorical Data'
  id: totrans-283
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用帕累托图显示分类数据
- en: Have you ever heard of the *80/20 rule*? Often called the *Pareto principle*,
    it suggests that 80% of a metric or outcome is related to 20% of the data.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 你听说过*80/20法则*吗？通常称为*帕累托原则*，它表明一个度量或结果的80%与数据的20%有关。
- en: 'To see that more directly in a visualization, we can construct a *Pareto chart*:
    a dual-axis chart that takes the initial sorted bar chart and adds one line representing
    a running percent of the total. The running percent of the total is what illustrates
    the 80/20 rule. More specifically, this chart is designed to present a distribution
    of numerical values that relate back to categorical data.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更直观地看到这一可视化效果，我们可以构建一个*帕累托图*：这是一个双轴图表，它以初始排序的条形图为基础，并添加一条线表示总体的累计百分比。总体的累计百分比展示了80/20法则。更具体地说，这张图表旨在展示与分类数据相关的数值分布。
- en: Note
  id: totrans-286
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: The Pareto principle holds that 80% of consequences come from 20% of causes.
    We adapt this to data visualization by saying that 80% of metrics can be traced
    back to 20% of the data. It was developed by the pioneering quality manager [Joseph
    M. Juran](https://oreil.ly/govqe), who named it after [Vilfredo Pareto](https://oreil.ly/r8HS0)
    (1848–1923), an Italian economist who famously proved that 80% of the land in
    Italy was owned by just 20% of the population.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 帕累托原理认为，80%的后果来自于20%的原因。我们通过将这一原理应用于数据可视化，称80%的指标可以追溯到数据的20%。这一原理由质量管理先驱[约瑟夫·M·朱兰](https://oreil.ly/govqe)开发，并以[维尔弗雷多·帕累托](https://oreil.ly/r8HS0)（1848–1923），一位意大利经济学家命名，他著名地证明了意大利80%的土地归属于仅占人口20%的人。
- en: Pareto charts are great when you need to help your audience focus on what is
    important and to easily communicate about a distribution. We’ll start by building
    a basic bar chart for AP, this time vertical. (If you don’t remember how to do
    this, revisit [Chapter 1](ch01.xhtml#categorical_analysis).) Then we will turn
    it into a Pareto chart.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 当你需要帮助观众关注重要内容并轻松传达分布情况时，帕累托图就非常有用了。我们将首先为AP构建一个基本的垂直条形图（如果你不记得如何做，请回顾[第1章](ch01.xhtml#categorical_analysis)）。然后我们将把它转化为帕累托图。
- en: 'Will you find that 20% of program categories make up 80% of grant dollars?
    Here are the steps:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 你是否会发现，20%的项目类别占据了80%的拨款金额？以下是步骤：
- en: Drag [Program Category] onto Columns.
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拖动[项目类别]到列上。
- en: Drag [Grant Amount] onto Rows.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[拨款金额]拖动到行上。
- en: Use the toolbar to sort the program categories in descending order by [Grant
    Amount], as shown in [Figure 2-25](#sorting_program_categories_in_a_vertical).
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用工具栏按[拨款金额]降序对项目类别进行排序，如[图 2-25](#sorting_program_categories_in_a_vertical)所示。
- en: '![Sorting program categories in a vertical bar chart](Images/TAST_0225.png)'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在垂直条形图中排序项目类别](Images/TAST_0225.png)'
- en: Figure 2-25\. Sorting program categories in a vertical bar chart
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-25\. 在垂直条形图中排序项目类别
- en: Hold down your Ctrl key and drag `SUM([Grant Amount])` as a copy onto your Rows
    shelf.
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住Ctrl键并将`SUM([Grant Amount])`作为副本拖到您的行架上。
- en: Right-click the new measure and create a Quick Table Calculation; use the Running
    Total.
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次右键点击新的度量值并创建快速表格计算；使用累计总数。
- en: Right-click the Table Calculation again and Edit it. This time click “Add secondary
    calculation” and select Percent of Total. This takes the running total and presents
    it as a cumulative total percentage ([Figure 2-26](#table_calculation_for_a_pareto_chart)).
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次右键点击表格计算并编辑它。这次点击“添加次要计算”，选择“总体百分比”。这将把累计总数呈现为百分比形式（见[图 2-26](#table_calculation_for_a_pareto_chart)）。
- en: '![Table calculation for a Pareto chart](Images/TAST_0226.png)'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![帕累托图的表格计算](Images/TAST_0226.png)'
- en: Figure 2-26\. Table calculation for a Pareto chart
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-26\. 帕累托图的表格计算
- en: Change your mark type for the second metric to Line. Then right-click it to
    make it a dual-axis chart, and turn on labels for the line chart ([Figure 2-27](#dual-axis_pareto_chart)).
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第二个指标的标记类型更改为线条。然后右键单击它以使其成为双轴图表，并为线图表打开标签（见[图 2-27](#dual-axis_pareto_chart)）。
- en: '![Dual-axis Pareto chart](Images/TAST_0227.png)'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![双轴帕累托图](Images/TAST_0227.png)'
- en: Figure 2-27\. Dual-axis Pareto chart
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-27\. 双轴帕累托图
- en: Clean up the view by editing your axis labels. Ann likes to label the secondary
    axis as `**[Cumulative %]**`.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过编辑轴标签来清理视图。安喜欢将次要轴标记为`**[累计 %]**`。
- en: You can also add a parameter or constant reference line to highlight exactly
    where 80% of the data is. Now let’s take a look at the finished product ([Figure 2-28](#completed_pareto_chart)).
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以添加参数或常数参考线以准确定位数据的80%位置。现在让我们来看看最终的产品（见[图 2-28](#completed_pareto_chart)）。
- en: '![Completed Pareto chart](Images/TAST_0228.png)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![完成的帕累托图](Images/TAST_0228.png)'
- en: Figure 2-28\. Completed Pareto chart
  id: totrans-306
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-28\. 完成的帕累托图
- en: 'Does the funding at AP follow the 80/20 rule? It does: from the chart, we can
    see that 9 program categories, out of 55 total categories, take up 81% of the
    funding. In other words 16% of program categories consume 81% of funding. This
    means that AP’s spending is actually slightly more concentrated than a Pareto
    distribution! We’re sure that seeing funding distributed in this way will give
    the executive team a lot to think about.'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: AP 的资金是否遵循80/20法则？的确：从图表中可以看出，55个总类别中的9个项目类别占据了81%的资金。换句话说，16%的项目类别占用了81%的资金。这意味着AP的支出实际上比帕累托分布稍微更集中！我们确信，看到资金分布方式会让执行团队深思。
- en: Conclusion
  id: totrans-308
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: Throughout this chapter, you’ve seen several ways to work with numeric data
    in the real world. We’ve explored ways to view the spread of data with histograms,
    dot plots, and jitterplots, the former allowing your audience to see summarized
    data, and the latter allowing them to see the individual data points that make
    up the total picture.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您已经看到了在现实世界中处理数值数据的几种方法。我们探讨了使用直方图、点图和抖动图查看数据分布的方式，前者使您的受众能够看到总结数据，后者使他们能够看到构成整体图像的个体数据点。
- en: You’ve also worked with applied statistical concepts to create box plots that
    show important summary statistics (median and the IQR are your friends), and learned
    how you can persuade your audience to embrace this chart with the inclusion of
    a histogram.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 您还学习了如何使用应用统计概念创建显示重要摘要统计信息的箱线图（中位数和四分位距是您的朋友），并学会了如何通过包含直方图来说服您的受众接受此图表。
- en: And you’ve seen how built-in statistical calculations, like SD, can easily be
    added to line charts to help express the nuances in your data. Moreover, you’ve
    explored using statistical thresholds to help make your organization data driven,
    allowing your audience to quickly see data points that are “out of control” and
    guide in decision making.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 您还看到了如何将内置的统计计算（如标准差）轻松添加到折线图中，以帮助表达数据中的微妙差异。此外，您还探讨了使用统计阈值帮助使您的组织数据驱动，使您的受众能够快速看到“失控”的数据点，并在决策中提供指导。
- en: And in the last two sections, you explored how even with categorical data, new
    statistical dimensions can be calculated to describe your data (and to test the
    all-important 80/20 rule).
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后两节中，您探讨了即使对于分类数据，也可以计算新的统计维度来描述您的数据（并测试至关重要的80/20法则）的方式。
- en: With this knowledge, you’ll be primed to take on the next chapter on comparisons,
    where we show you strategies for comparing both categorical data (dimensions)
    and measures in new chart types.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些知识，您将准备好继续学习下一章关于比较的内容，我们将向您展示如何比较分类数据（维度）和新的图表类型中的度量。
- en: ^([1](ch02.xhtml#ch02fn01-marker)) Not its real name. Instead, we’ve used the
    names of Mary Eleanor Spear, who created the range bar, and John Tukey, who developed
    the [box plot and whiskers plot](https://en.m.wikipedia.org/wiki/Box_plot). By
    the time we’re done answering your question, you’ll understand why we chose them.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch02.xhtml#ch02fn01-marker)) 这不是它的真实名称。相反，我们使用了Mary Eleanor Spear创造的范围条和John
    Tukey开发的[箱线图和须状图](https://en.m.wikipedia.org/wiki/Box_plot)的名称。当我们回答完您的问题时，您将明白为什么我们选择了他们。
