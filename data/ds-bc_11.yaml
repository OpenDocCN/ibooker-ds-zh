- en: 9 Case study 2 solution
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 9 案例研究 2 的解决方案
- en: This section covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本节涵盖
- en: Measuring statistical significance
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测量统计显著性
- en: Permutation testing
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 派生测试
- en: Manipulating tables using Pandas
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Pandas 操作表格
- en: 'We’ve been asked to analyze the online ad-click data collected by our buddy
    Fred. His advertising data table monitors ad clicks across 30 different colors.
    Our aim is to discover an ad color that generates significantly more clicks than
    blue. We will do so by following these steps:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们被要求分析我们的朋友弗雷德收集的在线广告点击数据。他的广告数据表监控了 30 种不同颜色的广告点击。我们的目标是发现一种比蓝色产生更多点击的广告颜色。我们将通过以下步骤来实现：
- en: Load and clean our advertising data using Pandas.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Pandas 加载并清理我们的广告数据。
- en: Run a permutation test between blue and the other recorded colors.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在蓝色和其他记录的颜色之间运行派生测试。
- en: Check the computed p-values for statistical significance using a properly determined
    significance level.
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用适当确定的显著性水平检查计算出的 p 值的统计显著性。
- en: Warning Spoiler alert! The solution to case study 2 is about to be revealed.
    I strongly encourage you to try to solve the problem before reading the solution.
    The original problem statement is available for reference at the beginning of
    the case study.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 警告：剧透警告！案例研究 2 的解决方案即将揭晓。我强烈建议你在阅读解决方案之前尝试解决问题。原始问题陈述可在案例研究开始处参考。
- en: 9.1 Processing the ad-click table in Pandas
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.1 在 Pandas 中处理广告点击表
- en: Let’s begin by loading our ad-click table into Pandas. Then we check the number
    of rows and columns in the table.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先加载我们的广告点击表到 Pandas。然后我们检查表中的行数和列数。
- en: Listing 9.1 Loading the ad-click table into Pandas
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.1 将广告点击表加载到 Pandas
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Our table contains 30 rows and 41 columns. The rows should correspond to clicks
    per day and views per day associated with individual colors. Let’s confirm by
    checking the column names.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的表包含 30 行和 41 列。行应与每天的颜色点击次数和观看次数相对应。让我们通过检查列名称来确认。
- en: Listing 9.2 Checking the column names
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.2 检查列名称
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The columns are consistent with our expectations: the first column contains
    all of the analyzed colors, and the remaining 40 columns hold the click counts
    and view counts for each day of the experiment. As a sanity check, let’s examine
    the quality of the data stored in our table. We start by outputting the analyzed
    color names.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 列与我们的预期一致：第一列包含所有分析的颜色，其余 40 列包含实验每一天的点击次数和观看次数。作为一个理智的检查，让我们检查我们表中存储的数据质量。我们首先输出分析的颜色名称。
- en: Listing 9.3 Checking the color names
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.3 检查颜色名称
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 30 common colors are present in the *Color* column. The first letter of every
    color name is capitalized. Thus, we can confirm that the color blue is present
    by executing `assert 'Blue' in df.Color`.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *颜色* 列中存在 30 种常见的颜色。每种颜色名称的首字母都大写。因此，我们可以通过执行 `assert 'Blue' in df.Color`
    来确认颜色蓝色是否存在。
- en: Listing 9.4 Checking for blue
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.4 检查蓝色
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The string-based *Color* column looks good. Let’s turn our attention to the
    remaining 40 numeric columns. Outputting all 40 columns would lead to an overwhelming
    amount of data. Instead, we’ll examine columns for the first day of the experiment:
    `Click Count: Day 1` and `View Count: Day 1`. We select these two columns and
    use `describe()` to summarize their contents.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '基于字符串的 *颜色* 列看起来很好。让我们将注意力转向剩余的 40 个数值列。输出所有 40 个列会导致大量数据。相反，我们将检查实验第一天的列：`Click
    Count: Day 1` 和 `View Count: Day 1`。我们选择这两个列，并使用 `describe()` 来总结其内容。'
- en: Listing 9.5 Summarizing day 1 of the experiment
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.5 总结实验第一天
- en: '[PRE4]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The values in the `Click Count: Day 1` column range from 12 to 49 clicks. Meanwhile,
    the minimum and maximum values in `View Count: Day 1` are both equal to 100 views.
    Therefore, all the values in that column are equal to 100 views. This behavior
    is expected. We were specifically informed that each color receives 100 daily
    views. Let’s confirm that all the daily views equal 100.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`Click Count: Day 1` 列的值从 12 到 49 点击不等。同时，`View Count: Day 1` 的最小值和最大值都是 100
    次观看。因此，该列的所有值都是 100 次观看。这种行为是预期的。我们特别被告知每种颜色每天都会收到 100 次观看。让我们确认所有日观看次数都等于 100。'
- en: Listing 9.6 Confirming equivalent daily views
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.6 确认等效日观看次数
- en: '[PRE5]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: ❶ Efficient NumPy code to ensure that values in a NumPy array equal 100
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 确保NumPy数组中值等于100的高效代码
- en: All view counts equal 100\. Therefore, all 20 `View Count` columns are redundant.
    We can delete them from our table.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 所有观看次数都等于 100。因此，所有的 20 个 `View Count` 列都是冗余的。我们可以从表中删除它们。
- en: Listing 9.7 Deleting view counts from the table
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 9.7 从表中删除观看次数
- en: '[PRE6]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The redundant columns have been removed. Only the color and click-count data
    remain. Our 20 `Click Count` columns correspond to the number of clicks per 100
    daily views, so we can treat these counts as percentages. Effectively, the color
    in each row is mapped to the percentage of daily ad clicks. Let’s summarize the
    percentage of daily ad clicks for blue ads. To generate that summary, we index
    each row by color and then call `df.T.Blue.describe()`.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 已删除冗余列。仅保留颜色和点击次数数据。我们的20个`点击次数`列对应于每天每100次查看的点击次数，因此我们可以将这些计数视为百分比。实际上，每行的颜色被映射到每天广告点击的百分比。让我们总结蓝色广告的每日广告点击百分比。要生成该摘要，我们按颜色索引每一行，然后调用`df.T.Blue.describe()`。
- en: Listing 9.8 Summarizing daily blue-click statistics
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.8 总结每日蓝色点击统计数据
- en: '[PRE7]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The daily click percentages for blue range from 18% to 42%. The mean percent
    of clicks is 28.35%: on average, 28.35% of blue ads receive a click per view.
    This average click rate is pretty good. How does it compare to the other 29 colors?
    We are ready to find out.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 蓝色广告的每日点击百分比范围从18%到42%。平均点击百分比为28.35%：平均而言，28.35%的蓝色广告在每次查看时都会被点击。这个平均点击率相当不错。它与其他29种颜色相比如何？我们准备找出答案。
- en: 9.2 Computing p-values from differences in means
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.2 从均值差异计算p值
- en: Let’s start by filtering the data. We delete blue, leaving behind the other
    29 colors. Then we transpose our table to access colors by column name.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先过滤数据。我们删除蓝色，留下其他29种颜色。然后我们转置我们的表格，通过列名访问颜色。
- en: Listing 9.9 Creating a no-blue table
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.9 创建无蓝色表格
- en: '[PRE8]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Our `df_not_blue` table contains the percent clicks for 29 colors. We would
    like to compare these percentages to our blue percentages. More precisely, we
    want to know if there exists a color whose mean click rate is statistically different
    from the mean click rate of blue. How do we compare these means? The sample mean
    for every color is easily obtainable, but we do not have a population mean. Thus,
    our best option is to run a permutation test. To run the test, we need to define
    a reusable permutation test function. The function will take as input two NumPy
    arrays and return a p-value as its output.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的`df_not_blue`表包含29种颜色的点击百分比。我们想将这些百分比与我们的蓝色百分比进行比较。更确切地说，我们想知道是否存在一种颜色的平均点击率与蓝色的平均点击率在统计上不同。我们如何比较这些均值？每个颜色的样本均值很容易获得，但我们没有总体均值。因此，我们最好的选择是运行一个排列测试。要运行测试，我们需要定义一个可重用的排列测试函数。该函数将接受两个NumPy数组作为输入，并返回一个p值作为输出。
- en: Listing 9.10 Defining a permutation test function
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.10 定义排列测试函数
- en: '[PRE9]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: ❶ Observed difference between sample means
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 样本均值之间的观察差异
- en: ❷ The difference between resampled means is extremely large.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 重采样均值之间的差异非常大。
- en: We’ll run a permutation test between blue and the other 29 colors. Then we’ll
    sort these colors based on their p-value results. Our outputs are visualized as
    a heatmap (figure 9.1), to better emphasize the differences between p-values.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在蓝色和其他29种颜色之间运行一个排列测试。然后，我们将根据它们的p值结果对这些颜色进行排序。我们的输出以热图（图9.1）的形式可视化，以更好地强调p值之间的差异。
- en: Listing 9.11 Running a permutation test across colors
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.11 在颜色上运行排列测试
- en: '[PRE10]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '❶ Efficient Python code to sort a dictionary and return two lists: a list of
    sorted values and a list of associated keys. Each sorted p-value at position i
    aligns with the color in sorted_colors[i].'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 高效的Python代码用于排序字典并返回两个列表：一个排序后的值列表和一个关联的键列表。每个排序后的p值在位置i与sorted_colors[i]中的颜色对齐。
- en: ❷ Adjusts the width and height of the plotted heatmap to 3 inches and 10 inches,
    respectively. These adjustments improve the quality of our heatmap visualization.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 调整绘制的热图的宽度和高度分别为3英寸和10英寸。这些调整提高了热图可视化的质量。
- en: ❸ The sns.heatmap method takes as its input a 2D table. Thus, we transform our
    1D list of p-values into a 2D table containing 29 rows and 1 column.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ sns.heatmap方法接受一个二维表作为输入。因此，我们将我们的包含29行1列的p值一维列表转换为二维表。
- en: '![](../Images/09-01.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/09-01.png)'
- en: 'Figure 9.1 A heatmap of p-value/color pairs returned by the permutation test:
    21 of the colors map to a p-value lower than 0.05.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1 排列测试返回的p值/颜色对的热图：21种颜色映射到小于0.05的p值。
- en: 'The majority of colors generate a p-value that is noticeably lower than 0.05\.
    Black has the lowest p-value: its ad-click percentages must deviate significantly
    from blue. But from a design perspective, black is not a very clickable color.
    Text links usually are not black, because black links are hard to distinguish
    from regular text. Something suspicious is going on here: what exactly is the
    difference between recorded clicks for black and blue? We can check by printing
    `df_not_blue.Black.mean()`.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数颜色生成的p值明显低于0.05。黑色具有最低的p值：其广告点击百分比必须与蓝色有显著差异。但从设计角度来看，黑色不是一个非常易于点击的颜色。文本链接通常不是黑色，因为黑色链接很难与普通文本区分开来。这里有些可疑的事情正在发生：黑色和蓝色记录的点击数到底有什么区别？我们可以通过打印`df_not_blue.Black.mean()`来检查。
- en: Listing 9.12 Finding the mean click rate of black
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.12 查找黑色的平均点击率
- en: '[PRE11]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The mean click rate of black is 21.6\. This value is significantly lower than
    the blue mean of 28.35\. Hence, the statistical difference between the colors
    is caused by fewer people clicking black. Perhaps other low p-values are also
    caused by inferior click rates. Let’s filter out those colors whose mean is less
    than the mean of blue and then print the remaining colors.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 黑色的平均点击率为21.6。这个值明显低于蓝色的平均点击率28.35。因此，颜色之间的统计差异是由点击黑色的人数较少造成的。也许其他低p值也是由于低点击率造成的。让我们过滤掉那些平均值低于蓝色平均值的颜色，然后打印剩余的颜色。
- en: Listing 9.13 Filtering colors with inferior click rates
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.13 使用低点击率过滤颜色
- en: '[PRE12]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: ❶ Efficient one-line code to filter the colors. First, the code creates a Boolean
    array. The array specifies which colors contain a mean greater than blue. The
    Boolean array is fed into df for filtering. The indices of the filtered result
    specify the remaining color names.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 高效的一行代码用于过滤颜色。首先，代码创建一个布尔数组。该数组指定哪些颜色的平均值大于蓝色。布尔数组被输入到df中进行过滤。过滤结果的索引指定了剩余的颜色名称。
- en: Only five colors remain. Each of these colors is a different shade of blue.
    Let’s print the sorted p-values for the five remaining colors; we also print the
    mean clicks for easier analysis.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 剩余的颜色只有五种。这些颜色都是不同色调的蓝色。让我们打印这五种剩余颜色的排序后的p值；我们也打印平均点击次数以方便分析。
- en: Listing 9.14 Printing the five remaining colors
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.14 打印剩余的五种颜色
- en: '[PRE13]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 9.3 Determining statistical significance
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.3 确定统计显著性
- en: 'Four of the colors have large p-values. Only one color has a p-value that’s
    small. That color is ultramarine: a special shade of blue. Its mean of 34.2 is
    greater than blue’s mean of 28.35\. Ultramarine’s p-value is 0.0034\. Is that
    p-value statistically significant? Well, it’s more than 10 times lower than the
    standard significance level of 0.05\. However, that significance level does not
    take into account our comparisons between blue and 29 other colors. Each comparison
    is an experiment testing whether a color differs from blue. If we run enough experiments,
    then we are guaranteed to encounter a low p-value sooner or later. The best way
    to correct for this is to execute a Bonferroni correction—otherwise, we will fall
    victim to p-value hacking. To carry out a Bonferroni correction, we lower the
    significance level to 0.05 / 29.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 四种颜色的p值较大。只有一种颜色的p值较小。这种颜色是群青色：一种特殊的蓝色色调。其平均值为34.2，大于蓝色的平均值为28.35。群青色的p值为0.0034。这个p值在统计上显著吗？嗯，它比标准显著性水平0.05低10倍以上。然而，这个显著性水平并没有考虑到我们与蓝色和其他29种颜色的比较。每一次比较都是一个实验，测试颜色是否与蓝色不同。如果我们进行足够的实验，那么我们迟早会遇到一个低p值。纠正这种情况的最佳方法是执行Bonferroni校正——否则，我们将成为p值黑客的受害者。要执行Bonferroni校正，我们将显著性水平降低到0.05
    / 29。
- en: Listing 9.15 Applying the Bonferroni correction
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.15 应用Bonferroni校正
- en: '[PRE14]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Our p-value is not statistically significant—Fred carried out too many experiments
    for us to draw a meaningful conclusion. Not all of these experiments were necessary.
    There is no valid reason to expect that black, brown, or gray would outperform
    blue. Perhaps if Fred had disregarded some of these colors, our analysis would
    have been more fruitful. Conceivably, if Fred had simply compared blue to the
    other five variants of blue, we might have obtained a statistically significant
    result. Let’s explore the hypothetical situation where Fred instigates five experiments
    and ultramarine’s p-value remains unchanged.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的p值不具有统计学意义——弗雷德为我们进行了太多的实验，以至于我们无法得出有意义的结论。没有有效的理由预期黑色、棕色或灰色会优于蓝色。也许如果弗雷德忽略了一些这些颜色，我们的分析可能会更有成效。可能的话，如果弗雷德仅仅比较蓝色与其他五种蓝色变体，我们可能会得到一个具有统计学意义的结论。让我们探索这样一个假设情况：弗雷德发起五次实验，而群青的p值保持不变。
- en: Listing 9.16 Exploring a hypothetical significance level
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 列表9.16 探索一个假设的显著性水平
- en: '[PRE15]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Under these hypothetical conditions, our results would be statistically significant.
    Sadly, we can’t use the hypothetical conditions to lower our significance level.
    We have no guarantee that rerunning the experiments would reproduce a p-value
    of 0.0034\. P-values fluctuate, and superfluous experiments increase the chance
    of untrustworthy fluctuations. Given Fred’s high experiment count, we simply cannot
    draw a statistically significant conclusion.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些假设条件下，我们的结果将是具有统计学意义的。遗憾的是，我们无法使用假设条件来降低我们的显著性水平。我们无法保证重新进行实验会重现0.0034的p值。p值会波动，过多的实验增加了不可信波动的可能性。鉴于弗雷德的高实验数量，我们根本无法得出具有统计学意义的结论。
- en: However, all is not lost. Ultramarine still represents a promising substitute
    for blue. Should Fred carry out that substitution? Perhaps. Let’s consider our
    two alternative scenarios. In the first scenario, the null hypothesis is true.
    If that’s the case, then both blue and ultramarine share the same population mean.
    Under these circumstances, swapping ultramarine for blue will not affect the ad
    click rate. In the second scenario, the higher ultramarine click rate is actually
    statistically significant. If that’s the case, then swapping ultramarine for blue
    will yield more ad clicks. Therefore, Fred has everything to gain and nothing
    to lose by setting all his ads to ultramarine.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，并非一切尽失。群青仍然代表了一种有希望的蓝色替代品。弗雷德是否应该执行这种替代？也许吧。让我们考虑我们的两种替代场景。在第一种场景中，零假设是正确的。如果是这样，那么蓝色和群青共享相同的总体均值。在这种情况下，用群青替换蓝色不会影响广告点击率。在第二种场景中，较高的群青点击率实际上是具有统计学意义的。如果是这样，那么用群青替换蓝色将产生更多的广告点击。因此，弗雷德通过将所有广告设置为群青，有得无失。
- en: From a logical standpoint, Fred should definitely swap blue for ultramarine.
    But if he carries out the swap, some uncertainty will remain; Fred will never
    know if ultramarine truly returns more clicks than blue. What if Fred’s curiosity
    gets the best of him? If he really wants an answer, his only choice is to run
    another experiment. In that experiment, half the displayed ads would be blue and
    the other displayed ads would be ultramarine. Fred’s software would exhibit the
    advertisements while recording all the clicks and views. Then we could recompute
    the p-value and compare it to the appropriate significance level, which would
    remain at 0.05\. The Bonferroni correction would not be necessary because only
    a single experiment would be run. After the p-value comparison, Fred would finally
    know whether ultramarine outperforms blue.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 从逻辑角度来看，弗雷德确实应该用群青替换蓝色。但如果他进行替换，仍会存在一些不确定性；弗雷德永远不知道群青是否真的比蓝色带来更多的点击。如果弗雷德的好奇心占了上风怎么办？如果他真的想要一个答案，他唯一的选择是再进行一次实验。在那个实验中，一半显示的广告将是蓝色，另一半显示的广告将是群青。弗雷德的软件将展示广告，同时记录所有的点击和观看次数。然后我们可以重新计算p值，并将其与适当的显著性水平进行比较，该水平将保持在0.05。由于只进行一次实验，因此不需要Bonferroni校正。在p值比较之后，弗雷德最终将知道群青是否优于蓝色。
- en: '9.4 41 shades of blue: A real-life cautionary tale'
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.4 41种蓝色的阴影：一个现实生活中的警示故事
- en: 'Fred assumed that analyzing every single color would yield more impactful results,
    but he was wrong. More data isn’t necessarily better: sometimes more data leads
    to more uncertainty.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 弗雷德假设分析每一种颜色都会产生更有影响力的结果，但他错了。更多的数据并不一定是更好的：有时更多的数据会导致更多的不确定性。
- en: Fred is not a statistician. He can be forgiven for failing to comprehend the
    consequences of overanalysis. The same cannot be said of certain quantitative
    experts operating in business today. Take, for example, a notorious incident that
    occurred at a well-known corporation. The corporation needed to select a color
    for the web links on its site. The chief designer chose a visually appealing shade
    of blue, but a top-level executive distrusted this decision. Why did the designer
    choose this shade of blue and not another?
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 弗雷德不是统计学家。他未能理解过度分析的后果可以原谅。然而，今天某些在商业领域运作的量化专家却不能这么说。以一个著名公司发生的著名事件为例。该公司需要为其网站上的链接选择一种颜色。首席设计师选择了一种视觉上吸引人的蓝色色调，但一位高级高管不信任这个决定。设计师为什么选择这种蓝色而不是其他颜色呢？
- en: The executive came from a quantitative background and insisted that link color
    should be selected scientifically via a massive analytic test that would supposedly
    determine the perfect shade of blue. 41 shades of blue were assigned to company
    web links completely at random, and millions of clicks were recorded. Eventually,
    the “optimal” shade of blue was selected based on maximum clicks per view.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 该高管来自量化背景，并坚持认为应该通过一次大规模的分析测试来科学地选择链接颜色，以确定完美的蓝色色调。公司网站链接完全随机分配了41种蓝色，并记录了数百万次点击。最终，基于每次查看的最大点击量，选定了“最佳”的蓝色色调。
- en: The executive proceeded to make the methodology public. Worldwide, statisticians
    cringed. The executive’s decisions revealed an ignorance of basic statistics,
    and that ignorance embarrassed both the executive and the company.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 该高管继续将这种方法公之于众。全球统计学家都感到不安。高管的决策揭示了其对基本统计学的无知，这种无知既让高管也使公司感到尴尬。
- en: Summary
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: More data isn’t always better. Running a pointless surplus of analytic tests
    increases the chance of anomalous results.
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据量并不总是越多越好。进行无意义的过量分析测试增加了出现异常结果的可能性。
- en: It’s worth taking the time to think about a problem before running an analysis.
    If Fred had carefully considered the 31 colors, he would have realized that it
    was pointless to test them all. Many colors make ugly links. Colors like black
    are very unlikely to yield more clicks than blue. Filtering the color set would
    have led to a more informative test.
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在进行分析之前花时间思考问题是有价值的。如果弗雷德仔细考虑了31种颜色，他就会发现测试它们所有颜色是毫无意义的。许多颜色会使链接看起来很丑。像黑色这样的颜色不太可能比蓝色带来更多的点击量。过滤颜色集将导致更有信息量的测试。
- en: Even though Fred’s experiment was flawed, we still managed to extract a useful
    insight. Ultramarine might prove to be a reasonable substitute for blue, though
    more testing is required. Occasionally, data scientists are presented with flawed
    data, but good insights may still be possible.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管弗雷德的实验存在缺陷，我们仍然设法提取了一个有用的见解。群青可能证明是蓝色的合理替代品，尽管还需要更多的测试。偶尔，数据科学家会遇到有缺陷的数据，但仍然可能得出有价值的见解。
