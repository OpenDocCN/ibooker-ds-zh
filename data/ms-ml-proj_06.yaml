- en: 6 EDA, ethics, and baseline evaluations
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6 EDA、伦理和基线评估
- en: 'This chapter covers:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖：
- en: Undertaking an EDA to discover the statistical characteristics of data
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行 EDA 以发现数据的统计特性
- en: Exploring unstructured data properties using foundational models
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用基础模型探索非结构化数据属性
- en: Checking the project’s ethical, privacy, and security aspects
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查项目的伦理、隐私和安全方面
- en: Building baseline models to get feedback about the potential for success
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建基线模型以获取关于成功潜力的反馈
- en: Providing support for estimating performance of more sophisticated models
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为估计更复杂模型的性能提供支持
- en: In chapter 5, we learned about the work required to get a data resource that
    the team can work with for modelling. Now the team can dive into the data to understand
    its characteristics and discern what can and what can’t be done with it. To do
    this, the team needs to work in a structured way, exploring the data, investigating
    it with a range of tools, and documenting and sharing the insights learned.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在第5章中，我们学习了获取团队可以用于建模的数据资源所需的工作。现在，团队可以深入数据，了解其特征，并判断可以用它做什么，不能做什么。为此，团队需要以结构化的方式工作，探索数据，使用各种工具进行调查，并记录和分享学到的见解。
- en: An important part of this work is for the team to look again at the ethical
    issues surrounding the project. This is essential because ethical concerns can
    shut down lines of investigation and development. It’s important to determine
    if that’s going to be the case before wasting the client’s money on development
    that will never be used or exploited.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这项工作的重要部分是让团队重新审视项目周围的伦理问题。这是至关重要的，因为伦理问题可能会关闭调查和开发路线。在浪费客户在永远不会被使用或开发的开发上的钱之前，确定这是否会发生是很重要的。
- en: Finally, the team and you will develop the baseline models that demonstrate
    the bottom line of performance, which you can create with off-the-shelf and quick-to-implement
    approaches. This is done to gauge the possibilities for more time-consuming and
    sophisticated approaches and to ensure that these methods deliver the value that
    justifies their use.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，团队和你将开发基线模型，这些模型展示了性能底线，你可以通过现成和快速实施的方法来创建这些模型。这样做是为了评估更多耗时和复杂的方法的可能性，并确保这些方法能够提供证明其使用的价值。
- en: 6.1 Exploratory data analysis (EDA)
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.1 探索性数据分析 (EDA)
- en: Everything is in place for you to undertake the work in the S1.5 ticket from
    your backlog.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 一切都准备就绪，你可以开始处理你的待办事项中的S1.5票据。
- en: 'EDA ticket: S1.5'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: EDA 票据：S1.5
- en: Plan and design EDA.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划和设计 EDA。
- en: Write and share the EDA report.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写并分享 EDA 报告。
- en: So far, we’ve built a narrative about the data the team will use, and the team
    has checked that it exists and appears to be as expected. We’ve got system access
    and set up a data pipelining infrastructure. The information about the data sets
    and credentials to access them can now be used to bring the data into a place
    (or if things are difficult, places) where it can be analyzed. If the data is
    in a state that is amenable to analysis, the next step is to use analytic methods
    to systematically create an understanding of what we have and what we can do with
    it.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经构建了一个关于团队将使用的数据的叙述，并且团队已经确认了它的存在，并且看起来符合预期。我们已经获得了系统访问权限并设置了数据管道基础设施。现在可以使用有关数据集和访问它们的凭证，将数据带入可以进行分析的地方（或者如果事情很困难，多个地方）。如果数据处于适合分析的状态，下一步就是使用分析方法系统地了解我们所拥有的以及我们可以用它做什么。
- en: This process is commonly known as an exploratory data analysis (EDA). This practice
    was developed in the 1970s (at the dawn of the data age) and championed by John
    Tukey [12]. Originally the focus of an EDA was to enable practitioners to move
    from working in comprehensive end-to-end studies to working with “found” data.
    Nowadays, we use EDA in a variety of ways, here as a prelude to an ML modeling
    exercise.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程通常被称为探索性数据分析 (EDA)。这种实践是在20世纪70年代（数据时代的黎明）发展起来的，由约翰·图基 [12] 推广。最初，EDA 的重点是使从业者能够从全面端到端的研究工作转变为使用“发现”的数据。如今，我们以各种方式使用
    EDA，这里作为机器学习建模练习的前奏。
- en: 6.1.1 EDA objectives
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.1.1 EDA 目标
- en: 'With the team prepared to look at the statistical properties of the data, an
    understanding of what information might be available for consumption by ML algorithms
    can emerge. At the heart of EDA are some simple questions:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 随着团队准备查看数据的统计特性，可能会出现关于可能被机器学习算法消费的信息的理解。EDA 的核心是一些简单的问题：
- en: Do individual data examples make sense? Are there really customers like the
    most extreme examples in the customer data set? Customers might have hundreds
    of transactions a week, or maybe there’s a majority of customers with few transactions
    or no transactions for weeks on end. If you find the typical customer, does that
    customer’s revenue and number of transactions look appropriate?
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单个数据示例是否有意义？是否真的存在与客户数据集中最极端示例相似的客户？客户可能每周有数百笔交易，或者可能大多数客户交易次数很少，甚至连续几周没有交易。如果你找到了典型客户，那么这位客户的收入和交易数量看起来是否合适？
- en: What is the distribution of the entities? This question builds on an understanding
    of the typical entities and the most extreme examples in the data, then uses that
    to decide if the data overall makes sense. Are there gaps or dead spots in the
    ranges of data that can’t be explained? Are there gaps that should be there but
    have surprising values? Typical examples are holiday seasons and weekends appearing
    in the data set. If a retailer is reporting high traffic on Christmas day, then
    there needs to be an explanation as to why; at least, it’s worth checking that
    the business stakeholders think that makes sense.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实体的分布情况如何？这个问题建立在理解数据中的典型实体和最极端示例的基础上，然后使用这些信息来决定数据整体是否合理。数据范围内是否存在无法解释的空白或死点？是否存在应该存在但具有令人惊讶值的空白？典型的例子是假日季节和周末出现在数据集中。如果零售商报告圣诞节当天的客流量很高，那么需要解释为什么；至少，值得检查业务利益相关者是否认为这合理。
- en: Do the aggregate statistics of data items make sense and relate to the data’s
    context? For example, do the total transactions in a transaction table add up
    to the total revenue of the company? Do the total number of transactions in each
    calendar period look appropriate?
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据项的汇总统计数据是否有意义，并且与数据背景相关吗？例如，交易表中的总交易额是否等于公司的总收入？每个日历期间的总交易数量看起来是否合适？
- en: Do the relationships within the data match expectations? For example, in a demographic
    data set, are there children who are older than their parents? In a growing company,
    are there any periods in the past that have more revenue than in the current trading
    period?
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据内部的关系是否符合预期？例如，在人口统计数据集中，是否存在比父母年龄还要大的孩子？在一家增长中的公司中，过去是否有某个时期的收入比当前交易期还要多？
- en: The philosophy of EDA is to let the data speak for itself, but unfortunately,
    the clock is ticking. If you have time, an open-ended exploration of the data
    is a strong approach, but it’s difficult to do on a tight schedule. Instead, using
    the raft of questions raised from the data story and data survey, you and your
    team can plan a structured exercise to develop the understanding that you need.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: EDA（探索性数据分析）的哲学是让数据自己说话，但不幸的是，时间正在流逝。如果你有时间，对数据进行开放式探索是一个强有力的方法，但在紧张的时间表上很难做到。相反，利用从数据故事和数据调查中提出的大量问题，你和你的团队可以规划一个结构化的练习，以发展你们所需的理解。
- en: It’s a good idea to write out the set of specific EDA activities that you want
    to conduct, listing the activity, the method, and the reasons that you are looking
    at the data in this way. Then, jot down what you expect to find. By doing this,
    you create a paper trail that shows the professional approach taken. Working with
    the team, you will also be able to efficiently prioritize and control the work
    that needs to be done, making sure that you focus the resources and time that
    you have on high-priority investigations.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 将你想要进行的特定EDA活动列出，包括活动、方法和你这样查看数据的原因，这是一个好主意。然后，记下你期望找到的内容。通过这样做，你创建了一个记录，显示了所采取的专业方法。与团队一起工作，你还将能够有效地优先排序和控制需要完成的工作，确保你将资源和时间集中在高优先级的调查上。
- en: As well as developing a general understanding of the data, the EDA exercise
    enables the team to effectively revisit the design of the data pipelines. You
    built these in chapter 5 to provide data for the team to work on. Using these
    for the first time, the team will have some feedback about how they’re performing.
    Later, the team will use these to create the test, training, and validation data
    sets for modelling, so as noted in chapter 5, they are fundamental to the modeling
    exercise’s success.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 除了发展对数据的总体理解外，EDA练习还能使团队能够有效地回顾数据管道的设计。你们在第五章中构建了这些管道，为团队提供工作数据。首次使用这些管道，团队将获得一些关于他们表现如何的反馈。随后，团队将使用这些管道来创建用于建模的测试、训练和验证数据集，正如第五章所述，它们对于建模练习的成功至关重要。
- en: You may need to tweak the performance and behavior of the pipelines in response
    to the feedback that the team provides after generating the first view of the
    data. The EDA exercise itself will have an impact on the structure of the pipelines
    as well. For example, if the validation sets used to determine the training performance
    of the model are not representative of the target domain, then it’s likely that
    the training process is underspecifying what the model should represent [4].
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 根据团队在生成数据的第一印象后提供的反馈，可能需要调整管道的性能和行为。EDA 练习本身也会对管道的结构产生影响。例如，如果用于确定模型训练性能的验证集不能代表目标领域，那么很可能训练过程没有明确模型应该表示的内容
    [4]。
- en: 'The variance of the key properties of the data set determine how large the
    validation set needs to be. The spread of the variance of key variables or properties
    of the data set are also helpful when determining the ordering of data during
    training [9]. There are three types of tools that the team can employ to come
    to grips with the data:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集关键属性的方差决定了验证集需要有多大。关键变量或数据集属性的方差分布，在确定训练过程中数据的顺序时也有帮助 [9]。团队可以采用以下三种类型的工具来处理数据：
- en: '*Summary statistics:* Calculations that reduce data to a few easily compared
    attributes such as its mean or median values (although, there are a lot of values
    that can be calculated!).'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*总结统计量：* 将数据减少到几个易于比较的属性的计算，如平均值或中位数值（尽管可以计算很多值！）。'
- en: '*Visualizations:* Represents data as a visual map with the objective of showing
    its overall characteristics.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*可视化：* 以视觉地图的形式表示数据，目的是展示其整体特征。'
- en: '*Model based:* Uses a foundational model to map the data into a summary or
    visualization domain to gain some understanding of its properties. When you and
    the team handle unstructured data, such as images or text, then a model is required
    to reduce the real-world features in something like an image to a format that
    a human can interpret.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*基于模型：* 使用基础模型将数据映射到总结或可视化领域，以了解其属性。当你和团队处理非结构化数据，如图像或文本时，则需要一个模型将现实世界中的特征，如图像，减少到人类可以解释的格式。'
- en: 6.1.2 Summarizing and describing data
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.1.2 数据的总结和描述
- en: A summary statistic is a single number that gives a picture of a set of numbers.
    For example, a series of numbers such as {1,2,3,4,5} can be described as having
    a mean value of 3 and a median value of 3\. Although a great deal of information
    is lost by describing this set as having a mean value of 3, in some contexts,
    that’s the important information about all the numbers in the sequence. As another
    example, the bags of flour on a warehouse pallet might have various exact weights,
    but the fact that their mean weight is 1.5 KG provides almost all the information
    that a buyer needs to determine the price for the pallet.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 总结统计量是一个单一的数字，可以描绘一组数字的概貌。例如，一系列数字如 {1,2,3,4,5} 可以描述为具有平均值为 3 和中位数为 3。尽管描述这个集合的平均值为
    3 会丢失大量信息，但在某些情况下，这是关于序列中所有数字的重要信息。作为另一个例子，仓库货架上的一袋袋面粉可能有各种精确的重量，但它们的平均重量为 1.5
    KG 提供了买家确定托盘价格所需的所有几乎信息。
- en: 'Within a modern computing environment, we can summarize numeric data by using
    data frames-based processing (suitable for a relatively small data set that can
    be stored and processed on a single machine) or by using SQL or other structured
    query languages. Examples of data frames tools include Python’s pandas, dplyr
    in R, or DataFrames.jl in Julia. These tools provide powerful data manipulation
    and summarization mechanisms that can rapidly provide statistical insights both
    on instances of data and aggregations. These are often preferred by data scientists
    and engineers because they provide programming conventions and constructs that
    are more convenient and powerful than raw SQL. These tools often provide a `describe()`
    function that you can use to create a standardized initial report of the characteristics
    of numeric data. To find out more, check out the following resources:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在现代计算环境中，我们可以通过使用基于数据框的处理（适用于可以存储和处理在单个机器上的相对较小数据集）或使用SQL或其他结构化查询语言来总结数值数据。数据框工具的例子包括Python的pandas、R中的dplyr或Julia中的DataFrames.jl。这些工具提供了强大的数据操作和汇总机制，可以快速提供关于数据实例和聚合的统计洞察。这些工具通常被数据科学家和工程师所青睐，因为它们提供了比原始SQL更方便和强大的编程约定和结构。这些工具通常提供了一个`describe()`函数，您可以使用它来创建数值数据特征的标准化初始报告。要了解更多信息，请查看以下资源：
- en: For information about using Python’s pandas, try Reuven Lerner’s book, *Pandas
    Workout* [6] or Boris Paskhave’s book, *Pandas in Action* [7].
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解Python的pandas的使用信息，请尝试Reuven Lerner的书籍《Pandas Workout》[6]或Boris Paskhave的书籍《Pandas
    in Action》[7]。
- en: For a detailed description of using dplyr for an EDA, see Ryu’s *Cran-R EDA*
    vignette [8] or the wider overview given in Hadley Wickham’s book [13].
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要详细了解使用dplyr进行EDA的方法，请参阅Ryu的《Cran-R EDA》小节[8]或Hadley Wickham在其书籍[13]中提供的更广泛的概述。
- en: SQL provides some of the functionality of a data frame-type system but in the
    context of a database engine. In some cases, moving the data into the machine’s
    memory that uses pandas or another data frame system is inconvenient, and sometimes,
    the scale of the data makes it impractical. Modern database engines can often
    run highly optimized and parallelized SQL queries over the data that is stored
    in them. This means that aggregating and summarizing data for an EDA is practical
    for even large data sets. SQL is often seen as lower level or more complicated
    to use than a data frame language. Conversely, there are many engineers who have
    developed deep skills in SQL and may prefer working with it in contrast to data
    frames.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL提供了一些数据框类型系统的功能，但它是数据库引擎的上下文中。在某些情况下，将数据移动到使用pandas或其他数据框系统的机器内存中是不方便的，有时，数据的规模使得这样做不切实际。现代数据库引擎通常可以在存储在其中的数据上运行高度优化和并行化的SQL查询。这意味着，即使是大型数据集，对数据执行聚合和汇总操作也是实用的。SQL通常被认为比数据框语言更底层或更复杂。相反，有许多工程师在SQL方面拥有深厚的技能，他们可能更愿意使用它而不是数据框。
- en: Choosing the statistics that best describe a particular data set can be daunting.
    It’s not clear what will be important before starting the investigation, and there
    are a host of different ways to calculate the qualities of different types of
    data. Helpfully, there are automated ways to cover all this ground. The Cran-R
    EDA vignette [8] describes the function `eda_report`, which automatically generates
    a report covering univariant, distributions, and target-based (characteristic)
    analysis.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 选择最能描述特定数据集的统计量可能会令人望而却步。在开始调查之前，不清楚什么将变得重要，而且有众多不同的方式来计算不同类型数据的特性。幸运的是，有自动化的方法来覆盖所有这些领域。《Cran-R
    EDA》小节[8]描述了`eda_report`函数，该函数可以自动生成涵盖单变量、分布和基于目标（特性）分析的报告。
- en: 'Although creating a summary report is a good way to get some orientation and
    an overview of a data set, alternatively asking questions that are directed based
    on the team’s knowledge about the data and their needs for this can be even more
    illuminating. Let’s revisit the smart buildings example. The team member looking
    at the temperature_readings table might write the following query:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然创建总结报告是获取数据集方向和概览的好方法，但基于团队对数据的知识和他们对数据的需求提出的问题可能更加启发人心。让我们回顾一下智能建筑示例。查看temperature_readings表的团队成员可能会编写以下查询：
- en: '[PRE0]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The sensor readings are spread out evenly across the years, although one `(**525704000**)`
    has 140,000 more readings than the others. This is not suspicious because the
    year in question is a leap year, so there is an extra day. However:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 传感器读数在年份间均匀分布，尽管有一个`(**525704000**)`的读数比其他年份多14万个。这并不可疑，因为所讨论的年份是闰年，所以有额外的一天。然而：
- en: '[PRE1]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Eeesshh! All the readings are badged as being done in December, not good. At
    this point, you realize that there is a global problem with the data. Perhaps
    visualizing what’s going on will clarify what’s really going on with it?
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 哎呀！所有的读数都被标记为在十二月进行的，这并不好。这时，你意识到数据存在一个全局问题。也许可视化正在发生的事情将澄清它真正的情况？
- en: 6.1.3 Plots and visualizations
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.1.3 图表和可视化
- en: Although creating summary statistics using queries can answer specific questions
    and give general information about a data set, visualizing elements of it using,
    for example, scatter or ridgeline plots (in the case of time series or other sequences)
    is powerful. Summary statistics, no matter how well constructed, can be deceptive,
    so building visual descriptions of the data set is a useful way of gaining a clear
    understanding of its properties.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然使用查询创建汇总统计可以回答特定问题并给出关于数据集的一般信息，但使用例如散点图或脊线图（在时间序列或其他序列的情况下）可视化其元素是非常强大的。无论汇总统计构建得多么好，都可能具有欺骗性，因此构建数据集的视觉描述是获得对其属性清晰理解的有用方式。
- en: 'One way of using visualizations and plots is to explode summary statistics.
    As an illustration of why this can be an important step in an EDA process, it’s
    worth being aware of Anscombe’s Quartet (see figure 6.1). While the data in each
    of the four plots have different joint properties, they share some identical summary
    values: the mean of *x[n]* is 9, the mean of *y[n]* is 7.5, and the *x[n]* and
    *y[n]* Pearson correlation is 0.816\. Other summary statistics are identical as
    well. Whereas a detailed statistical investigation of every property of the data
    set might find the gaps between reality and belief that something like Anscombe’s
    Quartet can create, it’s often easier to spot this by plotting everything out
    and seeing how the data points relate to one another.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 使用可视化和图表的一种方式是分解汇总统计。作为一个说明为什么这可能是EDA过程中的一个重要步骤的例子，了解安斯康姆四重奏（见图6.1）是值得的。虽然四个图表中的每个数据集都有不同的联合属性，但它们共享一些相同的汇总值：*x[n]*的均值为9，*y[n]*的均值为7.5，*x[n]*和*y[n]*的皮尔逊相关系数为0.816。其他汇总统计也相同。虽然对数据集的每个属性进行详细统计调查可能会发现现实与信念之间的差距，就像安斯康姆四重奏可以创造的那样，但通常通过绘制所有内容并查看数据点如何相互关联来发现这一点更容易。
- en: '![](../Images/06-01.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/06-01.png)'
- en: 'Figure 6.1 Anscombe’s Quartet. Anscombe.svg: Schutz (label using subscripts):
    Avenue, CC BY-SA 3.0 ([https://creativecommons.org/licenses/by-sa/3.0](https://creativecommons.org/licenses/by-sa/3.0)),
    via Wikimedia Commons'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.1 安斯康姆四重奏。Anscombe.svg：Schutz（使用下标标记）：大道，CC BY-SA 3.0 ([https://creativecommons.org/licenses/by-sa/3.0](https://creativecommons.org/licenses/by-sa/3.0))，via
    Wikimedia Commons
- en: Another way is to look at data that contains deceptive covariant behaviors.
    Figure 6.2 shows the relationship between the size of a tip and the size of the
    check at a restaurant (image from Wikipedia, original work [3]). One might expect
    that the checks would be clustered around the diagonal fit, representing a linear
    relationship. As the bill gets bigger, so should the tip proportionately increase
    in size. However, there is a significant dispersal with mid-sized bills and poor
    tips and of tips for larger checks.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方法是查看包含欺骗性协变行为的数据。图6.2显示了餐厅小费金额与账单金额之间的关系（图片来自维基百科，原始作品[3]）。人们可能会预期账单会围绕对角线拟合聚集，表示线性关系。随着账单的增加，小费比例也应相应增加。然而，中等账单和较差的小费以及较大账单的小费存在显著的扩散。
- en: In the context of an EDA exercise, a plot like the one in figure 6.2 shows the
    team that they need to be careful to account for the differences in dispersal
    between the top end and the bottom end of the range when designing their data
    sets for modeling. Just sampling at random might not provide the information that
    the algorithms need to create an effective model.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在EDA练习的背景下，如图6.2所示的图表向团队展示了在设计用于建模的数据集时，他们需要仔细考虑范围两端之间的扩散差异。仅仅随机采样可能无法提供算法创建有效模型所需的信息。
- en: '![](../Images/06-02.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/06-02.png)'
- en: Figure 6.2 Tips versus bills (checks) at a restaurant from the Wikipedia EDA
    page. By Visnut, own work, CC BY-SA 3.0, [https://commons.wikimedia.org/w/index.php?curid=25703576](https://commons.wikimedia.org/w/index.php?curid=25703576)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.2 来自维基百科EDA页面的餐厅小费与账单（支票）对比图。由Visnut创作，CC BY-SA 3.0，[https://commons.wikimedia.org/w/index.php?curid=25703576](https://commons.wikimedia.org/w/index.php?curid=25703576)
- en: 'In the smart building example, we saw that the month field for the temperature
    data wasn’t meaningful. Let’s plot the number of temperature readings in the day
    field. We can get this out of the data with a query like:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在智能建筑示例中，我们注意到温度数据的月份字段没有意义。让我们绘制一天中温度读数的数量。我们可以通过以下查询从数据中获取这些信息：
- en: '[PRE2]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The result is a big array of large integers, so the thing to do is to rewrite
    the call with a Python function and pass it to your favorite plotting library
    (in this case, matplotlib). Figure 6.3 shows the result as a range from 0 to 7,
    but this looks a bit odd at first. You quickly see that the Python plotting tool
    decided to scale the y axis by 10⁶, so it shows that there are 350+ day values
    with a bit more than 7 million readings, and the one on the far right looks like
    it’s got about 1,800,000 readings. A few seconds of thought brings some good news.
    The day attribute is a day-of-the-year, and day 366 is February 29, which is about
    one-quarter of the other values because it only happened once in the life span
    of the sensor network.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是一个大数组，包含大量整数，所以要做的事情是用Python函数重写调用，并将其传递给您最喜欢的绘图库（在这种情况下，matplotlib）。图6.3显示了从0到7的范围，但一开始看起来有点奇怪。你很快就会看到Python绘图工具决定将y轴缩放为10⁶，因此它显示有350多个日值，有超过700万的读数，最右边的一个看起来大约有180万读数。几秒钟的思考会带来一些好消息。日属性是年日，第366天是2月29日，因为它是传感器网络生命周期中只发生一次的，所以它只占其他值的四分之一左右。
- en: '![](../Images/06-03.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-03.png)'
- en: Figure 6.3 Distribution of sensor readings over day of year
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.3 一年内传感器读数的分布
- en: It’s clear that each day of the year has (approximately) the amount of temperature
    data that would be expected if the sensor’s data was logged per day, and the month
    field was ignored. We can also see that the distribution of data across the years
    is correct, so it looks like we have data for every day over the period that the
    data set was collected.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 很明显，每年的每一天都有（大约）与传感器数据按天记录且忽略月份字段时预期的温度数据量。我们还可以看到，数据在年份间的分布是正确的，所以看起来我们收集数据集期间每天都有数据。
- en: One more obvious avenue for exploration is to look at the statistics of the
    temperatures that have been recorded. Although we have a large number of readings,
    by taking a relatively small sample randomly from the whole population, you can
    get representative statistics.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个明显的探索途径是查看已记录温度的统计数据。尽管我们有大量的读数，但通过从整个总体中随机抽取相对较小的样本，你可以得到代表性的统计数据。
- en: SQL, pandas, and dplyr are all well-integrated with powerful plotting and visualization
    engines such as matplotlib and ggplot. In practice, especially during EDA and
    with large data sets, visual exploration should be done using small subsets of
    the data. Plotting millions of points is going to make a mess of any high-res
    screen, but it also can challenge more powerful modern processors and GPUs.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: SQL、pandas和dplyr都与强大的绘图和可视化引擎（如matplotlib和ggplot）很好地集成。在实际操作中，尤其是在EDA和大型数据集的情况下，应该使用数据的小子集进行可视化探索。绘制数百万个点将会在任何高分辨率屏幕上造成混乱，但它也可能挑战更强大的现代处理器和GPU。
- en: Efficient processing and binning techniques can help, along with plotting probability
    densities rather than single points. While sampling can be misleading and problematic,
    it’s also simple and, in the context of using it to visualize drawing a sample
    and plotting some part of a data set, it can be a useful approach. Some investigations
    do require the entire data, though. For example, looking for anomalies or looking
    for problems with integrity can fail because a small subset doesn’t catch any
    candidate “baddies”.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 高效的处理和分箱技术可以帮助，同时通过绘制概率密度而不是单个点。虽然采样可能会误导和有问题，但它也很简单，在用于可视化绘制样本和绘制数据集的一部分的上下文中，它可能是一种有用的方法。尽管如此，一些调查确实需要整个数据。例如，寻找异常或寻找完整性问题可能会失败，因为一个小子集没有捕获任何候选的“坏家伙”。
- en: 6.1.4 Unstructured data
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.1.4 非结构化数据
- en: What if your project consumes unstructured data such as photos, videos, or text?
    ML algorithms are useful here too because they can uniquely process unstructured
    data into useful abstract models. It’s meaningless to apply statistical thinking
    to unstructured data. The median photo in a collection isn’t easy to define, and
    if you do define it and pick it out, it probably isn’t going to inform you about
    the properties of the other photos in the way that the median entity of a population
    of, say, customer records will. Nonetheless, it’s useful and possible to explore
    the quality of the information in unstructured data resources.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的项目消耗非结构化数据，如照片、视频或文本，会怎样？机器学习算法在这里也很有用，因为它们可以将非结构化数据独特地处理成有用的抽象模型。将统计思维应用于非结构化数据是没有意义的。一组照片中的中位数照片不容易定义，而且如果你定义了它并挑选出来，它可能不会像人口中的中位数实体（例如客户记录）那样告诉你其他照片的特性。尽管如此，探索非结构化数据资源中的信息质量是有用且可能的。
- en: 'It can be helpful to use pre-canned or quickly constructed ML to explore a
    new unstructured data resource, but it’s also possible to use human perception
    in a systematic way. Consider the example of a prelabeled image data set. The
    properties that may be of interest are:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 使用预先准备或快速构建的机器学习（ML）来探索新的非结构化数据资源可能会有所帮助，但也可以以系统化的方式利用人类感知。考虑一个预先标记的图像数据集的例子。可能感兴趣的特性包括：
- en: '*The number of images that correspond to each label:* Are the classes balanced?
    Are there any labels that are severely underrepresented?'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*对应每个标签的图像数量*：类别是否平衡？是否有任何标签严重代表性不足？'
- en: '*The orientation of the labeled items:* In Torralba and Efros [11], images
    were sampled and shown to be dominated by particular side on and showroom presentations.
    Furthermore, coffee mugs are often shown with the handle orientated to the right
    (try a search online for yourself).'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*标记项的方向*：在Torralba和Efros [11]的研究中，图像被采样并显示，特定侧面和展示厅的展示占主导地位。此外，咖啡杯通常以把手朝右的方向展示（你自己尝试在网上搜索一下）。'
- en: '*Image positioning:* In [11], this is called capture bias. How often do labeled
    items appear in parts of the image?'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*图像定位*：在[11]中，这被称为捕获偏差。标记项在图像的哪些部分出现频率较高？'
- en: '*Environment*: Are some backgrounds repeated and associated with some images?
    Apocryphal stories abound about models that were built to search for tanks, being
    trained with images that showed tanks in the snow and tractors in the sunshine.
    Consequentially, it’s claimed that the model labels everything in the snow as
    a tank and everything in the sunshine as a tractor.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*环境*：是否有某些背景被重复使用，并与某些图像相关联？关于模型的故事很多，这些模型被构建来搜索坦克，用显示坦克在雪中和拖拉机在阳光下的图像进行训练。结果，声称该模型将雪中的所有事物都标记为坦克，阳光下的所有事物都标记为拖拉机。'
- en: '*Coverage:* Is the label set complete with regard to the images in the data
    set? Are there images that are unlabeled? Are there items that are shown in several
    images that are not labeled? Are there (surprisingly) missing labels? Let’s say
    the images are of household tools; you might have screwdrivers, hammers, and wrenches,
    but are there saws or pilers?'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*覆盖范围*：标签集是否完整地涵盖了数据集中的图像？是否有未标记的图像？是否有在多个图像中显示但未标记的项目？是否有（令人惊讶的）缺失的标签？比如说，图像是家用工具；你可能会有螺丝刀、锤子和扳手，但有没有锯子或桩？'
- en: These investigations were done with human eyes applied to the result from queries
    over the labels in the imaginary data set. Yet, what if there are no labels, and
    more to the point, are there ways to use ML to help with EDA before we use ML
    to solve our business problem? The good news is that you can use a prebuilt foundational
    model to transform the data into a form that allows you to explore it.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这些调查是通过将人类眼睛应用于对想象数据集中标签的查询结果来进行的。然而，如果没有标签，更重要的是，在我们使用机器学习（ML）来解决业务问题之前，是否有使用机器学习（ML）来帮助进行探索数据（EDA）的方法？好消息是，你可以使用预构建的基础模型来将数据转换成可以探索的形式。
- en: Facebook, Google, and others use ML to create models of general domains like
    English text and everyday images (scenes from everyday life rather than from telescopes,
    microscopes, and satellites). These models can be problematic, and care is required
    when using them, but for an EDA exercise, employing them advisedly is low-risk,
    and over unstructured data, these models can provide insight that is not available
    from any other source.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: Facebook、Google和其他公司使用机器学习来创建通用领域的模型，如英语文本和日常图像（来自日常生活而非望远镜、显微镜和卫星的场景）。这些模型可能存在问题，在使用时需要谨慎，但对于EDA练习来说，明智地使用它们风险较低，并且在非结构化数据上，这些模型可以提供其他来源无法获得的见解。
- en: An appropriate foundational model is straightforward to use to get some overview
    information about the data set. We can use many foundational models to generate
    vectors (large, ordered arrays) of floating-point numbers, which the community
    calls *embeddings*. These represent the position in conceptual space where the
    model has determined the unstructured data item occupies.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 使用适当的基础模型来获取有关数据集的一些概述信息是直接的。我们可以使用许多基础模型来生成浮点数向量（大型、有序数组），社区称之为“嵌入”。这些表示模型确定非结构化数据项在概念空间中的位置。
- en: If you are working with a data set of photos, then select a foundational model
    such as EfficientNet [10], or for text, use one of the BERT-derived models such
    as all-MiniLM-L12-v2\. Download these from one of the many open-source repositories
    that store and distribute them and use them to generate embeddings for all or
    a reasonable subset of data. The embeddings are typically 768 or even 1,024 floating-point
    numbers. They represent high dimensionality spaces. Understanding or consuming
    the embedding directly is not useful, but the team can get some sense out of them
    indirectly.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在处理一个照片数据集，那么选择一个基础模型，如EfficientNet [10]，或者对于文本，使用BERT衍生模型之一，如all-MiniLM-L12-v2。从存储和分发这些模型的许多开源存储库之一下载这些模型，并使用它们为所有或合理的数据子集生成嵌入。嵌入通常是768或甚至1,024个浮点数。它们代表高维空间。直接理解或消费嵌入没有用，但团队可以通过间接方式从它们中获得一些信息。
- en: One straightforward approach is to use a dimensionality reduction mechanism
    such as T-distributed Stochastic Neighbor Embedding (t-SNE) or principal component
    analysis (PCA) to visualize the distribution of the data items in your embedding
    space. This can sometimes be informative, but the level of dimensionality reduction
    and information loss can be large. Alternatively, the embeddings can be indexed
    with a system like FAISS (Facebook AI Similarity Search) [5] or Annoy [2], then
    you can use the nearest neighbor query functionality to extract some structure
    from a corpus.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 一种直接的方法是使用降维机制，如T分布式随机邻近嵌入（t-SNE）或主成分分析（PCA），来可视化嵌入空间中数据项的分布。这有时可能很有信息量，但降维程度和信息损失可能很大。或者，可以使用FAISS（Facebook
    AI相似性搜索）[5]或Annoy [2]这样的系统对嵌入进行索引，然后你可以使用最近邻查询功能从语料库中提取一些结构。
- en: 'There are openly accessible texts of Shakespeare’s plays, so it’s simple to
    use these to show how we can use this kind of foundational model/index system
    to support exploration of unstructured data. If the plays are supplied to a parser
    and split into sentences, these can be fed into a model like all-MiniLM-L12-v2,
    where you give each sentence an embedding:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 莎士比亚戏剧的文本是公开可获取的，因此使用这些文本来展示我们如何使用这种基础模型/索引系统来支持非结构化数据的探索很简单。如果将戏剧提供给解析器并分割成句子，这些句子可以被输入到all-MiniLM-L12-v2这样的模型中，你为每个句子提供一个嵌入：
- en: '[PRE3]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'When these were indexed, we used FAISS to find the nearest neighbor in another
    play:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 当这些被索引时，我们使用FAISS在另一部戏剧中找到最近邻：
- en: '[PRE4]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: By iterating over all items in the index, we can create a matrix that shows
    the strength of the links (neighborliness) between all the plays. This can be
    visualized as a heatmap as in figure 6.4.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 通过遍历索引中的所有项目，我们可以创建一个矩阵，显示所有戏剧之间链接的强度（邻近性）。这可以像图6.4中那样以热图的形式可视化。
- en: '![](../Images/06-04.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-04.png)'
- en: Figure 6.4 Heat map of nearest neighbor connections in Shakespeare’s plays using
    all-MiniLM-L12-v2
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4 使用all-MiniLM-L12-v2对所有莎士比亚戏剧中的最近邻连接的热图
- en: The heatmap may or may not provide some insight into the unstructured data.
    Certainly, *The Comedy of Errors* looks to be distant from the other plays, and
    *King Lear* and *Othello* seem to be well connected. We can apply other filters
    to the neighborliness data, though. For example, we can run a filter to extract
    only connections that are 2 or 3 standard deviations above the mean link value.
    In this case, a graph like the one in figure 6.5 can be rendered, which shows
    the clustering of *The Hollow Crown* plays on the left and the strangeness of
    *The Merry Wives of Windsor* on the right.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 热图可能或可能不会为非结构化数据提供一些洞察。当然，*《错误的喜剧》*看起来与其他戏剧相距甚远，而*《李尔王》*和*《奥赛罗》*似乎联系紧密。尽管如此，我们还可以应用其他过滤器来处理邻里关系数据。例如，我们可以运行一个过滤器，仅提取那些与平均链接值相差2或3个标准差的连接。在这种情况下，可以渲染出如图6.5所示的图形，它显示了*《空冠》*戏剧在左侧的聚类和*《温莎的风流寡妇》*在右侧的奇特之处。
- en: '![](../Images/06-05.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-05.png)'
- en: Figure 6.5 Finding significant (0.05%) links between plays
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.5 在戏剧之间找到显著的（0.05%）链接
- en: 6.2 Ethics checkpoint
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.2 伦理检查点
- en: 'EDA ticket: S1.6'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: EDA工单：S1.6
- en: Check ethics in light of the emerging understanding.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据新兴的理解检查伦理问题。
- en: At this point, it is appropriate to deploy some of the ethical evaluation tools
    that have been developed in recent years to systematically check the issues that
    might arise. Currently, the IEEE, the Ada Lovelace Institute, and Microsoft have
    tools and systems to evaluate and track ethical issues in AI and ML systems.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，适当地部署近年来开发的某些伦理评估工具，以系统地检查可能出现的各种问题是很合适的。目前，IEEE、Ada Lovelace研究所和微软都有工具和系统来评估和跟踪AI和ML系统中的伦理问题。
- en: We discussed this kind of tool in chapter 2, where it was suggested to use an
    impact assessment to understand the ethical implications of deploying the system
    that is under consideration. At that time, you and the team had a minimal understanding
    of the proposed system. Since then, you’ve checked the data and have developed
    a deeper understanding of the business requirements. Now you are in a much stronger
    position to review the ethical, privacy, and security issues surrounding the project.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在第2章讨论了这类工具，当时建议使用影响评估来理解考虑部署的系统可能带来的伦理影响。当时，你和团队对所提出的系统只有最基本的理解。从那时起，你已经检查了数据，并对业务需求有了更深入的了解。现在，你在审查项目周围的伦理、隐私和安全问题方面处于更有力的位置。
- en: 'In a recent survey of ethical impact analysis tools, Ayling and Chapman [1]
    note that there is a wide spread of these tools in terms of what stage of a project
    they can be applied to and what aspects of ML ethics they address. Ayling and
    Chapman also discovered deficiencies and gaps, and this and the plethora of available
    tools makes it likely that further development and a consolidation of the approaches
    in this area is inevitable. When a well-defined and relatively complete methodology
    for understanding and documenting the ethnical impact of ML systems comes into
    use, you should adopt it. At the time of writing, however, there some clear requirements
    for an impact assessment:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在最近的一项关于伦理影响分析工具的调查中，Ayling和Chapman [1] 指出，这些工具在项目应用阶段和它们解决的ML伦理方面存在广泛的差异。Ayling和Chapman还发现了缺陷和差距，这以及可用的工具众多，使得进一步发展和在这一领域的方法统一变得不可避免。当一种明确且相对完整的方法被用于理解和记录ML系统的伦理影响时，你应该采用它。然而，在撰写本文时，对影响评估有一些明确的要求：
- en: Involve all project stakeholders including the users and the people impacted.
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 涉及所有项目利益相关者，包括用户和受影响的人。
- en: Understand the costs versus the benefits to those impacted.
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解对受影响者的影响成本与收益。
- en: Focus on the lifecycle of both the project and the system to be developed.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关注项目和要开发系统的生命周期。
- en: Know how the impact of the system is to be measured and understood as it evolves.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解系统的影响如何随着其演变而被衡量和理解。
- en: Look at the adequacy of the mechanisms that will be used to govern the system.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查将用于治理系统的机制是否充分。
- en: To some extent, these requirements (and others from future, well-developed ethical
    evaluation systems) are in the hands of you and the team at this point in the
    project. You are still in control of what the system will become, so you can still
    influence and develop those aspects of the system that define the outcome of the
    system.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在一定程度上，这些要求（以及来自未来发达的伦理评估系统的其他要求）目前掌握在项目中的你和团队手中。你仍然控制着系统将变成什么样子，因此你仍然可以影响和开发那些定义系统结果的因素。
- en: It may be that the costs of the system to those exposed to it will outweigh
    the benefits. If this is the case, then this needs to be surfaced on the project’s
    risk register and mitigated while that’s possible. Likewise, the governance aspects
    of the system could be inadequate (given what you now know about the client organization
    and the business aspects of the system). Again, you can use the risk register
    and project backlog to address this.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些接触到系统的人来说，系统的成本可能会超过其好处。如果是这种情况，那么需要在项目的风险登记册中提出，并在可能的情况下进行缓解。同样，系统的治理方面可能不足（考虑到你对客户组织和系统商业方面的了解）。再次，你可以使用风险登记册和项目待办事项来解决这个问题。
- en: The ultimate success and value of the system developed is defined by its ethical
    impact. Unethical systems are likely to not only end up as valueless, they may
    well become a total liability. No one should intentionally develop an unethical
    system! Use this opportunity to take deliberate steps to prevent you and your
    team from becoming involved in an accident.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 开发系统的最终成功和价值由其伦理影响定义。不道德的系统不仅可能毫无价值，还可能成为完全的负担。没有人应该故意开发不道德的系统！利用这个机会，采取深思熟虑的步骤，防止你和你的团队卷入意外。
- en: 6.3 Baseline models and performance
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.3 基线模型和性能
- en: It’s common to see performance evaluations presented in isolation from their
    application and domain. For example, a team might produce a classifier that’s
    99% accurate, which is great, but, without context, who knows if it’s useful or
    interesting? The majority class might be 99% of the examples in the test set,
    so the classifier might always predict that class.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在孤立于其应用和领域的情况下展示性能评估是很常见的。例如，一个团队可能开发出一个准确率达到99%的分类器，这很好，但如果没有上下文，谁知道它是否有用或有趣呢？测试集中的大多数类可能占99%，因此分类器可能总是预测这个类别。
- en: When estimating performance, there are many ways to get past that sort of gotcha
    (to be discussed in future chapters at length). It’s important to quicky establish
    where the model’s performance sits in comparison to what it needs to do for the
    business. It’s also important to understand performance in comparison to simple
    models that predict a majority class, for example. If your models don’t do better,
    then you’re wasting your time.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在估计性能时，有许多方法可以绕过这类陷阱（将在未来的章节中详细讨论）。重要的是要迅速确定模型性能相对于其需要为业务完成的工作所处的位置。了解性能与预测多数类的简单模型相比也很重要。如果你的模型没有做得更好，那么你就是在浪费时间。
- en: 'EDA ticket: S1.7'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: EDA工单：S1.7
- en: Define and implement the model baselines.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义并实现模型基线。
- en: It’s possible to rapidly develop a baseline model over a relatively small sample
    of data (enabling quick iteration), using simple modelling techniques such as
    decision-tree learning or low-dimensional perceptron’s. Simple models can often
    overfit (memorize the data) or may be badly under-specified (not modelling the
    data’s complexity), but in this phase, that’s OK! We’re looking for indications
    of the challenge and want to establish bottom lines for the system’s performance.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 可以在相对较小的数据样本上快速开发基线模型（实现快速迭代），使用简单的建模技术，如决策树学习或低维感知器。简单模型往往可能过度拟合（记住数据）或可能严重欠指定（没有模拟数据的复杂性），但在这一阶段，这是可以接受的！我们正在寻找挑战的迹象，并希望为系统的性能设定底线。
- en: 'A nontechnical route to baselining comes from business analysis: an expensive
    sophisticated model that predicts customer churn needs to work better than a handcrafted
    classifier that looks at the month that a customer’s contract expires, the estimated
    household income, or the monthly expenditure. How much better? We can answer that
    with another question, how much will the model have to improve to provide the
    return on investment that is required to pay for the project?'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 从业务分析中来的非技术路线是基线：一个昂贵的复杂模型需要比一个手工制作的分类器表现更好，该分类器查看客户合同到期月份、估计的家庭收入或月支出。好多少？我们可以用另一个问题来回答，模型需要提高多少才能提供支付项目所需的回报率？
- en: Projects that take the naïve position of being a tiny bit better than an unintelligent,
    simple system may look great in development. Somewhere along the road to production,
    however, they are almost certain to fall by the wayside.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 采取比无智能、简单系统略好一点的位置的项目在开发中可能看起来很棒。然而，在通往生产的路上，它们几乎肯定会落空。
- en: 6.4 What if there are problems?
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.4 如果有问题怎么办？
- en: The EDA exercise described in section 6.1 is what is often called a “sunny day
    story”. The conclusion, however, glosses over the problems, diversions, and dead
    ends that we typically encounter in a project. It would be surprising if complications
    and problems don’t trip the team up more than once while they obtain and explore
    the customer’s data. For example, it’s quite normal to try SQL endpoints, only
    to discover that they don’t exist. Sometimes they are behind a firewall that can’t
    be reconfigured. Or the team may be shocked to discover that the credentials they’ve
    been given don’t work, and the admin is unavailable due to illness or annual leave.
    This is to be expected and can be overcome quite easily if the team and project
    have the right level of customer sponsorship and support.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 第6.1节中描述的EDA练习通常被称为“晴天故事”。然而，结论却忽略了我们在项目中通常会遇到的问题、偏离和死胡同。如果在获取和探索客户数据的过程中，复杂性和问题不止一次地让团队陷入困境，那将令人惊讶。例如，尝试SQL端点是很常见的，结果却发现它们根本不存在。有时它们位于无法重新配置的防火墙后面。或者，团队可能会惊讶地发现他们所获得的凭证无效，而管理员因生病或年假而无法联系。这是可以预料的，如果团队和项目有适当的客户赞助和支持，这个问题可以很容易地克服。
- en: 'A more serious issue is the discovery that the data resource is quite different
    in character and content than what was portrayed by the customer when the project
    began. There are three “rainy day paths” to walk in this situation:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更严重的问题是，在项目开始时，数据资源在性质和内容上与客户所描述的截然不同。在这种情况下，有三种“雨天路径”可以选择：
- en: Take the road to disaster.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择通往灾难的道路。
- en: Renegotiate the project’s objectives.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新协商项目的目标。
- en: Stop the project.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 停止项目。
- en: The first path is the road to disaster. You continue with the project as if
    the data is what you expected and use it to build the models and answer the questions
    that underpin the project. Perhaps something will turn up, and the data resource
    will be restored and recovered, and all will be well. Experience suggests that
    it won’t, and the project simply fails.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 第一条路径是通往灾难的道路。你继续按照预期数据的方式推进项目，并使用它来构建模型和回答支撑项目的相关问题。也许会有所发现，数据资源得以恢复和恢复，一切都会好起来。经验表明，这种情况不会发生，项目将直接失败。
- en: The second path is to renegotiate the objectives of the project with the customer,
    given what you now believe can (or cannot) be done. The key thing is that you
    and your team can speak to the real concerns and value that you understand from
    the engagement thus far. Doing this enables you to map out a new route to success,
    based on the data that is available. This new project may be more expensive and
    less ambitious, or it may be just as tight and ambitious but somewhat different.
    In either case, the customer must come on board and accept the change in direction
    and outcome. The assumptions that were baked into the statement of work about
    the data and the system are critical at this time because it provides an opportunity
    for renegotiation. This opens the door to the third path.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 第二条路径是与客户重新协商项目的目标，基于你现在认为可以（或不能）完成的事情。关键在于你和你的团队能够就迄今为止的参与中理解到的真实担忧和价值进行沟通。这样做可以使你根据可用的数据规划出一条新的成功路线。这个新项目可能成本更高，雄心更小，或者它可能同样紧凑和雄心勃勃，但有所不同。在两种情况下，客户都必须加入并接受方向和结果的变化。关于数据和系统的任务说明中包含的假设在此时至关重要，因为它提供了重新协商的机会。这为第三条路径打开了大门。
- en: The third path from an unhappy discovery about the data resource is to simply
    stop the project. Again, the assumptions in the statement of work are the mechanism
    that enables this. Even though you are contractually able to take this path, it
    can still be a commercially and professionally painful decision to make. Although
    in this ultra-tight, ultra-compressed project structure, you’ve completed one-and-a-half
    out of three sprints, which will be paid for, the purpose of driving so hard and
    moving so fast is to develop this project in more profitable and interesting ways
    and to win more business once you succeed. That’s not going to happen now, and
    the work burned to find that out is effort that could have been spent on other,
    better opportunities.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 从对数据资源的不愉快发现中，第三条路径就是简单地停止项目。同样，工作说明中的假设是使这一机制得以实现的因素。尽管你在合同上能够选择这条路径，但做出这样的商业和专业上的痛苦决定仍然可能。尽管在这个超紧凑、超压缩的项目结构中，你已经完成了三个冲刺中的1.5个，这些将得到支付，但如此拼命和快速推进的目的就是为了以更有利可图和更有趣的方式开发这个项目，并在成功后赢得更多业务。现在这不可能发生，而为了找到这一点所付出的努力本可以用于其他更好的机会。
- en: Suppose the ethical assessment that you conducted revealed unsurmountable issues.
    It may be impossible to build a system of the type desired without causing unacceptable
    harm to previously unidentified stakeholders. In this case, it’s simply impossible
    for the project to continue. Your job is to identify these issues. You’ve driven
    out risk as quickly as possible, things are not great, but it is what it is. Getting
    out now may be the only sensible thing for you, the team, and the client.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你进行的道德评估揭示了无法克服的问题。在没有对之前未识别的利益相关者造成不可接受伤害的情况下，可能无法构建所需类型的系统。在这种情况下，项目继续进行是不可能的。你的工作是识别这些问题。你已经尽可能快地排除了风险，事情并不理想，但就是这样。现在退出可能是对你、团队和客户唯一明智的选择。
- en: 'The rest of the methodology and this book focuses on the happier prospect:
    you complete the EDA without substantial issues. The data that you hoped for is
    available, and the team understands it and can use it. You have established and
    documented the data constraints and understand the business constraints and opportunities,
    in addition to the constraints imposed by the customer’s system.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法论和本书的其余部分专注于更令人愉快的预期：你在没有重大问题的前提下完成了EDA。你希望得到的数据是可用的，团队理解并能够使用它。你已经建立了并记录了数据约束，理解了业务约束和机会，除了客户系统施加的约束之外。
- en: Having collected these constraints, now we must solve them to find the right
    solution for the customer. It’s at this point that the models at the heart of
    the system need to be designed and developed. The team has the tools to work with,
    an understanding of the model’s constraints and requirements, and the assets that
    enable development of the data and foundational models. Putting all these things
    together and using them is the next step in the project and the task of sprint
    2, where the modeling team gets to work.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 收集了这些约束之后，现在我们必须解决它们，以找到适合客户的正确解决方案。正是在这一点上，系统核心的模型需要被设计和开发。团队有工具可以工作，对模型的约束和要求有理解，以及能够开发数据和基础模型资产。将这些事情整合在一起并加以利用是项目的下一步，也是第二个冲刺的任务，建模团队开始工作。
- en: 6.5 Pre-modeling checklist
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.5 建模前的检查清单
- en: Having addressed the items of work for sprint 1, the team should pause and run
    through this predevelopment checklist. The goal of doing this is to ensure that
    adequate preparations are made, the necessary resources are in place before beginning
    modeling work, everyone has consumed and understood the relevant information created
    in this sprint, and any outstanding issues are addressed.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在解决了第一个冲刺的工作项之后，团队应该暂停并运行这个预开发检查清单。这样做是为了确保在开始建模工作之前做好了充分的准备，必要的资源已经到位，每个人都已经消费并理解了在本冲刺中创建的相关信息，并且解决了任何悬而未决的问题。
- en: Table 6.1 Pre-modelling (PM) checklist for sprint 1
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 表6.1 第一个冲刺的预建模（PM）检查清单
- en: '| Task # | Item |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| 任务编号 | 项目 |'
- en: '| --- | --- |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| PM 1 | Access to training and validation data obtained. |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| PM 1 | 获得了训练和验证数据的访问权限。|'
- en: '| PM 2 | Data survey conducted, and data checked to be as expected and useable.
    |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| PM 2 | 已进行数据调查，并检查数据是否符合预期且可使用。|'
- en: '| PM 3 | Data pipelines implemented and versioned. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| PM 3 | 数据管道已实施并版本化。|'
- en: '| PM 4 | Appropriate data testing in place. |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| PM 4 | 已实施适当的数据测试。|'
- en: '| PM 5 | Appropriate repositories and versioning infrastructure created to
    support recording and managing all artefacts. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| PM 5 | 已创建适当的存储库和版本控制基础设施，以支持记录和管理所有工件。|'
- en: '| PM 6 | EDA undertaken and results recorded. |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| PM 6 | 已进行EDA并记录结果。|'
- en: '| PM 7 | Baseline model created. |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| PM 7 | 基线模型已创建。|'
- en: '| PM 8 | Ethical assessment conducted. |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| PM 8 | 已进行道德评估。|'
- en: '6.6 The Bike Shop: Pre-modelling'
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.6 The Bike Shop：预建模
- en: 'The data resources for The Bike Shop project are in legacy SAP instances, managed
    on a corporate intranet behind The Bike Shop’s firewall. The team needs an interface
    to SAP using the proprietary data services bridge to deliver the data to the cloud
    data warehouse in advance of the migration project. The Bike Shop owns and manages
    the cloud data warehouse on their cloud landing zone. To use the cloud landing
    zone, the team needs to be granted credentials as The Bike Shop’s contractors.
    The steps required to access the data for The Bike Shop are as follows:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: The Bike Shop项目的数据资源位于传统的SAP实例中，这些实例在The Bike Shop的防火墙后由公司内部网络管理。团队需要一个使用专有数据服务桥接的SAP接口，以便在迁移项目之前提前将数据传输到云数据仓库。The
    Bike Shop拥有并管理其云着陆区上的云数据仓库。为了使用云着陆区，团队需要获得作为The Bike Shop承包商的凭证。访问The Bike Shop数据的步骤如下：
- en: Secure a license for the data services bridge.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为数据服务桥接获取许可证。
- en: Get contractor IDs for team members.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取团队成员的承包商ID。
- en: Using their IDs, the team members must attend a corporate onboarding for security
    training and confirm that they accept all data policies for The Bike Shop.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用他们的ID，团队成员必须参加公司入职培训，并确认他们接受The Bike Shop的所有数据政策。
- en: Acquire and install the two-factor authentication and VPN clients.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取并安装双因素认证和VPN客户端。
- en: Implement the data services bridge in the cloud landing zone.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在云着陆区实现数据服务桥接。
- en: Configure the cloud landing zone firewall to allow traffic to the SAP servers.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置云着陆区防火墙以允许流量流向SAP服务器。
- en: Configure the corporate firewall to allow traffic from the cloud landing zone.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置公司防火墙以允许来自云着陆区的流量。
- en: Configure the SAP servers to accept the connection from the cloud landing zone.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置SAP服务器以接受来自云着陆区的连接。
- en: Execute the agreed on one-off copy.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行商定的单次复制操作。
- en: Ingest and format the data in the data warehouse into an appropriate schema.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据仓库中的数据导入适当的模式并进行格式化。
- en: Although that’s a fair amount of work, there’s more of an elapsed time component
    to these tasks. They are dependent on provisioning the services, the physical
    processes that deliver the components, and the time spent by team members in training
    courses and briefings for security conformance. Additionally, the data transfer
    can take time due to the cost of corporate interconnects. (Typically, these are
    an order of magnitude slower than consumer connections because of traffic management
    and quality-of-service liabilities and requirements that corporate businesses
    impose on their network providers.) Despite these bottlenecks, the team checks
    with the migration manager working on The Bike Shop contract at your organization
    to ensure that this process is front-loaded at the beginning of the sprint and
    that the data arrives in the cloud data warehouse on day 2.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这是一项相当多的工作，但这些任务的完成时间更长。它们依赖于服务的配置、交付组件的物理过程以及团队成员在培训课程和安全合规性简报中花费的时间。此外，由于公司内部互联的成本，数据传输可能需要时间。（通常，由于流量管理和企业对其网络提供商提出的服务质量责任和要求，这些连接的速度比消费者连接慢一个数量级。）尽管存在这些瓶颈，团队仍会与在您的组织中负责The
    Bike Shop合同的迁移经理确认，确保此过程在冲刺开始时前置，并且数据在第2天到达云数据仓库。
- en: 6.6.1 After the survey
  id: totrans-144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.6.1 调查之后
- en: The data survey for The Bike Shop raises significant questions about the source
    data. Although the data covers the appropriate time span (five years), and the
    appropriate number of records for each year and month are distributed as expected,
    the team discovers a problem. There were large numbers of duplicate records in
    the data warehouse table and significant mismatches between the record counts
    in the three original data tables and the aggregate table. They noted these issues
    for further investigation and resolution.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: The Bike Shop的数据调查对源数据提出了重大问题。尽管数据涵盖了适当的时间跨度（五年），并且每年和每月的适当记录数量如预期分布，但团队发现了一个问题。数据仓库表中存在大量重复记录，并且三个原始数据表中的记录数与汇总表之间存在重大不匹配。他们记录了这些问题以供进一步调查和解决。
- en: During the survey, it was also noticed that almost all the records were from
    week 4 of each month. You ask the product manager to check why this is. It turns
    out that this wasn’t an issue of an unused attribute (as for the sensor data).
    In fact, it was a business undertaking. The finance teams processed records to
    meet deadlines each month, completing their work at the end of each month. A cross-check
    is undertaken to count the distribution of records against the countries of origin.
    This verifies that the distribution of sales records for each country are in line
    with the relative importance of each country for the business. You prepared a
    report on the data in the data warehouse and send it in a notification via the
    document repository (as per the communication plan for the project) to the customer
    and to the team.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在调查过程中，还注意到几乎所有记录都来自每个月的第4周。你要求产品经理检查这是为什么。结果发现，这并不是一个未使用属性的问题（就像传感器数据那样）。实际上，这是一项商业活动。财务团队处理记录以满足每月的截止日期，并在每月结束时完成他们的工作。进行交叉检查以计算记录的分布与来源国家之间的分布。这验证了每个国家的销售记录分布与每个国家在业务中的相对重要性相一致。你准备了数据仓库中的数据报告，并通过文档库（按照项目的沟通计划）发送通知给客户和团队。
- en: 'In the meantime, the team spins up dev, test, and prod environments in the
    Bike Shop’s landing zone (as per the infrastructure plan). Infrastructure as code
    (IaC) is used to rapidly instantiate all the components and services that the
    backbone team needs for project delivery. In this case, there is no bespoke infrastructure
    and there are no problems of scale that will delay the build. Verification of
    the build is done with straightforward inspection, and an infrastructure report
    is prepared, filed, and communicated (as per the agreement on policy). A workshop
    with the business stakeholders is held to determine how they will consume and
    make use of the system. The agenda of the workshop ls as follows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 同时，团队在Bike Shop的着陆区启动了开发、测试和生产环境（按照基础设施计划）。使用基础设施即代码（IaC）快速实例化骨干团队为项目交付所需的所有组件和服务。在这种情况下，没有定制的基础设施，也没有会延迟构建的规模问题。通过简单的检查验证构建，并准备、归档和传达基础设施报告（按照政策协议）。举行了一次与业务利益相关者的研讨会，以确定他们将如何消费和使用该系统。研讨会的议程如下：
- en: Overview of proposed solution (including a mock UI) to understand what is to
    be built.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提出解决方案的概述（包括模拟用户界面），以了解将要构建的内容。
- en: Review of user stories developed during the pre-sales phase.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查销售前阶段开发的故事。
- en: Review of project challenges in the statement of work (SOW).
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查工作说明（SOW）中的项目挑战。
- en: 'Questions to move the project forward:'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推动项目前进的问题：
- en: What are the entities that predictions should be made for? Countries? Regions?
    Product lines? Individual products?
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应为哪些实体做出预测？国家？地区？产品线？单个产品？
- en: What configuration options are required?
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要哪些配置选项？
- en: What controls should be provided for the user to manipulate and experiment with
    the models?
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应为用户提供哪些控制，以便他们可以操作和实验模型？
- en: The workshop proved to be challenging; several of the required stakeholders
    failed to attend, and it’s now apparent that the sponsorship for the project rests
    with the CIO and the team. This means that there will be a lack of business input
    in the project’s direction, which ultimately diminishes its value to the organization.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 证明这次研讨会具有挑战性；有几个必要的利益相关者未能出席，现在很明显，项目的赞助权在CIO和团队手中。这意味着在项目方向上可能会缺乏业务输入，这最终会降低其对组织的价值。
- en: This common experience is driven by the difficulty that operational managers
    have in valuing and grasping innovative initiatives for their business. Operational
    managers that own profit and loss (P&L) lines and that are accountable for their
    success are generally incentivized to deliver incremental performance improvements
    and to see strategic changes or changes to organizational focus (such as investing
    in different product lines or investing in different markets) as a threat to their
    business. They are, therefore, unlikely to invest in this kind of initiative.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 这种共同经历是由运营经理在评估和掌握其业务创新举措方面的困难所驱动的。拥有利润和损失（P&L）线并对其成功负责的运营经理通常会被激励去实现渐进的性能改进，并将战略变化或组织重点的变化（如投资不同的产品线或投资不同的市场）视为对其业务的威胁。因此，他们不太可能投资这类举措。
- en: In the case of The Bike Shop, innovations were often identified by a mechanical
    engineering development group under the control of the Director of Manufacturing.
    This group owned an innovation budget that was ringfenced by corporate management
    to enable the business to keep its product lines competitive. Unfortunately, this
    group is disinterested in supporting IT innovation. As companies and the economy
    digitize new structures that incentivize the participation of business stakeholders
    in IT, innovative projects become more and more important. But, for The Bike Shop
    project, that time lay in the future, and the team has to deal with the reality
    of the business’s disengagement.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在《自行车店》的案例中，创新通常是由制造总监控制下的机械工程开发团队发现的。这个团队拥有一个由公司管理层划定的创新预算，以使业务保持其产品线的竞争力。不幸的是，这个团队对支持IT创新不感兴趣。随着公司和经济的数字化，新的结构激励业务利益相关者参与IT，创新项目变得越来越重要。但是，对于《自行车店》项目来说，那个时间还在未来，团队必须应对业务脱节的现实。
- en: To overcome this, the team works with the product owner to reach out to the
    grass roots of the organization and set up meetings with people who can give insight
    and validation about the system. These mid-level managers can be engaged by the
    CIO team because they are involved in the business-as-usual implementation and
    upgrade initiatives and are, therefore, incentivized to maintain a good relationship
    with the CIO group. They have operational expertise and are also younger and more
    interested in technology than the senior stakeholders who were initially identified,
    so they are a good source of information. On the other hand, these experts are
    not able to sign off on the features and concepts they endorse. A series of meetings
    yields a stable set of user stories and alignment on the mechanism and output
    that the finished implementation should provide.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 为了克服这个问题，团队与产品负责人合作，接触组织的基层，并与能够提供关于系统见解和验证的人安排会议。这些中层管理者可以通过CIO团队进行动员，因为他们参与了日常业务实施和升级计划，因此有动力与CIO团队保持良好关系。他们拥有操作专业知识，而且比最初确定的高级利益相关者年轻，对技术的兴趣更大，因此他们是信息的好来源。另一方面，这些专家无法对支持的特性和概念进行签字确认。一系列会议产生了一套稳定的用户故事，并就最终实施应提供的机制和输出达成一致。
- en: With agreement on the user stories, challenges, and features, the team develops
    and validates the backlog tasks S2.1 and S3.1\. At the same time, information
    is now available to allow decisions to be made about what open-source data can
    be used to supplement the sales and inventory data from SAP. Economic indicators
    and country-specific news stories sourced from Reddit are selected. Discussions
    with the subject matter experts verify the team’s findings about the aggregate
    data table in the SAP data warehouse.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在就用户故事、挑战和特性达成一致后，团队开发和验证了待办任务S2.1和S3.1。同时，现在有信息可以做出关于可以使用哪些开源数据来补充来自SAP的销售和库存数据的决定。从Reddit获取的经济指标和国家特定新闻故事被选中。与主题专家的讨论验证了团队关于SAP数据仓库中聚合数据表的发现。
- en: Additionally, there appears to be issues with the aggregation process used in
    the data warehouse, which means that large numbers of records in the origin tables
    are likely not present in the aggregate table. After discussions with the CIO
    team, it’s decided that importing the three regional tables and creating modelling
    from those is the only way to create results with any degree of integrity. These
    decisions allow the team to design and develop the pipeline to move and transform
    the source data into coherent data, suitable for an EDA and then modelling.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，数据仓库中使用的聚合过程似乎存在问题，这意味着原始表中的大量记录可能不在聚合表中。在与CIO团队讨论后，决定导入三个区域表并从这些表中创建模型是唯一能够以任何程度的完整性创建结果的方法。这些决策使团队能够设计和开发管道，将源数据移动和转换成连贯的数据，适合进行EDA和建模。
- en: Figure 6.6 shows the ingest pipeline developed by the team. There are five steps
    in the pipeline that are broken out as workflow elements. First, the pipeline
    is started (a), so the first thing to do is to notify those in the team that are
    responsible for the pipelines that one has been started, and log that the pipeline
    is running. Step (b) pulls the data from the three SAP instances into staging
    storage on the cloud.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6显示了团队开发的数据摄取管道。管道中有五个步骤，这些步骤被分解为工作流程元素。首先，启动管道（a），所以首先要做的是通知那些负责管道的团队成员，并记录管道正在运行。步骤（b）从三个SAP实例中提取数据到云端的临时存储中。
- en: The next step (c) runs the SQL queries that generate a normalized value for
    each transaction in The Bike Shop’s chosen global currency. (It could be $, £,
    or €, but £ was used in 1991 and adjusted as a relative value as well as an instantaneous
    value versus a modern basket of currency.) This step creates a set of three new
    tables containing all the original records with extra columns.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步（c）运行SQL查询，为The Bike Shop选择的全球货币中的每一笔交易生成一个标准化值。（它可能是美元$、英镑£或欧元€，但在1991年使用了英镑，并作为相对值以及与现代货币篮子的即时值进行了调整。）这一步创建了一个包含所有原始记录以及额外列的三个新表。
- en: Step (d) joins these three normalized tables and chooses only distinct rows
    from them. This is because, in the preliminary discussions with The Bike Shop
    subject matter experts, it was mentioned that different regions often duplicated
    the record of a particular sale. Because the application under development is
    not aimed at determining local compensation, which is why the duplications occurred,
    and is aimed at gauging underlying business performance, these duplications must
    be removed.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 步骤（d）将这些标准化表连接起来，并从中选择唯一的行。这是因为，在与The Bike Shop的主题专家初步讨论中提到，不同地区经常重复记录特定的销售。由于正在开发的应用程序不是旨在确定本地补偿，这是重复发生的原因，而是旨在衡量潜在的业务绩效，因此这些重复必须被移除。
- en: Step (e) runs some simple checks over the resulting source table. The number
    of rows created versus the number of rows in the normalized and source tables
    is recorded, along with the amount of time taken and any exceptions raised in
    the logs from steps (b) and (c). The ingest is determined to be a success or a
    failure according to these checks, and a notification is sent to process subscribers,
    along with updates registered in the project metadata stores.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 步骤（e）对生成的源表进行一些简单的检查。记录了创建的行数与标准化和源表中的行数之间的差异，以及步骤（b）和（c）中日志中出现的任何异常。根据这些检查确定摄取是成功还是失败，并通知处理订阅者，同时更新项目元数据存储。
- en: '![](../Images/06-06.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图6.6](../Images/06-06.png)'
- en: Figure 6.6 The Bike Shop data ingest pipeline with four atomic steps
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6 The Bike Shop数据摄取管道包含四个原子步骤
- en: Danish and Rob lead a discussion about modelling requirements, and the idea
    of bringing in open-source data to supplement the information in The Bike Shop
    databases is revisited. It’s decided to use weather forecast data to develop the
    demand models with the idea that a forecast at some point before a prediction
    can produce insights about whether customers will want to get out cycling or whether
    they will be intent on sheltering from the rain on buses.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 丹尼尔和罗布就建模需求进行了讨论，并重新审视了将开源数据引入The Bike Shop数据库以补充信息的想法。决定使用天气预报数据来开发需求模型，其想法是在预测之前某个时间点的预报可以产生关于客户是否想要骑自行车或是否打算在公交车上避雨的见解。
- en: On another tack, the team wants to use newsfeed data as a source of general
    customer sentiment and then use that to predict sales. They identify these data
    sources in the version control system, and it’s determined that a language model
    is required to support the sentiment extraction. The team designs a selection
    exercise and adds it to the backlog. One of the data scientists then runs the
    exercise. A model is chosen, and the data scientist documents and reports the
    choice and the reasons for it to the team. It’s also identified in the versioning
    systems.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在另一个方向上，团队希望将新闻源数据作为一般客户情绪的来源，然后利用这些数据来预测销售。他们在版本控制系统中确定了这些数据源，并确定需要一个语言模型来支持情绪提取。团队设计了一个选择练习并将其添加到待办事项中。然后，一位数据科学家运行了这个练习。选择了一个模型，数据科学家记录并报告了选择及其原因给团队。这也在版本控制系统中被识别。
- en: 6.6.2 EDA implementation
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6.6.2 EDA实现
- en: 'The team is ready to do an EDA to build an understanding of the actual data
    that’s available. As discussed in 4.7.1, the EDA activity focuses on making sure
    that the source_table has high integrity and that the data in source_table has
    sufficient information to make modeling plausible and valuable. They also want
    to gain a good understanding of the data and its characteristics so it can be
    shared with the team. Two specific integrity checks are identified:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 团队准备进行EDA（探索性数据分析）以了解实际可用的数据。如4.7.1节所述，EDA活动侧重于确保source_table具有高完整性，并且source_table中的数据有足够的信息来使建模可行且有价值。他们还希望对数据及其特征有一个良好的理解，以便可以与团队共享。确定了两个具体的完整性检查：
- en: Is the sales data in the data set plausible and in line with the revenues reported
    by the customer to markets?
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集中的销售数据是否合理，并且与客户向市场报告的收入一致？
- en: Do the currency conversions and normalizations make sense?
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 货币转换和归一化是否合理？
- en: In terms of modelling, the question becomes is there even coverage across the
    relevant markets and products? If there is some bias in the data from market to
    market or if there is a bias in data between product lines and business divisions,
    then a potential exists for these effects to be more important in derived models
    than in the underlying drivers and in the difference between business performance
    and practice. Additionally, the team needs to understand the distribution of activity
    between regions and between product groups
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在建模方面，问题变成了是否在相关市场和产品中存在全面覆盖？如果数据从市场到市场或产品线与业务部门之间存在某些偏差，那么这些效应在派生模型中可能比在基础驱动因素以及业务绩效与实践中存在的差异中更重要。此外，团队还需要了解区域之间和产品组之间的活动分布
- en: Identifying these objectives, the team places the EDA activity in the backlog.
    Two of the data scientists take on several subtickets covering each of the activities
    mentioned and start to work on individual activities to close these. The team
    also includes a subticket to bring the results together in a report. The EDA integrity
    checking reveals that, although the data in the source data tables shows the predicted
    problems, the deduplication and new join process seems to have been effective.
    Figure 6.7 shows the aggregate sales in the data extracted without deduplication,
    where a naïve normalization was used.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 确定这些目标后，团队将EDA活动放入待办事项列表。两位数据科学家承担了涵盖每个活动的几个子任务，并开始单独工作以关闭这些任务。团队还包括一个子任务，将结果汇总成报告。EDA完整性检查显示，尽管源数据表中的数据显示了预测的问题，但去重和新连接过程似乎很有效。图6.7显示了未去重提取的数据中的总销售额，其中使用了简单的归一化。
- en: '![](../Images/06-07.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-07.png)'
- en: Figure 6.7 Naïve normalization and deduplication sales data
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.7 简单归一化和去重销售数据
- en: After deduplication and with proper normalization, the picture is much more
    plausible (figure 6.8). Cross-checks to published revenue figures reveal minimal
    deltas (in the order of 0.1%).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在去重和适当的归一化之后，情况变得更加合理（图6.8）。与已发布的收入数字进行交叉检查显示最小差异（大约0.1%）。
- en: '![](../Images/06-08.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-08.png)'
- en: Figure 6.8 The same data treated for duplicates with a well-designed currency
    normalization process
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.8 使用精心设计的货币归一化过程处理重复数据的相同数据
- en: The team investigates the negative revenue observed in the latest period and
    the negligible revenues for the more recent periods leading up to the project,
    and they determine it to be caused by cancelled orders (input as negative revenue
    by the sales teams). The lead time for orders to be booked as confirmed sales
    is long, which causes a systematic distortion. The Bike Shop adopted these practices
    to prevent corporate revenues from being overstated, so they are a necessary feature
    of the data. The team introduces reconciliation factors to compensate for the
    pipeline lag and to deal with the negative revenues in the current period.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 团队调查了最新期间观察到的负收入以及项目开始前最近期间的微不足道的收入，并确定这是由于取消订单（销售团队以负收入的形式输入）造成的。订单被确认为已确认销售的提前期很长，这导致了系统性的扭曲。自行车店采用这些做法以防止企业收入被高估，因此它们是数据的一个必要特征。团队引入了调整因素来补偿管道滞后并处理当前期间的负收入。
- en: Simple projections from the data are used to answer the other questions about
    the data created in the backlog. A team member then creates an EDA report, based
    on the results of the sub-investigations conducted by all team members. This report
    is reviewed, filed, and distributed according to the communication plan.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 简单的数据投影被用于回答关于在待办事项中创建的数据的其他问题。然后，团队成员基于所有团队成员进行的子调查结果创建一个EDA报告。该报告将根据沟通计划进行审查、归档和分发。
- en: A review meeting is scheduled to further address the data privacy and ethics
    issues surrounding the project. At this stage, no data privacy issues are identified
    by the team because no personal data is identified in any of the data sources
    used. Now that the team is familiar with the project and the objectives of The
    Bike Shop, they can use the IEEE use case matrix to gain insight into the key
    ethical concerns that are likely to be relevant to this application (see figure
    6.9)
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 安排了一次审查会议，以进一步解决项目周围的数据隐私和伦理问题。在这个阶段，团队没有识别出任何数据隐私问题，因为在使用的任何数据源中都没有识别出个人数据。现在，团队熟悉了项目以及《自行车店》的目标，他们可以使用IEEE用例矩阵来了解可能与此应用相关的关键伦理关注点（见图6.9）
- en: '![](../Images/06-09.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/06-09.png)'
- en: Figure 6.9 Ethics assessment matrix for The Bike Shop, based on an IEEE use
    case matrix
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.9 基于IEEE用例矩阵的《自行车店》伦理评估矩阵
- en: The team identifies the proposed application as being relevant to operational
    efficiency Although there is no personal data in the application, the team sees
    the data governance issue as significant. If the data in the application is not
    well managed, the results could be misleading. The matrix also identifies human
    agency and oversight as critical concerns. The team notes this and determines
    that these concerns should be addressed in sprint 2, ensuring that the modelling
    techniques accommodate tooling for insight and interaction with the predictive
    analytics. In addition, they plan to use controls that allow the predictive analytics
    in the system to be disabled and to use trend-only or steady-state forecasts instead.
    An ethics report is prepared, filed, and communicated to the team.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 团队将提议的应用视为与运营效率相关。尽管应用中没有个人数据，但团队认为数据治理问题非常重要。如果应用中的数据管理不善，结果可能会误导。矩阵还确定了人类代理和监督为关键关注点。团队注意到这一点，并决定在冲刺2中解决这些关注点，确保建模技术能够适应洞察力和与预测分析的交互工具。此外，他们计划使用允许在系统中禁用预测分析并使用仅趋势或稳态预测的控制措施。准备了一份伦理报告，归档并传达给团队。
- en: Now that the data set is in hand, the team can undertake some simple modelling
    work to create baseline information supporting the evaluation of the models to
    be produced and to provide the team with feedback about the challenges ahead.
    Danish quickly implements a regression model for both inventory demand and customer
    churn rates. This provides a baseline performance measure. The results from it
    show that there are some strong signals in even the limited data sets and sample
    that Danish used. In a quick test, the model predictions correlate well with the
    observed fluctuations. Danish produces this model quickly because he’s operating
    on top of the first version of the model CI/CD pipeline that the team built. He
    also made a lot of assumptions about the data, so everyone is aware that the problem
    is far from solved.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 现在数据集已经到手，团队可以进行一些简单的建模工作，以创建支持对将要生成的模型进行评估的基线信息，并为团队提供关于前方挑战的反馈。Danish迅速为库存需求和客户流失率实施了一个回归模型。这提供了一个基线性能指标。该模型的结果显示，即使在有限的丹麦使用的数据集和样本中，也有一些强烈的信号。在快速测试中，模型的预测与观察到的波动相关性良好。Danish之所以能快速产生这个模型，是因为他正在使用团队构建的第一个版本的模型CI/CD管道。他还对数据做出了许多假设，因此每个人都清楚问题远未解决。
- en: A note about the significant elements of the data survey, application definition,
    EDA, and ethical report outcomes is prepared and presented at the sprint review
    session. It’s used as the basis to request sign off for sprint 1 by the customer.
    The backlog for sprint 2 is developed and agreed on, thus initiating sprint 2,
    which we’ll discuss in the next chapter.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 准备了一份关于数据调查、应用定义、EDA和伦理报告结果的显著要素的笔记，并在冲刺回顾会议上进行展示。它被用作请求客户对冲刺1进行签字的基础。开发并达成共识的冲刺2待办事项因此启动，我们将在下一章中讨论。
- en: Summary
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: By undertaking EDA, it’s possible to develop insight into the potential for
    developing models that meet the requirements of the project.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过进行数据探索性分析（EDA），可以深入了解开发满足项目要求的模型的可能性。
- en: We can systematically explore unstructured data as soon as the data set is available
    for analysis.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以在数据集可用于分析时，系统地探索非结构化数据。
- en: Use graphics (plots and charts) to explore and illustrate the data features.
    Visual methods are revealing, and communicating what is discovered is important
    for people who work on the project in the future.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图形（图表和图表）来探索和展示数据特征。视觉方法具有揭示性，对于未来参与项目的人来说，传达所发现的内容非常重要。
- en: Simple methods (counting, sizes, labels, etc.) provide some insights into unstructured
    data. Modern methods (embeddings, mappings, etc.) further characterizes these
    data sets. Explore what’s possible with the current state of the art.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单的方法（计数、大小、标签等）为非结构化数据提供了一些见解。现代方法（嵌入、映射等）进一步描述了这些数据集。探索当前最先进技术所能实现的可能性。
- en: Address ethical considerations explicitly as the data sources and types become
    clear. Remember, failing to think about this aspect of the project can waste a
    lot of money as well as compromising the team ethically.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据来源和类型变得清晰时，明确地处理伦理考量。记住，未能考虑这个项目方面可能会浪费大量资金，同时也可能在伦理上损害团队。
- en: Building simple baseline models can provide validation of the potential for
    modelling and a way to measure progress.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建简单的基线模型可以验证建模的潜力，并作为一种衡量进展的方式。
