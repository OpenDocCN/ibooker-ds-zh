- en: 16 Randomness versus causality
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 16 随机性 versus 因果关系
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖了
- en: Laplace’s rule of succession
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拉普拉斯的成功法则
- en: The hot hand
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 热手
- en: Recognizing randomness versus order and causality
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别随机性、顺序和因果关系
- en: Simulating coin flips
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模拟抛硬币
- en: Inserting `ggplot2` objects into other `ggplot2` objects
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `ggplot2` 对象插入到其他 `ggplot2` 对象中
- en: 'Way back in the 18th century, a French scholar and polymath by the name of
    Pierre-Simon Laplace developed a formula to compute probabilities starting from
    low observation counts. Assume there have been *n* independent trials that can
    only result in success or failure; we might then compute the probability (*p*)
    of success (*s*) on the next trial (*n*) by applying the following formula: *p
    = s / n*. However, let’s say there have been just five independent trials and
    five successes. The probability of success on the sixth trial would therefore
    equal 100%; alternatively, if there had instead been five failures, the probability
    of success would equal 0%. The traditional or customary way of computing probabilities
    doesn’t make an allowance for a different outcome where and when the observation
    count is low and the opportunity for variance is relatively minimal, and therefore
    not terribly meaningful.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在18世纪早期，一位名叫皮埃尔-西蒙·拉普拉斯的法国学者和博学家开发了一个公式，用于从低观察计数开始计算概率。假设有 *n* 次独立的试验，只能导致成功或失败；我们可能通过应用以下公式来计算下一次试验成功的概率
    (*p*) (*s*) (*n*)：*p = s / n*。然而，假设只有五次独立的试验和五次成功。因此，第六次试验成功的概率将是100%；或者，如果前五次都失败了，成功的概率将是0%。传统的或习惯的计算概率的方法没有考虑到在观察计数低和方差机会相对最小的情况下，不同结果的可能性，因此并不十分有意义。
- en: Enter Laplace. Ironically, Laplace developed what then became the rule of succession,
    not by observing some rare phenomena, but by estimating the probability of the
    sun rising. If *p* equals the probability of success, *s* equals the number of
    prior successes, and *n* equals the number of completed trials, then Laplace’s
    rule of succession estimates that *p = (s + 1) / (n + 2)*. So if there have been
    five successes on five independent trials, the probability of success on the sixth
    trial will not equal 100%, but rather 86%. If the five previous trials all resulted
    in failures, Laplace’s rule of succession estimates a 14% chance that the sixth
    trial will actually be a success.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 介绍拉普拉斯。具有讽刺意味的是，拉普拉斯并非通过观察某些罕见现象，而是通过估计太阳升起的概率来发展了后来成为成功法则的东西。如果 *p* 等于成功的概率，*s*
    等于先前的成功次数，*n* 等于完成的试验次数，那么拉普拉斯的成功法则估计 *p = (s + 1) / (n + 2)*。因此，如果在五个独立的试验中都有成功，第六次试验成功的概率将不会是100%，而是86%。如果前五次试验都失败了，拉普拉斯的成功法则估计第六次试验成功的概率为14%。
- en: A series of independent trials most often leads to some mix of successes and
    failures. But the most popular use case for Laplace’s rule of succession is estimating
    the probability of success following a string of prior successes, regardless of
    the prior independent trial count.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 一系列独立的试验通常会导致成功和失败的一些混合。但拉普拉斯的成功法则最流行的用例是估计一系列先前的成功之后的成功率，无论先前的独立试验数量是多少。
- en: 'This is why we’re here. Our purpose is to learn about the Laplace probability
    curve and then explore whether or not free throw percentage follows such a curve,
    at least in spirit, given a prior string of successes. Our questions will include
    the following:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 正因如此，我们才在这里。我们的目的是了解拉普拉斯概率曲线，并探讨在一系列先前的成功之后，是否自由投篮命中率遵循这样的曲线，至少在精神上如此。我们的问题将包括以下内容：
- en: Does free throw percentage increase with each subsequent success, or does free
    throw percentage not follow any pattern whatsoever?
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自由投篮命中率是否会随着每一次后续的成功而增加，或者自由投篮命中率根本不遵循任何模式？
- en: Is it possible to estimate the success of a free throw attempt from prior attempts,
    or do makes and misses resemble a series of coin flips?
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否可以从先前的尝试中估计自由投篮尝试的成功率，或者命中和失球是否类似于一系列的抛硬币？
- en: Is there order and causality when we analyze a series of free throw makes and
    misses, or is there just randomness?
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当我们分析一系列的自由投篮命中和失球时，是否存在顺序和因果关系，或者只是随机性？
- en: Is there such a thing as a “hot hand,” or is the hot hand merely a cognitive
    illusion?
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否存在“手感热”这样的东西，或者“手感热”仅仅是一种认知错觉？
- en: 'We’ll load our packages, import our data, run a series of data wrangling operations,
    further discuss the rule of succession and the hot hand, and then conduct our
    analysis. Our analysis will be divided into two parts: we’ll examine free throw
    shooting from three of the league leaders in attempts, and then we’ll evaluate
    the same from every player in a single data series. Be prepared for a serious
    plot twist.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将加载我们的包，导入我们的数据，运行一系列数据整理操作，进一步讨论继起规则和热手现象，然后进行我们的分析。我们的分析将分为两部分：我们将检查三名联赛领先者的罚球射击，然后我们将评估单个数据系列中每位球员的相同表现。准备好迎接一个严重的剧情转折。
- en: 16.1 Loading packages
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 16.1 加载包
- en: 'Other than `tidyverse` (we’ll wrangle data with `dplyr` functions and create
    visualizations with `ggplot2` functions), we just need to load a relatively obscure
    package called `runner`, which contains functions for scoping and sizing streaks.
    We therefore make a pair of calls to the `library()` function to load the `tidyverse`
    and `runner` packages:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 除了`tidyverse`（我们将使用`dplyr`函数整理数据，并使用`ggplot2`函数创建可视化）之外，我们只需要加载一个相对不为人知的包，名为`runner`，它包含用于范围和大小连串的函数。因此，我们调用`library()`函数加载`tidyverse`和`runner`包：
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Next, we’ll import—or reimport—the same data set we used earlier in chapter
    8.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将导入或重新导入我们在第8章中使用过的相同数据集。
- en: 16.2 Importing and wrangling data
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 16.2 导入和整理数据
- en: We then make a call to the `read_csv()` function to import a .csv file downloaded
    from [www.bigdataball.com](https://www.bigdataball.com/) and subsequently saved
    in our default working directory. Our data set—the same data we first imported
    in chapter 8 when we explored the optimal stopping rule—contains details on almost
    every play from the 2019-20 NBA regular season and postseason. In the process,
    we establish an object called ft.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用`read_csv()`函数来导入一个从[www.bigdataball.com](https://www.bigdataball.com/)下载并保存在我们默认工作目录中的.csv文件。我们的数据集——即我们在第8章探索最优停止规则时首次导入的数据——包含了2019-20
    NBA常规赛和季后赛几乎每一场比赛的详细信息。在这个过程中，我们创建了一个名为ft的对象。
- en: 'We already know that our data is 543,149 rows long and 44 columns wide; thus,
    if you’re working on a personal computer and not a server, loading the play-by-play
    data set will likely take several seconds:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经知道我们的数据有543,149行长和44列宽；因此，如果你在个人电脑上工作而不是服务器上，加载比赛数据集可能需要几秒钟：
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Our data is wider and longer than what we need. Therefore, we next make a call
    to the `select()` function from the `dplyr` package to subset our data on just
    a few variables:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据比我们需要的更宽更长。因此，我们接下来调用`dplyr`包中的`select()`函数来仅对几个变量进行数据子集：
- en: '[PRE2]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We’ve reduced ft to the following variables:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将ft缩减到以下变量：
- en: '`date`—The date, in yyyy-mm-dd format, on which each play occurred. This is
    now a character string that will soon be converted to a date class.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`date`——每个比赛发生的日期，格式为yyyy-mm-dd。这是一个字符字符串，将很快被转换为日期类型。'
- en: '`event_type`—The type of play (e.g., jump ball, foul, turnover). Back in chapter
    8, we converted `event_type` from a character string to a factor variable and
    then eventually subset the data where `event_type` equaled `shot` (which represents
    a made field goal) or `miss` (which represents a missed field goal attempt).'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`event_type`——比赛的类型（例如，跳球、犯规、失误）。在第八章中，我们将`event_type`从字符字符串转换为因子变量，然后最终将数据子集为`event_type`等于`shot`（代表投中三分）或`miss`（代表投篮未命中）。'
- en: '`player`—The name of the player, in “firstname lastname” format, responsible
    for the event type, or play. This is now a character string that will remain a
    character string.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`player`——负责事件类型或比赛的球员的名字，格式为“姓 名”。这是一个字符字符串，将保持为字符字符串。'
- en: '`points`—The number of points scored as a direct result of any play. This equals
    a minimum of 0 and a maximum of 3 where and when a play can directly lead to points;
    when a play can’t possibly result in any points—a rebound, an ejection, or a timeout,
    for instance—points equals NA. This is now and will remain an integer.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`points`——任何比赛直接导致得分的数量。在可以直接导致得分的场合和地方，这个值至少为0，最多为3；当比赛不可能导致任何得分——例如，篮板、驱逐或暂停——得分等于NA。这是一个整数，现在并将保持为整数。'
- en: '`result`—Equals made or missed following a field goal or free throw attempt;
    otherwise, equals NA. This is now a character string that will be converted to
    a factor variable.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`result`——在投篮或罚球尝试之后得分或失分；否则等于NA。这是一个字符字符串，将被转换为因子变量。'
- en: '`type`—Similar to `event_type`, but slightly more descriptive. For example,
    where the variable `event_type` equals `rebound`, the variable `type` might equal
    `rebound offensive`; or where `event_type` equals `miss`, the `type` might equal
    `Floating Jump Shot`. This is now a character string that will be converted to
    a factor variable.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`type`——与`event_type`类似，但描述得稍微详细一些。例如，当`event_type`等于`rebound`时，`type`可能等于`rebound
    offensive`；或者当`event_type`等于`miss`时，`type`可能等于`Floating Jump Shot`。现在这是一个将被转换为因子变量的字符字符串。'
- en: 'Then, we call the `filter()` function, also from `dplyr`, to reduce the length
    of our data:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用来自`dplyr`的`filter()`函数，以缩短我们的数据长度：
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: We’ve subset ft where the variable `event_type` equals `free throw` and the
    variable `type` doesn’t equal `Free Throw Technical`. Some explanation is in order.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对`ft`进行了子集处理，其中`event_type`等于`free throw`且`type`不等于`Free Throw Technical`。这里需要一些解释。
- en: Back in chapter 8, we subset the play-by-play data on all field goal attempts,
    which required us to apply the `filter()` function where `event_type` was equal
    to `shot` or `miss`—because `shot` represents successful field goal attempts and
    `miss` represents unsuccessful field goal attempts. Conversely, every free throw
    attempt—make or miss—is accounted for where `event_type` equals `free throw`;
    we then have to couple `event_type` with the variable `result`, which equals `made`
    or `missed`, to know whether any attempted free throw was or wasn’t successful.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在第8章中，我们对所有投篮尝试的逐场数据进行了子集处理，这要求我们应用`filter()`函数，其中`event_type`等于`shot`或`miss`——因为`shot`代表成功的投篮尝试，而`miss`代表不成功的投篮尝试。相反，每次罚球尝试——无论是命中还是未命中——都会在`event_type`等于`free
    throw`的情况下被计算在内；然后我们必须将`event_type`与变量`result`结合，`result`等于`made`或`missed`，以确定任何尝试的罚球是否成功。
- en: If you’re not familiar with basketball, you might be wondering what the heck
    a free throw is. Many defensive fouls result in an offensive player being allowed
    to shoot one or usually two free throws—sometimes, even three free throws are
    shot, depending on the circumstances. A free throw is an uninhibited, or undefended,
    shot attempted from behind a line 15 feet from the basket. The game clock is paused,
    and every player on the court must stand to the side or behind the shooter and
    remain still until the final free throw has been attempted. Successful free throws,
    frequently referred to as foul shots, are always worth one point. A good shooter
    or scorer might make 45% of his field goal attempts, but 80% or more of his free
    throws.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对篮球不熟悉，你可能想知道罚球究竟是什么。许多防守犯规会导致进攻球员被允许投掷一次或通常两次罚球——有时，根据情况，甚至可以投掷三次罚球。罚球是从距离篮筐15英尺的线后进行的无干扰或未受保护的投篮。比赛计时器暂停，场上的每位球员都必须站在射手的一侧或其后，直到最后一次罚球尝试完成。成功的罚球，通常被称为罚球，总是值一分。一个好的射手或得分手可能在他的投篮尝试中命中45%，但他的罚球命中率可能达到80%或更高。
- en: We’re excluding technical free throws, which comprise just a small fraction
    of all attempted free throws, because doing so simplifies our efforts to scope
    and size streaks of successful attempts. To provide some context here, Giannis
    Antetokounmpo, a power forward for the Milwaukee Bucks nicknamed the Greek Freak,
    attempted 629 free throws during the 2019-20 regular season, second in the league,
    and then an additional 81 free throws during the subsequent playoffs. Only 3 of
    these 710 total attempts were technical free throws, that is, free throws resulting
    from a technical foul being called on the opposing team. You’ll hear more on Antetokounmpo
    shortly.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们排除了技术罚球，因为它们只占所有尝试罚球的一小部分，这样做简化了我们对成功尝试连串的规模和范围的评估工作。为了提供一些背景信息，Giannis Antetokounmpo，密尔沃基雄鹿队的前锋，昵称希腊怪物，在2019-20赛季常规赛中尝试了629次罚球，位列联盟第二，然后在随后的季后赛中又尝试了额外的81次罚球。在这710次总尝试中，只有3次是技术罚球，即对方球队被吹罚技术犯规而产生的罚球。关于Antetokounmpo的更多内容，你很快就会听到。
- en: Contrast free throws, then, with field goal attempts, which can vary from a
    contested jump shot 25 feet from the basket to an open layup. This is why we’ve
    selected free throws, and not field goals, to compare to a Laplace probability
    curve and to determine whether or not there is such a thing as a hot hand. Free
    throws are attempted in a mostly controlled environment, whereas field goals are
    frequently attempted in the midst of chaotic situations.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 与此同时，我们将自由投篮与投篮尝试进行对比，投篮尝试可以从距离篮筐25英尺的激烈跳投到开放的轻松上篮不等。这就是为什么我们选择了自由投篮而不是投篮来与拉普拉斯概率曲线进行比较，并确定是否存在“热手”这种东西。自由投篮是在一个主要受控的环境中尝试的，而投篮则经常在混乱的情况下尝试。
- en: 'That said, we next call the base R `as.Date()` function to convert the ft variable
    `date` from a character string to a date class. The `as.Date()` function is especially
    straightforward when the format equals %Y-%m-%d, as it does here, or %Y/%m/%d. Then,
    we call the `class()` function, also from base R, to return and confirm the converted
    class:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，我们接下来调用基础R的`as.Date()`函数，将ft变量`date`从字符字符串转换为日期类别。当格式等于%Y-%m-%d（如这里所示）或%Y/%m/%d时，`as.Date()`函数特别简单。然后，我们调用也来自基础R的`class()`函数，以返回并确认转换后的类别：
- en: '[PRE4]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, we make three calls to the base R `as.factor()` function to convert three
    of the four remaining ft character strings to factors:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们调用基础R的`as.factor()`函数三次，将剩余的四个ft字符字符串中的三个转换为因子：
- en: '[PRE5]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Finally, we call the `dplyr glimpse()` function, which returns a transposed,
    yet truncated, view of our data. Additionally, `glimpse``()` returns the ft row
    and column counts as well as the class for each of the surviving variables. So
    in a single snapshot, we get a fair view into the output of our data wrangling
    operations:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们调用`dplyr glimpse()`函数，它返回我们数据的转置、但截断的视图。此外，`glimpse()`函数还返回ft的行和列计数以及每个存活变量的类别。因此，在单一快照中，我们可以公平地了解我们的数据处理操作的结果：
- en: '[PRE6]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Next, we’ll elaborate on Laplace’s rule of succession.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将详细阐述拉普拉斯的连续性规则。
- en: 16.3 Rule of succession and the hot hand
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 16.3 连续性和热手规则
- en: If free throw percentage at least roughly follows a Laplace probability curve
    when successes (*s*) equal trials (*n*), then it *might* be reasonable to conclude
    there is such a thing as a hot hand. This broadly suggests that success inevitably
    leads to further success, meaning, from a statistical perspective, that a power
    law evolves from a string of early successes instead of an immediate regression
    to the mean. To be clear, a power law describes a mathematical relationship by
    which one variable is proportional to a power of another variable; results aren’t
    linear but rather exponential. In contrast, regression to the mean is a phenomenon
    by which extreme outcomes are succeeded by more moderate outcomes or equally extreme
    outcomes in the opposite direction that average each other out.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如果投篮命中率至少大致遵循拉普拉斯概率曲线，当成功（*s*）等于试验（*n*）时，那么得出“热手”这种东西存在的结论可能是合理的。这广泛地表明，成功不可避免地导致进一步的成功，这意味着从统计学的角度来看，幂律是从一系列早期成功中演变而来，而不是立即回归到平均值。为了明确，幂律通过一个变量与另一个变量的幂的比例来描述数学关系；结果不是线性的，而是指数的。相比之下，回归到平均值是一种现象，其中极端结果被更温和的结果或同等极端的结果所跟随，这些结果相互抵消。
- en: 'On the other hand, we must accept the fact that much of the world is indiscriminate
    and therefore not tidy or predictable, and avoid the trap of confusing randomness
    for order and causality. Take a series of coin flips, which we can simulate in
    R by calling the built-in `sample()` function. The `sample()` function takes the
    following four arguments:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，我们必须接受这样一个事实，即世界上很大一部分是盲目无序的，因此不是整洁或可预测的，并避免混淆随机性和秩序、因果关系的陷阱。以一系列抛硬币为例，我们可以通过调用内置的`sample()`函数在R中模拟。`sample()`函数接受以下四个参数：
- en: '`x`—A vector that contains the elements from which to choose. Because we’re
    flipping a two-sided coin, we assign a pair of integers to represent heads (0)
    and tails (1). These integers are then passed as arguments to the base R `c()`
    function to form the vector.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`x`——包含要从中选择的元素的向量。因为我们是在抛两面硬币，所以我们分配一对整数来表示正面（0）和反面（1）。然后，这些整数被传递给基础R的`c()`函数作为参数，以形成向量。'
- en: '`size`—Equal to the number of desired coin flips. Because we can just as easily
    demonstrate the `sample()` function with 10 flips as with 10,000, we set `size`
    equal to `10`.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`size`——等于所需的抛硬币次数。因为我们可以用10次抛硬币同样容易地演示`sample()`函数，所以我们设置`size`等于`10`。'
- en: '`prob`—A second vector that contains the probabilities of a single coin flip
    coming up heads or tails. Because we’re simulating flips of a fair coin and not
    a weighted coin, `prob` must therefore contain `0.5` and `0.5` as elements.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`prob`—一个包含单次抛硬币出现正面或反面的概率的第二个向量。因为我们模拟的是公平硬币的抛掷，而不是加权硬币，所以`prob`必须因此包含`0.5`和`0.5`作为元素。'
- en: '`replace`—Equals `TRUE` when sampling with replacement or `FALSE` otherwise.
    Coin flips are meant to be independent trials where each flip has an equal probability
    of resulting in heads or tails regardless of previous flips. This is why we must
    sample with replacement. (By the way, independent trials that can result in just
    one of two outcomes are often referred to as Bernoulli, or binomial, trials.)'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`replace`—在带替换采样时等于`TRUE`，否则为`FALSE`。抛硬币意味着是独立的试验，其中每次抛掷有相等的机会产生正面或反面，无论之前的抛掷结果如何。这就是为什么我们必须带替换采样。（顺便说一句，只能产生两种结果之一的独立试验通常被称为伯努利试验或二项试验。）'
- en: 'The `sample()` function returns a series of 10 values, each of which will equal
    `0` or `1`. Results, of course, will differ every time you call the `sample()`
    function; what’s displayed here is what was returned when `sample()` was called
    for the first time:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '`sample()`函数返回一系列10个值，每个值都将等于`0`或`1`。当然，每次调用`sample()`函数的结果都会不同；这里显示的是第一次调用`sample()`函数时返回的结果：'
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Our first simulated coin flip resulted in heads, the next six flips resulted
    in tails, and two of the final three flips resulted in heads. There are no problems
    with our code nor any defects with the `sample()` function—we fairly simulated
    10 coin flips where there was an equal probability of getting heads versus tails.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我们第一次模拟的抛硬币结果是正面，接下来的六次抛硬币结果是反面，最后三次中有两次结果是正面。我们的代码没有问题，`sample()`函数也没有缺陷——我们公正地模拟了10次抛硬币，其中正面和反面的概率是相等的。
- en: Probabilities do not equate to guaranteed outcomes, especially over small samples.
    If we were to simulate 10,000 coin flips, it’s unlikely we would get tails on
    70% of those flips; however, it’s equally unlikely we would get heads exactly
    5,000 times and tails 5,000 times.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 概率并不等同于保证的结果，尤其是在小样本中。如果我们模拟10,000次抛硬币，我们不太可能得到70%的正面；然而，我们同样不太可能得到正好5,000次正面和5,000次反面。
- en: If we were to run our code again, we could get the same results, and therefore
    our two series of coin flips would resemble a power law in effect. We could instead
    get seven heads and three tails, or at least five heads and five tails, and thus
    our two series of coin flips would reveal a regression to the mean.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们再次运行我们的代码，我们可能会得到相同的结果，因此我们两次抛硬币的结果在效果上会类似于幂律。我们可能会得到七个正面和三个反面，或者至少五个正面和五个反面，因此我们两次抛硬币的结果会显示出回归到平均值。
- en: That our simulated coin turned up tails on six consecutive flips doesn’t, of
    course, mean it got hot. Each flip of the coin represents an independent trial
    where outcomes have no connection to past or future events. But what about an
    NBA player shooting free throws? Is each free throw also an independent trial,
    or because a string of attempted free throws are actually dependent events, do
    six consecutive made shots therefore constitute a hot hand?
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，我们的模拟硬币连续六次抛出反面并不意味着它变热了。每次抛硬币代表一个独立的试验，其中结果与过去或未来的事件没有联系。那么，NBA球员罚球的情况呢？每次罚球也是一个独立的试验吗，还是因为一系列尝试的罚球实际上是相关事件，所以连续六次命中因此构成“手感热”？
- en: Put differently, is the hot hand a cognitive illusion, like the infamous Monty
    Hall problem? Or is it a real phenomenon?
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，手感热是一种认知错觉，就像臭名昭著的蒙提霍尔问题吗？还是它是一个真实的现象？
- en: The Monty Hall problem
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 蒙提霍尔问题
- en: Monty Hall was the original host of the television game show *Let’s Make a Deal*.
    Contestants were often presented with three prizes hidden behind three closed
    doors and asked to select one of the three. Behind one of the doors is a car;
    behind the other two doors are farm animals. You, as the contestant, select door
    number 1.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 蒙提霍尔是电视游戏节目《让我们来交易》的原始主持人。参赛者经常被展示三个隐藏在三个关闭的门后的奖品，并被要求选择其中之一。其中一扇门后面是一辆车；其他两扇门后面是农场动物。你作为参赛者，选择了1号门。
- en: Monty Hall, who knows what’s behind each door, then opens door number 3, behind
    which is a billy goat. He then asks if you want to stick with door number 1 or
    switch to door number 2\. You might conclude that it doesn’t matter—with two remaining
    doors the odds must be even. However, you actually double your chances of winning
    the car by switching to door number 2\. That’s because there is a 33.3% probability
    that the car is behind door number 1 and a 66.7% probability that the car is behind
    one of the other two doors. And because Monty Hall has already opened door number
    3, there is twice the probability that the car is behind door number 2 versus
    door number 1\. Contestants who switched doors won a car about two-thirds of the
    time.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 蒙提·霍尔，他知道每扇门后面是什么，然后打开了编号为3的门，门后面是一只山羊。然后他问你是否想坚持选择编号为1的门，还是切换到编号为2的门。你可能会得出结论，这无关紧要——剩下两扇门，几率必须是一半。然而，实际上，通过切换到编号为2的门，你实际上将赢得汽车的机会翻倍。这是因为有33.3%的概率汽车在编号为1的门后面，有66.7%的概率汽车在另外两扇门中的一扇后面。而且因为蒙提·霍尔已经打开了编号为3的门，汽车在编号为2的门后面而不是编号为1的门后面的概率是两倍。切换门的参赛者大约有三分之二的时间赢得了汽车。
- en: If the hot hand is a real phenomenon, then free throw percentage would approximately
    follow a Laplace probability curve where the number of trials (shots) and successes
    (made free throws) are the same. Let’s now demonstrate exactly what a Laplace
    probability curve looks like with 20 successes over 20 trials.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果“手感热”是一个真实的现象，那么罚球命中率将大约遵循拉普拉斯概率曲线，其中试验次数（投篮）和成功次数（罚球命中）是相同的。现在让我们用20次成功和20次试验来具体展示拉普拉斯概率曲线的形状。
- en: 'We first create a pair of vectors, `prior_successes` and `independent_trials`,
    that both contain integers 1 through 20 as elements. The base R `seq()` function
    generates a sequence of numbers from one passed argument to the other passed argument;
    by default, R increments the sequence by one. Then, we create a data frame, df,
    by passing our two vectors to the base R `data.frame()` function:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先创建了一对向量，`prior_successes`和`independent_trials`，它们都包含1到20的整数作为元素。R的基础`seq()`函数通过一个传递的参数生成另一个传递的参数的数字序列；默认情况下，R按默认值递增序列。然后，我们通过将两个向量传递给R的基础`data.frame()`函数来创建一个数据框df：
- en: '[PRE8]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Next, we pass df via the pipe operator to the `dplyr mutate()` function to
    create a new variable. Our new variable, `laplace`, equals Laplace’s rule of succession
    formula, which is then multiplied by 100 to convert decimals to percentages:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们通过管道操作符将df传递给`dplyr mutate()`函数来创建一个新变量。我们的新变量`laplace`等于拉普拉斯的后继法则公式，然后乘以100将小数转换为百分比：
- en: '[PRE9]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Of course, it’s always more effective to visualize results than it is to read
    rows of numbers, which you can do in figure 16.1:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，与阅读一排排数字相比，可视化结果总是更有效，你可以在图16.1中这样做：
- en: We, therefore, pass our simulated data to the `ggplot()` function from the `ggplot2`
    package.
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，我们将我们的模拟数据传递给`ggplot()`函数，该函数来自`ggplot2`包。
- en: Our x-axis variable is `independent_trials`, and our y-axis variable is `laplace`.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的自变量是`independent_trials`，因变量是`laplace`。
- en: Our visualization will be a line chart with points layered on top of the line;
    thus, we call a pair of geoms to draw our plot, `geom_line``()` and `geom_point``().`
    Our line is 1.5 times the default width, and our points are three times the default
    size.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的视觉化将是一个带有线条上层的点状图；因此，我们调用一对几何对象来绘制我们的图表，`geom_line()`和`geom_point()`。我们的线条宽度是默认宽度的1.5倍，点的大小是默认大小的三倍。
- en: The `scale_x_continuous()` function in tandem with the `seq()` function allows
    us to manipulate the x-axis tick marks and therefore override the `ggplot2` default.
    Our x-axis will contain 20 tick marks incremented by one instead of four tick
    marks incremented by five.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scale_x_continuous()`函数与`seq()`函数一起使用，使我们能够操纵x轴刻度，从而覆盖`ggplot2`的默认设置。我们的x轴将包含20个刻度，每次增加1，而不是5个刻度每次增加5。'
- en: '![CH16_F01_Sutton](../../OEBPS/Images/CH16_F01_Sutton.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![CH16_F01_Sutton](../../OEBPS/Images/CH16_F01_Sutton.png)'
- en: Figure 16.1 A Laplace probability curve when the number of successes equals
    a relatively small number of independent trials
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1 当成功次数等于相对较小的独立试验次数时的拉普拉斯概率曲线
- en: 'The precise y-axis values are mostly meaningless to us. We’re merely interested
    in the arc of the probability curve as the number of trials and successes increases:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 精确的y轴值对我们来说大多没有意义。我们只是对随着试验次数和成功次数的增加概率曲线的弧线感兴趣：
- en: '[PRE10]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The probability of success increases at a decreasing rate as the number of independent
    trials (and successes) increases, but it will never reach 100%. Laplace’s rule
    of succession accounts for some probability of a different outcome, irrespective
    of how many successful trials were previously run.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 随着独立试验（和成功）数量的增加，成功的概率以递减的速度增加，但它永远不会达到100%。拉普拉斯的后继规则考虑到了不同结果的可能性，无论之前进行了多少次成功的试验。
- en: Let’s begin our analysis by examining player-specific free throw percentages,
    broken down by consecutive attempts and makes. We’ll then compare the results
    to our Laplace probability curve.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从检查球员特定的罚球命中率开始，按连续尝试和得分进行细分。然后我们将比较结果与我们的拉普拉斯概率曲线。
- en: 16.4 Player-level analysis
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 16.4 球员级别分析
- en: We’ve hand-picked three players for our analysis. All three were among the 2019-20
    regular season leaders in attempted free throws; however, their respective percentages
    of made attempts vary significantly. Therefore, lots of observations to support
    our analysis are spread across three players who have unequal free throw shooting
    skills.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为分析挑选了三名球员。他们三人都曾是2019-20赛季尝试罚球次数的领跑者；然而，他们各自成功尝试的百分比差异很大。因此，支持我们分析的大量观察结果分散在三位具有不同罚球技巧的球员身上。
- en: '16.4.1 Player 1 of 3: Giannis Antetokounmpo'
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 16.4.1 第3位球员：扬尼斯·安特托昆博
- en: We’ll start with Giannis Antetokounmpo, who plays the power forward position
    for the Milwaukee Bucks. Antetokounmpo attempted 707 free throws during the 2019-20
    regular season and postseason, not including technical free throws, and was successful
    on 442, or 62.5%, of those attempts, according to [www.basketball-reference.com](https://www.basketball-reference.com/).
    Antetokounmpo is one of the NBA’s best players and scorers, but free throw shooting
    isn’t one of his strengths.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从扬尼斯·安特托昆博开始，他效力于密尔沃基雄鹿队的强力前锋位置。安特托昆博在2019-20赛季常规赛和季后赛中尝试了707次罚球（不包括技术罚球），根据[www.basketball-reference.com](https://www.basketball-reference.com/)的数据，成功442次，成功率达到了62.5%。安特托昆博是NBA最优秀和得分能力最强的球员之一，但罚球并不是他的强项。
- en: Our first operation is a call to the `filter()` function to subset the ft data
    set where the variable `player` equals `Giannis Antetokounmpo`. The end result
    is a new data set called giannis.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的第一步操作是调用`filter()`函数，对ft数据集进行子集化，其中变量`player`等于`Giannis Antetokounmpo`。最终结果是名为giannis的新数据集。
- en: 'We can confirm the integrity of our data—or at least corroborate it with the
    statistics we lifted from [www.basketball-reference.com](https://www.basketball-reference.com/)—by
    running a pair of base R functions. The `dim()` function returns the giannis row
    and column counts; giannis contains 707 records, which match the number of free
    throws he attempted during the regular season and postseason. The `sum()` function
    adds the integers contained in the variable points, where `0` equals a missed
    free throw and `1` equals a made free throw; the sum equals 442, which, sure enough,
    equals the number of successful free throws:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过运行一对基础R函数来确认我们数据的完整性——或者至少用我们从[www.basketball-reference.com](https://www.basketball-reference.com/)获取的统计数据来证实它。`dim()`函数返回giannis的行和列计数；giannis包含707条记录，这与他在常规赛和季后赛中尝试的罚球次数相匹配。`sum()`函数将变量points中包含的整数相加，其中`0`代表未命中的罚球，`1`代表命中的罚球；总和为442，确实等于成功罚球次数：
- en: '[PRE11]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Then we pipe the giannis data set to the `dplyr group_by``()` and `mutate()`
    functions. From `mutate()`, we get a new variable called `streak`, and `group_by``()`
    splits the results by the variable date.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将giannis数据集通过管道传递给`dplyr group_by()`和`mutate()`函数。从`mutate()`中，我们得到一个名为`streak`的新变量，而`group_by()`则按变量date对结果进行分组。
- en: Our new variable is derived by calling the `streak_run()` function from the
    `runner` package. The `lag()` function from `dplyr-streak_run``()` computes a
    running series of consecutive elements and tells `streak_run()` to ingest the
    variable points from the *previous* record before crunching the data. (The `dplyr`
    package also contains a `lead()` function, which is the opposite of `lag()`; also,
    it’s possible to look back or forward by two or more records.)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的新变量是通过从`runner`包中调用`streak_run()`函数得到的。`dplyr-streak_run()`中的`lag()`函数计算一系列连续元素，并告诉`streak_run()`在处理数据之前先从*上一条*记录中摄取变量points。(`dplyr`包还包含一个`lead()`函数，它是`lag()`的相反操作；此外，还可以通过两条或更多记录来回顾或前瞻。)
- en: We’re splitting these results by the variable date because if there is such
    a phenomenon as a hot hand, it most definitely exists within single games only
    and therefore doesn’t carry over from one game to the next. This approach also
    keeps the record counts to a minimum and therefore qualifies as a best fit for
    Laplace’s rule of succession.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们按变量日期分割这些结果，因为如果存在所谓的“手感热”现象，它肯定只存在于单场比赛中，因此不会从一个游戏延续到下一个游戏。这种方法也使记录数保持在最低，因此符合拉普拉斯继起法则的最佳拟合。
- en: 'Our results are cast to a tibble called giannis_final. The base R `head()`
    function returns the first 10 observations:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的结果被转换为一个名为 giannis_final 的 tibble。基本的 R `head()` 函数返回前 10 个观察值：
- en: '[PRE12]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Let’s walk through the data—at least the first few records—to further explain
    how the `streak_run()` function does its thing:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们浏览一下数据——至少是前几条记录——以进一步解释 `streak_run()` 函数是如何工作的：
- en: The variable `streak` will always equal `0` when the date flips; and it will
    always equal `1` following the first free throw attempt of a game, regardless
    of whether that attempt was a make or a miss.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当日期翻转时，变量 `streak` 总是等于 `0`；并且无论第一次尝试是命中还是未命中，它总是等于 `1`。
- en: Antetokounmpo missed his first free throw attempt on 10/24/19 and then made
    his second attempt. Therefore, `streak` equals `1` for his third attempted free
    throw. Because Antetokounmpo missed that attempt, `streak` also equals `1` for
    his fourth free throw attempt.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安特托昆博在 2019 年 10 月 24 日错过了他的第一次罚球尝试，然后命中了他的第二次尝试。因此，他的第三次尝试罚球时 `streak` 等于 `1`。因为安特托昆博错过了那次尝试，他的第四次罚球尝试时
    `streak` 也等于 `1`。
- en: Eventually, Antetokounmpo makes five consecutive free throws; thus, the variable
    `streak` increments by one for each successive attempt.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最终，安特托昆博连续投中五个罚球；因此，对于每一次连续尝试，变量 `streak` 都会增加一。
- en: 'We then pass giannis_final to the `dplyr group_by``()` and `slice()` functions
    to effectively delete the first record for every unique date. Streaks are automatically
    stopped when each game ends; therefore, we’re only interested in the second free
    throw attempt onward for every unique date or game:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将 giannis_final 传递给 `dplyr group_by()` 和 `slice()` 函数，以有效地删除每个独特日期的第一个记录。连串在每场比赛结束时自动停止；因此，我们只对每个独特日期或游戏的第二次罚球尝试
    onward 感兴趣：
- en: '[PRE13]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'A call to the `dim()` function returns the new giannis_final dimension:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 调用 `dim()` 函数返回新的 giannis_final 维度：
- en: '[PRE14]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: As a result of removing the first record for each unique date or game (once
    more, we’re segmenting the records by date because streaks don’t carry over from
    one game to the next, so the first free throw attempt in every game is superfluous),
    giannis_final now contains 635 records, or 72 fewer records than it did before.
    This makes sense because Antetokounmpo played in 72 regular season and postseason
    games in 2019-20\. (Note that the 2019-20 NBA season was cut short due to COVID-19.)
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 由于移除了每个独特日期或游戏的第一个记录（再次强调，我们按日期分割记录，因为连串不会从一个游戏延续到下一个游戏，所以每个游戏的第一次罚球尝试是多余的），giannis_final
    现在包含 635 条记录，比之前少了 72 条记录。这很合理，因为安特托昆博在 2019-20 赛季参加了 72 场常规赛和季后赛比赛。（注意，2019-20
    NBA 赛季因 COVID-19 而缩短。）
- en: We’re not quite finished with reducing the giannis_final record count because
    at this point, we’re tracking streaks for makes *and* misses, yet we only care
    about successful and unsuccessful free throw attempts immediately following a
    made free throw. So in our next chunk of code, we pass giannis_final to the `filter()`
    function to subset our data where the one-record lag in the variable `points`
    equals `1`.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还没有完成对 giannis_final 记录数的减少，因为在这个时候，我们正在跟踪命中和未命中的连串，但我们只关心在命中罚球之后的成功和未成功的罚球尝试。因此，在我们的下一块代码中，我们将
    giannis_final 传递给 `filter()` 函数，以子集我们的数据，其中变量 `points` 的一个记录滞后等于 `1`。
- en: 'Then, we call the `dplyr group_by``()` and `summarize()` functions to tally
    makes and misses by the variable streak. Our results are cast to a tibble called
    giannis_tbl1:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用 `dplyr group_by()` 和 `summarize()` 函数来按变量 `streak` 计算命中和未命中的次数。我们的结果被转换为一个名为
    giannis_tbl1 的 tibble：
- en: '[PRE15]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Finally, we make another call to `mutate``()` to create a new variable, `pct`,
    which is equal to the number of makes divided by the total number of free throw
    attempts. The variable `pct` therefore represents Giannis Antetokounmpo’s free
    throw percentage for each integer contained in the variable streak:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们再次调用 `mutate()` 函数来创建一个新的变量，`pct`，它等于命中次数除以总罚球尝试次数。因此，变量 `pct` 代表了变量 `streak`
    中每个整数值所对应的吉安尼斯·安特托昆博的罚球命中率：
- en: '[PRE16]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'These results are then visualized with a `ggplot2` line chart with points layered
    on top of the line for every x-axis tick mark (see figure 16.2):'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这些结果随后通过 `ggplot2` 线形图进行可视化，每个 x 轴刻度上都有点叠加在线上（见图 16.2）：
- en: '[PRE17]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![CH16_F02_Sutton](../../OEBPS/Images/CH16_F02_Sutton.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![CH16_F02_Sutton](../../OEBPS/Images/CH16_F02_Sutton.png)'
- en: Figure 16.2 Giannis Antetokounmpo’s free throw percentages following consecutive
    makes during the 2019-20 season
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 16.2 2019-20 赛季吉安尼斯·安特托昆博连续命中罚球的成功率
- en: Our plot doesn’t at all resemble a Laplace probability curve, and therefore
    we can’t conclude a hot hand was in effect. Yes, Antetokounmpo shot successfully
    higher percentages from the foul line when he had streaks of one to four made
    free throws, but his free throw percentage then regressed to approximately 67%
    when he had a streak of five successful attempts and again to 60% when he had
    six consecutive makes. And, yes, Antetokounmpo usually shot 100% from the foul
    line when his streak of successful free throw attempts reached and then exceeded
    eight makes, but the record count is so low at those numbers as to render the
    results statistically meaningless.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的图表与拉普拉斯概率曲线完全不相似，因此我们无法得出存在“热手”效应的结论。是的，当安特托昆博连续命中一到四个罚球时，他的罚球成功率确实提高了，但当他连续命中五个成功尝试时，罚球成功率下降到大约
    67%，当他连续命中六个罚球时，又下降到 60%。而且，是的，当安特托昆博连续成功罚球尝试达到并超过八个时，他通常从罚球线投篮 100%，但那些数字的记录计数如此之低，以至于使得结果在统计学上没有意义。
- en: More significantly, however, those last results ignore the fact that even a
    flipped coin at even odds can come up heads or tails many times in a row. Our
    simulated coin flips previously returned tails six consecutive times on just 10
    flips. Let’s see what sort of streak we might get on 700 flips, which is approximately
    equal to the number of free throws Antetokounmpo attempted in 2019-20.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，更重要的是，那些最后的结果忽略了即使是在公平概率下抛硬币也可能连续多次出现正面或反面的事实。我们之前模拟的抛硬币在 10 次抛掷中就出现了六次连续出现反面的情况。让我们看看在
    700 次抛掷中我们可能会得到什么样的连击，这大约等于安特托昆博在 2019-20 赛季尝试的罚球次数。
- en: 'We make another call to the `sample()` function (once more, results will differ
    every time `sample()` is called):'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们再次调用 `sample()` 函数（再次强调，每次调用 `sample()` 时结果都会不同）：
- en: Because we’re now simulating 700 coin flips rather than just 10, we change the
    size argument of the `sample()` function to `700`.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于我们现在模拟的是 700 次抛硬币，而不是仅仅 10 次，我们改变 `sample()` 函数的大小参数为 `700`。
- en: Our results are saved in a data frame called coin_flips and specifically a column
    called heads_tails, where `0` again equals heads and `1` equals tails. We can
    also think of `0` equaling a missed free throw and `1` equaling a made free throw.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的结果保存在一个名为 coin_flips 的数据框中，具体是一个名为 heads_tails 的列，其中 `0` 再次表示正面，`1` 表示反面。我们也可以认为
    `0` 表示失手的罚球，而 `1` 表示成功的罚球。
- en: Then, we pass coin_flips to the `mutate()` function to create a variable called
    `streak` that equals an ongoing tally of consecutive heads and tails, thanks again
    to the `streak_run()` function from the `runner` package.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们将 coin_flips 传递给 `mutate()` 函数，创建一个名为 `streak` 的变量，该变量等于连续出现正面和反面的累计数，这要归功于
    `runner` 包中的 `streak_run()` 函数。
- en: We then subset coin_flips where heads_tails equals `1` by calling the `dplyr`
    `filter()` function.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，我们通过调用 `dplyr` 的 `filter()` 函数来对 heads_tails 等于 `1` 的 coin_flips 进行子集化。
- en: Finally, we make a call to the base R `max()` function, which returns the maximum
    value of the variable `streak`.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，我们调用基础 R 的 `max()` 函数，该函数返回变量 `streak` 的最大值。
- en: 'We won’t bother to print all or some subset of coin_flips; we’ll just share
    the results here:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会费心打印所有或部分 coin_flips；我们只需在这里分享结果：
- en: '[PRE18]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: So after 700 simulated coin flips, we got tails a maximum of 11 consecutive
    times. This is comparable to Antetokounmpo’s best streak, especially considering
    we simulated fair, and not weighted, coin flips for which the odds are 50/50.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在模拟了 700 次抛硬币之后，我们得到了最多 11 次连续出现反面的情况。这与安特托昆博的最佳连击相当，特别是考虑到我们模拟的是公平的、没有加权的抛硬币，其概率是
    50/50。
- en: '16.4.2 Player 2 of 3: Julius Randle'
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 16.4.2 第 3 名球员：朱利叶斯·兰德尔
- en: Our next player is Julius Randle, a power forward and center for the New York
    Knicks. Randle attempted 350 free throws, not including a pair of technical free
    throws, during the 2019-20 regular season (the Knicks didn’t qualify for postseason
    play); he made 257, or 73.4%, of these attempts. Once more, these statistics were
    lifted from [www.basketball-reference.com](https://www.basketball-reference.com/).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一位球员是朱利叶斯·兰德尔，他是纽约尼克斯队的前锋和中锋。在2019-20赛季常规赛中（尼克斯队没有晋级季后赛），兰德尔尝试了350次罚球，不包括两次技术罚球；他命中了257次，占这些尝试的73.4%。再次强调，这些统计数据是从[www.basketball-reference.com](https://www.basketball-reference.com/)获得的。
- en: 'We begin by calling the `filter()` function and subsetting the ft data set
    where the variable `player` equals `Julius Randle`. Subsequent calls to the `dim()`
    and `sum()` functions confirm that our data corresponds perfectly with like statistics
    from the Basketball Reference website—`dim``()` returns the record count, which
    is equal to the number of attempted free throws, and `sum``()` returns the number
    of made free throws by adding the integers from the variable `points`, where `0`
    equals a missed free throw and `1` equals a made free throw:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先调用`filter()`函数，并子集ft数据集，其中变量`player`等于`Julius Randle`。随后的`dim()`和`sum()`函数调用确认我们的数据与篮球参考网站上的类似统计数据完全一致——`dim()`返回记录数，即尝试的罚球次数，而`sum()`通过变量`points`中的整数相加返回命中的罚球次数，其中`0`表示未命中，`1`表示命中：
- en: '[PRE19]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Then, we create a variable called `streak`, not unlike our previous variable
    by the same name, grouped by the variable `date`. Our results are cast to a new
    object called randle_final.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们创建了一个名为`streak`的变量，这个变量与之前的同名变量类似，按`date`变量分组。我们的结果被转换成一个新的对象，称为randle_final。
- en: 'We get the first 10 observations in randle_final returned to us by making a
    call to the `head()` function:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过调用`head()`函数获取randle_final返回的前10个观测值：
- en: '[PRE20]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'We then pass randle_final via the pipe operator to the `group_by``()` and `slice()`
    functions to delete the first randle_final record for each unique date or game:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们通过管道操作符将randle_final传递给`group_by()`和`slice()`函数，删除每个唯一日期或比赛的第一个randle_final记录：
- en: '[PRE21]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'This reduces the length of randle_final to 289 records:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这将randle_final的长度减少到289条记录：
- en: '[PRE22]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Another call to the `filter()` function further reduces randle_final, this
    time by subsetting it where a one-record lag in the variable `points` equals `1`.
    These results are then passed to the `group_by``()` and `summarize()` functions
    to tally makes and misses for each integer in the variable `streak`. Our summary
    results are cast to a tibble called randle_tbl1:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 再次调用`filter()`函数进一步减少randle_final，这次通过子集变量`points`中一个记录的滞后等于`1`。然后将这些结果传递给`group_by()`和`summarize()`函数，对变量`streak`中的每个整数进行命中和未命中的计数。我们的汇总结果被转换成名为randle_tbl1的tibble：
- en: '[PRE23]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'This is then passed to `mutate``()` to create a new variable equal to Randle’s
    free throw percentage for each length of consecutive makes:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 然后将这个对象传递给`mutate()`函数，创建一个新的变量，等于Randle在连续命中次数中的罚球命中率：
- en: '[PRE24]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Finally, we visualize Julius Randle’s free throw percentages by drawing a `ggplot2`
    line chart sourced from the randle_tbl2 tibble we just created (see figure 16.3):'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们通过绘制来自我们刚刚创建的randle_tbl2 tibble的`ggplot2`线图来可视化朱利叶斯·兰德尔（Julius Randle）的罚球命中率（见图16.3）：
- en: '[PRE25]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![CH16_F03_Sutton](../../OEBPS/Images/CH16_F03_Sutton.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![CH16_F03_Sutton](../../OEBPS/Images/CH16_F03_Sutton.png)'
- en: Figure 16.3 Julius Randle’s free throw percentages following consecutive makes
    during the 2019-20 season
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.3 2019-20赛季连续命中后朱利叶斯·兰德尔的罚球命中率
- en: Randle shot almost 80% from the line following one successful free throw attempt,
    but then less than 70% when he previously made anywhere between two and six consecutive
    free throws. Once more, there is no resemblance to a Laplace probability curve,
    so we again fail to see any evidence of a hot hand.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在一次成功的罚球尝试之后，Randle的罚球命中率接近80%，但当他之前在两次到六次连续罚球命中之间时，命中率则低于70%。再次强调，这与拉普拉斯概率曲线没有相似之处，所以我们再次没有看到任何“手感热”的证据。
- en: '16.4.3 Player 3 of 3: James Harden'
  id: totrans-141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 16.4.3 第3位球员：詹姆斯·哈登
- en: Our third and final player is James Harden, a guard who was playing for the
    Houston Rockets back in the 2019-20 season (he has since played for three other
    teams). Year over year, Harden is one of the NBA’s top scorers, in large part
    because he draws a lot of shooting fouls and thus attempts a lot of free throws.
    In 2019-20, Harden attempted almost 200 more foul shots than any other player.
    According to his [www.basketball-reference.com](https://www.basketball-reference.com/)
    stat line, Harden attempted 873 free throws between the regular season and postseason,
    not including technical free throws, and made 754, or 86.4%, of those attempts.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的第三位和最后一位球员是詹姆斯·哈登，他在2019-20赛季为休斯顿火箭队效力（他后来为其他三支球队效力过）。年复一年，哈登是NBA顶级得分手之一，这在很大程度上是因为他吸引了大量的投篮犯规，因此尝试了大量的罚球。在2019-20赛季，哈登尝试的罚球比任何其他球员都多出近200次。根据他的[www.basketball-reference.com](https://www.basketball-reference.com/)统计数据，哈登在常规赛和季后赛中尝试了873次罚球，不包括技术犯规罚球，命中了754次，即86.4%。
- en: 'We’ve mashed the James Harden series of data wrangling operations into a single
    chunk of code:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将詹姆斯·哈登的数据处理操作系列压缩到一个代码块中：
- en: '[PRE26]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Harden’s free throw percentages for every integer in the variable `streak`
    are represented in tabular format in the preceding chunk through the tibble harden_tbl2
    and, in the following chunk, in graphical format through another `ggplot2` line
    chart in figure 16.4:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码块中，通过tibble harden_tbl2以表格格式表示变量`streak`中每个整数的哈登罚球命中率，在接下来的代码块中，通过图16.4中的另一个`ggplot2`折线图以图形格式表示：
- en: '[PRE27]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![CH16_F04_Sutton](../../OEBPS/Images/CH16_F04_Sutton.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![CH16_F04_Sutton](../../OEBPS/Images/CH16_F04_Sutton.png)'
- en: Figure 16.4 James Harden’s free throw percentages following consecutive makes
    during the 2019-20 season
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.4 2019-20赛季詹姆斯·哈登连续命中后的罚球命中率
- en: Once more, we see nothing but randomness—no Laplace probability curve, no power
    law, no hot hand. Next up, however, is the plot twist we candidly dropped in the
    beginning.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，我们只看到了随机性——没有拉普拉斯概率曲线，没有幂律，没有热手。然而，接下来，我们将揭示我们在开始时坦率地加入的剧情转折。
- en: 16.5 League-wide analysis
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 16.5 全联盟分析
- en: 'We end by plotting and analyzing the entire NBA in a single data series. Our
    data wrangling operations are again mashed into a single code chunk; there’s nothing
    new here except that, when necessary, we’re grouping data operations by date *and*
    player:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们最后通过一个单一的数据系列来绘制和分析整个NBA。我们的数据处理操作再次被压缩到一个代码块中；这里没有新的内容，只是当需要时，我们按日期和球员分组数据操作：
- en: '[PRE28]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: This leads to our final visualization, yet another `ggplot2` line chart that
    displays league-wide free throw percentages for every possible streak of consecutive
    makes from the foul line (see figure 16.5). Note that Antetokounmpo, Randle, and
    Harden’s figures are included in these results; in fact, any player who attempted
    at least one free throw during the 2019-20 regular season or postseason is factored
    into these results.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这导致了我们的最终可视化，另一个`ggplot2`折线图，显示了从罚球线出发的每个可能的连续命中连串的全联盟罚球命中率（见图16.5）。请注意，安特托昆博、兰德尔和哈登的数据包括在这些结果中；事实上，任何在2019-20赛季常规赛或季后赛中至少尝试过一次罚球的球员都被纳入了这些结果。
- en: '![CH16_F05_Sutton](../../OEBPS/Images/CH16_F05_Sutton.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![CH16_F05_Sutton](../../OEBPS/Images/CH16_F05_Sutton.png)'
- en: Figure 16.5 League-wide free throw percentages following consecutive makes during
    the 2019-20 season. Unlike our results at the player level, these results approximate
    a Laplace probability curve.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.5 2019-20赛季全联盟连续命中后的罚球命中率。与我们在球员层面的结果不同，这些结果近似于拉普拉斯概率曲线。
- en: 'However, we’ve added a very cool feature to this last plot—we’ve inserted p1
    in the upper-left corner so that we can readily compare (imperfect) league-wide
    results to a (perfect) Laplace probability curve. We make this happen by calling
    the `ggplot2 annotation_custom()` function. The first argument passed to `annotation_custom()`
    is the `ggplotGrob()` function, which generates a `ggplot2` grid graphical object
    from a preexisting plot. The remaining four arguments establish the x and y coordinates
    for the inset:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们在最后一个图表中添加了一个非常酷的功能——我们在左上角插入了p1，这样我们就可以方便地比较（不完美）全联盟的结果与（完美）拉普拉斯概率曲线。我们通过调用`ggplot2
    annotation_custom()`函数来实现这一点。传递给`annotation_custom()`的第一个参数是`ggplotGrob()`函数，它从一个现有的图表生成一个`ggplot2`网格图形对象。剩余的四个参数确定了内嵌图的x和y坐标：
- en: '[PRE29]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: We actually get a visualization that approximates a Laplace probability curve
    now that we’re plotting thousands of data points instead of just a few hundred.
    It’s hardly perfect, of course, but we do see incrementally higher free throw
    percentages as the number of consecutive makes increases; we even see a series
    of increases at a decreasing rate, at least until the number of consecutive made
    free throws equals 9\. We then see regressions when consecutive makes equal 11,
    then 15, and again when it equals 18; however, by and large, we see higher free
    throw percentages when the number of prior made free throws increases. We therefore
    see what appears to be a hot hand when we examine the NBA as a whole instead of
    a few select players. This time, it makes sense, however, to separate the Laplace
    probability curve from the hot hand. After all, while the NBA-wide results approximate
    a Laplace probability curve, a hot hand applies only to the individual player
    level over finite periods of time.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们正在绘制数千个数据点而不是仅仅几百个，我们实际上得到了一个近似拉普拉斯概率曲线的视觉化。当然，它并不完美，但我们确实看到随着连续命中次数的增加，罚球命中率逐渐提高；我们甚至看到一系列以递减速率增加的情况，至少直到连续命中的罚球次数达到9次。然后我们看到当连续命中次数等于11次、15次以及再次等于18次时出现回归；然而，总的来说，当先前命中的罚球次数增加时，我们看到的罚球命中率更高。因此，当我们从整体上审视NBA而不是几个选定的球员时，我们似乎看到了一种“手感热”的现象。然而，这次，将拉普拉斯概率曲线与“手感热”分开是有意义的。毕竟，尽管NBA整体的结果近似于拉普拉斯概率曲线，但“手感热”只适用于有限时间段内的单个球员水平。
- en: In the next chapter, we’ll investigate whether a wisdom in crowds exists by
    comparing opening and closing odds released by Las Vegas sportsbooks to final
    scores.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过比较拉斯维加斯体育博彩公司发布的开盘赔率和最终得分，来调查是否存在群体智慧。
- en: Summary
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Even in an era of big data, small data is everywhere. Laplace’s rule of succession
    is the best alternative to the conventional probability formula when working with
    few observations and/or when the number of independent trials and successes are
    the same.
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即使在大数据时代，小数据无处不在。拉普拉斯成功法则是在处理少量观察结果以及/或者当独立试验次数和成功次数相同时，作为传统概率公式的最佳替代方案。
- en: It can’t be emphasized enough how critical it is to recognize (and accept) randomness
    when others might see (or want) order. We demonstrated how simulated coin flips
    might (or will) contain streaks of heads or tails and that real-life events, like
    free throw shooting, actually resemble random and independent flips of a coin
    instead of an orderly and predicable process.
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当其他人可能看到（或希望）秩序时，强调（并接受）随机性的重要性是不够的。我们展示了模拟的硬币抛掷可能（或将会）包含连续出现正面或反面，以及现实生活中的事件，如罚球射击，实际上更像是随机且独立的硬币抛掷，而不是有序且可预测的过程。
- en: So, no, free throw percentage, at least at the player level, doesn’t consistently
    increase with each subsequent success; makes and misses do resemble coin flips
    more than they approximate a Laplace probability curve; there is randomness that
    others mistake for order and causality; and there is no hot hand in the NBA, at
    least based on free throw shooting during the 2019-20 regular season and postseason.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，不，罚球命中率，至少在球员水平上，并不随着每一次后续成功而持续增加；命中和失误更像是硬币抛掷，而不是近似拉普拉斯概率曲线；存在其他人误认为是秩序和因果关系的随机性；而且，至少基于2019-20赛季和季后赛期间的罚球射击情况，NBA中没有“手感热”。
- en: The `runner` package was introduced as a “relatively obscure package,” which
    is true. Over the course of 2022, it’s been downloaded about 2,000 times on average
    per month. Conversely, `ggplot2` has been downloaded about 3 million times per
    month over the 2022 calendar year. But the `runner` package is nevertheless a
    great example of how versatile and extensible the R programming language is—regardless
    of what you want to do in R, there’s an excellent chance someone else has already
    completed the exact same task *and* published a package to help you with the heavy
    lifting.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`runner` 包被介绍为一个“相对冷门”的包，这是真的。在2022年期间，它平均每月下载约2,000次。相反，`ggplot2` 在2022年全年每月下载量约为3,000,000次。但即便如此，`runner`
    包仍然是R编程语言如何灵活和可扩展的一个很好的例子——无论你想要在R中做什么，都有很高的可能性，其他人已经完成了完全相同的任务并且发布了一个包来帮助你完成繁重的工作。'
- en: 'One point around the hot hand must absolutely be made, especially in consideration
    of the inconsistent results that were presented here: the player-specific results
    are much more meaningful than the league-wide results. That’s because the hot
    hand applies to individuals acting within discrete periods of time, and not toward
    many individuals operating in different spaces at different times. Thus, based
    on the balance of evidence, our best conclusion is that free throw shooting resembles
    coin flips more than it does a hot hand phenomenon.'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于“手感热”的一个要点必须绝对明确，尤其是在考虑到这里呈现的不一致结果时：特定球员的结果比整个联赛的结果更有意义。这是因为“手感热”适用于在离散时间段内行动的个体，而不是在时间不同、空间不同的多个个体。因此，根据证据的平衡，我们最好的结论是，罚球射击更像抛硬币，而不是“手感热”现象。
- en: In the meantime, we demonstrated how to simulate coin flips with just a single
    line of R code. And it doesn’t have to necessarily be a fair coin. If you want
    to simulate an event with, let’s say, 70/30 odds rather than 50/50, that can be
    done merely by changing the `probs` argument to the `sample()` function.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 同时，我们演示了如何仅用一行 R 代码来模拟抛硬币。这不必一定是公平的硬币。如果你想模拟一个有，比如说，70/30 的概率而不是 50/50 的事件，只需通过改变
    `sample()` 函数的 `probs` 参数即可完成。
- en: Finally, we showed how to inset a `ggplot2` object into another `ggplot2` object.
    This is a great data visualization technique to apply when you want to compare
    a new plot to an “older” plot.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，我们展示了如何将一个 `ggplot2` 对象插入到另一个 `ggplot2` 对象中。这是一个当你想要比较一个新图表与“较老”的图表时，非常棒的数据可视化技术。
