- en: 10 Power analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 10 效力分析
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Determining sample size requirements
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定样本量需求
- en: Calculating effect sizes
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算效应量
- en: Assessing statistical power
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估统计效力
- en: 'As a statistical consultant, I’m often asked, “How many subjects do I need
    for my study?” Sometimes the question is phrased this way: “I have *x* number
    of people available for this study. Is the study worth doing?” Questions like
    these can be answered through *power analysis*, an important set of techniques
    in experimental design.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名统计顾问，我经常被问到，“我需要多少个受试者来进行我的研究？”有时问题是这样表达的：“我有 *x* 个可用于这项研究的人。这项研究值得做吗？”类似的问题可以通过
    *效力分析* 来回答，这是实验设计中一套重要的技术。
- en: Power analysis allows you to determine the sample size required to detect an
    effect of a given size with a given degree of confidence. Conversely, it allows
    you to determine the probability of detecting an effect of a given size with a
    given level of confidence under sample size constraints. If the probability is
    unacceptably low, you’d be wise to alter or abandon the experiment.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 效力分析允许你确定在给定置信度下检测到给定大小效应所需的样本量。相反，它允许你在样本量限制下确定在给定置信度水平下检测到给定大小效应的概率。如果概率过低，你明智地改变或放弃实验将是明智的。
- en: In this chapter, you’ll learn how to conduct power analyses for various statistical
    tests, including tests of proportions, t-tests, chi-square tests, balanced one-way
    ANOVA, tests of correlations, and linear models. Because power analysis applies
    to hypothesis testing situations, we’ll start with a brief review of null hypothesis
    significance testing (NHST). Then we’ll review conducting power analyses within
    R, focusing primarily on the `pwr` package. Finally, we’ll consider other approaches
    to power analysis available with R.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习如何进行各种统计检验的效力分析，包括比例检验、t检验、卡方检验、平衡单因素方差分析、相关检验和线性模型。由于效力分析适用于假设检验情况，我们将从对零假设显著性检验（NHST）的简要回顾开始。然后，我们将回顾在R中执行效力分析的方法，主要关注`pwr`包。最后，我们将考虑R中可用的其他效力分析方法。
- en: 10.1 A quick review of hypothesis testing
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.1 假设检验的快速回顾
- en: To help you understand the steps in a power analysis, we’ll briefly review statistical
    hypothesis testing in general. If you have a statistical background, feel free
    to skip to section 10.2.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助你理解效力分析的步骤，我们将简要回顾一般的统计假设检验。如果你有统计背景，可以自由跳到第10.2节。
- en: In statistical hypothesis testing, you specify a hypothesis about a population
    parameter (your *null hypothesis*, or *H*[0]). You then draw a sample from this
    population and calculate a statistic that’s used to make inferences about the
    population parameter. Assuming that the null hypothesis is true, you calculate
    the probability of obtaining the observed sample statistic or one more extreme.
    If the probability is sufficiently small, you reject the null hypothesis in favor
    of its opposite (referred to as the *alternative* or *research hypothesis*, *H*[1]).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在统计假设检验中，你指定关于总体参数的假设（你的 *零假设*，或 *H*[0]）。然后，你从这个总体中抽取一个样本，并计算一个用于对总体参数进行推断的统计量。假设零假设是真实的，你计算获得观察到的样本统计量或更极端的统计量的概率。如果概率足够小，你将拒绝零假设，转而支持其对立面（称为
    *备择* 或 *研究* 假设，*H*[1]）。
- en: 'An example will clarify the process. Say you’re interested in evaluating the
    impact of cell phone use on drivers’ reaction time. Your null hypothesis is *H*[0]:
    *µ*[1] – *µ*[2] = 0, where *µ*[1] is the mean response time for drivers using
    a cell phone and *µ*[2] is the mean response time for drivers who are cell phone
    free (here, *µ*[1] – *µ*[2] is the population parameter of interest). If you reject
    this null hypothesis, you’re left with the alternate or research hypothesis: *H*[1]:
    *µ*[1] – *µ*[2] ≠ 0\. This is equivalent to *µ*[1] ≠ *µ*[2], that the mean reaction
    times for the two conditions are not equal.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '以下是一个说明过程的例子。假设你感兴趣的是评估手机使用对驾驶员反应时间的影响。你的零假设是 *H*[0]: *µ*[1] – *µ*[2] = 0，其中
    *µ*[1] 是使用手机的驾驶员的平均反应时间，*µ*[2] 是无手机的驾驶员的平均反应时间（在这里，*µ*[1] – *µ*[2] 是感兴趣的总体参数）。如果你拒绝这个零假设，你将剩下备择或研究假设：*H*[1]:
    *µ*[1] – *µ*[2] ≠ 0。这相当于 *µ*[1] ≠ *µ*[2]，即两种条件下的平均反应时间不相等。'
- en: A sample of individuals is selected and randomly assigned to one of two conditions.
    In the first condition, participants react to a series of driving challenges in
    a simulator while talking on a cell phone. In the second condition, participants
    complete the same series of challenges without a cell phone. Overall reaction
    time is assessed for each individual.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 从个体中选取样本并随机分配到两种条件之一。在第一种条件下，参与者在一个模拟器中应对一系列驾驶挑战，同时使用手机通话。在第二种条件下，参与者完成相同的挑战，但不使用手机。对每个个体的总体反应时间进行评估。
- en: Based on the sample data, you can calculate the statistic (X̄[1] − X̄[2])/(*s*
    − √*n*), where X̄[1] and X̄[2] are the sample reaction time means in the two conditions,
    s is the pooled sample standard deviation, and *n* is the number of participants
    in each condition. If the null hypothesis is true and you can assume reaction
    times are normally distributed, this sample statistic will follow a t-distribution
    with 2*n* – 2 degrees of freedom. Using this fact, you can calculate the probability
    of obtaining a sample statistic this large or larger. If the probability (p) is
    smaller than some predetermined cutoff (say p < .05), you reject the null hypothesis
    in favor of the alternate hypothesis. This predetermined cutoff (0.05) is called
    the *significance level* of the test.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 根据样本数据，你可以计算统计量(X̄[1] − X̄[2])/(*s* − √*n*)，其中X̄[1]和X̄[2]是两种条件下的样本反应时间均值，s是合并样本标准差，*n*是每个条件下的参与者数量。如果零假设是真的，并且你可以假设反应时间是正态分布的，那么这个样本统计量将遵循具有2*n*
    – 2个自由度的t分布。利用这一事实，你可以计算得到如此大或更大的样本统计量的概率。如果概率(p)小于某个预定的截止值（例如p < .05），你将拒绝零假设，支持备择假设。这个预定的截止值（0.05）被称为检验的*显著性水平*。
- en: 'Note that you use *sample* data to make an inference about the *population*
    it’s drawn from. Your null hypothesis is that the mean reaction time of *all*
    drivers talking on cell phones isn’t different from the mean reaction time of
    *all* drivers who aren’t talking on cell phones, not just those drivers in your
    sample. The four possible outcomes from your decision are as follows:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，你使用*样本*数据来对从中抽取的*总体*进行推断。你的零假设是所有使用手机的驾驶员的平均反应时间与所有未使用手机的驾驶员的平均反应时间没有差异，而不仅仅是你的样本中的驾驶员。你决策的四个可能结果如下：
- en: If the null hypothesis is false and the statistical test leads you to reject
    it, you’ve made a correct decision. You’ve correctly determined that reaction
    time is affected by cell phone use.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果零假设是错误的，并且统计检验导致你拒绝它，那么你做出了正确的决定。你正确地确定反应时间受到手机使用的影响。
- en: If the null hypothesis is true and you don’t reject it, again, you’ve made a
    correct decision. Reaction time isn’t affected by cell phone use.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果零假设是真的，而你没有拒绝它，那么你又做出了正确的决定。反应时间不受手机使用的影响。
- en: If the null hypothesis is true but you reject it, you’ve committed a Type I
    error. You’ve concluded that cell phone use affects reaction time when it doesn’t.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果零假设是真的，但你拒绝了它，那么你犯了第一类错误。你得出结论说手机使用会影响反应时间，但实际上并没有。
- en: If the null hypothesis is false and you fail to reject it, you’ve committed
    a Type II error. Cell phone use affects reaction time, but you’ve failed to discern
    this.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果零假设是错误的，但你未能拒绝它，那么你犯了第二类错误。手机使用会影响反应时间，但你未能察觉这一点。
- en: Each of these outcomes is illustrated in table 10.1.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.1中展示了这些结果的每一个。
- en: Table 10.1 Hypothesis testing
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.1 假设检验
- en: '|  |  | Decision |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 决策 |'
- en: '|  |  | Reject *H*[0] | Fail to reject *H*[0] |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 拒绝 *H*[0] | 未拒绝 *H*[0] |'
- en: '| Actual | *H*[0] true | Type I error | Correct |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| 实际 | *H*[0] true | 第一类错误 | 正确 |'
- en: '| *H*[0] false | Correct | Type II error |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| *H*[0] false | 正确 | 第二类错误 |'
- en: Controversy surrounding null hypothesis significance testing
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 零假设显著性检验的争议
- en: Null hypothesis significance testing isn’t without controversy, and detractors
    have raised many concerns about it, particularly as it is practiced in the field
    of psychology. They point to a widespread misunderstanding of p values, reliance
    on statistical significance over practical significance, the fact that the null
    hypothesis is never exactly true and will always be rejected for sufficient sample
    sizes, and a number of logical inconsistencies in NHST practices.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 零假设显著性检验并非没有争议，批评者提出了许多关于它的担忧，尤其是在心理学领域。他们指出，对p值的广泛误解、对统计显著性而非实际显著性的依赖、零假设永远不会完全正确，并且对于足够大的样本量总会被拒绝的事实，以及NHST实践中存在的一些逻辑不一致。
- en: An in-depth discussion of this topic is beyond the scope of this book. Interested
    readers are referred to Harlow, Mulaik, and Steiger (1997).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 对这个主题的深入讨论超出了本书的范围。对此感兴趣的读者可参考 Harlow, Mulaik, 和 Steiger（1997）。
- en: In planning research, the researcher typically pays special attention to four
    quantities (see figure 10.1)*:*
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在规划研究时，研究人员通常会特别关注四个数量（见图 10.1）*：*
- en: '*Sample size* refers to the number of observations in each condition/group
    of the experimental design.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**样本量**指的是实验设计中每个条件/组的观测数量。'
- en: The *significance level* (also referred to as *alpha*) is defined as the probability
    of making a Type I error. The significance level can also be thought of as the
    probability of finding an effect that is *not* there.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显著性水平**（也称为**alpha**）定义为犯第一类错误的概率。显著性水平也可以理解为发现不存在的效果的概率。'
- en: '*Power* is defined as one minus the probability of making a Type II error.
    Power can be thought of as the probability of finding an effect that *is* there.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**功效**定义为犯第二类错误的概率的补数。功效可以理解为发现存在效应的概率。'
- en: '*Effect size* is the magnitude of the effect under the alternate or research
    hypothesis. The formula for effect size depends on the statistical methodology
    employed in the hypothesis testing.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**效应量**是指在备择或研究假设下的效应大小。效应量的公式取决于假设检验中使用的统计方法。'
- en: '![](Images/CH10_F01_Kabacoff3.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F01_Kabacoff3.png)'
- en: Figure 10.1 Four primary quantities considered in a study design power analysis.
    Given any three, you can calculate the fourth.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.1 研究设计功效分析中考虑的四个主要数量。给定任意三个，你可以计算出第四个。
- en: Although the researcher directly controls the sample size and significance level,
    power and effect size are affected more indirectly. For example, as you relax
    the significance level (in other words, make it easier to reject the null hypothesis),
    power increases. Similarly, increasing the sample size increases power.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管研究人员直接控制样本量和显著性水平，但功效和效应量受到更间接的影响。例如，当你放宽显著性水平（换句话说，使拒绝零假设更容易），功效会增加。同样，增加样本量也会增加功效。
- en: Your research goal is typically to maximize the power of your statistical tests
    while maintaining an acceptable significance level and employing as small a sample
    size as possible. That is, you want to maximize the chances of finding a real
    effect and minimize the chances of finding an effect that isn’t really there,
    while keeping study costs within reason.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 你的研究目标通常是最大化统计测试的功效，同时保持可接受的显著性水平，并尽可能使用最小的样本量。也就是说，你希望最大限度地提高发现真实效应的机会，同时最大限度地减少发现不存在效应的机会，同时将研究成本控制在合理范围内。
- en: The four quantities (sample size, significance level, power, and effect size)
    have an intimate relationship. *Given any three, you can determine the fourth*.
    You’ll use this fact to carry out various power analyses throughout the remainder
    of the chapter. In the next section, we’ll look at ways to implement power analyses
    using the R package `pwr`. Later, we’ll briefly look at some highly specialized
    power functions that are used in biology and genetics.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 四个数量（样本量、显著性水平、功效和效应量）之间有着密切的关系。**给定任意三个，你可以确定第四个**。你将使用这一事实在本章的剩余部分进行各种功效分析。在下一节中，我们将探讨使用
    R 包 `pwr` 实现功效分析的方法。稍后，我们将简要介绍一些在生物学和遗传学中使用的非常专业的功效函数。
- en: 10.2 Implementing power analysis with the pwr package
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.2 使用 pwr 包实现功效分析
- en: The `pwr` package, developed by Stéphane Champely, implements power analysis
    as outlined by Cohen (1988). Table 10.2 lists some of the more important functions.
    For each function, the user can specify three of the four quantities (sample size,
    significance level, power, effect size), and the fourth will be calculated.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 由 Stéphane Champely 开发的 `pwr` 包实现了 Cohen（1988）概述的功效分析。表 10.2 列出了一些较为重要的函数。对于每个函数，用户可以指定四个数量中的三个（样本量、显著性水平、功效、效应量），第四个将被计算。
- en: Table 10.2 `pwr` package functions
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.2 `pwr` 包函数
- en: '| Function | Power calculations for ... |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| 函数 | ... 的功效计算|'
- en: '| `pwr.2p.test` | Two proportions (equal n) |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.2p.test` | 双样本比例（样本量相等）|'
- en: '| `pwr.2p2n.test` | Two proportions (unequal n) |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.2p2n.test` | 双样本比例（样本量不等）|'
- en: '| `pwr.anova.test` | Balanced one-way ANOVA |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.anova.test` | 平衡单因素方差分析|'
- en: '| `pwr.chisq.test` | Chi-square test |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.chisq.test` | 卡方检验|'
- en: '| `pwr.f2.test` | General linear model |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.f2.test` | 一般线性模型|'
- en: '| `pwr.p.test` | Proportion (one sample) |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.p.test` | 比例（单样本）|'
- en: '| `pwr.r.test` | Correlation |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.r.test` | 相关系数|'
- en: '| `pwr.t.test` | T-tests (one sample, two samples, paired) |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.t.test` | T检验（单样本，双样本，配对）|'
- en: '| `pwr.t2n.test` | T-test (two samples with unequal n) |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| `pwr.t2n.test` | T检验（两个样本，n不等）|'
- en: Of the four quantities, effect size is often the most difficult to specify.
    Calculating effect size typically requires some experience with the measures involved
    and knowledge of past research. But what can you do if you have no clue what effect
    size to expect in a given study? You’ll look at this difficult question in section
    10.2.7\. In the remainder of this section, you’ll look at the application of `pwr`
    functions to common statistical tests. Before invoking these functions, be sure
    to install and load the `pwr` package.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在这四个量中，效应量通常是最难指定的。计算效应量通常需要一些与所涉及的措施相关的经验和对以往研究的了解。但如果你对给定研究中预期的效应量一无所知，你能做什么呢？你将在第10.2.7节中探讨这个难题。在本节的其余部分，你将了解`pwr`函数在常见统计检验中的应用。在调用这些函数之前，请确保安装并加载`pwr`包。
- en: 10.2.1 T-tests
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.1 T检验
- en: When the statistical test you will use is a t-test, the `pwr.t.test()` function
    provides a number of useful power analysis options. The format is
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将要使用的统计检验是t检验时，`pwr.t.test()` 函数提供了一系列有用的功效分析选项。其格式为
- en: '[PRE0]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: where
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '`n` is the sample size.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n` 是样本大小。'
- en: '`d` is the effect size defined as the standardized mean difference.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`d` 是效应量，定义为标准化均值差异。'
- en: '![](Images/CH10_F01_Kabacoff3-EQ01.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/CH10_F01_Kabacoff3-EQ01.png)'
- en: '`sig.level` is the significance level (0.05 is the default).'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sig.level` 是显著性水平（默认为0.05）。'
- en: '`power` is the power level.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`power` 是功效水平。'
- en: '`type` is two-sample t-test (`"two.sample")`, a one-sample t-test (`"one.sample")`,
    or a dependent sample t-test ( `"paired")`. A two-sample test is the default.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`type` 是双样本t检验（`"two.sample"`）、单样本t检验（`"one.sample"`）或配对样本t检验（`"paired"`）。默认情况下是双样本检验。'
- en: '`alternative` indicates whether the statistical test is two-sided (`"two.sided")`
    or one-sided `("less"` or `"greater")`. A two-sided test is the default.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`alternative` 表示统计检验是双尾（`"two.sided"`）还是单尾（`"less"` 或 `"greater"`）。默认情况下是双尾检验。'
- en: Let’s work through an example. Continuing the experiment from section 10.1 involving
    cell phone use and driving reaction time, assume that you’ll be using a two- tailed
    independent sample t-test to compare the mean reaction time for participants in
    the cell phone condition with the mean reaction time for participants driving
    unencumbered.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个例子来分析。继续第10.1节中关于手机使用和驾驶反应时间的实验，假设你将使用双尾独立样本t检验来比较手机条件下参与者的平均反应时间与未受干扰驾驶的参与者的平均反应时间。
- en: Let’s assume that you know from past experience that reaction time has a standard
    deviation of 1.25 seconds. Also suppose that a 1-second difference in reaction
    time is considered an important difference. You’d therefore like to conduct a
    study in which you’re able to detect an effect size of d = 1/1.25 = 0.8 or larger.
    Additionally, you want to be 90% sure to detect such a difference if it exists
    and 95% sure that you won’t declare a difference to be significant when it’s actually
    due to random variability. How many participants will you need in your study?
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你从以往的经验中知道反应时间有1.25秒的标准差。此外，假设反应时间差1秒被认为是一个重要的差异。因此，你希望进行一项研究，能够检测到效应量d =
    1/1.25 = 0.8或更大的效应。此外，你想要有90%的把握检测到这种差异（如果存在），并且有95%的把握不会宣布差异是显著的，而实际上它是由随机变异性引起的。你的研究中需要多少参与者？
- en: 'Entering this information in the `pwr.t.test()` function, you have the following:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些信息输入到`pwr.t.test()` 函数中，你将得到以下结果：
- en: '[PRE1]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The results suggest that you need 34 participants in each group (for a total
    of 68 participants) to detect an effect size of 0.8 with 90% certainty and no
    more than a 5% chance of erroneously concluding that a difference exists when,
    in fact, it doesn’t.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，你需要每组有34名参与者（总共68名参与者）才能以90%的确定性检测到0.8的效应量，并且错误地得出存在差异的结论的概率不超过5%，而实际上并不存在差异。
- en: Let’s alter the question. Assume that in comparing the two conditions, you want
    to be able to detect a 0.5 standard deviation difference in population means.
    You want to limit the chances of falsely declaring the population means to be
    different to 1 out of 100\. Additionally, you can only afford to include 40 participants
    in the study. What’s the probability that you’ll be able to detect a difference
    this large between the population means, given these constraints?
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们改变问题。假设在比较两种条件时，你想要能够检测到总体均值之间0.5个标准差差异。你想要将错误声明总体均值不同的几率限制在100分之1。此外，你只能负担得起在研究中包含40名参与者。在这些限制条件下，你能够检测到这种大差异的概率是多少？
- en: Assuming that an equal number of participants will be placed in each condition,
    you have
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 假设每个条件下将放置相同数量的参与者，你有
- en: '[PRE2]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: With 20 participants in each group, an a priori significance level of 0.01,
    and a dependent variable standard deviation of 1.25 seconds, you have less than
    a 14% chance of declaring a difference of 0.625 seconds or less significant (d
    = 0.5 = 0.625/1.25). Conversely, there’s an 86% chance that you’ll miss the effect
    that you’re looking for. You may want to seriously rethink putting the time and
    effort into the study as it stands.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 每组有20名参与者，先验显著性水平为0.01，以及因变量标准差为1.25秒，声明0.625秒或更小差异不显著的几率小于14%（d = 0.5 = 0.625/1.25）。相反，有86%的几率你会错过你正在寻找的效果。你可能需要认真重新考虑是否投入时间和精力进行这项研究。
- en: The previous examples assumed that there are equal sample sizes in the two groups.
    If the sample sizes for the two groups are unequal, the function
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的例子假设两组的样本大小相等。如果两组的样本大小不相等，函数
- en: '[PRE3]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: can be used. Here, `n1` and `n2` are the sample sizes, and the other parameters
    are the same as for `pwer.t.test`. Try varying the values input to the `pwr.t2n.test`
    function and see the effect on the output.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用。在这里，`n1`和`n2`是样本大小，其他参数与`pwer.t.test`相同。尝试改变输入到`pwr.t2n.test`函数的值，看看对输出的影响。
- en: 10.2.2 ANOVA
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.2 ANOVA
- en: The `pwr.anova.test()` function provides power analysis options for a balanced
    one-way analysis of variance. The format is
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '`pwr.anova.test()`函数为平衡单因素方差分析提供了功效分析选项。格式是'
- en: '[PRE4]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: where `k` is the number of groups and `n` is the common sample size in each
    group.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 其中`k`是组数，`n`是每组中共同的样本大小。
- en: For a one-way ANOVA, effect size is measured by `f`, where
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 对于单因素方差分析（ANOVA），效应大小通过`f`来衡量，其中
- en: '![](Images/CH10_F01_Kabacoff3-EQ02.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F01_Kabacoff3-EQ02.png)'
- en: 'Let’s try an example. For a one-way ANOVA comparing five groups, calculate
    the sample size needed in each group to obtain a power of 0.80, when the effect
    size is 0.25 and a significance level of 0.05 is employed. The code looks like
    this:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试一个例子。对于比较五个组的单因素方差分析，当效应大小为0.25且采用显著性水平为0.05时，计算每组所需的样本大小以获得0.80的功效。代码如下：
- en: '[PRE5]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The total sample size is therefore 5 × 39, or 195\. Note that this example requires
    you to estimate what the means of the five groups will be, along with the common
    variance. When you have no idea what to expect, the approaches described in section
    10.2.7 may help.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，总样本大小是5 × 39，即195。请注意，此示例要求你估计五个组的均值以及共同方差。当你不知道预期什么时，第10.2.7节中描述的方法可能会有所帮助。
- en: 10.2.3 Correlations
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.3 相关系数
- en: The `pwr.r.test()` function provides a power analysis for tests of correlation
    coefficients. The format is
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`pwr.r.test()`函数为相关系数的检验提供了功效分析。格式是'
- en: '[PRE6]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: where `n` is the number of observations, `r` is the effect size (as measured
    by a linear correlation coefficient), `sig.level` is the significance level, `power`
    is the power level, and `alternative` specifies a two-sided ("`two.sided"`) or
    a one-sided (`"less"` or `"greater"`) significance test.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 其中`n`是观测值的数量，`r`是效应大小（通过线性相关系数衡量），`sig.level`是显著性水平，`power`是功效水平，而`alternative`指定了双尾（`"two.sided"`）或单尾（`"less"`或`"greater"`）的显著性检验。
- en: For example, let’s assume that you’re studying the relationship between depression
    and loneliness. Your null and research hypotheses are
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设你正在研究抑郁和孤独感之间的关系。你的零假设和备择假设是
- en: '*H*[0]: ρ ≤ 0.25 versus *H*[1]: ρ > 0.25'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '*H*[0]: ρ ≤ 0.25 对比 *H*[1]: ρ > 0.25'
- en: 'where ρ is the population correlation between these two psychological variables.
    You’ve set your significance level to 0.05, and you want to be 90% confident that
    you’ll reject *H*[0] if it’s false. How many observations will you need? This
    code provides the answer:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 其中ρ是这两个心理变量之间的总体相关系数。你已将显著性水平设置为0.05，并希望以90%的置信度拒绝*H*[0]（如果它是错误的）。你需要多少个观测值？以下代码提供了答案：
- en: '[PRE7]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Thus, you need to assess depression and loneliness in 134 participants to be
    90% confident that you’ll reject the null hypothesis if it’s false.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你需要评估134名参与者的抑郁和孤独感，以90%的置信度确保你将拒绝错误的零假设。
- en: 10.2.4 Linear models
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.4 线性模型
- en: For linear models (such as multiple regression), the `pwr.f2.test()` function
    can be used to carry out a power analysis. The format is
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 对于线性模型（如多元回归），可以使用`pwr.f2.test()`函数进行功效分析。格式如下
- en: '[PRE8]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: where `u` and `v` are the numerator and denominator degrees of freedom and `f2`
    is the effect size.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 其中`u`和`v`是分子和分母自由度，`f2`是效应大小。
- en: '![](Images/CH10_F01_Kabacoff3-EQ03.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F01_Kabacoff3-EQ03.png)'
- en: The first formula for `f2` is appropriate when you’re evaluating the impact
    of a set of predictors on an outcome. The second formula is appropriate when you’re
    evaluating the impact of one set of predictors above and beyond a second set of
    predictors (or covariates).
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '`f2`的第一个公式适用于评估一组预测变量对结果的影响。第二个公式适用于评估一组预测变量（或协变量）对另一组预测变量（或协变量）的影响。'
- en: Let’s say you’re interested in whether a boss’ leadership style impacts workers’
    satisfaction above and beyond the salary and perks associated with the job. Leadership
    style is assessed by four variables, and salary and perks are associated with
    three variables. Past experience suggests that salary and perks account for roughly
    30% of the variance in workers’ satisfaction. From a practical standpoint, it
    would be interesting if leadership style accounted for at least 5% above this
    figure. Assuming a significance level of 0.05, how many subjects would be needed
    to identify such a contribution with 90% confidence?
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你对老板的领导风格是否会影响员工满意度超过与工作相关的工资和福利感兴趣。领导风格通过四个变量进行评估，而工资和福利与三个变量相关。以往的经验表明，工资和福利大约占员工满意度变化的30%。从实际的角度来看，如果领导风格至少比这个数字高5%，将会很有趣。假设显著性水平为0.05，为了以90%的置信度识别这种贡献，需要多少名受试者？
- en: 'Here, `sig.level`=0.05, `power`=0.90, `u`=3 (the total number of predictors
    minus the number of predictors in set B), and the effect size is `f2` = (.35 –
    .30)/(1 – .35) = 0.0769. Entering this into the function yields the following:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`sig.level`=0.05，`power`=0.90，`u`=3（总预测变量数减去集合B中预测变量的数量），效应大小为`f2` = (.35
    – .30)/(1 – .35) = 0.0769。将此输入函数中，得到以下结果：
- en: '[PRE9]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: In multiple regression, the denominator degrees of freedom equals *N* – *k*
    – 1, where *N* is the number of observations and *k* is the number of predictors.
    In this case, *N* – 7 – 1 = 185, which means the required sample size is *N* =
    185 + 7 + 1 = 193.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在多元回归中，分母自由度等于*N* – *k* – 1，其中*N*是观测数，*k*是预测变量的数量。在这种情况下，*N* – 7 – 1 = 185，这意味着所需的样本量是*N*
    = 185 + 7 + 1 = 193。
- en: 10.2.5 Tests of proportions
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.5 比例检验
- en: The `pwr.2p.test()` function can be used to perform a power analysis for comparing
    two proportions. The format is
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用`pwr.2p.test()`函数对比较两个比例进行功效分析。格式如下
- en: '[PRE10]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: where `h` is the effect size and `n` is the common sample size in each group.
    The effect size `h` is defined as
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 其中`h`是效应大小，`n`是每组中共同的样本大小。效应大小`h`定义为
- en: '![](Images/CH10_F01_Kabacoff3-EQ04.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F01_Kabacoff3-EQ04.png)'
- en: and can be calculated with the function `ES.h(p1, p2)`.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用函数`ES.h(p1, p2)`计算。
- en: For unequal `n`s, the desired function is
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 对于不等的`n`，所需的函数是
- en: '[PRE11]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The `alternative=` option can be used to specify a two-tailed (`"two.sided")`
    or one-tailed (`"less"` or "`greater"`) test. A two-tailed test is the default.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用`alternative=`选项来指定双尾（`"two.sided"`）或单尾（`"less"`或"`greater"`）检验。双尾检验是默认选项。
- en: Let’s say you suspect that a popular medication relieves symptoms in 60% of
    users. A new (and more expensive) medication will be marketed if it improves symptoms
    in 65% of users. How many participants will you need to include in a study comparing
    these two medications if you want to detect a difference this large?
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你怀疑一种流行的药物可以使60%的用户症状缓解。如果一种新的（且更昂贵的）药物可以使65%的用户症状改善，那么如果你想要检测这种大的差异，你需要在比较这两种药物的研究中包含多少名参与者？
- en: 'Assume that you want to be 90% confident in concluding that the new drug is
    better and 95% confident that you won’t reach this conclusion erroneously. You’ll
    use a one-tailed test because you’re only interested in assessing whether the
    new drug is better than the standard. The code looks like this:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想要以 90% 的置信度得出结论，新药比现有药物更好，并且以 95% 的置信度确信你不会错误地得出这个结论。你将使用单尾检验，因为你只对评估新药是否比标准药物更好感兴趣。代码如下：
- en: '[PRE12]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Based on these results, you’ll need to conduct a study with 1,605 individuals
    receiving the new drug and 1,605 receiving the existing drug to meet the criteria.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些结果，你需要进行一项研究，其中 1,605 人接受新药，1,605 人接受现有药物，以满足标准。
- en: 10.2.6 Chi-square tests
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.6 卡方检验
- en: Chi-square tests are often used to assess the relationship between two categorical
    variables. The null hypothesis is typically that the variables are independent
    versus a research hypothesis that they aren’t. The `pwr.chisq.test()` function
    can be used to evaluate the power, effect size, or requisite sample size when
    employing a chi-square test. The format is
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方检验通常用于评估两个分类变量之间的关系。零假设通常是变量之间是独立的，而研究假设则认为它们不是独立的。`pwr.chisq.test()` 函数可用于在应用卡方检验时评估功效、效应量或所需的样本量。格式如下：
- en: '[PRE13]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: where `w` is the effect size, `N` is the total sample size, and `df` is the
    degrees of freedom. Here, effect size `w` is defined as
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 `w` 是效应量，`N` 是总样本量，`df` 是自由度。在这里，效应量 `w` 定义为
- en: '![](Images/CH10_F01_Kabacoff3-EQ05.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F01_Kabacoff3-EQ05.png)'
- en: The summation goes from 1 to *m*, where *m* is the number of cells in the contingency
    table. The function `ES.w2(P)` can be used to calculate the effect size corresponding
    to the alternative hypothesis in a two-way contingency table. Here, `P` is a hypothesized
    two-way probability table.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 求和从 1 到 *m*，其中 *m* 是列联表中的单元格数。`ES.w2(P)` 函数可用于计算在双向列联表中对应于备择假设的效应量。在这里，`P` 是假设的双向概率表。
- en: As a simple example, let’s assume that you’re looking at the relationship between
    ethnicity and promotion. You anticipate that 70% of your sample will be Caucasian,
    10% will be African American, and 20% will be Hispanic. Furthermore, you believe
    that 60% of Caucasians tend to be promoted, compared with 30% of African Americans
    and 50% of Hispanics. Your research hypothesis is that the probability of promotion
    follows the values in table 10.3.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个简单的例子，让我们假设你正在研究种族与提拔之间的关系。你预计你的样本中 70% 将是白人，10% 将是非裔美国人，20% 将是西班牙裔。此外，你认为
    60% 的白人倾向于被提拔，而 30% 的非裔美国人和 50% 的西班牙裔则不是。你的研究假设是提拔的概率遵循表 10.3 中的值。
- en: Table 10.3 Proportion of individuals expected to be promoted based on the research
    hypothesis
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.3 基于研究假设预期被提拔的个人比例
- en: '| Ethnicity | Promoted | Not promoted |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| 种族 | 提拔 | 未提拔 |'
- en: '| Caucasian | 0.42 | 0.28 |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 白人 | 0.42 | 0.28 |'
- en: '| African American | 0.03 | 0.07 |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 非裔美国人 | 0.03 | 0.07 |'
- en: '| Hispanic | 0.10 | 0.10 |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 西班牙裔 | 0.10 | 0.10 |'
- en: 'For example, you expect that 42% of the population will be promoted Caucasians
    (.42 = .70 × .60) and 7% of the population will be unpromoted African Americans
    (.07 = .10 × .70). Let’s assume a significance level of 0.05 and that the desired
    power level is 0.90\. The degrees of freedom in a two-way contingency table are
    (`r` – 1) × (`c` – 1), where `r` is the number of rows and `c` is the number of
    columns. You can calculate the hypothesized effect size with the following code:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你预计人口中有 42% 将是提拔的白人（.42 = .70 × .60）和 7% 将是未被提拔的非裔美国人（.07 = .10 × .70）。假设显著性水平为
    0.05，并且你希望的功效水平为 0.90。双向列联表中的自由度是 (`r` – 1) × (`c` – 1)，其中 `r` 是行数，`c` 是列数。你可以使用以下代码计算假设的效应量：
- en: '[PRE14]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Using this information, you can calculate the necessary sample size like this:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些信息，你可以这样计算所需的样本量：
- en: '[PRE15]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The results suggest that a study with 369 participants will be adequate to detect
    a relationship between ethnicity and promotion given the effect size, power, and
    significance level specified.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，一个有 369 名参与者的研究将足以在给定的效应量、功效和显著性水平下检测种族与提拔之间的关系。
- en: 10.2.7 Choosing an appropriate effect size in novel situations
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.7 在新情况下选择适当效应量
- en: In power analysis, the expected effect size is the most difficult parameter
    to determine. It typically requires that you have experience with the subject
    matter and the measures employed. For example, the data from past studies can
    be used to calculate effect sizes, which can then be used to plan future studies.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在功效分析中，预期效应量是最难确定的参数。通常需要你对主题领域和采用的措施有经验。例如，可以使用过去研究的数据来计算效应量，然后可以用这些效应量来规划未来的研究。
- en: But what can you do when the research situation is completely novel and you
    have no experience to call upon? In the behavioral sciences, Cohen (1988) attempted
    to provide benchmarks for “small,” “medium,” and “large” effect sizes for various
    statistical tests. Table 10.4 provides these guidelines.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 但当研究情况完全新颖且你没有经验可以借鉴时，你能做什么呢？在行为科学中，Cohen（1988年）试图为各种统计检验的“小”、“中”和“大”效应量提供基准。表10.4提供了这些指南。
- en: Table 10.4 Cohen’s effect size benchmarks
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.4 Cohen的效应量基准
- en: '| Statistical method | Effect size measures | Suggested guidelines for effect
    size |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| 统计方法 | 效应量度量 | 效应量建议指南 |'
- en: '|  |  | Small | Medium | Large |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 小 | 中 | 大 |'
- en: '| T-test | `d` | 0.20 | 0.50 | 0.80 |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| t检验 | `d` | 0.20 | 0.50 | 0.80 |'
- en: '| ANOVA | `f` | 0.10 | 0.25 | 0.40 |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| ANOVA | `f` | 0.10 | 0.25 | 0.40 |'
- en: '| Linear models | `f2` | 0.02 | 0.15 | 0.35 |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| 线性模型 | `f2` | 0.02 | 0.15 | 0.35 |'
- en: '| Test of proportions | `h` | 0.20 | 0.50 | 0.80 |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| 比例检验 | `h` | 0.20 | 0.50 | 0.80 |'
- en: '| Chi-square | `w` | 0.10 | 0.30 | 0.50 |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 卡方检验 | `w` | 0.10 | 0.30 | 0.50 |'
- en: When you have no idea what effect size may be present, this table may provide
    some guidance. For example, what’s the probability of rejecting a false null hypothesis
    (that is, finding a real effect) if you’re using a one-way ANOVA with 5 groups,
    25 subjects per group, and a significance level of 0.05?
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当你不知道可能存在什么效应量时，这张表可能提供一些指导。例如，如果你使用的是包含5个组、每组25个受试者的一元方差分析，显著性水平为0.05，拒绝错误零假设（即发现真实效应）的概率是多少？
- en: 'Using the `pwr.anova.test()` function and the suggestions in the `f` row of
    table 10.3 gives the following results:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`pwr.anova.test()`函数和表10.3中的`f`行建议，得到以下结果：
- en: '[PRE16]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The power would be 0.118 for detecting a small effect, 0.574 for detecting a
    moderate effect, and 0.957 for detecting a large effect. Given the sample size
    limitations, you’re only likely to find an effect if it’s large.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 功效为检测小效应为0.118，检测中等效应为0.574，检测大效应为0.957。鉴于样本量限制，你只有在效应量很大时才有可能发现效应。
- en: It’s important to keep in mind that Cohen’s benchmarks are just general suggestions
    derived from a range of social research studies and may not apply to your particular
    field of research. An alternative is to vary the study parameters and note the
    impact on such things as sample size and power. For example, again assume that
    you want to compare five groups using a one-way ANOVA and a 0.05 significance
    level. The following listing computes the sample sizes needed to detect a range
    of effect sizes and plots the results in figure 10.2.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要记住，Cohen的基准只是从一系列社会研究研究中得出的普遍建议，可能不适用于你的特定研究领域。一种替代方法是改变研究参数，并注意对样本量和功效等事物的影响。例如，再次假设你想使用一元方差分析和0.05的显著性水平来比较五个组。以下列表计算了检测各种效应量所需的样本量，并将结果绘制在图10.2中。
- en: Listing 10.1 Sample sizes for detecting significant effects in a one-way ANOVA
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.1 在一元方差分析中检测显著效应的样本量
- en: '[PRE17]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![](Images/CH10_F02_Kabacoff3.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![图像](Images/CH10_F02_Kabacoff3.png)'
- en: Figure 10.2 Sample size needed to detect various effect sizes in a one-way ANOVA
    with five groups (assuming a power of 0.90 and significance level of 0.05)
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.2 在一个包含五个组的一元方差分析中检测各种效应量所需的样本量（假设功效为0.90，显著性水平为0.05）
- en: Graphs such as these can help you estimate the impact of various conditions
    on your experimental design. For example, there appears to be little bang for
    the buck in increasing the sample size above 200 observations per group. We’ll
    look at another plotting example in the next section.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的图表可以帮助你估计各种条件对实验设计的影响。例如，增加每组200个以上的观察值似乎没有带来多少效益。我们将在下一节中查看另一个绘图示例。
- en: 10.3 Creating power analysis plots
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.3 创建功效分析图
- en: Before leaving the `pwr` package, let’s look at a more involved graphing example.
    Suppose you’d like to see the sample size necessary to declare a correlation coefficient
    statistically significant for a range of effect sizes and power levels. You can
    use the `pwr.r.test()` function and `for` loops to accomplish this task, as shown
    in the following listing.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在离开 `pwr` 包之前，让我们看看一个更复杂的绘图示例。假设你想查看在一系列效应大小和功率水平下，声明相关系数统计显著的必要样本量。你可以使用 `pwr.r.test()`
    函数和 `for` 循环来完成此任务，如下面的列表所示。
- en: Listing 10.2 Sample size curves for detecting correlations of various sizes
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.2 检测各种大小相关性的样本量曲线
- en: '[PRE18]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: ❶ Sets the range of correlations and power values
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 设置相关性和功率值的范围
- en: ❷ Obtains sample sizes
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 获取样本量
- en: ❸ Plots power curves
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 绘制功率曲线
- en: Listing 10.2 uses the `seq()` function to generate a range of effect sizes `r`
    (correlation coefficients under *H*[1]) and power levels `p` ❶. The `expand.grid()`
    function creates a data frame with every combination of these two variables. A
    `for` loop then cycles through rows of the data frame, calculating the sample
    size (`n`) for that row's correlation and power level and saving the result ❷.
    The `ggplot2` package plots a sample size versus a correlation curve for each
    power level ❸. Figure 10.3 shows the resulting graph. If you're reading this chapter
    in greyscale, the line colors can be difficult to distinguish. Starting at the
    bottom, the lines represent a power of 0.4, 0.5, 0.6, up to 0.9.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.2 使用 `seq()` 函数生成一系列效应大小 `r`（在 *H*[1] 下的相关系数）和功率水平 `p` ❶。`expand.grid()`
    函数创建一个包含这两个变量所有组合的数据框。然后，一个 `for` 循环遍历数据框的行，计算该行的相关性和功率水平的样本量（`n`），并将结果保存 ❷。`ggplot2`
    包为每个功率水平绘制样本量与相关性的曲线图 ❸。图 10.3 显示了生成的图表。如果你以灰度阅读此章节，线条颜色可能难以区分。从底部开始，线条代表功率为 0.4、0.5、0.6，直到
    0.9。
- en: As the graph shows, you’d need a sample size of approximately 75 to detect a
    correlation of 0.20 with 40% confidence. You’d need approximately 185 additional
    observations (*n* = 260) to detect the same correlation with 90% confidence. With
    simple modifications, this approach can be used to create sample size and power
    curve graphs for a wide range of statistical tests.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 如图表所示，你需要大约 75 个样本量来检测 0.20 的相关性，置信度为 40%。你需要大约 185 个额外的观察值（*n* = 260）来检测相同的相关性，置信度为
    90%。通过简单的修改，这种方法可以用于创建广泛统计测试的样本量和功率曲线图。
- en: '![](Images/CH10_F03_Kabacoff3.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/CH10_F03_Kabacoff3.png)'
- en: Figure 10.3 Sample size curves for detecting a significant correlation at various
    power levels
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.3 在各种功率水平下检测显著相关性的样本量曲线
- en: We’ll close this chapter by briefly looking at other R functions that are useful
    for power analysis.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将简要回顾本章中其他对功率分析有用的 R 函数。
- en: 10.4 Other packages
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.4 其他包
- en: Many other packages in R can be useful in the planning stages of studies. Table
    10.5 lists several. Some contain general tools, whereas some are highly specialized.
    The last four in the table are particularly focused on power analysis in genetic
    studies. Genome-wide association studies (GWAS) are used to identify genetic associations
    with observable traits. For example, these studies would focus on why some people
    get a specific type of heart disease.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: R 中的许多其他包在研究规划阶段可能很有用。表 10.5 列出了几个。其中一些包含通用工具，而另一些则高度专业化。表中最后四个特别关注遗传研究中的功率分析。全基因组关联研究（GWAS）用于识别与可观察性状的遗传关联。例如，这些研究将关注为什么有些人会患上特定类型的心脏病。
- en: Table 10.5 Specialized power analysis packages
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.5 专业的功率分析包
- en: '| Package | Purpose |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 目的 |'
- en: '| `asypow` | Power calculations via asymptotic likelihood ratio methods |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| `asypow` | 通过渐近似然比方法进行功率计算 |'
- en: '| `longpower` | Sample-size calculations for longitudinal data |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| `longpower` | 长期数据的样本量计算 |'
- en: '| `PwrGSD` | Power analysis for group sequential designs |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| `PwrGSD` | 组成序列设计的功率分析 |'
- en: '| `pamm` | Power analysis for random effects in mixed models |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| `pamm` | 混合模型中随机效应的功率分析 |'
- en: '| `powerSurvEpi` | Power and sample-size calculations for survival analysis
    in epidemiological studies |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| `powerSurvEpi` | 在流行病学研究中进行生存分析的功率和样本量计算 |'
- en: '| `powerMediation` | Power and sample-size calculations for mediation effects
    in linear, logistic, Poisson, and Cox regression |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| `powerMediation` | 线性、逻辑、泊松和 Cox 回归中中介效应的功率和样本量计算 |'
- en: '| `semPower` | Power analyses for structural equation models (SEM) |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| `semPower` | 结构方程模型（SEM）的功率分析 |'
- en: '| `powerpkg` | Power analyses for the affected sib pair and the transmission
    disequilibrium test (TDT) design |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| `powerpkg` | 影响同胞对和传递不平衡检验（TDT）设计的功率分析 |'
- en: '| `powerGWASinteraction` | Power calculations for interactions for GWAS |'
  id: totrans-178
  prefs: []
  type: TYPE_TB
  zh: '| `powerGWASinteraction` | GWAS交互作用的功率计算 |'
- en: '| `gap` | Functions for power and sample-size calculations in case-cohort designs
    |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '| `gap` | 用于病例-队列设计中功率和样本量计算的函数 |'
- en: '| `ssize.fdr` | Sample-size calculations for microarray experiments |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| `ssize.fdr` | 用于微阵列实验的样本量计算 |'
- en: Finally, the MBESS and `WebPower` packages contains a wide range of functions
    that can be used for various forms of power analysis and sample-size determination.
    The functions are particularly relevant for researchers in the behavioral, educational,
    and social sciences.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，MBESS和`WebPower`包包含了一系列可用于各种形式功率分析和样本量确定的函数。这些函数特别适用于行为学、教育学和社会科学的研究者。
- en: Summary
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Power analysis helps determine the sample sizes needed to discern an effect
    of a given size with a given degree of confidence. It can also tell you the probability
    of detecting such an effect for a given sample size. You can directly see the
    tradeoff between limiting the likelihood of wrongly declaring an effect significant
    (a Type I error) with the likelihood of rightly identifying a real effect (power).
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率分析有助于确定在给定置信度下区分给定大小效果所需的样本量。它还可以告诉你，对于给定样本量检测这种效果的几率。你可以直接看到限制错误地宣布效果显著的可能性（I型错误）与正确识别真实效果的几率（功率）之间的权衡。
- en: Functions provided by the `pwr` package can be used to carry out power and sample-size
    determinations for common statistical methods (including t-tests, chi-square tests,
    and tests of proportions, ANOVA, and regression). The final Section 10.4 points
    to more specialized methods.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pwr`包提供的函数可用于执行常见统计方法（包括t检验、卡方检验和比例检验、方差分析和回归）的功率和样本量确定。第10.4节最后介绍了更多专业的方法。'
- en: Power analysis is typically an interactive process. The investigator varies
    the parameters of sample size, effect size, desired significance level, and desired
    power to observe their impact on each other. The results are used to plan studies
    that are more likely to yield meaningful results. Information from past research
    (particularly regarding effect sizes) can be used to design more effective and
    efficient future research.
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率分析通常是一个交互过程。研究者会改变样本量、效果大小、期望的显著性水平和期望的功率等参数，以观察它们之间的相互影响。这些结果被用来规划更有可能产生有意义结果的研究。来自过去研究（尤其是关于效应量）的信息可用于设计更有效和高效的未来研究。
- en: An important side benefit of power analysis is the shift that it encourages
    away from a singular focus on binary hypothesis testing (that is, does an effect
    exists or not) toward an appreciation of the *size* of the effect under consideration.
    Journal editors are increasingly requiring authors to include effect sizes and
    p-values when reporting research results. This helps you determine both the practical
    implications of the research and provides you with information that can be used
    to plan future studies.
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率分析的一个重要附带好处是它鼓励人们从单一关注二元假设检验（即效果是否存在）转向对所考虑效果**大小**的欣赏。期刊编辑越来越多地要求作者在报告研究结果时包括效应量和p值。这有助于你确定研究的应用意义，并提供可用于规划未来研究的信息。
