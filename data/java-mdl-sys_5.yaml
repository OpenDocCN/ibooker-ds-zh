- en: appendix C
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 附录 C
- en: Observing the JVM with unified logging
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用统一日志记录观察 JVM
- en: Java 9 introduced a unified logging architecture. It pipes the messages the
    JVM generates through a single mechanism and allows you to select which messages
    to show with the intricate command-line option `-Xlog`.
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Java 9 引入了一种统一的日志架构。它通过单一机制将 JVM 生成的消息传递，并允许您通过复杂的命令行选项 `-Xlog` 选择显示哪些消息。
- en: You can use it to observe the JVM’s behavior, debug an application if it misbehaves,
    or look for possible performance improvements. As you know from your own projects,
    logging has a wide and amorphous area of application, so I won’t explain this
    with a single use case, but will instead look at the mechanism as a whole.
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您可以使用它来观察 JVM 的行为，如果应用程序表现不佳则调试应用程序，或寻找可能的性能改进。正如您从自己的项目中了解的那样，日志记录有广泛而模糊的应用领域，因此我不会用一个单一用例来解释它，而是将整体机制作为研究对象。
- en: Using `-Xlog` can initially be a bit intimidating, but we’ll examine it step
    by step, exploring each aspect of the option. Here we’ll be looking at the mechanism
    in general—section 5.3.6 shows how to use it to debug a modular application.
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 `-Xlog` 可能一开始会有些令人畏惧，但我们将一步一步地检查它，探索选项的每个方面。在这里，我们将查看机制的一般情况——第 5.3.6 节展示了如何使用它来调试模块化应用程序。
- en: NOTE This mechanism is universal within the JVM and has many more applications
    than just monitoring the module system. Class loading, garbage collection, interaction
    with the operating system, threading—you can analyze all of that and much more
    by using the right flags. Note that this includes neither JDK messages, such as
    the ones Swing logs, nor your application’s messages—this is purely about the
    JVM itself.
  id: totrans-5
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 注意：此机制在 JVM 内部是通用的，并且除了监控模块系统之外还有许多其他应用。类加载、垃圾回收、与操作系统的交互、线程——您可以通过使用正确的标志来分析所有这些以及更多内容。请注意，这既不包括
    JDK 消息，例如 Swing 记录的消息，也不包括您应用程序的消息——这完全是关于 JVM 本身。
- en: What is unified logging?
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 什么是统一日志？
- en: The JVM-internal, unified logging infrastructure is similar to other logging
    frameworks like Java Util Logging, Log4j, and Logback that you might have used
    for applications. It generates textual messages, attaches some metainformation
    like tags (describing the originating subsystem), a log level (describing the
    importance of the message), and time stamps, and prints them somewhere. You can
    configure the logging output according to your needs.
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: JVM 内部的统一日志基础设施类似于您可能用于应用程序的其他日志框架，如 Java Util Logging、Log4j 和 Logback。它生成文本消息，附加一些元信息，如标签（描述来源子系统）、日志级别（描述消息的重要性）和时间戳，并将它们打印到某个地方。您可以根据需要配置日志输出。
- en: 'Definition: -Xlog'
  id: totrans-8
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 定义：-Xlog
- en: 'The `java` option `-Xlog` activates logging. This is the only flag regarding
    this mechanism—any further configuration is immediately appended to that option.
    Configurable aspects of logging are as follows:'
  id: totrans-9
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java` 选项 `-Xlog` 激活日志记录。这是关于此机制的唯一标志——任何进一步的配置都将立即附加到该选项。可配置的日志记录方面如下：'
- en: Which messages to log (by tag and/or by log level)
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记录哪些消息（通过标签和/或通过日志级别）
- en: Which information to include (for example, time stamps and process IDs)
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含哪些信息（例如，时间戳和进程 ID）
- en: Which output to use (for example, into a file)
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用哪种输出（例如，写入文件）
- en: The rest of this appendix looks at each of them in turn.
  id: totrans-13
  prefs:
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 本附录的其余部分将逐一查看它们。
- en: Before doing anything else, let’s have a look at the kind of messages `-Xlog`
    produces, as shown in [figure C.1](part0033.html#filepos2007589). Execute `java
    –Xlog`, and look at the output—of which there are a lot. (You didn’t give `java`
    enough details to launch an application, so it helpfully lists all options. To
    get rid of that wall of text, I run it with `-version`, which outputs the current
    Java version.)
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在做任何事情之前，让我们先看看 `-Xlog` 产生的消息类型，如图 C.1 所示。[图 C.1](part0033.html#filepos2007589)。执行
    `java –Xlog` 并查看输出——有很多输出。（你没有给出足够的 `java` 详细信息来启动应用程序，所以它很有帮助地列出了所有选项。为了摆脱这堵文本墙，我使用
    `-version` 运行它，它输出了当前的 Java 版本。）
- en: '![](../images/00014.jpeg)'
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![图片](../images/00014.jpeg)'
- en: '[Figure C.1](part0033.html#filepos2006610)Many JVM subsystems (left) generate
    messages (middle), and the `-Xlog` option can be used to configure what messages
    get to be seen, which information they include, and where they show up (right).'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[图 C.1](part0033.html#filepos2006610) 许多 JVM 子系统（左侧）生成消息（中间），`-Xlog` 选项可用于配置要显示哪些消息、它们包含哪些信息以及它们出现在哪里（右侧）。'
- en: 'One of the first messages tells you that the HotSpot virtual machine begins
    its work:'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 第一条消息告诉您 HotSpot 虚拟机开始工作：
- en: '`$ java -Xlog -version  # truncated a few messages > [0.002s][info][os ] HotSpot
    is running with glibc 2.23, NPTL 2.23 # truncated a lot of messages`'
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`$ java -Xlog -version  # 截断了一些消息 > [0.002s][info][os ] HotSpot 正在运行 glibc
    2.23, NPTL 2.23 # 截断了很多消息`'
- en: It shows how long the JVM has been running (2 ms), the message’s log level (`info`),
    its tags (only `os`), and the actual message. Let’s see how to influence these
    details.
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 它显示了 JVM 运行的时间（2 毫秒），消息的日志级别（`info`），其标签（只有`os`），以及实际的消息。让我们看看如何影响这些细节。
- en: Defining which messages should be shown
  id: totrans-20
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 定义应该显示哪些消息
- en: 'You can use the log level and tags to define exactly what the logs should show
    by defining pairs of `<tag-set>=<level>`, which are called selectors. All tags
    can be selected with `all`, and the level is optional and defaults to `info`.
    Here’s how to use it:'
  id: totrans-21
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您可以使用日志级别和标签来精确定义日志应该显示的内容，通过定义`<tag-set>=<level>`的配对，这些被称为选择器。所有标签都可以使用`all`来选择，级别是可选的，默认为`info`。以下是使用方法：
- en: '`$ java -Xlog:all=warning -version  # no log messages; great, warning free!`'
  id: totrans-22
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`$ java -Xlog:all=warning -version  # 没有日志消息；太好了，没有警告！`'
- en: 'Let’s try another tag and level:'
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 让我们尝试另一个标签和级别：
- en: '`$ java -Xlog:logging=debug -version  > [0.034s][info][logging] Log configuration
    fully initialized. > [0.034s][debug][logging] Available log levels: off, trace,
    debug, info, warning, error > [0.034s][debug][logging] Available log decorators:
    [...] > [0.034s][debug][logging] Available log tags: [...] > [0.034s][debug][logging]
    Described tag combinations: > [0.034s][debug][logging] logging: Logging for the
    log framework itself > [0.034s][debug][logging] Log output configuration: > [0.034s][debug][logging]
    #0: stdout [...] > [0.034s][debug][logging] #A: stderr [...]]`'
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`$ java -Xlog:logging=debug -version  > [0.034s][info][logging] 日志配置完全初始化。
    > [0.034s][debug][logging] 可用日志级别：off, trace, debug, info, warning, error > [0.034s][debug][logging]
    可用日志装饰器：[...] > [0.034s][debug][logging] 可用日志标签：[...] > [0.034s][debug][logging]
    描述的标签组合： > [0.034s][debug][logging] logging: 日志框架本身的日志 > [0.034s][debug][logging]
    日志输出配置： > [0.034s][debug][logging] #0: stdout [...] > [0.034s][debug][logging]
    #A: stderr [...]]`'
- en: 'Lucky shot! I had to truncate the output because there’s so much of it, but
    trust me, there’s a lot of helpful information in those messages. You don’t have
    to take that route, though: `-Xlog:help` shows the same information, but it’s
    more beautifully formatted (as you’ll see later).'
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 幸运的尝试！我不得不截断输出，因为输出太多了，但请相信我，这些消息中有很多有用的信息。尽管如此，您不必走这条路：`-Xlog:help`显示相同的信息，但格式更美观（您稍后会看到）。
- en: A surprising detail (at least at first) is that messages only match a selector
    if their tags exactly match the given ones. Given ones? Plural? Yes, a selector
    can name several tags by concatenating them with `+`. Still, a message has to
    contain exactly those to be selected.
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个令人惊讶的细节（至少最初是这样）是，消息只有在它们的标签与给定的标签完全匹配时才会匹配选择器。给定的标签？复数？是的，选择器可以通过使用`+`连接来命名多个标签。尽管如此，消息必须包含这些标签才能被选中。
- en: 'Hence, using `gc` (for garbage collection) versus `gc+heap`, for example, should
    select different messages. This is indeed the case:'
  id: totrans-27
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 因此，使用`gc`（垃圾回收）与`gc+heap`等，例如，应该选择不同的消息。这确实是情况：
- en: '`java -Xlog:gc -version  [0.009s][info][gc] Using G1  java -Xlog:gc+heap -version  [0.006s][info][gc,heap]
    Heap region size: 1M`'
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:gc -version  [0.009s][info][gc] 使用 G1  java -Xlog:gc+heap -version  [0.006s][info][gc,heap]
    堆区域大小：1M`'
- en: 'You can define several selectors at once—they just have to be separated with
    commas:'
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您可以一次定义多个选择器——只需用逗号分隔即可：
- en: '`java -Xlog:gc,gc+heap -version  [0.007s][info][gc,heap] Heap region size:
    1M [0.009s][info][gc ] Using G1`'
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:gc,gc+heap -version  [0.007s][info][gc,heap] 堆区域大小：1M [0.009s][info][gc
    ] 使用 G1`'
- en: 'Using this strategy, it’s cumbersome to get all messages that contain a certain
    flag. Luckily, there’s an easier way to do that: the wildcard `*`, which you can
    use with a single tag to define a selector that matches all messages containing
    that tag:'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用这种策略，获取包含特定标志的所有消息会很麻烦。幸运的是，有一个更简单的方法来做这件事：通配符`*`，您可以使用单个标签来定义一个选择器，以匹配包含该标签的所有消息：
- en: '`java -Xlog:gc*=debug -version  [0.006s][info][gc,heap] Heap region size: 1M
    [0.006s][debug][gc,heap] Minimum heap 8388608 Initial heap 262144000 Maximum heap
    4192206848 # truncated about two dozen message [0.072s][info ][gc,heap,exit ]
    Heap # truncated a few messages showing final GC statistics`'
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:gc*=debug -version  [0.006s][info][gc,heap] 堆区域大小：1M [0.006s][debug][gc,heap]
    最小堆 8388608 初始堆 262144000 最大堆 4192206848 # 截断大约二十条消息 [0.072s][info ][gc,heap,exit
    ] 堆 # 截断了一些显示最终 GC 统计信息的消息`'
- en: 'Using logging and selectors, there are three easy steps to get to know a subsystem
    of the JVM:'
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用日志和选择器，了解 JVM 的子系统有三个简单的步骤：
- en: Find interesting tags in the output of `java -Xlog:help`.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`java -Xlog:help`的输出中查找有趣的标签。
- en: Use them with `-Xlog:${tag_1}*,${tag_2}*,${tag_n}*` to display all info messages
    that were tagged with any of them.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`-Xlog:${tag_1}*,${tag_2}*,${tag_n}*`与它们一起显示所有标记了其中任何标签的信息消息。
- en: Selectively switch to lower log levels with `-Xlog:${tag}*=debug`.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`-Xlog:${tag}*=debug`选择性切换到较低的日志级别。
- en: That settles which messages you see. Now let’s look at where they might go.
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这样就确定了你会看到哪些消息。现在让我们看看它们可能去哪里。
- en: Defining where messages should go
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 定义消息应该去哪里
- en: 'Compared to the nontrivial selectors, the output configuration is simple. You
    put it after the selectors (separated by a colon), and it has three possible values:'
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 与非平凡选择器相比，输出配置很简单。你将其放在选择器之后（由冒号分隔），并且有三个可能的值：
- en: '`stdout`—The default output. On the console, that’s the terminal window, unless
    redirected. In IDEs, it’s often shown in its own tab or view.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stdout`—默认输出。在控制台上，那是终端窗口，除非已重定向。在IDE中，它通常在它自己的选项卡或视图中显示。'
- en: '`stderr`—The default error output. On the console, that’s the terminal window,
    unless redirected. In IDEs it’s usually shown in the same tab/view as `stdout`,
    but printed in red.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stderr`—默认错误输出。在控制台上，那是终端窗口，除非已重定向。在IDE中，它通常与`stdout`在同一选项卡/视图中显示，但以红色打印。'
- en: '`file=<filename>`—Defines a file to pipe all messages into. Including `file=`
    is optional.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`file=<filename>`—定义一个文件将所有消息导入其中。包括`file=`是可选的。'
- en: Unlike with common logging frameworks, it’s unfortunately not possible to use
    two output options simultaneously.
  id: totrans-43
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 与常见的日志框架不同，不幸的是，无法同时使用两个输出选项。
- en: 'Here’s how to put all `debug` messages in the file `application.log`:'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 下面是如何将所有`debug`消息放入`application.log`文件中的方法：
- en: '`java -Xlog:all=debug:file=application.log -version`'
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:all=debug:file=application.log -version`'
- en: More output options are available that allow log file rotation based on file
    size and number of files to rotate.
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 有更多输出选项可供选择，允许根据文件大小和要旋转的文件数量进行日志文件轮转。
- en: Defining what messages should say
  id: totrans-47
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 定义消息应该说什么
- en: As I said earlier, each message consists of text and metainformation. Which
    of these additional pieces of information the JVM will print is configurable by
    selecting decorators, which are listed in [table C.1](part0033.html#filepos2019388).
    This happens after the output location and another colon.
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如我之前所说，每条消息都包含文本和元信息。JVM将打印哪些额外的信息可以通过选择装饰器来配置，这些装饰器列在[表C.1](part0033.html#filepos2019388)中。这发生在输出位置和另一个冒号之后。
- en: 'Let’s say you want to print the time stamp, the uptime in milliseconds, and
    the thread ID for all garbage-collection debug messages to the console. Here’s
    how to do that:'
  id: totrans-49
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 假设你想要将时间戳、JVM启动以来的毫秒数和垃圾收集调试消息的线程ID打印到控制台。下面是如何做到这一点的方法：
- en: '`java -Xlog:gc*=debug:stdout:time,uptimemillis,tid -version  # truncated messages
    [2017-02-01T13:10:59.689+0100][7ms][18607] Heap region size: 1M`'
  id: totrans-50
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:gc*=debug:stdout:time,uptimemillis,tid -version` # 截断的消息 [2017-02-01T13:10:59.689+0100][7ms][18607]
    堆区域大小：1M'
- en: Table C.1The decorators available for the `-Xlog` option. Information is always
    printed in this order. The descriptions are based on the documentation.
  id: totrans-51
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 表C.1 `-Xlog`选项可用的装饰器。信息始终按此顺序打印。描述基于文档。
- en: '| Option   | Description   |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 选项   | 描述   |'
- en: '| `level`   | The level associated with the log message   |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| `level`   | 与日志消息关联的级别   |'
- en: '| `pid`   | The process identifier   |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| `pid`   | 进程标识符   |'
- en: '| `tags`   | The tag-set associated with the log message   |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| `tags`   | 与日志消息关联的标签集   |'
- en: '| `tid`   | The thread identifier   |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| `tid`   | 线程标识符   |'
- en: '| `time`   | Current time and date in ISO-8601 format   |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| `time`   | 当前时间和日期，ISO-8601格式   |'
- en: '| `timemillis`   | The same value as generated by `System.currentTimeMillis()`   |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| `timemillis`   | 与`System.currentTimeMillis()`生成的相同值   |'
- en: '| `timenanos`   | The same value as generated by `System.nanoTime()`   |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| `timenanos`   | 与`System.nanoTime()`生成的相同值   |'
- en: '| `uptime`   | Time since the start of the JVM in seconds (e.g., 6.567s)   |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| `uptime`   | JVM启动以来的秒数（例如，6.567s）   |'
- en: '| `uptimemillis`   | Milliseconds since the JVM started   |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| `uptimemillis`   | JVM启动以来的毫秒数   |'
- en: '| `uptimenanos`   | Nanoseconds since the JVM started   |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| `uptimenanos`   | JVM启动以来的纳秒数   |'
- en: Configuring the entire logging pipeline
  id: totrans-63
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 配置整个日志管道
- en: 'Formally, the `-Xlog` option has this syntax:'
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 形式上，`-Xlog`选项具有以下语法：
- en: '`-Xlog:<selectors>:<output>:<decorators>:<output-options>`'
  id: totrans-65
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`-Xlog:<selectors>:<output>:<decorators>:<output-options>`'
- en: Each of the parameters following `-Xlog` is optional, but if you use one, you
    have to use all the others that come before it. Selectors are pairs of tag sets
    and log levels. This part is also called the what-expression, a term you’ll encounter
    when the configuration isn’t syntactically correct. You can define the target
    location for the log messages with `output` (in short, the terminal window or
    a log file) and use decorators to define what information the messages should
    include. (And yes, annoyingly, the output mechanism and further output options
    are split, with decorators in between.)
  id: totrans-66
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`-Xlog`后面的每个参数都是可选的，但如果你使用了一个，你必须使用它之前的所有其他参数。选择器是标签集和日志级别的配对。这部分也被称为what表达式，当配置在语法上不正确时你会遇到这个术语。你可以使用`output`（简而言之，终端窗口或日志文件）来定义日志消息的目标位置，并使用装饰器来定义消息应包含的信息。（是的，令人烦恼的是，输出机制和进一步的输出选项是分开的，装饰器位于其中。）'
- en: 'For more details, see the online documentation at [http://mng.bz/K1Gj](http://mng.bz/K1Gj)
    or the output of `java -Xlog:help`:'
  id: totrans-67
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 更多详细信息，请参阅[在线文档](http://mng.bz/K1Gj)或使用`java -Xlog:help`命令的输出：
- en: '`java -Xlog:help  -Xlog Usage: -Xlog[:[what][:[output][:[decorators][:output-options]]]]
    where ''what'' is a combination of tags and levels on the form tag1[+tag2...][*][=level][,...]
    Unless wildcard (*) is specified, only log messages tagged with exactly the tags
    specified will be matched.  Available log levels: off, trace, debug, info, warning,
    error  Available log decorators: time (t), utctime (utc), uptime (u), timemillis
    (tm), uptimemillis (um), timenanos (tn), uptimenanos (un), hostname (hn), pid
    (p), tid (ti), level (l), tags (tg) Decorators can also be specified as ''none''
    for no decoration.  Described tag combinations: logging: Logging for the log framework
    itself  Available log tags: [... many, many tags ... ] Specifying ''all'' instead
    of a tag combination matches all tag combinations.  Available log outputs: stdout,
    stderr, file=<filename> Specifying %p and/or %t in the filename will expand to
    the JVM''s PID and startup timestamp, respectively.  Some examples: [... a few
    helpful examples to get you going ... ]`'
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`java -Xlog:help -Xlog Usage: -Xlog[:[what][:[output][:[decorators][:output-options]]]]
    其中''what''是标签和级别的组合，形式为tag1[+tag2...][*][=level][,...]。除非指定了通配符(*)，否则只有带有指定标签的日志消息会被匹配。可用的日志级别：off,
    trace, debug, info, warning, error 可用的日志装饰器：time (t), utctime (utc), uptime (u),
    timemillis (tm), uptimemillis (um), timenanos (tn), uptimenanos (un), hostname
    (hn), pid (p), tid (ti), level (l), tags (tg) 装饰器也可以指定为''none''以不进行装饰。描述的标签组合：logging:
    为日志框架本身进行日志记录 可用的日志标签：[...许多标签...] 指定''all''代替标签组合将匹配所有标签组合。可用的日志输出：stdout, stderr,
    file=<filename> 在文件名中指定%p和/或%t将分别展开为JVM的PID和启动时间戳。一些示例：[...一些有用的示例以帮助你开始...]`'
