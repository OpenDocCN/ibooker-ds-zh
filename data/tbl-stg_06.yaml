- en: Chapter 6\. Building Impactful Tables
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章 构建有影响力的表格
- en: 'Quick—without thinking too much, answer the following questions:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 快速——不要想太多，回答以下问题：
- en: What chart type is used the most when displaying data?
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当展示数据时，使用最多的图表类型是什么？
- en: What chart type is the hardest to design?
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最难设计的图表类型是什么？
- en: What chart type is the least customizable?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最不可定制的图表类型是什么？
- en: What chart type do data practitioners hate most?
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据从业者最讨厌的图表类型是什么？
- en: The answer to all these questions is the humble data table. This chapter is
    all about building tables that are full of information, without sacrificing design.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些问题的答案都是朴素的数据表格。本章讨论的是构建充满信息的表格，而不牺牲设计。
- en: Like the visual in [Figure 6-1](#a_table_with_some_color_left_parenthesis),
    most information is still shared in tables. But when there’s a special point we
    want to communicate about the data, it’s likely to get lost amid a sea of information.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 像[图 6-1](#a_table_with_some_color_left_parenthesis)中的视觉一样，大部分信息仍然以表格形式共享。但是当我们想传达数据中的特殊点时，很可能会在大量信息中丢失。
- en: Analysts and designers complain about tables, but the reality is that people
    use tables in their decision making. Heck, it’s probably your go-to visualization
    when trying to validate data. It’s our job as analytics developers and data visualization
    practitioners to give our users the tools that allow them to do their job. If
    your audience asks for tables, this means building tables!
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 分析师和设计师抱怨表格，但实际上人们在决策时使用表格。看吧，这可能是你在尝试验证数据时的首选可视化方式。作为分析开发人员和数据可视化从业者，我们的工作是为用户提供工具，让他们能够完成工作。如果你的受众要求表格，这意味着要制作表格！
- en: '![A table with some color (but not all color) to highlight some key values](Images/TAST_0601.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![带有一些颜色（但不是所有颜色）以突出一些关键值的表格](Images/TAST_0601.png)'
- en: Figure 6-1\. A table with some color (but not all color) to highlight some key
    values
  id: totrans-10
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-1\. 带有一些颜色（但不是所有颜色）以突出一些关键值的表格
- en: Building Great Tables
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建出色的表格
- en: Before you start building tables, let’s look at some tips that can help make
    designing tables more useful. People think tables are simple, but they are complex
    systems of information that must be formatted with great care to maximize understanding.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始制作表格之前，让我们看一些可以帮助设计更有用的表格的技巧。人们认为表格很简单，但它们是信息的复杂系统，必须非常小心地格式化，以最大化理解。
- en: 'Let’s start with a table we are all guilty of making at some point in our careers:
    the small-font, information-dense table; see [Figure 6-2](#a_table_with_a_small_font_and_no_spacing).'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从我们职业生涯中不可避免地制作的一种表格开始：小字体、信息密集的表格；参见[图 6-2](#a_table_with_a_small_font_and_no_spacing)。
- en: '![A table with a small font and no spacing](Images/TAST_0602.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![小字体且没有间距的表格](Images/TAST_0602.png)'
- en: Figure 6-2\. A table with a small font and no spacing
  id: totrans-15
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-2\. 小字体且没有间距的表格
- en: When you make this table, you’re not thinking at all about the end user or how
    you could design the table to improve decision making. Your only thought is, how
    can I cram as much information as possible into this table so I don’t have to
    think about it ever again? But tables can be useful. And we shouldn’t care about
    space because we basically have as much space as we want; it’s digital, not paper,
    so don’t be afraid to use pixels for good.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 制作这种表格时，你根本不考虑最终用户或如何设计表格以改善决策。你唯一的想法是，如何尽可能多地将信息塞进这个表格中，以便今后无需再思考？但是表格可以很有用。我们不应该担心空间，因为我们基本上可以使用任意多的空间；这是数字的，不是纸张，所以不要害怕好好利用像素。
- en: So what are some easy things you can do to maximize the readability of your
    tables?
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，你可以做些什么简单的事情来最大化表格的可读性呢？
- en: Ensure a Clear Purpose for Your Table
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 确保表格的明确目的
- en: It’s easy to provide a table of data for any audience. It’s quite another thing
    to figure out the exact needs of the audience, tailor the output of the table
    to highlight key insights for that audience, and use the additional data to provide
    context. Maybe the key value you want to communicate is the number of total customers.
    Maybe it’s a change in customer numbers from the previous month, or the change
    in total customers from the previous month compared to the same change a year
    ago (this is known as the *delta of a delta*). Each of these three objectives
    needs a different kind of table.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为任何受众提供数据表格是很容易的事情。确切地了解受众的需求，并定制表格的输出以突出受众的关键见解，并使用附加数据提供背景信息，则是完全另一回事。也许您想要传达的关键值是总客户数。也许是上个月客户数量的变化，或者与一年前相比的上个月总客户变化（这被称为*双重变化*）。每个这三个目标都需要不同类型的表格。
- en: Format Your Table to Maximize Readability
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 格式化您的表格以最大化可读性
- en: 'There are lots of ways to do this, but we recommend the following techniques:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多方法可以做到这一点，但我们建议采用以下技术：
- en: Make font sizes readable
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 使字体大小可读
- en: You might be tempted to try to cram too much into a table by minimizing font
    size. Don’t do it! A font size between 10 and 14 is usually appropriate.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能会因为想要通过减小字体大小而试图把太多内容塞进一个表格中。不要这样做！字号在10到14之间通常是合适的。
- en: Distinguish column headers from the body
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 区分列标题和正文
- en: Use bold fonts or changes in the color of the header text to distinguish the
    header from the body.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 使用粗体字体或更改标题文本的颜色以区分头部和正文。
- en: Add spacing and padding to rows in the table
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在表格中为行添加间距和填充
- en: Row padding should be between 0.5 to 1.0 times the font size both above and
    below the text.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 行间填充应在文本上方和下方的字体大小的0.5至1.0倍之间。
- en: Choose table-friendly fonts
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 选择适合表格的字体
- en: Be thoughtful about your font selections. Luke personally avoids serif fonts
    and chooses either sans serif or mono fonts; Ann likes to stick with the Tableau
    family of fonts since they’ve all been maximized for readability and data presentation
    at all font sizes. Overall, it’s important to choose `a font in which numeric
    values are monotonically spaced`. This will allow digits to align across rows
    in a column.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择字体时要慎重。Luke个人不喜欢衬线字体，而是选择无衬线或等宽字体；Ann喜欢使用Tableau字体系列，因为它们在所有字体大小下都被最大化用于可读性和数据展示。总体而言，选择`数字值单调间隔的字体`是非常重要的，这样可以使列中的数字对齐。
- en: Limit your use of color
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 限制您使用颜色的次数
- en: Color is useful for table design, but too much can be a distraction. With some
    customization, you can use color judiciously to highlight specific columns of
    a table.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色对表格设计很有用，但使用过多可能会分散注意力。通过一些定制，您可以谨慎使用颜色来突出表格的特定列。
- en: Our first two strategies introduce the basic principles for creating tables
    that are ready for any audience. In the remainder of the chapter, you’ll work
    with strategies that will build your Tableau table development skills by applying
    these principles.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的前两种策略介绍了创建适合任何受众的表格的基本原则。在本章的其余部分，您将通过应用这些原则来提高您的Tableau表格开发技能。
- en: 'Using Color in Tables: Office Essentials Case Study'
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在表格中使用颜色：办公必备产品案例研究
- en: Let’s go back to OE, the office supply store you’ve seen in previous chapters.
    In this example, the data team has been asked to create a table that shows a breakdown
    of metrics by customer. This table will have lots of rows, which will make gathering
    insights difficult. How can the team use color in a way that gets the point across?
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到之前章节中您看到的办公用品店OE。在这个例子中，数据团队被要求创建一个按客户显示指标细分的表格。这个表格将有很多行，这将使得收集见解变得困难。团队如何使用颜色来传达要点？
- en: Color is a great way to highlight what you need to communicate, but too much
    color can be overwhelming. How can our OE data team highlight some values to communicate
    insights?
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色是突出所需传达内容的好方法，但过多的颜色可能会让人感到不知所措。OE数据团队如何突出一些值以传达见解？
- en: We’ll look at a few strategies in this section. First, we’ll walk you through
    creating a table that uses just a bit of color to make its point. Then we’ll try
    a variation that uses dots to encode color.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论几种策略。首先，我们将带您创建一个表格，只需使用少量颜色来表达其观点。然后我们会尝试一种使用点来编码颜色的变体。
- en: 'Strategy: Create a Table Using Limited Color'
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用有限的颜色创建表格
- en: 'You’ll start by building a base table with the Sample - Superstore dataset:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 您将首先使用Sample - Superstore数据集构建一个基础表格：
- en: 'Create the base table, shown in [Figure 6-3](#a_simple_base_table_in_tableau),
    as follows:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按以下方式创建基本表格，如[图 6-3](#在Tableau中的简单基本表格)所示：
- en: Add [Customer Name] to the Rows shelf.
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[客户名称]添加到行架上。
- en: Add [Measure Names] to Columns and [Measure Values] to Text.
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[测量名称]添加到列中，将[测量值]添加到文本中。
- en: In the Filters shelf, you’ll see [Measure Names]. Edit this by selecting [Sales],
    [Orders], [Profit], and [Profit Ratio].
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在筛选架上，你会看到[测量名称]。通过选择[销售]、[订单]、[利润]和[利润率]来编辑它。
- en: 'If you don’t have the Profit Ratio calculation, create it:'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你没有利润比率计算，请创建它。
- en: '[PRE0]'
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Reorder the values from top to bottom: SUM(Sales), AGG(Orders), SUM(Profit),
    and AGG(Profit Ratio).'
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将值从上到下重新排序：SUM(销售)，AGG(订单)，SUM(利润)和AGG(利润率)。
- en: '![A simple base table in Tableau](Images/TAST_0603.png)'
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![Tableau中的简单基本表格](Images/TAST_0603.png)'
- en: Figure 6-3\. A simple base table in Tableau
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-3\. Tableau中的简单基本表格
- en: Apply readability principles to the table by formatting its text to be the same
    font style, size, and color as the row headers. You can do this by clicking the
    Text button and setting the font to Tableau Book, size 15, and selecting the second-to-last
    shade from the first column of black shades ([Figure 6-4](#by_defaultcomma_tableau_does_not_use_bes)).
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将表格的文本格式化为与行标题相同的字体样式、大小和颜色，应用可读性原则。你可以点击“文本”按钮，设置字体为Tableau Book，大小为15，并选择第一列黑色色调的倒数第二个阴影（[图 6-4](#默认情况下逗号Tableau不使用BES)）。
- en: '![By default, Tableau does not use best practices with text color and size
    in tables. Be sure to update the text and the font.](Images/TAST_0604.png)'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![默认情况下，Tableau在表格中不使用最佳实践的文本颜色和大小。确保更新文本和字体。](Images/TAST_0604.png)'
- en: Figure 6-4\. By default, Tableau does not use best practices with text color
    and size in tables. Be sure to update the text and the font.
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-4\. 默认情况下，Tableau在表格中不使用最佳实践的文本颜色和大小。确保更新文本和字体。
- en: Match this styling with the row header by right-clicking a customer name and
    selecting Format. [Figure 6-5](#in_addition_to_updating_the_textcomma_be) shows
    the resulting options.
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通过右键单击客户名称并选择格式，使此样式与行标题匹配。[图 6-5](#除了更新文本逗号外的其他选项)显示了结果选项。
- en: '![In addition to updating the text, be sure to update the header](Images/TAST_0605.png)'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![除了更新文本外，确保更新标题](Images/TAST_0605.png)'
- en: Figure 6-5\. In addition to updating the text, be sure to update the header
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-5\. 除了更新文本外，确保更新标题
- en: Make sure the top header is a bold font (it should be). Finally, remove the
    row banding, but add row dividers for every row. Format the borders and set the
    row dividers to the lowest level of detail by moving the slider to the right.
    This will leave you with the table in [Figure 6-6](#the_subtle_but_important_difference_in_t).
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保顶部标题是粗体字体（它应该是）。最后，移除行间隔条纹，但为每一行添加行分隔符。格式化边框并将行分隔符设置为最低的详细级别，将滑块向右移动。这将使你得到[图 6-6](#在T中的微妙但重要的区别)中的表格。
- en: '![The subtle but important difference in this table is that each row has the
    exact same font and style](Images/TAST_0606.png)'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![这个表格的微妙但重要的区别在于每行具有相同的字体和样式](Images/TAST_0606.png)'
- en: Figure 6-6\. The subtle but important difference in this table is that each
    row has the exact same font and style
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-6\. 这个表格的微妙但重要的区别在于每行具有相同的字体和样式
- en: Right now, your table is quite basic. You’re simply listing data, not showcasing
    the power of Tableau. So let’s add some color ([Figure 6-7](#color_by_using_left_square_bracketmeasur)).
    Drag [Measure Values] to Color and then change your mark type from Automatic to
    Square.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你的表格相当基础。你只是列出数据，而不是展示Tableau的强大功能。因此，让我们添加一些颜色（[图 6-7](#通过使用左方括号measur进行颜色)）。将[测量值]拖动到颜色中，然后将标记类型从自动更改为方块。
- en: '![Color by using [Measure Values] in a table](Images/TAST_0607.png)'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![通过在表格中使用[测量值]来进行颜色](Images/TAST_0607.png)'
- en: Figure 6-7\. Color by using [Measure Values] in a table
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-7\. 通过在表格中使用[测量值]进行颜色
- en: 'This is how you often see color used on tables in Tableau: one color using
    [Measure Values] for all measures. But you have four measures, all extremely different.
    The [Sales] measure consists of only positive values that go from zero to the
    tens of thousands. [Profit] can be negative or positive, and either can go into
    the thousands. [Total Orders] are represented as integers, but don’t even reach
    20\. And [Profit Ratio] is a percentage, with the majority of values between –10%
    and 25%. A single-color encoding won’t work for all four.'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这就是你经常在Tableau中看到的表格上的颜色使用方式：使用[Measure Values]为所有度量使用一种颜色。但是你有四个度量，它们都非常不同。[Sales]度量仅由从零到数万的正值组成。[Profit]可能是负值也可能是正值，并且可能达到数千。[Total
    Orders]表示为整数，但甚至不超过20。而[Profit Ratio]是一个百分比，大多数值在-10%到25%之间。单一颜色编码对所有四个度量都不适用。
- en: You can fix this by right-clicking [Measure Values] on Color and selecting Use
    Separate Legends ([Figure 6-8](#if_you_want_different_color_for_each_mea)).
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以通过右键点击[Measure Values]上的颜色并选择“使用单独图例”来解决这个问题（参见[图6-8](#if_you_want_different_color_for_each_mea)）。
- en: '![If you want different color for each measure in [Measure Names], be sure
    to select Use Separate Legends after right-clicking [Measure Values] on Color](Images/TAST_0608.png)'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如果你想要在[Measure Names]中为每个度量选择不同的颜色，请务必在右键点击[Measure Values]上的颜色后选择“使用单独图例”](Images/TAST_0608.png)'
- en: Figure 6-8\. If you want different color for each measure in [Measure Names],
    be sure to select Use Separate Legends after right-clicking [Measure Values] on
    Color
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-8\. 如果你想要在[Measure Names]中为每个度量选择不同的颜色，请在右键点击[Measure Values]上的颜色后选择“使用单独图例”
- en: This gives your table a different-color legend for each of the four measures
    ([Figure 6-9](#default_colors_after_selecting_use_separ)).
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将为你的表格中的每个度量（参见[图6-9](#default_colors_after_selecting_use_separ)）提供一个不同颜色的图例。
- en: '![Default colors after selecting Use Separate Legends](Images/TAST_0609.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![选择“使用单独图例”后的默认颜色](Images/TAST_0609.png)'
- en: Figure 6-9\. Default colors after selecting Use Separate Legends
  id: totrans-66
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-9\. 选择“使用单独图例”后的默认颜色
- en: This is amazing because you now have the ability to individually encode each
    measure. Remember, though, that limiting color is important as it enables your
    audience to more easily gather insights from the table. In this case, at most
    two measures should have color.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以单独对每个度量进行编码，这真是太神奇了。不过要记住，限制颜色的使用非常重要，因为这样能帮助你的观众更轻松地从表格中获取见解。在这种情况下，最多只能对两个度量使用颜色。
- en: You’ll design this table so that color exists on only [SUM(Sales)] and [AGG(Profit
    Ratio)]. First, edit the [SUM([Sales)] color palette and set the palette to Green-Gold.
    Next, edit [AGG(Profit Ratio)] and set the color palette to Gold-Purple Diverging.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要设计这个表格，使得颜色仅出现在[SUM(Sales)]和[AGG(Profit Ratio)]上。首先，编辑[SUM([Sales)]的颜色调色板，将调色板设置为绿金色。接下来，编辑[AGG(Profit
    Ratio)]并将颜色调色板设置为金紫色分散。
- en: Now, to remove color from [SUM(Profit)] and [AGG(Total Orders)]. Unfortunately,
    you cannot remove these color legends from the view. Edit the palettes so that
    they are white (or whatever background color you use in your tables). You can
    do this by creating custom diverging color palettes, setting the Stepped Color
    to 2 steps, and then changing both custom colors to white (#FFFFFF), as shown
    in [Figure 6-10](#if_you_donapostrophet_want_to_show_a_leg).
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，要移除[SUM(Profit)]和[AGG(Total Orders)]的颜色。不幸的是，你不能从视图中删除这些颜色图例。编辑调色板，使其为白色（或者你在表格中使用的背景色）。你可以通过创建自定义的分散调色板，设置阶梯色为2步，然后将两个自定义颜色都改为白色（#FFFFFF），如[图6-10](#if_you_donapostrophet_want_to_show_a_leg)所示。
- en: '![If you don’t want to show a legend, select colors that match the background
    color of your dashboard](Images/TAST_0610.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![如果你不想显示图例，请选择与仪表板背景颜色匹配的颜色](Images/TAST_0610.png)'
- en: Figure 6-10\. If you don’t want to show a legend, select colors that match the
    background color of your dashboard
  id: totrans-71
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-10\. 如果你不想显示图例，选择与仪表板背景颜色匹配的颜色
- en: This leaves the table looking like [Figure 6-11](#a_table_highlighting_two_columns_with_co).
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这使得表格看起来像[图6-11](#a_table_highlighting_two_columns_with_co)。
- en: '![A table highlighting two columns with color using separate legends. Note
    that two other legends are set to all white.](Images/TAST_0611.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![使用单独图例突出显示两列的表格。注意，其他两个图例设置为全白。](Images/TAST_0611.png)'
- en: Figure 6-11\. A table highlighting two columns with color using separate legends.
    Note that two other legends are set to all white.
  id: totrans-74
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-11\. 使用单独图例突出显示两列的表格。注意，其他两个图例设置为全白。
- en: The final product is a table that uses color in just two columns. This allows
    our audience to reach insights in the data faster, specifically identifying customers
    with the highest sales or the highest profit ratio using visual indicators.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 最终产品是一个只在两列中使用颜色的表格。这使我们的观众能够更快地从数据中获取见解，特别是通过视觉指标准确识别销售额最高或利润率最高的客户。
- en: 'Strategy: Encode Color with Dots'
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用点来编码颜色
- en: Another strategy is to use dots for color encoding. As you follow along, you’ll
    want to make sure your dots keep the text right-aligned, and that the circles
    don’t overlap with the text ([Figure 6-12](#when_using_dots_to_highlight_valuescomma)).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种策略是使用点来进行颜色编码。在跟随过程中，您需要确保点保持文本右对齐，并且圆圈不会与文本重叠（参见[图 6-12](#when_using_dots_to_highlight_valuescomma)）。
- en: '![When using dots to highlight values, make sure the dots don’t overlap or
    distract from the values in the table (left), or you’ll end up with a cluttered
    visualization (right)](Images/TAST_0612.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![当使用点来突出显示值时，请确保点不会重叠或分散注意力，否则您将得到一个混乱的可视化效果（左侧），或者会干扰表格中的值（右侧）](Images/TAST_0612.png)'
- en: Figure 6-12\. When using dots to highlight values, make sure the dots don’t
    overlap or distract from the values in the table (left), or you’ll end up with
    a cluttered visualization (right)
  id: totrans-79
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-12\. 当使用点来突出显示值时，请确保点不会重叠或分散注意力，否则您将得到一个混乱的可视化效果（右侧）
- en: 'If you just changed the mark type from Square to Circle, technically you would
    have the same chart, but you’d have text occasionally overlapping with circles,
    making it more difficult to read. Let’s do it the correct way:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您只是将标记类型从方形更改为圆形，技术上您会得到相同的图表，但文本偶尔会与圆圈重叠，使其更难以阅读。让我们用正确的方法来做：
- en: Change your mark type from Square to Circle.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标记类型从方形更改为圆形。
- en: To align the circles and text appropriately, you need to create custom measures
    that will center the values where you want in the table. Start by creating an
    ad hoc calculation. On the Columns shelf, double-click the whitespace to the right
    of [Measure Names]. This opens a prompt that will allow you to write a custom
    calculation. Type `**MIN(0.2)**`. Right now, this looks like it centers the circles
    and text on 0.2, but when it’s all said and done, it will center only the dots
    on this value. This creates the table in [Figure 6-13](#our_work_in_progresscomma_adding_dots_an).
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要适当地对齐圆圈和文本，您需要创建自定义措施，将值居中到您想要的表格中。首先创建一个特定的计算。在列架上，双击[Measure Names]右侧的空白处。这将打开一个提示，允许您编写自定义计算。键入`**MIN(0.2)**`。现在看起来像是将圆圈和文本居中到0.2，但实际上完成后，只会将圆点居中到该值。这将创建[图 6-13](#our_work_in_progresscomma_adding_dots_an)中的表格。
- en: '![Our work in progress, adding dots and color for visual encoding](Images/TAST_0613.png)'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![我们正在进行的工作，为视觉编码添加点和颜色](Images/TAST_0613.png)'
- en: Figure 6-13\. Our work in progress, adding dots and color for visual encoding
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-13\. 我们正在进行的工作，为视觉编码添加点和颜色
- en: Tip
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: Tip
- en: When you use `MIN(0.2)`, you’re using a fixed measure to create a column in
    your data source. Using the minimum function ensures that the value gets placed
    directly at whatever value you specify. If you used `SUM()`, the value would be
    equal to the total records for that member of a dimension, multiplied by the value
    you placed in the `MIN()` function.
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当您使用`MIN(0.2)`时，您使用了一个固定的度量来创建数据源中的一列。使用最小函数可以确保该值直接放置在您指定的任何值上。如果您使用了`SUM()`，则该值将等于该维度成员的总记录数，乘以您在`MIN()`函数中放置的值。
- en: You will use this `MIN()` technique when you want to create several columns
    in your dataset or layer marks over each other.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当您希望在数据集中创建多个列或将标记层叠在一起时，您将使用这种`MIN()`技术。
- en: Tip
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: Tip
- en: This technique helps derive additional columns in your data. In this example,
    you are using `MIN(0.2)`. In almost all other use cases, however, it’s better
    to use `MIN(0.0)` or `MIN(1.0)`; these are more natural values to use as placeholders.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这种技术有助于从数据中推导出额外的列。在此示例中，您使用了`MIN(0.2)`。然而，在几乎所有其他用例中，最好使用`MIN(0.0)`或`MIN(1.0)`；这些更自然的值可以用作占位符。
- en: If you wanted to keep the circles right-aligned to the text, you could just
    hide the header and remove grid lines, and that would be it. But since you are
    trying to put the circles to the left of the measures while also keeping the text
    right-aligned, there are a few more steps.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您想要保持圆圈与文本右对齐，您只需隐藏标题并去除网格线，就可以了。但由于您试图将圆圈放在度量的左侧，并同时保持文本右对齐，因此还需要一些额外的步骤。
- en: Double-click to the right of AGG(MIN(0.2)) and type `**MIN(1.0)**`. This doubles
    the number of marks on our view and creates a second Marks card. The result is
    [Figure 6-14](#adding_another_dummy_data_columncomma_mi).
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击AGG(MIN(0.2))右侧，输入`**MIN(1.0)**`。这会在我们的视图上加倍标记，并创建第二个标记卡。结果是[图6-14](#adding_another_dummy_data_columncomma_mi)。
- en: '![Adding another dummy data column, MIN(1.0), will double the marks, but we’ll
    update the visualization so the marks aren’t shown twice](Images/TAST_0614.png)'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加另一个虚拟数据列MIN(1.0)会使标记加倍，但我们将更新可视化，以避免标记重复显示](Images/TAST_0614.png)'
- en: Figure 6-14\. Adding another dummy data column, MIN(1.0), will double the marks,
    but we’ll update the visualization so the marks aren’t shown twice
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-14。添加另一个虚拟数据列MIN(1.0)会使标记加倍，但我们将更新可视化，以避免标记重复显示
- en: Take the AGG(MIN(0.2)) and AGG(MIN(0.2)) measures and create a synchronized
    dual axis between the two. This will leave you with the chart in [Figure 6-15](#after_synchronizing_the_axescomma_youapo).
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取AGG(MIN(0.2))和AGG(MIN(0.2))测量值，并在两者之间创建一个同步双轴。这将使你得到[图6-15](#after_synchronizing_the_axescomma_youapo)的图表。
- en: '![After synchronizing the axes, you’ll notice a circle that’s to the left of
    the text in one column and to the right of the text in the other](Images/TAST_0615.png)'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在同步轴后，您会注意到一个圆圈，一个圆圈在一列的文本左侧，另一个圆圈在另一列的文本右侧](Images/TAST_0615.png)'
- en: Figure 6-15\. After synchronizing the axes, you’ll notice a circle that’s to
    the left of the text in one column and to the right of the text in the other
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-15。在同步轴后，您会注意到一个圆圈，一个圆圈在一列的文本左侧，另一个圆圈在另一列的文本右侧
- en: On the AGG(MIN(0.2)) Marks card, remove [Measure Values] from Text.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在AGG(MIN(0.2))标记卡上，从文本中移除[Measure Values]。
- en: On the AGG(MIN(1.0)) Marks card, change the mark type to Gantt Bar, remove [Measure
    Values] from Color, set the color to white, and to fully ensure they won’t ever
    overlap or conflict with the text, change the opacity to 0%. Click Label on the
    Marks card and change the horizontal alignment from Automatic to Left. [Figure 6-16](#after_adjusting_text_on_minleft_parenthe)
    shows the visualization at this stage.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在AGG(MIN(1.0))标记卡上，将标记类型更改为甘特条，从颜色中移除[Measure Values]，将颜色设置为白色，并完全确保它们不会与文本重叠或冲突，将不透明度更改为0%。点击Marks卡上的Label，并将水平对齐从自动更改为左对齐。[图6-16](#after_adjusting_text_on_minleft_parenthe)显示了此阶段的可视化。
- en: '![After adjusting text on MIN(0.2) and MIN(1.0), the visual indicators start
    to take shape](Images/TAST_0616.png)'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![调整MIN(0.2)和MIN(1.0)文本后，视觉指示器开始形成](Images/TAST_0616.png)'
- en: Figure 6-16\. After adjusting text on MIN(0.2) and MIN(1.0), the visual indicators
    start to take shape
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-16。调整MIN(0.2)和MIN(1.0)文本后，视觉指示器开始形成
- en: You’re almost there. To set the axis range, right-click the MIN(0.2) axis and
    choose Edit Axis. In the Edit Axis pop-up, set the range to be fixed from 0 to
    1\. Then exit the pop-up and hide both axes.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你已经快要完成了。要设置轴范围，请右键单击MIN(0.2)轴，选择编辑轴。在编辑轴弹出窗口中，将范围设置为从0到1。然后退出弹出窗口并隐藏两个轴。
- en: Right-click the chart and select Format. Under Format Lines, remove all grid
    lines and zero lines. This leaves you with the final chart ([Figure 6-17](#once_formattedcomma_the_visual_indicator)),
    where the text is still right-aligned but you also have color-encoded circles.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击图表，选择格式。在格式化线条下，移除所有网格线和零线。这样你就得到了最终的图表（[图6-17](#once_formattedcomma_the_visual_indicator)），文本仍然右对齐，但你也有了编码颜色的圆圈。
- en: '![Once formatted, the visual indicators provide subtle hints to the direction
    of the data](Images/TAST_0617.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![一旦格式化，视觉指示器会为数据的方向提供微妙的提示](Images/TAST_0617.png)'
- en: Figure 6-17\. Once formatted, the visual indicators provide subtle hints to
    the direction of the data
  id: totrans-104
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-17。一旦格式化，视觉指示器会为数据的方向提供微妙的提示
- en: 'Moving Beyond Measure Names and Values: Office Essentials Case Study'
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 超越度量名称和值：Office Essentials案例研究
- en: 'Our friends on the data team at Office Essentials have another challenge. Their
    manager, Ali, likes the table from [Figure 6-17](#once_formattedcomma_the_visual_indicator),
    but she thinks they can do better—and she has a wish list! Here’s what she’s asked
    for:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在Office Essentials数据团队的朋友面临另一个挑战。他们的经理阿里喜欢[图6-17](#once_formattedcomma_the_visual_indicator)中的表格，但她认为他们可以做得更好——她有一个愿望清单！这是她要求的：
- en: A way to see the percent increase of sales year over year alongside the total
    sales metric
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一种方法是将每年销售额的百分增长率与总销售指标一起显示
- en: A table like [Figure 6-17](#once_formattedcomma_the_visual_indicator), but that
    highlights the most and least profitable items
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个像[图6-17](#once_formattedcomma_the_visual_indicator)的表格，但突出显示最有利可图和最不利可图的项目
- en: A sales table that will automatically update when there is a full week of data
    for a particular week, and shows whether total orders have increased or decreased
    since the previous week
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个销售表格，当某个特定周的数据完整一周时将自动更新，并显示自上周以来总订单是增加还是减少。
- en: Sometimes you want to build tables, but the calculations you’re trying to use
    require something other than measure names and measure values. All of Ali’s requests
    involve providing more context to the team’s tables. There are lots of ways to
    do this, such as adding dimensions to cells, or encoding your columns data with
    different mark types.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 有时您希望构建表格，但您试图使用的计算需要除了度量名称和度量值之外的其他东西。阿里的所有请求都涉及为团队的表格提供更多上下文。有许多方法可以做到这一点，例如将维度添加到单元格中，或使用不同的标记类型对列数据进行编码。
- en: Take a look at [Figure 6-18](#three_ways_to_use_placeholders_to_displa), which
    shows a “table” created in Tableau. Why the scare quotes? Because a true table
    in Tableau is made up of a single sheet, and this example is not.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[图6-18](#three_ways_to_use_placeholders_to_displa)，显示在Tableau中创建的“表格”。为什么用引号？因为在Tableau中，真正的表格由单个工作表组成，而此示例不是。
- en: 'These visualizations include, from left to right:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可视化包括从左到右：
- en: A column that has additional context provided by a second metric (in this case,
    percentage change from month to month)
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一列，由第二个度量提供额外上下文（在本例中，是从月到月的百分比变化）
- en: A column that has specific thresholds for color set below $0 and above $1,000
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个具有特定阈值的列，其中颜色设置在$0以下和$1,000以上。
- en: A third column that has color encoding changes based on whether the value is
    at or less than zero, or above zero. The third column also includes a different
    mark type.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个第三列，根据数值是小于或等于零还是大于零，有颜色编码变化。第三列还包括不同的标记类型。
- en: 'This visual shows three mark types: Gantt, Bar, and Shape.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 此可视化显示了三种标记类型：甘特图、条形图和形状。
- en: '![Three ways to use placeholders to display values: adding context, adding
    color to a single column (without hacking it!), and adding a custom shape](Images/TAST_0618.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![使用占位符显示值的三种方法：添加上下文，为单个列添加颜色（而无需篡改！），以及添加自定义形状](Images/TAST_0618.png)'
- en: 'Figure 6-18\. Three ways to use placeholders to display values: adding context,
    adding color to a single column (without hacking it!), and adding a custom shape'
  id: totrans-118
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-18。使用占位符显示值的三种方法：添加上下文，为单个列添加颜色（而无需篡改！），以及添加自定义形状。
- en: This example highlights some fundamentals that we (the authors) would put into
    an individual visualization—but not all the features we’d include. In the next
    strategy, you should focus on how to create the components rather than the chart
    as a whole.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 本例突出了我们（作者）将放入单个可视化中的一些基本原理，但并非我们会包含的所有特性。在下一个策略中，您应该专注于如何创建组件，而不是整个图表。
- en: For this example, we will use `MIN(1.0)` to create placeholder columns. With
    this method, we create a new Marks card for each dimension we add to Rows. This
    allows you to mimic measure names and measure values, but gives significantly
    more flexibility to customize your tables based on individual metrics.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此示例，我们将使用`MIN(1.0)`来创建占位符列。使用此方法，我们为添加到行中的每个维度创建一个新的标记卡。这使您可以模仿度量名称和度量值，但根据个别指标定制表格时具有更大的灵活性。
- en: 'Strategy: Create a Table Body Without Measure Names or Measure Values'
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个没有度量名称或度量值的表格主体。
- en: 'In this strategy, you will create the body of the table shown in [Figure 6-18](#three_ways_to_use_placeholders_to_displa).
    This table includes three mark types:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在此策略中，您将创建表格主体，显示在[图6-18](#three_ways_to_use_placeholders_to_displa)中。此表格包括三种标记类型：
- en: Start by adding [Sub-Category] to the Rows shelf.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先将[子类别]添加到行架上。
- en: When you create a table without measure names or measure values, you need to
    create a column placeholder by double-clicking the Columns shelf and typing `**MIN(1.0)**`.
    This creates a column with bars that are 1 unit tall. Change the mark type to
    Gantt Bar. Set the opacity of the color to 0%.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当您创建一个没有度量名称或度量值的表格时，您需要通过双击列架并输入`**MIN(1.0)**`来创建一个列占位符。这将创建一个带有高度为1单位的条形的列。将标记类型更改为甘特条。将颜色的不透明度设置为0%。
- en: In this column, you’re going to show sales for the most recent year. You’re
    also going to show the difference in sales from the most recent year of sales
    to the prior year.
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在此列中，您将显示最近一年的销售情况。您还将显示与上一年相比的销售差异。
- en: 'Write the following calculation, called `**[Sales | Current Year]**`, to show
    the most recent year of sales:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写以下计算，称为`**[销售|当前年度]**`，以显示最近一年的销售情况：
- en: '[PRE1]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Write `**[Sales | Prior Year]**` to calculate sales for the prior year:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写`**[销售额 | 去年]**`来计算去年的销售额：
- en: '[PRE2]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Note that the only difference between the two calculations is the `-1` to the
    left of the Boolean argument in the `IF` statement. This will return sales for
    one year less than the maximum year.
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请注意，这两个计算之间唯一的区别是`IF`语句中布尔参数左侧的`-1`。这将返回比最大年份少一年的销售额。
- en: 'Now you can calculate the difference between the two calculations—the change
    in sales—by creating a calculation called `**[Sales | CY vs PY]**`:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在可以通过创建一个称为`**[销售额 | 当年与去年同期比较]**`的计算来计算这两个计算之间的差异——销售额的变化：
- en: '[PRE3]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Once you’ve created all three calculations, be sure to set the default formatting
    of the numbers to currency with no decimals.
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建完这三个计算后，请确保将数字的默认格式设置为带有没有小数位的货币格式。
- en: Add the [Sales | Current Year] and [Sales | CY vs PY] calculations to Text on
    the Marks card. Format the text to be left-aligned ([Figure 6-19](#be_sure_text_is_left-aligned_on_the_text)).
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[销售额 | 当年]和[销售额 | 当年与去年同期比较]计算添加到标记卡的文本上。将文本格式设置为左对齐（图6-19中的#be_sure_text_is_left-aligned_on_the_text）。
- en: '![Be sure text is left-aligned on the Text button](Images/TAST_0619.png)'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![确保文本在文本按钮上左对齐](Images/TAST_0619.png)'
- en: Figure 6-19\. Be sure text is left-aligned on the Text button
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-19\. 确保文本在文本按钮上左对齐
- en: 'Format the mark type as follows:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 格式化标记类型如下：
- en: Edit the text by clicking the ellipsis.
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击省略号编辑文本。
- en: Place [Sales | Current Year] on the first line and [Sales | CY vs PY] on the
    second line.
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[销售额 | 当年]放在第一行，将[销售额 | 当年与去年同期比较]放在第二行。
- en: Change the size of [Sales | CY vs PY] to be about 33% of the font size as [Sales
    | Current Year]. In [Figure 6-20](#right-align_and_format_text_in_the_text), the
    font size of [Sales | Current Year] is 15 pixels, while [Sales | CY vs PY] is
    10 pixels in height.
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[销售额 | 当年与去年同期比较]的大小调整为[销售额 | 当年]字体大小的大约33%。在图6-20中的#right-align_and_format_text_in_the_text中，[销售额
    | 当年]的字体大小为15像素，而[销售额 | 当年与去年同期比较]的高度为10像素。
- en: You should also set the color of the second line to be a slightly lighter tint.
    Set this font to the right in the text editor.
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还应将第二行的颜色设置为稍浅的色调。在文本编辑器中将该字体右对齐。
- en: '![Right-align and format text in the text editor](Images/TAST_0620.png)'
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![右对齐并格式化文本编辑器中的文本](Images/TAST_0620.png)'
- en: Figure 6-20\. Right-align and format text in the text editor
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-20\. 右对齐并格式化文本编辑器中的文本
- en: Right-click and format the lines and remove grid lines, zero lines, axis rulers,
    and axis ticks. This will leave you with the visualization in [Figure 6-21](#the_result_is_a_column_that_gives_contex),
    which satisfies the first item on Ali’s wish list.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并格式化线条，并删除网格线、零线、轴标尺和轴刻度。这将使您得到图6-21中的可视化效果，满足Ali愿望清单上第一项的要求。
- en: '![The result is a column that gives context to the data](Images/TAST_0621.png)'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![结果是一个给数据提供背景的列](Images/TAST_0621.png)'
- en: Figure 6-21\. The result is a column that gives context to the data
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-21\. 结果是一个给数据提供背景的列
- en: Let’s add another column. This will let you highlight the most profitable and
    least profitable items, the second thing on Ali’s wish list.
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 让我们再添加一列。这将让您突出显示最赚钱和最不赚钱的项目，这是Ali愿望清单上的第二个要求。
- en: 'Add a column that looks like a highlight table:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个看起来像突出显示表的列：
- en: Add another column. Double-click to the right of AGG(MIN(1.0)) and type `**MIN(-1.0)**`.
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加另一列。双击AGG(MIN(1.0)右侧，并输入`**MIN(-1.0)**`。
- en: Change the mark type for MIN(-1.0) to Bar. Edit the axis to a range from –1
    to 0.
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将MIN(-1.0)的标记类型更改为条形。编辑轴，范围从-1到0。
- en: Change the color back to 100% opacity. Change the size to just under the maximum
    value.
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将颜色改回100%不透明度。将大小改为略低于最大值。
- en: 'Create a calculation of total profit for the most recent year called `**[Profit
    | Current Year]**`:'
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建最近一年总利润的计算，称为`**[利润 | 当年]**`：
- en: '[PRE4]'
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Next, format the number for this calculation, and then place the measure on
    Text for the AGG(MIN(-1.0)) Marks card.
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，格式化这个计算的数字，然后将该度量放置在AGG(MIN(-1.0))标记卡的文本位置。
- en: 'By using this technique to create columns, you can set discrete colors with
    a custom calculation. For example, if profit is negative, create a category called
    Bad; if the value is greater than $10,000, add the members to a category called
    Good. All other members should be categorized as Neutral:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过这种技术创建列，您可以使用自定义计算设置离散颜色。例如，如果利润为负数，则创建一个名为Bad的类别；如果值大于$10,000，则将成员添加到名为Good的类别中。所有其他成员应分类为Neutral：
- en: '[PRE5]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Add [Profit | Current Year | Color] to Color on the AGG(MIN(-1.0)) Marks card.
    Edit the colors. Set the colors so Bad is red (#D81159), Good is green (#75CF4A),
    and Neutral is white (#FFFFFF). Set the opacity to 70%.
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将 `[利润 | 当年 | 颜色]` 添加到 AGG(MIN(-1.0)) 的标记卡的颜色。编辑颜色。设置颜色为 Bad 为红色 (#D81159)，Good
    为绿色 (#75CF4A)，Neutral 为白色 (#FFFFFF)。将不透明度设置为70%。
- en: Your table should now look like [Figure 6-22](#you_can_use_custom_color_in_a_bar_chart).
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在您的表格应该看起来像 [图 6-22](#you_can_use_custom_color_in_a_bar_chart)。
- en: '![You can use custom color in a bar chart to make a column look like a table](Images/TAST_0622.png)'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![您可以在条形图中使用自定义颜色使列看起来像表格](Images/TAST_0622.png)'
- en: Figure 6-22\. You can use custom color in a bar chart to make a column look
    like a table
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-22。您可以在条形图中使用自定义颜色使列看起来像表格
- en: 'Add a column that will show changes in total orders. You’ll show the difference
    in total orders from the most recent year compared to the year before that:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一列，显示总订单的变化情况。您将展示与前一年相比最近一年总订单的差异：
- en: To the right of AGG(MIN(-1.0)), type `**MIN(1.0)**`. This creates another Marks
    card.
  id: totrans-162
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 AGG(MIN(-1.0)) 的右侧，键入 `**MIN(1.0)**`。这将创建另一个标记卡。
- en: Change the mark type to Shape and the opacity of the color to 100%.
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标记类型更改为形状，并将颜色的不透明度设置为100%。
- en: 'Create calculations for total orders this year:'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建当年总订单的计算：
- en: '[PRE6]'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'And create `**[Total Orders | Prior Year]**` to calculate orders for the prior
    year:'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 并创建 `**[总订单 | 去年]**` 来计算前一年的订单：
- en: '[PRE7]'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then calculate the difference between the two totals, calling the metric `**[Total
    Orders | CY vs PY]**`:'
  id: totrans-168
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后计算两个总数之间的差异，称之为 `**[总订单 | 当年 vs 去年]**`：
- en: '[PRE8]'
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Add [Total Orders | CY vs PY] to Text on the new Marks card. Left-align the
    text.
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在新的标记卡上的文本中添加 `[总订单 | 当年 vs 去年]`。将文本左对齐。
- en: 'Now create a calculation for shape and color:'
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在为形状和颜色创建一个计算：
- en: '[PRE9]'
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Add this calculation to Shape and Color. Set True on Shape to a filled up arrow,
    and False to a filled down arrow. Set True on Color to the same green as in step
    10, and False on Color to the same as the Bad category (red color) before.
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此计算添加到形状和颜色中。将 True 设置为一个填充的上箭头，将 False 设置为一个填充的下箭头。将 True 的颜色设置为步骤10中的绿色，将
    False 的颜色设置为 Bad 类别的颜色（红色）。
- en: Hide the headers and remove the column dividers. Right-click [Sub-Category]
    on the header and select Hide Field Labels for Rows. The result is shown in [Figure 6-23](#a_third_column_displaying_a_custom_shape).
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 隐藏标题并移除列分隔线。右键单击标题上的 `[子类别]`，选择“隐藏行的字段标签”。结果显示在 [图 6-23](#a_third_column_displaying_a_custom_shape)
    中。
- en: '![A third column displaying a custom shape alongside two columns with completely
    different designs](Images/TAST_0623.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![第三列显示自定义形状，与完全不同设计的两列并排](Images/TAST_0623.png)'
- en: Figure 6-23\. A third column displaying a custom shape alongside two columns
    with completely different designs
  id: totrans-176
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-23。第三列显示自定义形状，与完全不同设计的两列并排
- en: One downfall is that this technique builds a table with no headers, meaning
    you won’t be able to rely on Tableau’s built-in column sorting. We can create
    headers, either with a text box or with a sheet. If you don’t need dynamic sorting,
    you can use text boxes; otherwise, you can use sheets or parameters to create
    sorting options.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 其一缺点是这种技术创建了一个没有标题的表格，这意味着您无法依赖Tableau内置的列排序功能。我们可以创建标题，可以使用文本框或者工作表。如果您不需要动态排序，可以使用文本框；否则，可以使用工作表或参数来创建排序选项。
- en: 'Strategy: Create Table Headers Without Measure Names or Measure Values'
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建没有度量名称或度量值的表头
- en: 'In addition to the table body, you can combine the visualization with a table
    header. Let’s try that here:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 除了表体外，还可以将可视化与表头结合起来。让我们在这里尝试一下：
- en: On the dashboard, add a vertical container. Add the table we just created into
    that container. Click and drag a horizontal container into the vertical container,
    but place it above the table.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在仪表板上，添加一个垂直容器。将刚刚创建的表格放入该容器中。单击并拖动一个水平容器到垂直容器中，但将其放置在表格上方。
- en: Inside the horizontal container, add three text boxes, with the text `**Sales**`,
    `**Profit**`, and `**Total Orders**`, respectively. Select the horizontal container,
    choose Edit Height ([Figure 6-24](#on_the_dashboardcomma_add_text_to_a_hori)),
    and set the height to 50 pixels.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在水平容器内，添加三个文本框，分别为 `**销售**`、`**利润**` 和 `**总订单**`。选择水平容器，选择“编辑高度”（图 6-24），将高度设置为50像素。
- en: '![On the dashboard, add text to a horizontal container and edit the height
    of the container](Images/TAST_0624.png)'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在仪表板上，添加文本到水平容器并编辑容器的高度](Images/TAST_0624.png)'
- en: Figure 6-24\. On the dashboard, add text to a horizontal container and edit
    the height of the container
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-24\. 在仪表板上，向水平容器添加文本并编辑容器的高度
- en: Adjust the left padding of the horizontal container so that the text boxes align
    with the columns. Tableau’s guides automatically show up inside the container,
    making this easier ([Figure 6-25](#if_you_properly_format_the_sheet_and_the)).
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整水平容器的左边距，使文本框与列对齐。Tableau 的指南会自动显示在容器内部，这样做更加容易（参见[图 6-25](#if_you_properly_format_the_sheet_and_the)）。
- en: '![If you properly format the sheet and the text boxes, the result will be a
    visualization resembling a table](Images/TAST_0625.png)'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如果您正确地格式化表格和文本框，结果将是一种类似表格的可视化效果](Images/TAST_0625.png)'
- en: Figure 6-25\. If you properly format the sheet and the text boxes, the result
    will be a visualization resembling a table
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-25\. 如果你正确地格式化表格和文本框，结果将是一种类似表格的可视化效果。
- en: Finally, adjust the right padding from 4 to 14 for each of the text boxes. This
    will align the right side of the header text with the text in the table.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，将每个文本框的右边距从 4 调整为 14。这将使表头文本的右侧与表格中的文本对齐。
- en: '![The final version of this “table”](Images/TAST_0626.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![这个“表”的最终版本](Images/TAST_0626.png)'
- en: Figure 6-26\. The final version of this “table”
  id: totrans-189
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-26\. 这个“表”的最终版本
- en: The final product, shown in [Figure 6-26](#the_final_version_of_this_quotation_mark),
    is a “table” that does not use measure names or measure values and that allows
    you to customize each column with a different mark type, multiple measures on
    text, and color. This is Luke’s preferred method for building tables; Ann, less
    so. However, we both rely on this technique when required.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 最终的产品，显示在[图 6-26](#the_final_version_of_this_quotation_mark)，是一个“表格”，不使用度量名称或度量值，并允许您使用不同的标记类型自定义每列，多个文本度量以及颜色。这是卢克构建表格的首选方法；安对此方法的依赖程度较低。然而，当需要时，我们都依赖这种技术。
- en: 'Strategy: Use Measures as Headers'
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用度量作为标题
- en: Sometimes instead of placing an aggregate measure on Text within the Marks card,
    you want to include the value in the header as a dimension (even though it’s an
    aggregate value). This strategy is perfect when you want to share an overall value
    for a set of dimensions or use data-driven indicators to call out a set of values.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，与其将聚合度量放置在 Marks 卡的文本中，您可能希望将该值作为维度包含在标题中（尽管它是聚合值）。当您希望共享一组维度的总体值或使用数据驱动的指标来突出显示一组值时，此策略非常合适。
- en: 'Our next strategy addresses the third item on Ali’s wish list: a table that
    will automatically update when there is a full week of data for a particular week
    ([Figure 6-27](#sometimes_you_need_to_use_measures_as_ro)). In it, you’ll create
    a series of measures (both as LOD calculations and as table calculations) that
    you’ll use as headers.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一个策略解决了阿里愿望清单的第三项：一个表格，当特定周的数据完整时将自动更新（参见[图 6-27](#sometimes_you_need_to_use_measures_as_ro)）。在其中，您将创建一系列度量（既作为
    LOD 计算又作为表计算），并将其用作标题。
- en: 'You will continue to use the Superstore – Sample dataset to write two LOD calculations:
    one that calculates the overall sales per week, and a second that produces an
    arrow to highlight the week with the highest level of overall sales. You will
    also create a calculation that will rank the last 13 weeks of sales.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 您将继续使用 Superstore – Sample 数据集来编写两个 LOD 计算：一个计算每周的总销售额，另一个生成一个箭头以突出显示销售总额最高的周。您还将创建一个计算来对过去
    13 周的销售进行排名。
- en: You’ll then split sales by category, show the rank of sales with each category
    by week, and highlight the top and bottom weeks.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您将按类别拆分销售额，显示每个类别按周的销售排名，并突出显示最高和最低的周。
- en: '![Sometimes you need to use measures as row headers—as in this example, where
    rank and total sales are measures-turned-dimensions](Images/TAST_0627.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![有时您需要使用度量作为行标题，如此示例中，其中排名和总销售额是转换为维度的度量](Images/TAST_0627.png)'
- en: Figure 6-27\. Sometimes you need to use measures as row headers—as in this example,
    where rank and total sales are measures-turned-dimensions
  id: totrans-197
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-27\. 有时您需要使用度量作为行标题，例如此示例中的排名和总销售额被转换为维度的度量
- en: 'Here are the steps:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是步骤：
- en: 'Create a new calculation called `**[Full Weeks | TF]**` that will determine
    whether the most recent week is complete. This calculation creates a Boolean that
    checks order dates to see whether they are before the start of the week for the
    maximum date plus one day:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[全周数 | TF]**`的新计算，用于确定最近一周是否完整。该计算创建一个布尔值，检查订单日期是否在最大日期加一天的周的开始之前：
- en: '[PRE10]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Add this new calculation to the Filters shelf and select True. Once the filter
    has been applied, right-click [Full Weeks | TF] on the Filters shelf and turn
    it into a context filter.
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此新计算添加到Filters架构中并选择True。一旦应用了过滤器，右键单击Filters架构中的[Full Weeks | TF]并将其转换为上下文过滤器。
- en: Since Ali wants this visualization to show only the most recent 13 weeks, let’s
    create another filter to do that.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于Ali希望这个可视化只显示最近的13周，让我们创建另一个过滤器来实现这一点。
- en: 'Create a new calculation called `**[Last 13 Weeks]**`. It will look similar
    to the previous calculation, except this time you’ll change the sign from less-than
    to greater-than-or-equal-to. You’ll also nest the righthand side of the argument
    inside the `DATEADD()` function so you can go back:'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建一个名为`**[Last 13 Weeks]**`的新计算。它看起来与前一个计算类似，不同之处在于你会将不等号改为大于或等于。你还会将参数的右侧嵌套到DATEADD()函数中，以便你可以回溯：
- en: '[PRE11]'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Take this calculation and place it on Filters. Select True. Then make the filter
    into a context filter.
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此计算放置在Filters中。选择True。然后将过滤器转换为上下文过滤器。
- en: Now that your filters are complete, you can start building the visualization.
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在你的过滤器已经完成，你可以开始构建可视化了。
- en: Go to [Order Date] on the Data pane. Right-click and choose Create → Custom
    Date. In the Create Custom Date dialog box, set the Name to `**Order Date | Week**`.
    From the Detail list, select “Week numbers.” Select Date Value and then click
    OK.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到数据窗格上的[Order Date]。右键点击，选择创建 → 自定义日期。在创建自定义日期对话框中，设置名称为`**Order Date | Week**`。从详细列表中选择“周数”。选择日期值，然后点击确定。
- en: Once the field is created, right-click it on the Data pane and select Convert
    to Discrete. This will make Tableau treat the calculation as a discrete value
    when it’s on the visualization (which will save steps in the future).
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建完成后，右键点击数据窗格上的字段并选择转换为离散值。这将使Tableau在视觉化时将计算视为离散值（这将节省未来的步骤）。
- en: Now simply duplicate the [Order Date | Week] field. You can rename it `**[Order
    Date | Week 2]**`.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在简单地复制[Order Date | Week]字段。你可以将其重命名为`**[Order Date | Week 2]**`。
- en: Tip
  id: totrans-210
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: 'Why do you need two identical fields? Because you are going to hide one of
    the dimensions in the header. If you have the same calculation twice, on Rows
    or Columns, it will hide all the headers where the field is the same! Try it:
    add [Order Date | Week 2] twice to Columns and hide one of the headers—they both
    disappear.'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为什么需要两个相同的字段？因为你将要隐藏其中一个维度的标题。如果你在Rows或Columns上有相同的计算两次，它将隐藏所有字段相同的标题！试一试：将[Order
    Date | Week 2]添加两次到Columns，然后隐藏一个标题——它们都会消失。
- en: Now you are going to add to the existing visualization. If you’ve tried it out,
    make sure you reselect Show Headers. You’ll also want to remove both [Order Date
    | Week 2] fields from your view.
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在你要添加到现有的可视化中。如果你已经尝试过，请确保重新选择显示标题。你还需要从视图中删除[Order Date | Week 2]字段。
- en: Take [Order Date | Week] and add the dimension to the Rows shelf. Do the same
    thing for [Order Date | Week 2], but place it to the left of [Order Date | Week]
    on Rows. You should have two identical-looking column headers (shown in [Figure 6-28](#the_duplicate_fieldscomma_both_as_visibl)).
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将[Order Date | Week]添加到行架构中，并加上维度。对[Order Date | Week 2]执行相同操作，但将其放置在Rows的左侧。你应该会看到两个外观相同的列标题（参见[图 6-28](#the_duplicate_fieldscomma_both_as_visibl)）。
- en: '![The duplicate fields, both as visible headers](Images/TAST_0628.png)'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![两个可见标题的重复字段](Images/TAST_0628.png)'
- en: Figure 6-28\. The duplicate fields, both as visible headers
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-28\. 两个可见标题的重复字段
- en: From here, you can add dimensions and measures to your view. Add SUM(Sales)
    to Text on the Marks card, and [Category] to the Columns shelf. Make sure your
    text is right-aligned for the Sales values.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从这里开始，你可以在视图中添加维度和度量。将SUM(Sales)添加到Marks卡片上的Text，并将[Category]添加到Columns架构中。确保你的文本对齐方式是右对齐以显示销售额值。
- en: You are going to build three calculations, as shown in [Figure 6-29](#building_the_base_table).
    The first is the total sales for a particular week. The second is an arrow that
    will point to the week with the highest overall sales. The third ranks overall
    sales by week.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将会构建三个计算，如[图 6-29](#building_the_base_table)所示。第一个是特定周的总销售额。第二个是指向总销售额最高周的箭头。第三个按周总销售额排名。
- en: '![Building the base table](Images/TAST_0629.png)'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![构建基础表](Images/TAST_0629.png)'
- en: Figure 6-29\. Building the base table
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-29\. 构建基础表
- en: 'Create a calculation called `**[Total Sales]**` by using an LOD. Set the fixed
    value by your [Order Date | Week] calculation and place SUM(Sales) on the righthand
    side of the argument. This tells Tableau to calculate the total sales for each
    week:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `**[总销售额]**` 的计算，使用LOD。通过你的 [订单日期 | 周] 计算设置固定值，并将 SUM(Sales) 放在参数的右侧。这告诉Tableau计算每周的总销售额：
- en: '[PRE12]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Create a calculated field called `**[Best Week]**` by using the [Total Sales]
    calculation you just wrote. This will calculate the week with the best overall
    sales:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `**[最佳周]**` 的计算字段，使用刚刚编写的 [总销售额] 计算。这将计算出总销售额最好的周：
- en: '[PRE13]'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: This calculation nests an LOD calculation from [Total Sales] inside another
    LOD calculation to get the top overall value, aka the maximum. If a week is equal
    to that top value, you want it to return a right-pointing arrow by using an ASCII
    code.
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个计算将一个LOD计算嵌套到另一个LOD计算中，以获取顶部的整体值，即最大值。如果一周等于该顶部值，您希望它通过使用ASCII码返回一个右箭头。
- en: Tip
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: ASCII encoding uses numeric codes to stand in for characters like English-language
    letters, numbers, and punctuation marks. (For example, the ASCII code for an uppercase
    *S* is 83.) Other encoding systems, like Unicode, offer more options. You typically
    won’t type out ASCII codes by hand; you can copy and paste them from a site like
    [Alt-Codes](https://www.alt-codes.net).
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ASCII编码使用数字代码来代替字符，如英语字母、数字和标点符号。（例如，大写字母 *S* 的ASCII代码为83。）其他编码系统，如Unicode，提供了更多的选项。通常情况下，你不会手动输入ASCII代码；你可以从网站（如
    [Alt-Codes](https://www.alt-codes.net)）复制粘贴它们。
- en: 'For the rank label for each week, we won’t use the rank functions (surprise!).
    Instead, we’ll use `INDEX()`. Create a calculation called `**[Rank Label]**` and
    write the following:'
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于每周的排名标签，我们不会使用排名函数（惊喜！）。相反，我们将使用 `INDEX()`。创建一个名为 `**[排名标签]**` 的计算，并写入以下内容：
- en: '[PRE14]'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: This will return an index value plus formatting, so that any value is inside
    parentheses.
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将返回一个索引值加上格式化，以便任何值都在括号内。
- en: Note
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Have you noticed we avoided using the rank functions? We won’t overload you
    with the technical details here, but it’s important to know that sometimes the
    ordering of the rank values renders differently on Tableau Desktop versus Tableau
    Server. To avoid this issue, we stick to the `INDEX()` function. This more-direct
    function simply adds a numerical index value to rows in your partition.
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你是否注意到我们避免使用排名函数？我们不会在这里向你介绍技术细节，但重要的是要知道，有时在Tableau Desktop与Tableau Server上，排名值的顺序可能会有所不同。为了避免这个问题，我们使用
    `INDEX()` 函数。这个更直接的函数简单地为你的分区中的行添加一个数值索引值。
- en: 'Now that you’ve written the calculations, you can place them on your view and
    convert them into headers:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你已经编写了计算公式，可以将它们放到你的视图中并转换为标题：
- en: Start with [Total Sales]. Click and drag this value from the Data pane out onto
    the Rows shelf. After the value shows up on the Rows shelf, right-click and select
    Discrete. Right-click again and choose Format on the Format window. Change the
    formatting of the value to a currency with no decimals. (Make sure you are formatting
    the header and not the pane.) Your current view should look like [Figure 6-30](#a_tablecomma_now_including_total_sales_a).
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [总销售额] 开始。从数据窗格中拖动这个值到行架上。在值显示在行架上后，右键单击并选择离散。再次右键单击并在格式窗口上选择格式。将值的格式更改为没有小数位数的货币形式。（确保你正在格式化标题而不是窗格。）你当前的视图应该像
    [图 6-30](#a_tablecomma_now_including_total_sales_a) 一样。
- en: '![A table, now including total sales as a measure-turned-dimension](Images/TAST_0630.png)'
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![一个表，现在包括总销售额作为度量转为维度](Images/TAST_0630.png)'
- en: Figure 6-30\. A table, now including total sales as a measure-turned-dimension
  id: totrans-235
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-30\. 一个表，现在包括总销售额作为度量转为维度
- en: Click and drag [Best Week] onto Rows between [Order Date | Week 2] and [Order
    Date | Week]. You should see a single right-arrow on your view.
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [最佳周] 从 [订单日期 | 第2周] 拖动到 [订单日期 | 周] 之间的行上。你应该在视图中看到一个单独的右箭头。
- en: 'Repeat for [Rank Label], placing the value between [Order Date | Week] and
    [Total Sales]. A warning: the visual is probably not going to look the way you
    think it should. This is because it’s a table calculation, and you’ll need to
    edit your aggregation.'
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复上述步骤来创建 [排名标签]，将值放置在 [订单日期 | 周] 和 [总销售额] 之间。警告：视觉效果可能不会像你想象的那样。这是因为它是一个表计算，你需要编辑你的聚合方式。
- en: Right-click to edit the table calculation for [Rank Label] on your Rows shelf.
    Select Specific Dimensions and select all values *except* [Category]. (That’s
    because we want to complete this calculation across each category separately.)
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的行架上右键单击编辑[排名标签]的表计算。选择具体维度并选择除了[类别]之外的所有值（因为我们希望分别在每个类别上完成此计算）。
- en: Then edit the sort order within the table calculation window by using a custom
    sort. Set the sort to be descending by the sum of sales. Your visualization should
    look like [Figure 6-31](#adding_rank_as_a_measure-turned-dimensio).
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后通过使用自定义排序在表计算窗口中编辑排序顺序。将排序设置为按销售总额降序排列。您的可视化效果应该类似于[图 6-31](#添加排名作为度量转化为维度)。
- en: '![Adding rank as a measure-turned-dimension](Images/TAST_0631.png)'
  id: totrans-240
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![将排名作为度量转化为维度添加](Images/TAST_0631.png)'
- en: Figure 6-31\. Adding rank as a measure-turned-dimension
  id: totrans-241
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-31\. 添加排名作为度量转化为维度
- en: Now you can just right-click [Order Date | Week 2] and uncheck Show Header.
    That will leave you with the majority of the visualization complete ([Figure 6-32](#adding_the_arrow_to_indicate_the_top-ran)).
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您只需右键单击[订单日期 | 第2周]并取消选中“显示标题”。这将使您的大多数可视化完成（参见[图 6-32](#添加箭头指示顶级周数)）。
- en: '![Adding the arrow to indicate the top-ranked week](Images/TAST_0632.png)'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加箭头指示顶级周数](Images/TAST_0632.png)'
- en: Figure 6-32\. Adding the arrow to indicate the top-ranked week
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-32\. 添加箭头指示顶级周数
- en: This visualization is fine, but it’s hard for Ali and her team to pick out the
    rankings visually. It would be easier if the table had some color. Let’s try it.
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此可视化效果不错，但是对于Ali和她的团队来说，在视觉上区分排名是有些困难的。如果表格有一些颜色会更容易。我们试试看。
- en: Double-click Columns and type `**MIN(-1.0)**`. Set the mark type to Bar, and
    then set the axis for the measure to go from –1 to 0\. Set the size of the mark
    to the maximum amount. Click the Label property on the Marks card and change the
    alignment to left-aligned. (The label will actually go to the right side, since
    the origin of the bars is a negative value.) Hide the axis.
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击列并输入`**MIN(-1.0)**`。将标记类型设置为条形，并将度量的轴设置为从–1到0。将标记的大小设置为最大值。点击Marks卡上的标签属性并将对齐方式更改为左对齐（由于条的原点是负值，标签实际上将位于右侧）。隐藏轴。
- en: 'To make the ranks stand out, you can use color to highlight the top value,
    the next two top values, the bottom value, and the next two bottom values. You
    can do that by using the `INDEX()` function and sorting on the view. Create the
    following calculation called `**[Color]**`:'
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要突出排名，您可以使用颜色来突出显示顶部值、接下来的两个顶部值、底部值和接下来的两个底部值。您可以通过使用`INDEX()`函数并在视图上排序来实现。创建名为`**[颜色]**`的以下计算：
- en: '[PRE15]'
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The output of the calculation is a label for each type of member. As you’ve
    seen in this chapter, you can use `INDEX()` to create a more reliable rank calculation
    in Tableau.
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 计算的输出是每种成员类型的标签。正如您在本章中所见，您可以使用`INDEX()`在Tableau中创建更可靠的排名计算。
- en: This calculation pairs `INDEX()` with `SIZE()`. The `SIZE()` function is great
    for automatically determining the number of rows in the view (your table)—in this
    case, the number of weeks.
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此计算将`INDEX()`与`SIZE()`配对。`SIZE()`函数非常适合自动确定视图（您的表）中的行数——在本例中是周数。
- en: After you’ve created this calculation, add the Color value to the Color property
    on the Marks card. When you add the value, you’ll also need to right-click and
    edit the table calculation. Click and drag [Category] to the top of the list of
    the four dimensions. Select Specific Dimensions. In the “At the level” list, make
    sure Deepest is selected, and from the “Restarting every” list, select Category
    (see [Figure 6-33](#editing_the_table_calculation_to_ensure)).
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建此计算后，将颜色值添加到Marks卡的Color属性中。添加值时，您还需要右键单击并编辑表计算。点击并拖动[类别]到四个维度列表的顶部。选择具体维度。在“在级别”列表中，确保选择最深层次，并在“每次重新启动”列表中选择类别（参见[图 6-33](#编辑表计算以确保正确计算颜色)）。
- en: '![Editing the table calculation to ensure color is properly calculated](Images/TAST_0633.png)'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![编辑表计算以确保正确计算颜色](Images/TAST_0633.png)'
- en: Figure 6-33\. Editing the table calculation to ensure color is properly calculated
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-33\. 编辑表计算以确保正确计算颜色
- en: This will change the colors so that for each Category, there is one week in
    the TOP, one week in the BOTTOM, two more weeks in the TOP 3, and two more weeks
    in the BOTTOM 3\. All others will be encoded to MIDDLE.
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将更改颜色，以便每个类别中有一个顶级周，在底部有一个周，在前3个中还有两周，在后3个中还有两周。所有其他的将编码为MIDDLE。
- en: Now that you’ve adjusted the table calculation, you can assign the colors. [Table 6-1](#colors_and_labels)
    provides hexadecimal codes for the exact colors we’ve used in this strategy.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整表格计算后，您可以分配颜色了。[表格 6-1](#colors_and_labels) 提供了我们在这一策略中使用的确切颜色的十六进制代码。
- en: Table 6-1\. Colors and labels
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表格 6-1\. 颜色和标签
- en: '| **Label** | **Color** |'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **标签** | **颜色** |'
- en: '| --- | --- |'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| TOP | #989CA3 |'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **TOP** | **#989CA3** |'
- en: '| TOP3 | #D3D3D3 |'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **TOP3** | **#D3D3D3** |'
- en: '| MIDDLE | #FFFFFF |'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **MIDDLE** | **#FFFFFF** |'
- en: '| BOTTOM 3 | #FCD8E5 |'
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **BOTTOM 3** | **#FCD8E5** |'
- en: '| BOTTOM | #F690B5 |'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **BOTTOM** | **#F690B5** |'
- en: This will make your table look like the one in [Figure 6-34](#a_view_of_the_table_after_color_has_been).
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将使您的表格看起来像[图 6-34](#a_view_of_the_table_after_color_has_been)。
- en: '![A view of the table after color has been added for the top, middle, and bottom
    values](Images/TAST_0634.png)'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加了顶部、中部和底部值颜色后的表格视图](Images/TAST_0634.png)'
- en: Figure 6-34\. A view of the table after color has been added for the top, middle,
    and bottom values
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-34\. 添加了顶部、中部和底部值颜色后的表格视图
- en: 'Create your rank by using the `INDEX()` function and an ad hoc calculation,
    as follows:'
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`INDEX()`函数和临时计算创建您的排名，如下所示：
- en: Double-click the whitespace underneath SUM(Sales) on the Marks card. This should
    create an ad hoc calculation.
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击标记卡上SUM(Sales)下方的空白处。这应该会创建一个临时计算。
- en: 'Type `**INDEX()**` and then press Enter. You should have a second calculation
    on the Marks card now: INDEX().'
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 键入`**INDEX()**`然后按Enter。现在，在标记卡上应该有第二个计算：INDEX()。
- en: Click the little icon to the left of INDEX()—it’s a mini detail icon—and change
    the type to Text.
  id: totrans-270
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击INDEX()左侧的小图标——这是一个迷你详细信息图标——将类型更改为文本。
- en: 'Depending on the size of the spacing on your view, you may see the symbols
    #####, indicating you don’t have enough space for the text. To fix this, click
    and edit the text on the view.'
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据视图中间隙的大小，您可能会看到####符号，表示文本空间不足。要修复此问题，请点击视图上的文本并进行编辑。
- en: Format your text so the INDEX() calculation is a little smaller than the SUM(Sales);
    see [Figure 6-35](#the_text_editor_for_the_tooltips).
  id: totrans-272
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 格式化文本，使INDEX()计算略小于SUM(Sales)；参见[图 6-35](#the_text_editor_for_the_tooltips)。
- en: Also set the color to be a slightly lighter tint. We used the second-to-bottom
    color in the black column on the color editor.
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同时将颜色设置为稍浅的色调。我们在颜色编辑器的黑色列中使用了倒数第二个颜色。
- en: '![The text editor for the tooltips](Images/TAST_0635.png)'
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![工具提示的文本编辑器](Images/TAST_0635.png)'
- en: Figure 6-35\. The text editor for the tooltips
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-35\. 工具提示的文本编辑器
- en: 'After you set your formatting, you’ll notice your “rankings” via the `INDEX()`
    function do not appear in the correct order. Fix them as follows:'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置格式后，您会注意到通过`INDEX()`函数设置的“排名”未按正确顺序显示。请按以下方式进行修复：
- en: Edit the table calculation.
  id: totrans-277
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑表格计算。
- en: Select Specific Dimensions and all the dimensions listed.
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择特定维度和所有列出的维度。
- en: Click and drag Category to the top of the list of dimensions.
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Category拖动到维度列表的顶部。
- en: In the “At the level” list, make sure Deepest is selected. From the ”Restart
    every” list, select Category. Then complete a custom sort in descending order,
    on the sum of sales.
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“在级别”列表中，确保选择了Deepest。从“每次重新开始”列表中选择Category。然后按销售总额降序完成自定义排序。
- en: Your result should look like [Figure 6-26](#the_final_version_of_this_quotation_mark).
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您的结果应该看起来像[图 6-26](#the_final_version_of_this_quotation_mark)。
- en: 'Problem-Solving with Subsets and Hiding the Dreaded Abc: Office Essentials
    Case Study'
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用子集解决问题并隐藏可怕的Abc：Office Essentials 案例研究
- en: 'OE has *lots* of products. In fact, within one sub-category, there might be
    hundreds of products. Knowing the top-selling products is important, of course,
    but Ali and the data team need more details: they want to build a table to display
    the top products *within each sub-category*. They also want to compare those products’
    sales numbers with all other products in that category combined. They tried using
    a set, but it didn’t work. What should they do?'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: OE拥有大量产品。事实上，在一个子类别中，可能有数百种产品。当然，了解畅销产品很重要，但Ali和数据团队需要更多细节：他们想要构建一个表格，显示每个子类别内的畅销产品。他们还希望将这些产品的销售数字与该类别中所有其他产品的销售数字进行比较。他们尝试使用一个集合，但效果不佳。他们该怎么办？
- en: Oh, and they have one more problem—some of their tables keep producing a weird
    column that just reads “Abc” on every row. The team needs to get rid of that “Abc”
    column before they can present their results, but it won’t budge. What’s the deal?
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个问题——他们的一些表格始终生成一个奇怪的列，每行都只读“Abc”。团队需要在展示结果之前摆脱这个“Abc”列，但它怎么也不肯走。问题出在哪？
- en: Oh yes, your authors know both of these problems well. Don’t worry, we’ll get
    these tables sorted out.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，你的作者对这些问题都很了解。别担心，我们会解决这些表格排序问题。
- en: 'Strategy: Show the Top Products Within Sub-Categories'
  id: totrans-286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：显示子类别内的顶级产品
- en: 'Let’s start with those sub-category totals. The OE data team tried to use sets,
    with no luck. That’s because sets apply at only the highest level of the data
    source, and they’re looking to break out that data by individual products within
    a category. You can’t use a set at the product level. Follow along here as we
    show you a workaround:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从这些子类别总数开始。OE 数据团队尝试使用集合，但没有成功。那是因为集合只适用于数据源的最高级别，他们希望按类别内的单个产品拆分数据。您不能在产品级别使用集合。请跟随我们的步骤来找到解决方法：
- en: To build the top sub-categories set, create a new integer parameter called `**[Top
    N Sub-Category]**`. Set the value to 4.
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要构建顶级子类别集，创建一个新的整数参数，称为 `**[前 N 个子类别]**`。将值设置为 4。
- en: Now create a Top N set with a sub-category called `**[Sub-Category | Profit]**`.
    Use the [Top N Sub-Category] parameter to set the number of sub-categories to
    be within the set and choose the sum of [Profit] as the measure.
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在创建一个名为 `**[子类别 | 利润]**` 的子类别为 Top N 集。使用 [Top N 子类别] 参数设置集合中的子类别数量，并选择 [利润]
    的总和作为度量。
- en: 'Build a top sub-categories calculation:'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个顶级子类别计算：
- en: '[PRE16]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Place [Sub-Category Header] on Rows.
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将 [子类别标题] 放置在行上。
- en: 'Write a sub-category sorting calculation:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个子类别排序计算：
- en: '[PRE17]'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Right-click [Sub-Category Header] on Rows, and sort descending on Sub-Category
    Sort ([Figure 6-36](#the_left_square_bracketsub-category_head)).
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 右键单击行上的 [子类别标题]，并按子类别排序（参见[图 6-36](#the_left_square_bracketsub-category_head)）进行降序排序。
- en: '![The [Sub-Category Header] calculation on Rows](Images/TAST_0636.png)'
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![行上的 [子类别标题] 计算](Images/TAST_0636.png)'
- en: Figure 6-36\. The [Sub-Category Header] calculation on Rows
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-36\. 行上的 [子类别标题] 计算
- en: Create an integer parameter for the number of products to show. Call it `**[Top
    N Products]**`. Set the integer to 5\. This parameter can be used to dynamically
    update the number of products that will show details.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个整数参数，用于显示要显示的产品数量。称其为 `**[前 N 个产品]**`。将整数设置为 5\. 此参数可用于动态更新显示详细信息的产品数量。
- en: 'Create a function called `**[Product Index]**`:'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `**[产品索引]**` 的函数：
- en: '[PRE18]'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: This calculation will work as a ranking of each product within its sub-category
    (we’ll discuss that more in a bit). In the meantime, you can use this calculation
    to help you build your remaining calculations.
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此计算将作为每个产品在其子类别内的排名（稍后我们将更详细地讨论）。同时，您可以使用此计算来帮助构建其余的计算。
- en: 'Build a calculation to help you sort the products into our Top N (in our example,
    Top 5) per sub-category. If a product falls outside the Top N, it still gets a
    ranking, just outside the top:'
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个计算，以帮助您将产品按我们的 Top N（在我们的示例中为 Top 5）分类到每个子类别中。如果某个产品落在 Top N 之外，它仍然会获得排名，只是在顶部之外：
- en: '[PRE19]'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Place [Product Sort] to the left of [Sub-Category Header] on the Rows shelf
    (make sure it is Discrete). Add [Product Name] to the right of [Sub-Category Header]
    on the Rows shelf. Edit the sort of [Product Name] to be in descending order by
    your key metric—in this case, sum of [Profit].
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将 [产品排序] 放置在 [子类别标题] 的左侧行上（确保它是离散的）。将 [产品名称] 添加到 [子类别标题] 的右侧行上。编辑 [产品名称] 的排序顺序，按关键指标（在本例中为
    [利润] 的总和）进行降序排序。
- en: Now right-click to edit the table calculation for [Product Sort]. Select Specific
    Dimensions, and select only Product Name. You should see something like [Figure 6-37](#in_this_tablecomma_the_top_five_products).
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在右键单击以编辑 [产品排序] 的表格计算。选择特定维度，仅选择产品名称。您将看到类似于 [图 6-37](#in_this_tablecomma_the_top_five_products)
    的内容。
- en: '![In this table, the top 5 products are separated from the remainder of the
    products](Images/TAST_0637.png)'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在这个表格中，前 5 个产品与其余产品分开](Images/TAST_0637.png)'
- en: Figure 6-37\. In this table, the top 5 products are separated from the remainder
    of the products
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-37\. 在这个表格中，前 5 个产品与其余产品分开。
- en: 'Create a calculation called `**[Product Row Labels]**`. This calculation will
    be the label you see on rows:'
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `**[产品行标签]**` 的计算。此计算将是您在行上看到的标签：
- en: '[PRE20]'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Tip
  id: totrans-310
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: Did you notice that we’re using the Attribute function, `ATTR()`, here? Since
    the index calculation is an aggregate, dimensions within the calculation also
    need to be aggregated. `ATTR()` evaluates the minimum and maximum values of the
    dimension, and if they’re the same, returns the value; if they’re different, it
    will return an asterisk (`*`).
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您是否注意到我们在这里使用了属性函数`ATTR()`？由于索引计算是一个聚合，计算内部的维度也需要聚合。`ATTR()`评估维度的最小值和最大值，如果它们相同，则返回该值；如果它们不同，则返回星号（`*`）。
- en: Add this dimension to the Rows shelf to the right of [Product Name]. Edit the
    table calculation for the value on the Rows shelf, select Specific Dimensions,
    and select only Product Name.
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此维度添加到[产品名称]右侧的行架上。编辑行架上值的表计算，选择特定维度，并仅选择产品名称。
- en: 'Create the row header for top products. Start by creating a calculation called
    `**[Product Header]**`. You will use this calculation as a filter to show the
    top products and the first product in the [Other Products] sub-category:'
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建顶级产品的行标题。首先创建一个名为**[产品标题]**的计算。您将使用此计算作为一个筛选器，以显示顶级产品和[其他产品]子类别中的第一个产品：
- en: '[PRE21]'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: After you have saved the calculation, click and drag this dimension onto the
    Filters shelf. Click OK (don’t worry about selecting values yet). Edit the table
    calculation; within select Specific Dimensions, choose only Product Name. Then
    edit the filter and select only values that are True. [Figure 6-38](#the_results_after_adding_a_filter_and_cr)
    shows what this should look like.
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保存计算后，将此维度拖放到筛选器架上。单击确定（不必担心选择值）。编辑表计算；在内部选择特定维度，仅选择产品名称。然后编辑过滤器，并仅选择真实值。[图6-38](#the_results_after_adding_a_filter_and_cr)显示了应该看起来的样子。
- en: '![The results after adding a filter and creating product row labels](Images/TAST_0638.png)'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![添加筛选器并创建产品行标签后的结果](Images/TAST_0638.png)'
- en: Figure 6-38\. The results after adding a filter and creating product row labels
  id: totrans-317
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-38。添加筛选器并创建产品行标签后的结果
- en: Once you’ve added [Product Row Labels] to the Rows shelf, you can then hide
    [Product Sort] and [Product Name] by right-clicking each dimension on the Rows
    shelf and unchecking Show Header.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[产品行标签]添加到行架后，您可以通过右键单击行架上的每个维度并取消选中显示标题来隐藏[产品排序]和[产品名称]。
- en: Now you must create all the measures you will use on your view. For every measure,
    you’ll use the same format. For values that are outside the Top N, you need to
    calculate the `TOTAL()` of some aggregation. If the value is inside the Top N,
    you can just use the standard aggregation.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您必须创建在视图上使用的所有度量。对于每个度量，您将使用相同的格式。对于超出前N名的值，您需要计算某些聚合的`TOTAL()`。如果值在前N名之内，则可以直接使用标准聚合。
- en: 'Here, place `SUM(Profit)` inside the `TOTAL()` function, but only when it’s
    outside the top 5\. When a [Product Name] is inside the top 5, take the standard
    `SUM(Profit)`:'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，将`SUM(Profit)`放在`TOTAL()`函数内，但仅当它在前5名之外时。当[产品名称]位于前5名内时，采用标准的`SUM(Profit)`：
- en: '[PRE22]'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'To include other aggregated measures, you could repeat the same steps. Here
    are calculations for [Sales]:'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要包括其他聚合度量，您可以重复相同的步骤。以下是[销售]的计算：
- en: '[PRE23]'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'And here are calculations for [Total Orders]:'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里还有[总订单]的计算：
- en: '[PRE24]'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: When you place all three measures on the visualization, you’ll need to edit
    the nested table calculations within each calculation. Be sure to edit both. Select
    Specific Dimensions and select Product Name for both.
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当您将所有三个度量放在可视化中时，您需要编辑每个计算中的嵌套表计算。确保同时编辑。选择特定维度，并选择产品名称。
- en: Because the names of the calculations that display on the header might be less
    than intuitive for your audience, we recommend editing their aliases. For the
    measures, right-click [Measure Names] on your Columns shelf and select Edit Aliases;
    then rename the dimension aliases. For the dimensions on Rows, you can right-click
    the header names and select Hide Field Labels for Rows. Be sure to add appropriate
    table formatting too.
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 因为显示在标题上的计算名称可能对您的观众来说不够直观，我们建议编辑它们的别名。对于度量，右键单击列架上的[度量名称]，选择编辑别名；然后重命名维度别名。对于行上的维度，您可以右键单击标题名称，并选择隐藏行标签。还要确保添加适当的表格格式。
- en: The final visualization is shown in [Figure 6-39](#a_full_view_of_the_final_visualization).
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最终的可视化显示在[图6-39](#a_full_view_of_the_final_visualization)中。
- en: '![A full view of the final visualization](Images/TAST_0639.png)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![最终可视化的完整视图](Images/TAST_0639.png)'
- en: Figure 6-39\. A full view of the final visualization
  id: totrans-330
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-39。最终可视化的完整视图
- en: Note that the bottom product always shows as All Others and is the total of
    all other products in the category.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，底部产品总是显示为所有其他产品，并且是该类别中所有其他产品的总和。
- en: 'Strategy: Hide the Abc'
  id: totrans-332
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：隐藏Abc
- en: 'Sometimes you want to make a table just to explore its dimensions, or to output
    data to a *.csv* file or other format. If you use only dimensions on rows without
    any measures on columns or dimensions on text, though, you will end up with the
    “Abc” in the dimension value on your view: literally, just the letters “Abc” displayed
    as a value. You can see it in [Figure 6-40](#the_dreaded_abc_column_results_from_havi),
    as well as in some of the figures in the previous strategy.'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，您只想创建一个表格来探索其维度，或将数据输出到*.csv*文件或其他格式。但如果您仅在行上使用维度而没有任何列上的度量或文本上的维度，那么您将得到视图上维度值中的“Abc”：字面上只显示字母“Abc”。您可以在[图6-40](#the_dreaded_abc_column_results_from_havi)中看到它，以及前面策略中的一些图像。
- en: '![The dreaded Abc column results from having no values on text in a table](Images/TAST_0640.png)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![表格中没有文本值时产生的恐怖的Abc列](Images/TAST_0640.png)'
- en: Figure 6-40\. The dreaded Abc column results from having no values on text in
    a table
  id: totrans-335
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-40。恐惧的Abc列来自表格中没有文本值。
- en: 'Aesthetically, this Abc column is a nightmare. It’s also a distraction to your
    end users. You should get rid of it. Here’s how:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 美观上，这个Abc列是一场噩梦。对您的最终用户也是一种干扰。您应该摆脱它。以下是如何做到这一点：
- en: Use the Sample - Superstore dataset and place [Order ID], [Customer Name], [Country/Region],
    [State], [City], and [Ship Mode] on Rows.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用Sample - Superstore数据集，并将[Order ID]、[Customer Name]、[Country/Region]、[State]、[City]和[Ship
    Mode]放在行上。
- en: Double-click the whitespace below the Marks card button and type `**""**`. These
    are *empty quotes*—two quotation marks with nothing between them.
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击Marks卡按钮下方的空白处，并键入`**""**`。这是*空引号* ——两个没有内容的引号。
- en: Click the icon to the left of the empty quotes and change the type to Text.
    This will then place the empty quotes on Text and remove the Abc.
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击空引号左侧的图标并更改类型为文本。然后将空引号放置在文本上并移除Abc。
- en: On your keyboard, press Ctrl-right-arrow three times to make the label wider.
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的键盘上，按Ctrl右箭头三次以使标签变宽。
- en: Manually size the column to be as small as possible by clicking and dragging
    the right-border to the Ship Mode column.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击和拖动右边框调整列的大小，使其尽可能小到Ship Mode列。
- en: On your keyboard press Ctrl-left-arrow five times.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的键盘上按下Ctrl左箭头五次。
- en: Tip
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: 'Step 6 adjusts the row width of your table. This also works for row height:
    instead of using the left and right arrows, you can use the up and down arrows.'
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 步骤6调整表格的行宽。这也适用于行高：你可以使用上下箭头，而不是左右箭头。
- en: This will leave you with a table that is export-ready and no longer shows “Abc”
    ([Figure 6-41](#the_final_version_of_the_table_with_abc)).
  id: totrans-345
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将使您的表格具备导出准备就绪的状态，不再显示“Abc”（[图6-41](#the_final_version_of_the_table_with_abc)）。
- en: '![The final version of the table with Abc removed](Images/TAST_0641.png)'
  id: totrans-346
  prefs: []
  type: TYPE_IMG
  zh: '![已移除Abc的最终版表格](Images/TAST_0641.png)'
- en: Figure 6-41\. The final version of the table with Abc removed
  id: totrans-347
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-41。已移除Abc的最终版表格
- en: Conclusion
  id: totrans-348
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: For dashboard developers, creating tables can be a tough pill to swallow. We’re
    capable of so much more! But tables aren’t going away—and for some audiences,
    they really are the best way to take in and evaluate data. It’s our job to use
    our analytical tools to provide them with insights that will make their jobs easier
    and their decision making faster. Sometimes that means designing tables.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 对于仪表板开发人员来说，创建表格可能是一种难以接受的事情。我们有能力做更多！但表格并没有消失，对于某些观众来说，它们确实是理解和评估数据的最佳方式。我们的工作是利用我们的分析工具为他们提供能够使他们的工作更轻松、决策更快速的见解。有时，这意味着设计表格。
- en: Remember that creating a table always starts with a purpose. Whether your audience
    is a supply-chain team trying to understand individual routes and loads, or an
    executive team trying to understand spending, if you design around their purpose,
    you will be able to help them.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，创建表格始终有一个目的。无论您的观众是试图理解单个路线和负载的供应链团队，还是试图理解支出的执行团队，如果您围绕他们的目的设计，您将能够帮助他们。
- en: Don’t underestimate the difference it makes when you take the time to improve
    the overall look and feel of a table. By following the simple steps we outlined
    at the beginning of this chapter, you can easily clean up a table’s design.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 不要低估在改善表格的整体外观和感觉时所需的时间。通过遵循本章开头我们概述的简单步骤，您可以轻松清理表格的设计。
- en: Consider adding a pop of color too. By using color intermittently and thoughtfully,
    you can emphasize the critical information in a table—just as you would in a dashboard.
    We showed you how to limit the amount of color in your tables. We also showed
    you how to change the encoding from a highlight to dots, which simplifies the
    way your audience interacts with the data.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑添加一些色彩的点缀。通过间歇性和有思考的使用颜色，你可以突出表格中的关键信息，就像在仪表板中一样。我们向你展示了如何限制表格中颜色的使用量。我们还向你展示了如何将编码从高亮更改为点，这简化了观众与数据交互的方式。
- en: Another way to emphasize the insights in your data is by using different encodings
    in each column. Instead of only dots or colored cells, for example, you can use
    arrows or additional text. We’ve shown you how to create custom tables with different
    mark types for different columns, even ones that don’t use measure names or measure
    values as headers, as well as how to re-create the headers when you build your
    dashboard. We also showed you how to use measures in your headers. You also learned
    multiple ways to add context to values in a table, an important topic that we’ll
    return to in [Chapter 12](ch12.xhtml#building_dashboards_and_data_products).
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种突出数据见解的方法是在每一列中使用不同的编码方式。例如，你可以使用箭头或额外的文字，而不仅仅是点或彩色单元格。我们已经向你展示了如何为不同列创建自定义表格，并且即使没有使用测量名称或测量值作为表头，也可以使用不同的标记类型。同时，当你构建仪表板时，我们还向你展示了如何重新创建这些表头。我们还向你展示了如何在表头中使用测量值。你还学习了在表格中为数值添加背景的多种方法，这是一个重要的主题，我们将在[第12章](ch12.xhtml#building_dashboards_and_data_products)中再次讨论。
- en: Finally, we did a little problem-solving for two common issues with Tableau
    tables. Since there is no out-of-the-box method for highlighting the top products
    within various subsets of the data, we showed you a workaround. You also learned
    how to get rid of the pesky “Abc” column that shows up in some very large tables.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们解决了 Tableau 表格中两个常见问题。由于没有针对在数据的各个子集中突出显示顶级产品的开箱即用方法，我们向你展示了一种解决方法。你还学会了如何消除一些非常大的表格中出现的烦人的“Abc”列。
- en: 'In the next chapter, we’ll shift gears and look at another powerful way to
    provide context to your data: with maps.'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将转变视角，探讨另一种为数据提供背景的强大方式：使用地图。
