- en: Chapter 2\. Foundations of Probability
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二章。概率的基础
- en: Have you ever stopped to consider what your meteorologist really means by a
    30% chance of rain? Barring a crystal ball, they can’t say for sure that it will
    rain. That is, they are *uncertain* about an *outcome*. What they *can* do is
    *quantify* that uncertainty as a value between 0% (certain it will not rain) and
    100% (certain it will rain).
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 你有没有停下来考虑过你的气象学家所说的30%降雨几率是什么意思？除非有水晶球，他们不能确定会下雨。也就是说，他们对一个*结果*感到*不确定*。但他们*能够*将这种不确定性量化为介于0%（肯定不会下雨）和100%（肯定会下雨）之间的值。
- en: Data analysts, like meteorologists, do not possess crystal balls. Often, we
    want to make claims about an entire population while only possessing the data
    for a sample. So we too will need to quantify uncertainty as a probability.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 数据分析师，就像气象学家一样，没有水晶球。通常情况下，我们希望对整个人群做出断言，但只有样本数据。因此，我们也需要将不确定性量化为概率。
- en: We’ll start this chapter by digging deeper into how probability works and how
    probabilities are derived. We’ll also use Excel to simulate some of the most important
    theorems in statistics, which are largely based on probability. This will put
    you on excellent footing for [Chapter 3](ch03.html#foundations-of-inference) and
    [Chapter 4](ch04.html#foundations-of-data-analytics), where we’ll perform inferential
    statistics in Excel.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从深入探讨概率的工作原理及其推导方式开始本章。我们还将使用Excel模拟一些统计学中最重要的定理，这些定理大多基于概率。这将为[第三章](ch03.html#foundations-of-inference)和[第四章](ch04.html#foundations-of-data-analytics)的推断统计学在Excel中的实施奠定良好的基础。
- en: Probability and Randomness
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率与随机性
- en: Colloquially, we say that something is “random” when it seems out of context
    or haphazard. In probability, something is *random* when we know an event will
    *have* an outcome, but we’re not sure what that outcome will be.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 俗称，当某事似乎脱离上下文或杂乱无章时，我们说它是“随机”的。在概率论中，当我们知道事件将*有*一个结果，但不确定结果会是什么时，称之为*随机*。
- en: Take a six-sided die, for example. When we toss the die, we know it will land
    on one side—it won’t disappear or land on multiple sides. Knowing that we’ll get
    *an* outcome, but not *which* outcome, is what’s meant by randomness in statistics.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 以一个六面骰子为例。当我们掷骰子时，我们知道它会落在一面上，而不会消失或落在多面上。知道我们会得到*一个*结果，但不知道是*哪一个*结果，这就是统计学中所说的随机性。
- en: Probability and Sample Space
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率和样本空间
- en: We know that when the die lands, it will display a number between one and six.
    This set of all outcomes is called a *sample space*. Each of these outcomes is
    assigned a probability greater than zero, because it’s possible that the die may
    land on any of its sides. Summed together, these probabilities come to 1, because
    we are certain the outcome will be one of these possibilities in the sample space.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道，当骰子落地时，会显示一个介于一到六之间的数字。这些所有可能的结果构成了一个*样本空间*。每个结果都被赋予大于零的概率，因为骰子可能会落在任一面上。这些概率加在一起得到1，因为我们确信结果将在样本空间中的这些可能性之一。
- en: Probability and Experiments
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率与实验
- en: We’ve determined that rolling a die is random, and we’ve outlined its *sample
    space*. We can now begin to build experiments for this random event. In probability,
    experiments are procedures that can be infinitely replicated with a consistent
    sample space of possible outcomes.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经确定掷骰子是随机的，并且我们已经概述了它的*样本空间*。现在我们可以开始为这一随机事件构建实验。在概率论中，实验是可以无限重复的过程，其可能的结果构成了一个一致的样本空间。
- en: 'Some experiments take many years of planning, but ours is fortunately simple:
    roll a die. Each time we do, we get another value between one and six. The result
    is our outcome. Each die roll is known as a *trial* of the experiment.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 有些实验需要多年的计划，但我们的实验幸运地很简单：掷骰子。每次我们这样做，我们会得到一个介于一到六之间的值。结果就是我们的输出。每次掷骰子称为实验的*试验*。
- en: Unconditional and Conditional Probability
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无条件和条件概率
- en: 'Given what we know about probability so far, a typical probabilistic question
    about die rolls might be: “What is the probability of rolling a four?” This is
    called the *marginal* or *unconditional* probability, as we are only looking at
    one event in isolation.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们目前对概率的了解，关于掷骰子的典型概率问题可能是：“掷出4的概率是多少？”这称为*边际*或*无条件*概率，因为我们只考虑一个事件的独立情况。
- en: But what about a question like “What is the probability of rolling a two, given
    that we rolled a one in the last trial?” To answer this, we would be discussing
    *joint* probability. Sometimes when we are studying the probability of two events,
    we know the outcome of one but not the other. This is known as *conditional* probability,
    and one way to calculate it is with Bayes’ rule.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 但如果有这样一个问题：“在上次试验中我们掷出1的情况下，掷出2的概率是多少？”要回答这个问题，我们需要讨论*联合*概率。有时候，在研究两个事件的概率时，我们知道其中一个事件的结果，但不知道另一个事件的结果。这被称为*条件*概率，计算方法之一就是Bayes定理。
- en: We will not cover Bayes’ rule, and the many areas of probability and statistics
    that apply it, in this book, but it’s well worth your future study. Check out
    Will Kurt’s *Bayesian Statistics the Fun Way* (No Starch Press) for a fantastic
    introduction. You will see that Bayesianism offers a unique approach to working
    with data with some impressive applications for analytics.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会在本书中涵盖Bayes定理及其适用的许多概率与统计领域，但它非常值得你未来的学习。查看Will Kurt的*Bayesian Statistics
    the Fun Way*（No Starch Press）可以获得出色的介绍。你会发现贝叶斯主义在数据处理中提供了独特的方法，有一些令人印象深刻的应用于分析中。
- en: Note
  id: totrans-16
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: The schools of thought developed around Bayes’ rule diverge from the so-called
    frequentist approaches used in this book and much of classical statistics.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Bayes定理形成的思想流派与本书中使用的所谓频率主义方法及大部分古典统计学有所不同。
- en: Probability Distributions
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率分布
- en: So far, we’ve learned what makes our die toss a random experiment, and we’ve
    enumerated the sample space of what possible values a trial might take. We know
    that the sum of the probabilities of each outcome must equal 1, but what is the
    relative probability for each outcome? For this we can refer to *probability distributions*.
    A probability distribution is a listing of what possible outcomes an event can
    take, and how common each outcome is. While a probability distribution could be
    written as a formal mathematical function, we will instead focus on its quantitative
    output.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经了解了什么使我们的掷骰子成为一个随机实验，并枚举了试验可能取值的样本空间。我们知道每个结果的概率之和必须等于1，但每个结果的相对概率是多少呢？为此，我们可以参考*概率分布*。概率分布列出了事件可能取得的结果，以及每个结果的普遍程度。虽然概率分布可以写成正式的数学函数，但我们将集中于其数量输出。
- en: In [Chapter 1](ch01.html#foundations-of-eda), you learned about the difference
    between discrete and continuous variables. There are also related discrete and
    continuous probability *distributions*. Let’s learn more, starting with the former.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第1章](ch01.html#foundations-of-eda)中，你了解了离散和连续变量之间的区别。还有相关的离散和连续概率*分布*。让我们更深入地学习，从前者开始。
- en: Discrete Probability Distributions
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 离散概率分布
- en: 'We’ll continue with our example of a die toss. This is considered a *discrete*
    probability distribution because there are a countable number of outcomes: for
    example, while a die toss can result in a 2 or a 3, it can never result in a 2.25.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将继续使用掷骰子的示例。这被认为是*离散*概率分布，因为结果是可数的：例如，掷骰子可能会得到2或3，但永远不可能得到2.25。
- en: 'In particular, a die toss is a *discrete uniform* probability distribution
    because each outcome is equally likely for any trial: that is, we are just as
    likely to roll a 4 as we are a 2, and so forth. To be more specific, we have a
    one-in-six probability for each outcome.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 特别是，掷骰子属于*离散均匀*概率分布，因为每次试验的每个结果都同等可能发生：也就是说，掷出4和掷出2的可能性一样大，依此类推。具体而言，每个结果的概率为六分之一。
- en: To follow along with this and the other Excel demos in this chapter, head to
    the *ch-2.xlsx* file in this book’s [repository](https://oreil.ly/1hlYj). For
    most of these exercises, I completed some staging of the worksheet already and
    will work through the remainder with you here. Start with the *uniform-distribution*
    worksheet. Each possible outcome *X* is listed in the range `A2:A7`. We know that
    it’s equally likely to get any outcome, so our formula in `B2:B7` should be `=1/6`.
    *P(X=x)* indicates the probability that a given event will result in the listed
    outcome.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 要继续学习本章中的Excel演示及其他演示，请转到本书的[存储库](https://oreil.ly/1hlYj)中的*ch-2.xlsx*文件。在大多数这些练习中，我已经完成了工作表的某些分段，并将在这里与您一起完成其余部分。首先查看*uniform-distribution*工作表。范围`A2:A7`中列出了每种可能的结果*X*。我们知道每种结果都有相同的可能性，所以我们在`B2:B7`中的公式应为`=1/6`。*P(X=x)*表示给定事件导致列出的结果的概率。
- en: Now, select the range `A1:B7` and from the ribbon, go to Insert > Clustered
    Column. Your probability distribution and visualization should look like [Figure 2-1](#die-toss-distribution).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在选择范围`A1:B7`，然后从功能区选择插入 > 聚类柱状图。你的概率分布和可视化应该像[图 2-1](#die-toss-distribution)那样。
- en: Welcome to your first, if unexciting, probability distribution. Notice the gaps
    between values in our visualization? This is a wise choice to indicate that these
    are *discrete* and not continuous outcomes.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到你的第一个，尽管有些乏味的概率分布。注意我们可视化中数值之间的间隔？这是一个明智的选择，表明这些是*离散*而不是连续的结果。
- en: Sometimes we may want to know the *cumulative* probability of an outcome. In
    this case, we take a running total of all probabilities until we reach 100% (because
    the sample space must sum to 1). We’ll find the probability of an event being
    *less than or equal to* a given outcome in column `C`. We can set up a running
    total in the range `C2:C7` with the formula `=SUM($B$2:B2)`.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 有时我们可能想知道一个结果的*累积*概率。在这种情况下，我们将所有概率的累积总和直到达到100%（因为样本空间必须总和为1）。我们将在`C`列中找到一个事件的概率*小于或等于*给定的结果。我们可以用公式`=SUM($B$2:B2)`在范围`C2:C7`中设置一个累积总和。
- en: '![The probability distribution of a six-sided die toss](assets/aina_0201.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![六面骰子投掷的概率分布](assets/aina_0201.png)'
- en: Figure 2-1\. The probability distribution of a six-sided die toss
  id: totrans-29
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-1\. 六面骰子投掷的概率分布
- en: Now, select the range `A1:A7`, hold down the Ctrl key for Windows or Cmd for
    Mac, and highlight `C1:C7`. With this noncontiguous range selected, create a second
    clustered column chart. Do you see the difference between a probability distribution
    and a *cumulative* probability distribution in [Figure 2-2](#cumulative-probability)?
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，选择范围`A1:A7`，在Windows下按住Ctrl键或Mac下按住Cmd键，然后高亮显示`C1:C7`。选择这个非连续范围后，创建第二个聚类柱状图。你能在[图 2-2](#cumulative-probability)中看到概率分布和*累积*概率分布之间的差异吗？
- en: '![Probability versus cumulative distribution](assets/aina_0202.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![概率与累积分布](assets/aina_0202.png)'
- en: Figure 2-2\. The probability versus cumulative probability distribution of a
    six-sided die toss
  id: totrans-32
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-2\. 六面骰子投掷的概率与累积概率分布
- en: Based on logic and mathematical reasoning, we’ve been assuming a one-in-six
    probability of landing on any side of the die. This is called our *theoretical
    probability*. We could also find the probability distribution empirically by rolling
    a die many times and recording the results. This is called an *experimental probability*.
    After all, we could find through experiments that the probability for each side
    of the die is really *not* one in six as theoretically reasoned, and that the
    die is biased toward a given side.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 基于逻辑和数学推理，我们一直假设每面骰子的概率为六分之一。这被称为我们的*理论概率*。我们也可以通过多次掷骰子并记录结果来实验性地找出概率分布。这被称为*实验概率*。毕竟，我们可能通过实验发现，每面骰子的概率实际上*并不*像理论推断的那样是六分之一，而是对某一面有偏好。
- en: 'We have a couple of options for deriving experimental probabilities: first,
    we could indeed conduct a real experiment. Of course, rolling a die dozens of
    times and recording the results might get quite tedious. Our alternative is to
    get the computer to do the heavy lifting, and *simulate* the experiment. Simulation
    often provides a decent approximation of reality, and is frequently used when
    running experiments in real life is too difficult or time-consuming. The downside
    of simulation is that it can fail to reflect any anomalies or idiosyncrasies from
    the real-life experiment that it intends to represent.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有几种选项来推导实验概率：首先，我们确实可以进行真正的实验。当然，多次掷骰子并记录结果可能会变得相当乏味。我们的另一个选择是让计算机来承担繁重的工作，并*模拟*实验。模拟通常能够相对准确地反映现实，经常用于当进行真实实验过于困难或耗时时。模拟的缺点是它可能无法反映出现实实验中的任何异常或特殊情况。
- en: Note
  id: totrans-35
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Simulation is frequently used in analytics to glean what might happen in real
    life when finding out through actual experiments is too difficult or even impossible.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟经常用于分析中，以获取在实际实验中找出的结果，即使实际实验过于困难甚至不可能。
- en: To simulate the experiment of rolling a die, we need a way to consistently choose
    a number between one and six at random. We can do this using Excel’s random number
    generator, `RANDBETWEEN()`. The results you see in the book will be different
    than what you get when you try it yourself…but they will *all* be random numbers
    between one and six.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 要模拟掷骰子的实验，我们需要一种以随机方式在一到六之间选择数字的方法。我们可以使用Excel的随机数生成器`RANDBETWEEN()`来做到这一点。你在书中看到的结果将与你自己尝试时得到的结果不同……但它们将都是一到六之间的随机数。
- en: Warning
  id: totrans-38
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 警告
- en: Your individual results using Excel’s random number generator will look different
    from what’s been recorded in the book.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Excel的随机数生成器生成的个人结果将与书中记录的结果不同。
- en: Now, go to the *experimental-probability* worksheet. In column `A`, we have
    labeled 100 die toss trials for which we’d like to record the outcome. At this
    point, you could start rolling a real die and recording the results in column
    `B`. Your more efficient, if less realistic, alternative is to simulate the results
    with `RANDBETWEEN()`.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，转到*实验概率*工作表。在列`A`中，我们已经标记了100次骰子投掷的试验，我们希望记录结果。此时，你可以开始用真实骰子滚动并在列`B`中记录结果。更高效但不太真实的选择是使用`RANDBETWEEN()`模拟结果。
- en: 'This function takes two arguments:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数接受两个参数：
- en: '[PRE0]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We are using a six-sided die, which makes our range go between one and six:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用的是六面体骰子，这使得我们的范围介于一到六之间：
- en: '[PRE1]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`RANDBETWEEN()` only returns whole numbers, which is what we want in this case:
    again, this is a *discrete* distribution. Using the fill handle, you can generate
    an outcome for all 100 trials. Don’t get too attached to your current outcomes:
    press F9 in Windows, fn-F9 for Mac, or from the ribbon select Formulas → Calculate
    Now. This will recalculate your workbook, and regenerate your random numbers.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '`RANDBETWEEN()`仅返回整数，这在本例中正是我们所需要的：再次强调，这是一个*离散*分布。使用填充手柄，你可以为所有100次试验生成一个结果。不要过于依赖当前的结果：在Windows中按下F9，在Mac中按下fn-F9，或从功能区选择公式
    → 立即计算。这将重新计算你的工作簿，并重新生成随机数。'
- en: 'Let’s compare our theoretical versus experimental probabilities of a die toss
    in columns `D-F`. Column `D` will be used to enumerate our sample space: the numbers
    one through six. In column `E`, take the theoretical distribution: `1/6`, or `16.67%`.
    In column `F`, calculate the experimental distribution from columns `A` and `B`.
    This is the percentage of times we find each outcome across all trials. You can
    find this using the formula:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们比较在列`D-F`中骰子投掷的理论与实验概率。列`D`将用于列举我们的样本空间：数字一到六。在列`E`中，采用理论分布：`1/6`，或`16.67%`。在列`F`中，从列`A`和`B`中计算实验分布。这是我们在所有试验中发现每个结果的百分比。你可以使用以下公式找到这一点：
- en: '[PRE2]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Select your range `D1:F7` and from the ribbon go to Insert → Clustered Column.
    Your worksheet should now look like [Figure 2-3](#theoretical-experimental-probabilities).
    Try recalculating it a couple of times.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 选择你的范围`D1:F7`，然后从功能区中选择插入 → 聚类柱状图。你的工作表现在应该看起来像[图 2-3](#theoretical-experimental-probabilities)。试着重新计算几次。
- en: '![Theoretical versus experimental probabilities](assets/aina_0203.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![六面体骰子的理论与实验概率比较](assets/aina_0203.png)'
- en: Figure 2-3\. Theoretical versus experimental probabilities of a six-sided die
    toss
  id: totrans-50
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-3\. 六面体骰子投掷的理论与实验概率比较
- en: 'It looks like, based on our experimental distribution, we were right to predict
    an equal likelihood of rolling any number. Of course, our experimental distribution
    isn’t *perfectly* like the theoretical: there will always be some error due to
    random chance.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们的实验分布，我们预测每个数字滚动的可能性相等是正确的。当然，我们的实验分布不是*完全*与理论相同：由于随机机会，总会有一些误差。
- en: It could be the case, however, that were we to conduct the experiment in real
    life, the results would differ from what we derived from simulation. Perhaps the
    real-life die of interest is *not* fair, and we’ve overlooked that by relying
    on our own reasoning and Excel’s algorithm. It seems like a trivial point, but
    often probabilities in real life don’t behave as we (or our computers) expect
    them to.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，实际进行实验时可能会出现与我们从模拟中得出的结果不同的情况。也许真实情况下的骰子*并不*公平，而我们依赖自己的推理和Excel的算法可能忽视了这一点。这似乎是个琐碎的细节，但实际生活中的概率通常不像我们（或我们的计算机）所预期的那样行为。
- en: The discrete uniform is one of many discrete probability distributions; others
    commonly used in analytics include the binomial and Poisson distributions.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 离散均匀分布是许多离散概率分布之一；在分析中常用的其他分布包括二项分布和泊松分布。
- en: Continuous Probability Distributions
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连续概率分布
- en: A distribution is considered continuous when an outcome can take any possible
    value between two other values. We will focus here on the normal distribution,
    or the *bell curve*, as depicted with a histogram. You may be familiar with this
    famous shape, seen in [Figure 2-4](#normal-distribution).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当结果可以在两个值之间取任意可能值时，分布被认为是连续的。我们在这里将重点放在正态分布，或者*钟形曲线*上，如直方图所示。你可能熟悉这个著名的形状，见于[图 2-4](#normal-distribution)。
- en: You’ll see in this chart a perfectly symmetrical distribution centered around
    the variable’s mean (μ). Let’s dig in on what the normal distribution is and what
    it tells us, using Excel to illustrate the fundamental statistical concepts that
    are based on it.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图表中，你会看到一个完全对称的分布，以变量的平均值（μ）为中心。让我们深入了解正态分布是什么，以及它告诉我们的内容，使用 Excel 来说明基于它的基本统计概念。
- en: '![Normal distribution](assets/aina_0204.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![正态分布](assets/aina_0204.png)'
- en: Figure 2-4\. The normal distribution depicted with a histogram
  id: totrans-58
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-4\. 用直方图描述的正态分布
- en: The normal distribution is worth reviewing in part because it is so common in
    the natural world. For example, [Figure 2-5](#real-normal-distributions) shows
    histograms of the distribution of student heights and wine pH levels, respectively.
    These datasets are available in the book’s [repository](https://oreil.ly/1hlYj)
    for you to explore in the *datasets* folder under *heights* and *wine*, respectively.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布很值得回顾，因为它在自然界中非常常见。例如，[图 2-5](#real-normal-distributions)展示了学生身高和酒的 pH 值的分布直方图。这些数据集可以在本书的[仓库](https://oreil.ly/1hlYj)中找到，你可以在
    *heights* 和 *wine* 文件夹下探索这些数据集。
- en: '![Normal variables](assets/aina_0205.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![正态变量](assets/aina_0205.png)'
- en: 'Figure 2-5\. Two normally distributed variables from real life: student heights
    and wine pH levels'
  id: totrans-61
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-5\. 现实生活中两个服从正态分布的变量：学生身高和酒的 pH 值
- en: 'You may be wondering how we know when a variable is normally distributed. Good
    question. Think back to our die toss example: we enumerated all possible outcomes,
    derived a theoretical distribution, then derived an experimental distribution
    (via simulation) to compare the two. Consider the histograms in [Figure 2-5](#real-normal-distributions)
    as *experimental distributions* of their own: in this case, the data was collected
    manually rather than relying on a simulation.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能想知道我们如何知道一个变量是否服从正态分布。好问题。回想一下我们的骰子投掷例子：我们列举了所有可能的结果，推导出一个理论分布，然后通过模拟推导出一个实验分布，以比较两者。将[图 2-5](#real-normal-distributions)中的直方图视为它们自己的*实验分布*：在这种情况下，数据是手动收集的，而不是依赖于模拟。
- en: 'There are several ways to determine whether a real-life dataset with its experimental
    distribution is close enough to a theoretical normal distribution. For now, we’ll
    look out for the telltale bell curve histogram: a symmetrical shape, with the
    majority of values found near the center. Other ways include evaluating skewness
    and kurtosis, which are two additional summary statistics measuring the distribution’s
    symmetry and peakedness, respectively. It’s also possible to test for normality
    using methods of statistical inference. You’ll learn the basics of statistical
    inference in [Chapter 3](ch03.html#foundations-of-inference). But for now, we’ll
    go by the rule: “You know it when you see it.”'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方法可以确定现实生活中的数据集及其实验分布是否接近理论正态分布。现在，我们将寻找那个显著的钟形曲线直方图：一个对称的形状，大多数值集中在中心附近。其他方法包括评估偏度和峰度，它们是衡量分布对称性和尖峭度的两个附加摘要统计数据。还可以使用统计推断方法来检验正态性。你将在[第三章](ch03.html#foundations-of-inference)中学习统计推断的基础知识。但现在，我们将遵循这个规则：“看到了就知道是。”
- en: Warning
  id: totrans-64
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 警告
- en: When you are dealing with real-life data, you are dealing with *experimental*
    distributions. They will never perfectly match theoretical distributions.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 当你处理真实数据时，你在处理*实验*分布。它们永远不会完全匹配理论分布。
- en: 'The normal distribution offers some easy-to-remember guidelines for what percentage
    of observations we expect to find within a given number of standard deviations
    of the mean. Specifically, for a normally distributed variable we expect:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布为我们提供了一些易于记忆的指导原则，用于描述我们期望在距离平均值一定标准差范围内找到观察值的百分比。具体来说，对于一个正态分布的变量，我们期望：
- en: 68% of observations to fall within one standard deviation of the mean
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 68% 的观察值落在平均值一个标准差范围内。
- en: 95% of observations to fall within two standard deviations of the mean
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 95% 的观察值落在平均值两个标准差范围内。
- en: 99.7% of observations to fall within three standard deviations of the mean
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 99.7% 的观察值落在平均值三个标准差范围内。
- en: This is known as the *empirical rule*, or the *68–95–99.7 rule*. Let’s see it
    in action using Excel. Next, go to the *empirical-rule* worksheet, as shown in
    [Figure 2-6](#empirical-rule-start).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这被称为*经验法则*，或者*68–95–99.7法则*。让我们通过Excel看它的实际应用。接下来，转到 *经验法则* 工作表，如 [图 2-6](#empirical-rule-start)
    所示。
- en: '![The empirical rule demonstrated in Excel](assets/aina_0206.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![在Excel中展示的经验法则](assets/aina_0206.png)'
- en: Figure 2-6\. The start of the *empirical-rule* worksheet
  id: totrans-72
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-6\. *经验法则*工作表的开头
- en: In cells `A10:A109` we have the values 1–100\. Our objective in cells `B10:B109`
    is to find what percentage of observations will take on these values for a normally
    distributed variable with a mean of 50 and a standard deviation of 10 (cells `B1`
    and `B2`, respectively). We will then find what percentage of observations fall
    within one, two, and three standard deviations of the mean in `C10:E109`. Once
    we do so, the charts to the right will be populated. Cells `C4:E4` will also find
    the total percentages for each column.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `A10:A109` 单元格中，我们有值1–100。在 `B10:B109` 单元格中，我们的目标是找出以均值为50和标准差为10（分别在 `B1`
    和 `B2` 单元格中）的正态分布变量将取得这些值的观测百分比。然后我们将找出均值在一个、两个和三个标准差范围内观测的百分比在 `C10:E109` 中。完成后，右侧的图表将得到填充。`C4:E4`
    单元格还将找到每列的总百分比。
- en: The normal distribution is continuous, which means that observations can theoretically
    take on any value between two other values. This makes for a *lot* of outcomes
    to assign a probability to. For simplicity, it’s common to bin these observations
    into discrete ranges. The probability mass function (PMF) will return the probabilities
    found for each discrete bin in the range of observations. We’ll use Excel’s `NORM.DIST()`
    function to calculate a PMF for our variable in the range 1–100\. This function
    is more involved than others used so far, so I’ve described each argument in [Table 2-1](#norm-dist).
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布是连续的，这意味着观测理论上可以取得两个值之间的任何值。这使得为*很多*结果分配概率成为可能。为简单起见，通常将这些观察结果分组到离散的范围内。概率质量函数（PMF）将返回在观察范围内每个离散区间中找到的概率。我们将使用Excel的
    `NORM.DIST()` 函数来计算我们变量在范围1–100内的PMF。由于这个函数比之前使用的其他函数更复杂，因此我在 [表 2-1](#norm-dist)
    中描述了每个参数。
- en: Table 2-1\. The arguments needed for `NORM.DIST()`
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 表2-1\. `NORM.DIST()` 所需的参数
- en: '| **Argument** | **Description** |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| **Argument** | **描述** |'
- en: '| --- | --- |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `X` | The outcome for which you want to find the probability |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| `X` | 您想要找到概率的结果 |'
- en: '| `Mean` | The mean of the distribution |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| `Mean` | 分布的均值 |'
- en: '| `Standard_dev` | The standard deviation of the distribution |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| `Standard_dev` | 分布的标准差 |'
- en: '| `Cumulative` | If `TRUE`, a cumulative function is returned; if `FALSE`,
    the mass function is returned |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| `Cumulative` | 如果为 `TRUE`，则返回累积函数；如果为 `FALSE`，则返回质量函数 |'
- en: 'Column `A` of our worksheet contains our outcomes, `B1` and `B2` contain our
    mean and standard deviation, respectively, and we want a mass instead of a cumulative
    distribution. Cumulative would return a running sum of the probability, which
    we don’t want here. That makes our formula for `B10`:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的工作表的 `A` 列包含我们的结果，`B1` 和 `B2` 包含我们的均值和标准差，我们希望得到质量而不是累积分布。累积会返回概率的累积和，而这里我们不需要。这使得我们的公式为
    `B10`：
- en: '[PRE3]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Using the fill handle, you’ll get the percentage likelihood of an observation
    taking on each value from 0 to 100\. For example, you’ll see in cell `B43` that
    there is approximately a 1.1% chance of an observation being equal to 34.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 使用填充手柄，您将得到每个值从0到100的观测概率百分比。例如，您将在 `B43` 单元格中看到，观测等于34的概率大约为1.1%。
- en: We can see in cell `B4` that an outcome is likely to be between 1 and 100 over
    99.99% of the time. Importantly, this number is not equal to 100%, because an
    observation in a continuous distribution can take on *any* possible value—not
    just those from 1 to 100\. In cells `C7:E8` I’ve written formulas to find the
    range of values within one, two and three standard deviations of our mean.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到在 `B4` 单元格中，结果有99.99%的概率落在1到100之间。重要的是，这个数字并不等于100%，因为连续分布中的观测可以取得*任何*可能的值，而不仅仅是从1到100。在
    `C7:E8` 单元格中，我编写了公式来找出我们均值在一个、两个和三个标准差范围内的值。
- en: 'We can use these thresholds along with conditional logic to find what parts
    of our probability mass function in column `B` can be found within these respective
    regions. In cell `C10` enter the following formula:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用这些阈值以及条件逻辑来找出在列 `B` 中我们概率质量函数的哪些部分可以在这些相应区域内找到。在 `C10` 单元格中输入以下公式：
- en: '[PRE4]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This function will carry the probability over from column `B` if the value of
    column `A` falls within the standard deviation range. If it falls outside the
    range, the cell is left blank. Using the fill handle, you can apply this formula
    to the entire range `C10:E109`. Your worksheet should now look like [Figure 2-7](#empirical-rule-excel).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 如果列 `A` 的值在标准差范围内，此函数将从列 `B` 中传递概率。如果落在范围之外，则单元格为空白。使用填充手柄，你可以将此公式应用于整个范围 `C10:E109`。现在你的工作表应该像
    [图 2-7](#empirical-rule-excel) 所示。
- en: '![The empirical rule demonstrated in Excel](assets/aina_0207.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![在 Excel 中演示经验法则](assets/aina_0207.png)'
- en: Figure 2-7\. The empirical rule demonstrated in Excel
  id: totrans-90
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-7\. 在 Excel 中演示的经验法则
- en: Cells `C4:E4` indicate that we find approximately 65.8%, 94.9%, and 99.7% of
    values within one, two, and three standard deviations of the mean, respectively.
    These numbers are very close to matching the 68–95–99.7 rule.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格 `C4:E4` 表明，大约有 65.8%、94.9% 和 99.7% 的值分别位于均值的一个、两个和三个标准差内。这些数字非常接近于 68-95-99.7
    法则。
- en: 'Now, take a look at the resulting visualizations: we see that a sizable majority
    of observations can be found within one standard deviation, and more still within
    two. By three standard deviations, it’s hard to see the part of the chart in [Figure 2-8](#empirical-rule-visualized)
    that is *not* covered, but it’s still there. (Remember, this is only 0.3% of all
    observations.)'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，看一下产生的可视化效果：我们可以看到大多数观察值都在一个标准差内，更多的观察值在两个标准差内。到了三个标准差，很难看到 [图 2-8](#empirical-rule-visualized)
    中没有覆盖的部分，但那部分仍然存在。（请记住，这只是所有观察值的 0.3%。）
- en: '![Empirical rule charts](assets/aina_0208.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![经验法则图表](assets/aina_0208.png)'
- en: Figure 2-8\. The empirical rule visualized in Excel
  id: totrans-94
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-8\. 在 Excel 中可视化的经验法则
- en: 'What happens when you change the standard deviation of our example to eight?
    To 12? The bell curve shape remains symmetrically centered around the mean of
    50 but contracts and expands: a lower standard deviation leads to a “tighter”
    curve and vice versa. In any case, the empirical rule roughly applies to the data.
    If you shift the mean to 49 or 51, you see the “center” of the curve move along
    the x-axis. A variable can have any mean and standard deviation and still be normally
    distributed; its resulting probability mass function will be different.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 当你把我们的例子的标准差改为八时会发生什么？改为十二时呢？钟形曲线的形状始终对称地围绕均值 50 中心展开和收缩：较低的标准差导致“更紧密”的曲线，反之亦然。无论如何，经验法则大致适用于数据。如果你将均值移动到
    49 或 51，你会看到曲线的“中心”沿着 x 轴移动。一个变量可以具有任何均值和标准差，仍然可以服从正态分布；其结果的概率质量函数将是不同的。
- en: '[Figure 2-9](#different-normal-distributions) shows two normal distributions
    with different means and standard deviations. Despite their very different shapes,
    they both still follow the empirical rule.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-9](#different-normal-distributions)展示了两个具有不同均值和标准差的正态分布。尽管它们的形状非常不同，它们仍然遵循经验法则。'
- en: '![Different normal distributions](assets/aina_0209.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![不同的正态分布](assets/aina_0209.png)'
- en: Figure 2-9\. Different normal distributions
  id: totrans-98
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-9\. 不同的正态分布
- en: Note
  id: totrans-99
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: A normal distribution can have any possible combination of mean and standard
    deviation. The resulting probability density function will change, but will roughly
    follow the empirical rule.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布可以具有任意可能的均值和标准差的组合。结果的概率密度函数会有所变化，但大致上会遵循经验法则。
- en: The normal distribution is also important because of its place in the central
    limit theorem. I call this theorem the “missing link of statistics” for reasons
    you’ll see in this and following chapters.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布之所以重要，还因为它在中心极限定理中的地位。出于你将在本章和以下章节看到的原因，我称这个定理为统计学的“缺失链接”。
- en: 'For an example of the central limit theorem, we will use another common game
    of chance: roulette. A European roulette wheel is equally likely to return any
    number between 0 and 36 (compared to the American wheel, which has slots labeled
    both 0 and 00). Based on what you’ve learned about die tosses, what kind of probability
    distribution is this? It’s a discrete uniform. Does it seem odd that we’re analyzing
    this distribution in a demo I said was about the normal distribution? Well, we
    have the central limit theorem to thank here. To see this theorem in action for
    yourself, go to the *roulette-dist* worksheet and simulate 100 spins of a roulette
    wheel in `B2:B101` using `RANDBETWEEN()`:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 作为中心极限定理的一个示例，我们将使用另一种常见的赌博游戏：轮盘赌。欧洲轮盘赌盘上任何数字落下的概率都是相等的（相比之下，美国轮盘赌盘上的槽口标有0和00）。基于你对掷骰子的了解，这是一种什么样的概率分布？这是一个离散均匀分布。看起来我们在一个关于正态分布的演示中分析这种分布是否有些奇怪？好吧，这里要感谢中心极限定理。要亲自看到这个定理的作用，请前往
    *roulette-dist* 工作表，并在 `B2:B101` 中使用 `RANDBETWEEN()` 模拟轮盘赌100次：
- en: '[PRE5]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Visualize the result using a histogram. Your worksheet should look like [Figure 2-10](#distribution-roulette-spins).
    Try recalculating a few times. You will see that each time you get a rather flat-looking
    histogram. This is indeed a discrete uniform distribution, where it’s equally
    likely to land on any number between 0 and 36.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 使用直方图来可视化结果。你的工作表应该像[图 2-10](#distribution-roulette-spins)那样。尝试重新计算几次。你会发现每次都得到一个看起来非常平坦的直方图。这确实是一个离散均匀分布，即在0到36之间每个数字落下的概率是相等的。
- en: '![Histogram of roulette spins](assets/aina_0210.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![轮盘赌结果直方图](assets/aina_0210.png)'
- en: Figure 2-10\. The distribution of simulated roulette spins
  id: totrans-106
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-10\. 模拟轮盘赌结果的分布
- en: 'Now go to the *roulette-sample-mean-dist* worksheet. Here we will be doing
    something a little different: we’ll simulate 100 spins, then take the average
    of those spins. We’ll do this 100 times and plot the distribution of these trial
    averages, again as a histogram. This “average of averages” is known as a *sample
    mean*. Once you’ve done that using the `RANDBETWEEN()` and `AVERAGE()` functions,
    you should see something like [Figure 2-11](#distribution-sample-means).'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 现在前往 *roulette-sample-mean-dist* 工作表。在这里我们将做一些有些不同的事情：我们将模拟100次轮盘赌，然后取这些结果的平均值。我们将这样做100次，并将这些试验均值的分布作为直方图显示。这种“均值的平均值”被称为*样本均值*。一旦你使用
    `RANDBETWEEN()` 和 `AVERAGE()` 函数完成这些操作，你应该能看到类似于 [图 2-11](#distribution-sample-means)
    的结果。
- en: '![Histogram of sample means roulette spins](assets/aina_0211.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![轮盘赌样本均值直方图](assets/aina_0211.png)'
- en: Figure 2-11\. The distribution of sample means of simulated roulette spins
  id: totrans-109
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-11\. 模拟轮盘赌结果的样本均值分布
- en: 'This distribution no longer looks like a rectangle: in fact, it looks like
    a bell curve. It’s symmetrical, and most observations are clustered around the
    center: we now have a normal distribution. How could our distribution of sample
    means be normally distributed, when the roulette spins themselves are not? Welcome
    to the very special kind of magic known as the *central limit theorem* (CLT).'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在这个分布不再像一个矩形：实际上，它看起来像一个钟形曲线。它是对称的，大多数观察值都聚集在中心周围：现在我们有了一个正态分布。当轮盘赌结果本身不是正态分布时，我们的样本均值分布如何能够呈现正态分布？欢迎来到被称为中心极限定理的这种非常特殊的魔力（CLT）。
- en: 'Put formally, the CLT tells us that:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 具体来说，中心极限定理告诉我们：
- en: The distribution of sample means will be normal or nearly normal if the sample
    size is large enough.
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果样本量足够大，样本均值的分布将近似于正态分布。
- en: This phenomenon is a game changer, because it allows us to use the unique traits
    of the normal distribution (such as the empirical rule) to make claims about the
    sample means of a variable, even when that variable itself isn’t normally distributed.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这一现象是一个游戏规则改变者，因为它使我们能够利用正态分布的独特特性（比如经验法则），来推断一个变量的样本均值，即使这个变量本身并不服从正态分布。
- en: 'Did you catch the fine print? The CLT only applies *when the sample size is
    large enough*. It’s an important disclaimer, but also an ambiguous one: how large
    is large enough? Let’s gather some ideas with another Excel demo. Head to the
    *law-of-large-numbers* worksheet to follow along. In column `B`, we can simulate
    the outcomes of 300 trials of a roulette spin using `RANDBETWEEN(0, 36)`.'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 你注意到了细则吗？中心极限定理仅在“样本量足够大”的情况下适用。这是一个重要的声明，但也是一个模糊的声明：多大才算足够大呢？让我们通过另一个Excel演示收集一些想法。前往
    *law-of-large-numbers* 工作表参与。在列 `B` 中，我们可以使用 `RANDBETWEEN(0, 36)` 模拟300次轮盘赌结果的实验。
- en: 'In column `C`, we want to take a running average of the outcome. We can do
    so using mixed references; in column `C` enter the following and drag it alongside
    your 300 trials:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在列`C`中，我们想要获取结果的运行平均值。我们可以使用混合引用；在列`C`中输入以下内容，并将其拖动到你的300次试验旁边：
- en: '[PRE6]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'This will result in finding the running average of column `B`. Select your
    resulting data in column `C` and then head to the ribbon and click Insert → Line.
    Take a look at your line chart and recalculate the workbook a few times. Each
    resulting simulation will be different than what’s shown in [Figure 2-12](#lln-excel),
    but as a pattern the average tends to converge to 18 with more spins, which makes
    sense: it’s the average between 0 and 36\. This anticipated figure is known as
    the *expected value*.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这将导致找到列`B`的运行平均值。选择你在列`C`中得到的数据，然后转到功能区，点击“插入”→“线条”。查看你的折线图，并重新计算工作簿几次。每次模拟的结果都会与[图 2-12](#lln-excel)所示有所不同，但模式上平均值倾向于在更多的旋转中收敛到18，这是合理的：它是0到36之间的平均值。这个预期的数字称为*期望值*。
- en: '![The law of large numbers](assets/aina_0212.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![大数定律](assets/aina_0212.png)'
- en: Figure 2-12\. The law of large numbers, visualized in Excel
  id: totrans-119
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-12。在Excel中可视化的大数定律
- en: 'This phenomenon is known as the *law of large numbers* (LLN). Stated formally,
    the LLN tells us:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这种现象被称为*大数定律*（LLN）。正式地说，大数定律告诉我们：
- en: The average of results obtained from trials become closer to the expected value
    as more trials are performed.
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 从试验中得到的结果的平均值随着试验次数的增加越来越接近期望值。
- en: 'This definition, though, begs the question we first asked: how large does a
    sample size need to be for the CLT to apply? You’ll often hear 30 given as a threshold.
    More conservative guidelines may call for a sample size of 60 or 100\. Given these
    sample size guidelines, look back to [Figure 2-12](#lln-excel). See how it indeed
    settles more closely to the expected value at around these thresholds?'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，这个定义引发了我们首先提出的问题：为了中心极限定理适用，样本量需要有多大？你经常听到30作为一个阈值。更保守的指导方针可能要求样本量为60或100。考虑到这些样本量的指导方针，请回顾[图 2-12](#lln-excel)。看看它确实在这些阈值周围更接近期望值？
- en: Note
  id: totrans-123
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: The law of large numbers provides a loose rule of thumb for an adequate sample
    size that meets the CLT.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 大数定律为符合中心极限定理的足够样本量提供了一个宽泛的经验法则。
- en: 'Sample sizes of 30, 60, and 100 are purely rules of thumb; there are more rigorous
    ways to determine what sample sizes are needed for the CLT to apply. For now,
    remember this: given that our sample size meets these thresholds, our sample mean
    should be close to the expected value (thanks to the LLN), and should also be
    normally distributed (thanks to the CLT).'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 样本量为30、60和100仅为经验法则；有更严格的方法来确定需要应用中心极限定理的样本量。目前，请记住：只要我们的样本量达到这些阈值，我们的样本均值应该接近期望值（多亏了大数定律），并且还应该服从正态分布（多亏了中心极限定理）。
- en: Several continuous probability distributions exist, such as the exponential
    and triangular. We focused on the normal distribution both because of its ubiquity
    in the real world and because of its special statistical properties.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 存在几种连续概率分布，如指数分布和三角形分布。我们专注于正态分布，既因为它在现实世界中的普遍性，也因为它特殊的统计特性。
- en: Conclusion
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: As mentioned at the beginning of this chapter, data analysts live in a world
    of uncertainty. Specifically, we often want to make claims about an entire population,
    while only possessing a sample’s worth of data. Using the framework of probability
    covered in this chapter, we will be able to do this while also quantifying its
    inherent uncertainty. In [Chapter 3](ch03.html#foundations-of-inference), we’ll
    dig into the elements of hypothesis testing, a core method of data analytics.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 正如本章开头提到的那样，数据分析师生活在一个充满不确定性的世界中。具体来说，我们经常希望对整个人群做出声明，而只拥有样本数据。利用本章介绍的概率框架，我们将能够在量化其固有不确定性的同时做到这一点。在[第三章](ch03.html#foundations-of-inference)中，我们将深入探讨假设检验的要素，这是数据分析的核心方法。
- en: Exercises
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习
- en: 'Using Excel and your knowledge of probability, consider the following:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 利用Excel和你对概率的了解，考虑以下情况：
- en: What is the expected value of a six-sided die toss?
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 投掷一个六面骰子的期望值是多少？
- en: Consider a variable that is normally distributed with a mean of 100 and standard
    deviation of 10.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 考虑一个均值为100，标准差为10的正态分布变量。
- en: What is the probability that an observation from this variable would take the
    value 87?
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变量观察值取87的概率是多少？
- en: What percentage of observations would you expect to find between 80 and 120?
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你预计观察结果中有多少百分比会落在80和120之间？
- en: If the expected value of a European roulette spin is 18, does that mean you
    are better off betting on 18 than other numbers?
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果欧洲轮盘赌的期望值是18，这是否意味着你押注18比其他号码更划算呢？
