- en: Chapter 1\. The data science process
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. 数据科学流程
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Defining data science
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义数据科学
- en: Defining data science project roles
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义数据科学项目角色
- en: Understanding the stages of a data science project
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解数据科学项目的阶段
- en: Setting expectations for a new data science project
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为新的数据科学项目设定期望
- en: Data science is a cross-disciplinary practice that draws on methods from data
    engineering, descriptive statistics, data mining, machine learning, and predictive
    analytics. Much like operations research, data science focuses on implementing
    data-driven decisions and managing their consequences. For this book, we will
    concentrate on data science as applied to business and scientific problems, using
    these techniques.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学是一个跨学科实践，它借鉴了数据工程、描述性统计、数据挖掘、机器学习和预测分析的方法。与运筹学类似，数据科学侧重于实施数据驱动决策并管理其后果。对于本书，我们将专注于将数据科学应用于商业和科学问题，并使用这些技术。
- en: The data scientist is responsible for guiding a data science project from start
    to finish. Success in a data science project comes not from access to any one
    exotic tool, but from having quantifiable goals, good methodology, cross-discipline
    interactions, and a repeatable workflow.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学家负责从开始到结束引导数据科学项目。数据科学项目的成功不在于对任何一种异国工具的访问，而在于有可衡量的目标、良好的方法论、跨学科互动和可重复的工作流程。
- en: 'This chapter walks you through what a typical data science project looks like:
    the kinds of problems you encounter, the types of goals you should have, the tasks
    that you’re likely to handle, and what sort of results are expected.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将向您展示一个典型的数据科学项目是什么样的：您会遇到的问题类型、应该设定的目标类型、您可能要处理的任务，以及预期的结果类型。
- en: We’ll use a concrete, real-world example to motivate the discussion in this
    chapter.^([[1](../Text/01.xhtml#ch01fn1)])
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用一个具体、真实世界的例子来激发本章的讨论。[^[[1](../Text/01.xhtml#ch01fn1)])
- en: ¹
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ¹
- en: ''
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: For this chapter, we'll use a credit dataset donated by Dr. Hans Hofmann, professor
    of integrative biology, to the UCI Machine Learning Repository in 1994\. We've
    simplified some of the column names for clarity. The original dataset can be found
    at [http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)](http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)).
    We'll show how to load this data and prepare it for analysis in [chapter 2](../Text/02.xhtml#ch02).
    Note that the German currency at the time of data collection was the deutsche
    mark (DM).
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 对于本章，我们将使用汉斯·霍夫曼博士（Dr. Hans Hofmann）于1994年捐赠给UCI机器学习仓库的信用数据集。为了清晰起见，我们对一些列名进行了简化。原始数据集可以在[http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)](http://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data))找到。我们将在[第2章](../Text/02.xhtml#ch02)中展示如何加载数据并为其分析做准备。请注意，数据收集时的德国货币是德国马克（DM）。
- en: '* * *'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Example
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: '*Suppose you’re working for a German bank. The bank feels that it’s losing
    too much money to bad loans and wants to reduce its losses. To do so, they want
    a tool to help loan officers more accurately detect risky loans.*'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '*假设您在一家德国银行工作。银行觉得它在坏账上的损失太大，希望减少损失。为了做到这一点，他们希望有一个工具帮助贷款官员更准确地检测风险贷款。*'
- en: '* * *'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This is where your data science team comes in.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是您的数据科学团队发挥作用的地方。
- en: 1.1\. The roles in a data science project
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.1\. 数据科学项目中的角色
- en: 'Data science is not performed in a vacuum. It’s a collaborative effort that
    draws on a number of roles, skills, and tools. Before we talk about the process
    itself, let’s look at the roles that must be filled in a successful project. Project
    management has been a central concern of software engineering for a long time,
    so we can look there for guidance. In defining the roles here, we’ve borrowed
    some ideas from Fredrick Brooks’ “surgical team” perspective on software development,
    as described in *The Mythical Man-Month: Essays on Software Engineering* (Addison-Wesley,
    1995). We also borrowed ideas from the agile software development paradigm.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学不是在真空中进行的。它是一个协作努力，它借鉴了多个角色、技能和工具。在我们谈论过程本身之前，让我们看看在成功项目中必须填补的角色。项目管理长期以来一直是软件工程的核心关注点，因此我们可以从中寻求指导。在定义这里的角色时，我们借鉴了弗雷德里克·布鲁克斯（Fredrick
    Brooks）在《人月神话：软件工程论文》（Addison-Wesley，1995）中描述的“外科团队”对软件开发的观点。我们还借鉴了敏捷软件开发范例的思想。
- en: 1.1.1\. Project roles
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.1.1\. 项目角色
- en: Let’s look at a few recurring roles in a data science project in [table 1.1](../Text/01.xhtml#ch01table01).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看数据科学项目中的一些常见角色在[表1.1](../Text/01.xhtml#ch01table01)中。
- en: Table 1.1\. Data science project roles and responsibilities
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.1. 数据科学项目角色和职责
- en: '| Role | Responsibilities |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| 角色 | 职责 |'
- en: '| --- | --- |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Project sponsor | Represents the business interests; champions the project
    |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 项目赞助人 | 代表商业利益；倡导项目 |'
- en: '| Client | Represents end users’ interests; domain expert |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| 客户 | 代表最终用户利益；领域专家 |'
- en: '| Data scientist | Sets and executes analytic strategy; communicates with sponsor
    and client |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 数据科学家 | 制定和执行分析策略；与赞助人和客户沟通 |'
- en: '| Data architect | Manages data and data storage; sometimes manages data collection
    |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| 数据架构师 | 管理数据和数据存储；有时管理数据收集 |'
- en: '| Operations | Manages infrastructure; deploys final project results |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| 操作 | 管理基础设施；部署最终项目成果 |'
- en: Sometimes these roles may overlap. Some roles—in particular, client, data architect,
    and operations—are often filled by people who aren’t on the data science project
    team, but are key collaborators.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 有时这些角色可能会重叠。一些角色——特别是客户、数据架构师和操作——通常由不在数据科学项目团队中的人担任，但他们却是关键的合作者。
- en: Project sponsor
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 项目赞助人
- en: '*The most important role in a data science project is the project sponsor.*
    The sponsor is the person who wants the data science result; generally, they represent
    the business interests. In the loan application example, the sponsor might be
    the bank’s head of Consumer Lending. The sponsor is responsible for deciding whether
    the project is a success or failure. The data scientist may fill the sponsor role
    for their own project if they feel they know and can represent the business needs,
    but that’s not the optimal arrangement. The ideal sponsor meets the following
    condition: if they’re satisfied with the project outcome, then the project is
    by definition a success. *Getting sponsor sign-off becomes the central organizing
    goal of a data science project.*'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '*在数据科学项目中，最重要的角色是项目赞助人。* 赞助人是想要数据科学结果的人；通常，他们代表商业利益。在贷款申请示例中，赞助人可能是银行消费贷款部门的负责人。赞助人负责决定项目是成功还是失败。如果数据科学家认为自己了解并能代表商业需求，他们可以为自己的项目填补赞助人角色，但这不是最佳安排。理想的赞助人应满足以下条件：如果他们对项目结果满意，那么项目在定义上就是成功的。*获得赞助人的批准成为数据科学项目的核心组织目标。*'
- en: '* * *'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Keep the sponsor informed and involved
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 保持赞助人的知情和参与
- en: It’s critical to keep the sponsor informed and involved. Show them plans, progress,
    and intermediate successes or failures in terms they can understand. A good way
    to guarantee project failure is to keep the sponsor in the dark.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 保持赞助人的知情和参与至关重要。向他们展示计划、进度以及他们能够理解的中间成功或失败。让赞助人蒙在鼓里是保证项目失败的好方法。
- en: '* * *'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: To ensure sponsor sign-off, you must get clear goals from them through directed
    interviews. You attempt to capture the sponsor’s expressed goals as quantitative
    statements. An example goal might be “Identify 90% of accounts that will go into
    default at least two months before the first missed payment with a false positive
    rate of no more than 25%.” This is a precise goal that allows you to check in
    parallel if meeting the goal is actually going to make business sense and whether
    you have data and tools of sufficient quality to achieve the goal.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保获得赞助人的批准，你必须通过定向访谈从他们那里获得明确的目标。你试图将赞助人表达的目标作为定量陈述来捕捉。一个目标示例可能是“在第一次逾期付款前至少两个月识别出90%将违约的账户，错误率为不超过25%。”这是一个精确的目标，它允许你并行检查实现目标是否真的对业务有意义，以及你是否拥有足够质量和数量的数据和工具来实现目标。
- en: Client
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 客户
- en: While the sponsor is the role that represents the business interests, the client
    is the role that represents the model’s end users’ interests. Sometimes, the sponsor
    and client roles may be filled by the same person. Again, the data scientist may
    fill the client role if they can weight business trade-offs, but this isn’t ideal.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然赞助人代表的是商业利益，但客户代表的是模型最终用户的利益。有时，赞助人和客户角色可能由同一个人担任。再次强调，如果数据科学家能够权衡商业权衡，他们可以填补客户角色，但这并不是最佳选择。
- en: The client is more hands-on than the sponsor; they’re the interface between
    the technical details of building a good model and the day-to-day work process
    into which the model will be deployed. They aren’t necessarily mathematically
    or statistically sophisticated, but are familiar with the relevant business processes
    and serve as the domain expert on the team. In the loan application example, the
    client may be a loan officer or someone who represents the interests of loan officers.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 客户比赞助商更注重实际操作；他们是构建良好模型的技术细节与模型将被部署的日常工作流程之间的接口。他们不一定在数学或统计学方面有专业知识，但熟悉相关的业务流程，并在团队中作为领域专家发挥作用。在贷款申请示例中，客户可能是贷款官员或代表贷款官员利益的人。
- en: As with the sponsor, you should keep the client informed and involved. Ideally,
    you’d like to have regular meetings with them to keep your efforts aligned with
    the needs of the end users. Generally, the client belongs to a different group
    in the organization and has other responsibilities beyond your project. Keep meetings
    focused, present results and progress in terms they can understand, and take their
    critiques to heart. If the end users can’t or won’t use your model, then the project
    isn’t a success, in the long run.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 与赞助商一样，您应该让客户保持知情并参与其中。理想情况下，您希望定期与他们开会，以确保您的努力与最终用户的需求保持一致。通常，客户属于组织中的不同团队，并且除了您的项目之外还有其他职责。保持会议聚焦，用他们能理解的方式展示结果和进度，并认真对待他们的批评。如果最终用户无法或不愿意使用您的模型，那么从长远来看，项目就不算成功。
- en: Data scientist
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学家
- en: The next role in a data science project is the data scientist, who’s responsible
    for taking all necessary steps to make the project succeed, including setting
    the project strategy and keeping the client informed. They design the project
    steps, pick the data sources, and pick the tools to be used. Since they pick the
    techniques that will be tried, they have to be well informed about statistics
    and machine learning. They’re also responsible for project planning and tracking,
    though they may do this with a project management partner.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学项目中的下一个角色是数据科学家，他们负责采取所有必要的步骤以确保项目成功，包括制定项目策略并让客户保持知情。他们设计项目步骤，选择数据来源，并选择要使用的工具。由于他们选择要尝试的技术，他们必须对统计学和机器学习有深入了解。他们还负责项目规划和跟踪，尽管他们可能需要与项目管理合作伙伴一起完成。
- en: At a more technical level, the data scientist also looks at the data, performs
    statistical tests and procedures, applies machine learning models, and evaluates
    results—the science portion of data science.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在更技术层面上，数据科学家还会查看数据，执行统计测试和程序，应用机器学习模型，并评估结果——这是数据科学中的科学部分。
- en: '* * *'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '**Domain empathy**'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**领域同理心**'
- en: It is often too much to ask for the data scientist to become a domain expert.
    However, in all cases the data scientist must develop strong *domain empathy*
    to help define and solve the right problems.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 通常要求数据科学家成为领域专家是过于苛刻的。然而，在所有情况下，数据科学家必须培养强烈的*领域同理心*，以帮助定义和解决正确的问题。
- en: '* * *'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Data architect
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 数据架构师
- en: The data architect is responsible for all the data and its storage. Often this
    role is filled by someone outside of the data science group, such as a database
    administrator or architect. Data architects often manage data warehouses for many
    different projects, and they may only be available for quick consultation.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 数据架构师负责所有数据和其存储。通常这个角色由数据科学团队之外的人担任，例如数据库管理员或架构师。数据架构师通常管理多个不同项目的数据仓库，并且他们可能只能提供快速咨询。
- en: Operations
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 操作
- en: The operations role is critical both in acquiring data and delivering the final
    results. The person filling this role usually has operational responsibilities
    outside of the data science group. For example, if you’re deploying a data science
    result that affects how products are sorted on an online shopping site, then the
    person responsible for running the site will have a lot to say about how such
    a thing can be deployed. This person will likely have constraints on response
    time, programming language, or data size that you need to respect in deployment.
    The person in the operations role may already be supporting your sponsor or your
    client, so they’re often easy to find (though their time may be already very much
    in demand).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 运营角色在获取数据和交付最终结果方面至关重要。担任此角色的人通常在数据科学团队之外有运营责任。例如，如果你正在部署一个影响在线购物网站上产品排序的数据科学结果，那么负责运营该网站的人将对如何部署此类事物有大量意见。这个人可能对响应时间、编程语言或数据大小有约束，你需要在部署时尊重这些约束。在运营角色中的人可能已经支持你的赞助者或客户，因此他们通常很容易找到（尽管他们的时间可能已经非常紧张）。
- en: 1.2\. Stages of a data science project
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.2\. 数据科学项目的阶段
- en: The ideal data science environment is one that encourages feedback and iteration
    between the data scientist and all other stakeholders. This is reflected in the
    lifecycle of a data science project. Even though this book, like other discussions
    of the data science process, breaks up the cycle into distinct stages, in reality
    the boundaries between the stages are fluid, and the activities of one stage will
    often overlap those of other stages.^([[2](../Text/01.xhtml#ch01fn2)]) Often,
    you’ll loop back and forth between two or more stages before moving forward in
    the overall process. This is shown in [figure 1.1](../Text/01.xhtml#ch01fig01).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 理想的数据科学环境是鼓励数据科学家与所有其他利益相关者之间进行反馈和迭代的。这在数据科学项目的生命周期中得到了体现。尽管这本书，就像其他关于数据科学过程讨论一样，将周期分解为不同的阶段，但在现实中，阶段之间的界限是流动的，一个阶段的活动经常会与其他阶段的活动重叠。通常，在向前推进整体过程之前，你会在两个或更多阶段之间来回循环。这可以在[图1.1](../Text/01.xhtml#ch01fig01)中看到。
- en: ²
  id: totrans-55
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ²
- en: ''
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: One common model of the machine learning process is the cross-industry standard
    process for data mining (CRISP-DM) ([https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining](https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining)).
    The model we’ll discuss here is similar, but emphasizes that back-and-forth is
    possible at any stage of the process.
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 机器学习过程的一个常见模型是跨行业数据挖掘标准流程（CRISP-DM）([https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining](https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining))。我们在这里讨论的模型与此类似，但强调在过程的任何阶段都可以进行来回迭代。
- en: 'Figure 1.1\. The lifecycle of a data science project: loops within loops'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1\. 数据科学项目生命周期：循环中的循环
- en: '![](Images/01fig01_alt.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/01fig01_alt.jpg)'
- en: Even after you complete a project and deploy a model, new issues and questions
    can arise from seeing that model in action. The end of one project may lead into
    a follow-up project.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你完成了一个项目并部署了一个模型，从看到该模型在实际应用中可能出现新的问题和疑问。一个项目的结束可能引出后续的项目。
- en: Let’s look at the different stages shown in [figure 1.1](../Text/01.xhtml#ch01fig01).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看[图1.1](../Text/01.xhtml#ch01fig01)中展示的不同阶段。
- en: 1.2.1\. Defining the goal
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.1\. 定义目标
- en: 'The first task in a data science project is to define a measurable and quantifiable
    goal. At this stage, learn all that you can about the context of your project:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学项目的第一个任务是定义一个可衡量和可量化的目标。在这个阶段，尽可能多地了解你项目背景：
- en: '![](Images/007fig01.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/007fig01.jpg)'
- en: Why do the sponsors want the project in the first place? What do they lack,
    and what do they need?
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为什么赞助者一开始就想要这个项目？他们缺少什么，需要什么？
- en: What are they doing to solve the problem now, and why isn’t that good enough?
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们现在正在做什么来解决问题，为什么这还不够好？
- en: 'What resources will you need: what kind of data and how much staff? Will you
    have domain experts to collaborate with, and what are the computational resources?'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你需要哪些资源：什么类型的数据和多少人员？你将拥有领域专家进行合作，以及计算资源是什么？
- en: How do the project sponsors plan to deploy your results? What are the constraints
    that have to be met for successful deployment?
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目赞助者计划如何部署你的结果？为了成功部署，必须满足哪些约束条件？
- en: Let’s come back to our loan application example. The ultimate business goal
    is to reduce the bank’s losses due to bad loans. Your project sponsor envisions
    a tool to help loan officers more accurately score loan applicants, and so reduce
    the number of bad loans made. At the same time, it’s important that the loan officers
    feel that they have final discretion on loan approvals.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到我们的贷款申请示例。最终的商业目标是减少银行因不良贷款而遭受的损失。你的项目赞助商设想了一个工具，可以帮助贷款官员更准确地评估贷款申请人，从而减少不良贷款的数量。同时，重要的是贷款官员感到他们在贷款审批上拥有最终决定权。
- en: Once you and the project sponsor and other stakeholders have established preliminary
    answers to these questions, you and they can start defining the precise goal of
    the project. The goal should be specific and measurable; not “We want to get better
    at finding bad loans,” but instead “We want to reduce our rate of loan charge-offs
    by at least 10%, using a model that predicts which loan applicants are likely
    to default.”
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你和项目赞助商以及其他利益相关者对这些问题的初步答案达成一致，你们就可以开始定义项目的具体目标。目标应该是具体和可衡量的；不是“我们想更好地找到不良贷款”，而是“我们想通过一个预测哪些贷款申请人可能违约的模型，至少将贷款坏账率降低10%。”
- en: A concrete goal leads to concrete stopping conditions and concrete acceptance
    criteria. The less specific the goal, the likelier that the project will go unbounded,
    because no result will be “good enough.” If you don’t know what you want to achieve,
    you don’t know when to stop trying—or even what to try. When the project eventually
    terminates—because either time or resources run out—no one will be happy with
    the outcome.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 一个具体的目标会导致具体的中止条件和具体的标准。目标越不具体，项目越有可能无限制地进行，因为没有结果会“足够好”。如果你不知道你想要实现什么，你就不知道何时停止尝试——甚至不知道尝试什么。当项目最终结束时——因为时间或资源耗尽——没有人会对结果感到满意。
- en: 'Of course, at times there is a need for looser, more exploratory projects:
    “Is there something in the data that correlates to higher defaults?” or “Should
    we think about reducing the kinds of loans we give out? Which types might we eliminate?”
    In this situation, you can still scope the project with concrete stopping conditions,
    such as a time limit. For example, you might decide to spend two weeks, and no
    more, exploring the data, with the goal of coming up with candidate hypotheses.
    These hypotheses can then be turned into concrete questions or goals for a full-scale
    modeling project.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，有时需要更宽松、更具探索性的项目：“数据中是否有与更高违约率相关的东西？”或者“我们应该考虑减少我们发放的贷款类型吗？哪些类型可能会被取消？”在这种情况下，你仍然可以用具体的中止条件来界定项目，例如时间限制。例如，你可能会决定花两周时间，不再花更多时间探索数据，目标是提出候选假设。然后，这些假设可以被转化为全面建模项目的具体问题或目标。
- en: Once you have a good idea of the project goals, you can focus on collecting
    data to meet those goals.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你对项目目标有了很好的了解，你就可以专注于收集数据以满足这些目标。
- en: 1.2.2\. Data collection and management
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.2\. 数据收集与管理
- en: 'This step encompasses identifying the data you need, exploring it, and conditioning
    it to be suitable for analysis. This stage is often the most time-consuming step
    in the process. It’s also one of the most important:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 此步骤包括确定所需数据、探索数据以及调整数据以便进行分析。这一阶段通常是整个过程中耗时最长的步骤。它也是最重要的步骤之一：
- en: What data is available to me?
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我能获得哪些数据？
- en: Will it help me solve the problem?
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这能帮助我解决问题吗？
- en: Is it enough?
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是否足够？
- en: Is the data quality good enough?
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据质量是否足够？
- en: '![](Images/008fig01.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/008fig01.jpg)'
- en: Imagine that, for your loan application problem, you’ve collected a sample of
    representative loans from the last decade. Some of the loans have defaulted; most
    of them (about 70%) have not. You’ve collected a variety of attributes about each
    loan application, as listed in [table 1.2](../Text/01.xhtml#ch01table02).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，对于你的贷款申请问题，你已经收集了过去十年中具有代表性的贷款样本。其中一些贷款已经违约；大多数贷款（大约70%）尚未违约。你已经收集了关于每个贷款申请的各种属性，如[表1.2](../Text/01.xhtml#ch01table02)中所示。
- en: Table 1.2\. Loan data attributes
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.2\. 贷款数据属性
- en: '| `Status_of_existing_checking_account` *(at time of application)* |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| `Status_of_existing_checking_account` *(at time of application)* |'
- en: '| `Duration_in_month` *(loan length)* |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| `Duration_in_month` *(loan length)* |'
- en: '| `Credit_history` |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| `Credit_history` |'
- en: '| `Purpose` *(car loan, student loan, and so on)* |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| `Purpose` *(car loan, student loan, and so on)* |'
- en: '| `Credit_amount` *(loan amount)* |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| `Credit_amount` *(loan amount)* |'
- en: '| `Savings_Account_or_bonds` *(balance/amount)* |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| `Savings_Account_or_bonds` *(balance/amount)* |'
- en: '| `Present_employment_since` |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| `Present_employment_since` |'
- en: '| `Installment_rate_in_percentage_of_disposable_income` |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| `Installment_rate_in_percentage_of_disposable_income` |'
- en: '| `Personal_status_and_sex` |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| `Personal_status_and_sex` |'
- en: '| `Cosigners` |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| `Cosigners` |'
- en: '| `Present_residence_since` |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| `Present_residence_since` |'
- en: '| `Collateral` *(car, property, and so on)* |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| `Collateral` *(汽车、房产等)* |'
- en: '| `Age_in_years` |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| `Age_in_years` |'
- en: '| `Other_installment_plans` *(other loans/lines of credit—the type)* |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| `Other_installment_plans` *(其他贷款/信用额度类型)* |'
- en: '| `Housing` *(own, rent, and so on)* |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| `Housing` *(拥有、租赁等)* |'
- en: '| `Number_of_existing_credits_at_this_bank` |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| `Number_of_existing_credits_at_this_bank` |'
- en: '| `Job` *(employment type)* |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| `Job` *(就业类型)* |'
- en: '| `Number_of_dependents` |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| `Number_of_dependents` |'
- en: '| `Telephone` *(do they have one)* |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| `Telephone` *(是否有)* |'
- en: '| `Loan_status` *(dependent variable)* |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| `Loan_status` *(因变量)* |'
- en: 'In your data, `Loan_status` takes on two possible values: `GoodLoan` and `BadLoan`.
    For the purposes of this discussion, assume that a `GoodLoan` was paid off, and
    a `BadLoan` defaulted.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的数据中，`Loan_status`有两种可能的值：`GoodLoan`和`BadLoan`。在本讨论中，假设`GoodLoan`已偿还，而`BadLoan`违约。
- en: '* * *'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Try to directly measure the information you need
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 尽量直接测量您所需的信息
- en: As much as possible, try to use information that can be directly measured, rather
    than information that is inferred from another measurement. For example, you might
    be tempted to use income as a variable, reasoning that a lower income implies
    more difficulty paying off a loan. The ability to pay off a loan is more directly
    measured by considering the size of the loan payments relative to the borrower’s
    disposable income. This information is more useful than income alone; you have
    it in your data as the variable `Installment_rate_in_percentage_of_disposable_income`.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 尽可能地，尝试使用可以直接测量的信息，而不是从其他测量中推断出的信息。例如，您可能会倾向于使用收入作为变量，认为收入较低意味着偿还贷款更困难。偿还贷款的能力可以通过考虑贷款支付金额与借款人可支配收入的比例来更直接地衡量。这个信息比单纯的收入更有用；您在数据中作为变量`Installment_rate_in_percentage_of_disposable_income`拥有它。
- en: '* * *'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'This is the stage where you initially explore and visualize your data. You’ll
    also clean the data: repair data errors and transform variables, as needed. In
    the process of exploring and cleaning the data, you may discover that it isn’t
    suitable for your problem, or that you need other types of information as well.
    You may discover things in the data that raise issues more important than the
    one you originally planned to address. For example, the data in [figure 1.2](../Text/01.xhtml#ch01fig02)
    seems counterintuitive.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这是您最初探索和可视化数据的阶段。您还将清理数据：修复数据错误和转换变量，如有必要。在探索和清理数据的过程中，您可能会发现数据不适合您的问题，或者您还需要其他类型的信息。您可能会在数据中发现比您最初计划解决的问题更重要的问题。例如，[图1.2](../Text/01.xhtml#ch01fig02)中的数据似乎与直觉相反。
- en: Figure 1.2\. The fraction of defaulting loans by credit history category. The
    dark region of each bar represents the fraction of loans in that category that
    defaulted.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.2\. 按信用历史类别划分的违约贷款比例。每个条形的深色区域代表该类别中违约贷款的比例。
- en: '![](Images/01fig02_alt.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/01fig02_alt.jpg)'
- en: 'Why would some of the seemingly safe applicants (those who repaid all credits
    to the bank) default at a higher rate than seemingly riskier ones (those who had
    been delinquent in the past)? After looking more carefully at the data and sharing
    puzzling findings with other stakeholders and domain experts, you realize that
    this sample is inherently biased: *you only have loans that were actually made
    (and therefore already accepted)*. A true unbiased sample of loan applications
    should include both loan applications that were accepted and ones that were rejected.
    Overall, because your sample only includes accepted loans, there are fewer risky-looking
    loans than safe-looking ones in the data. The probable story is that risky-looking
    loans were approved after a much stricter vetting process, a process that perhaps
    the safe-looking loan applications could bypass. This suggests that if your model
    is to be used downstream of the current application approval process, credit history
    is no longer a useful variable. It also suggests that even seemingly safe loan
    applications should be more carefully scrutinized.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么一些看似安全的申请人（那些已向银行偿还所有贷款的人）的违约率会比看似风险更高的申请人（那些过去有过拖欠记录的人）更高？在更仔细地查看数据并与其他利益相关者和领域专家分享令人困惑的发现后，你意识到这个样本本身是有偏见的：*你只有实际发放的贷款（因此已经接受）*。一个真正的无偏贷款申请样本应该包括已接受的贷款申请和被拒绝的贷款申请。总体而言，由于你的样本只包括已接受的贷款，数据中看起来有风险的贷款比看起来安全的贷款要少。可能的情况是，看起来有风险的贷款在经过更严格的审查过程后被批准，这个过程可能是看似安全的贷款申请可以绕过的。这表明，如果你的模型要在当前申请批准流程之后使用，信用历史就不再是有用的变量。这也表明，即使是看似安全的贷款申请也应该更加仔细地审查。
- en: Discoveries like this may lead you and other stakeholders to change or refine
    the project goals. In this case, you may decide to concentrate on the seemingly
    safe loan applications. It’s common to cycle back and forth between this stage
    and the previous one, as well as between this stage and the modeling stage, as
    you discover things in the data. We’ll cover data exploration and management in
    depth in [chapters 3](../Text/03.xhtml#ch03) and [4](../Text/04.xhtml#ch04).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的发现可能会让你和其他利益相关者改变或完善项目目标。在这种情况下，你可能会决定专注于看似安全的贷款申请。在发现数据中的事物时，你可能会在这个阶段和上一个阶段之间，以及在这个阶段和建模阶段之间来回循环。我们将在第3章（[chapters
    3](../Text/03.xhtml#ch03)）和第4章（[4](../Text/04.xhtml#ch04)）中深入探讨数据探索和管理。
- en: 1.2.3\. Modeling
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.3\. 建模
- en: You finally get to statistics and machine learning during the modeling, or analysis,
    stage. Here is where you try to extract useful insights from the data in order
    to achieve your goals. Since many modeling procedures make specific assumptions
    about data distribution and relationships, there may be overlap and back-and-forth
    between the modeling stage and the data-cleaning stage as you try to find the
    best way to represent the data and the best form in which to model it.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在建模或分析阶段，你最终会接触到统计学和机器学习。在这里，你试图从数据中提取有用的见解，以实现你的目标。由于许多建模过程对数据分布和关系做出了特定的假设，因此在尝试找到最佳的数据表示方式和建模形式时，建模阶段和数据清洗阶段之间可能会有重叠和反复。
- en: '![](Images/011fig01.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/011fig01.jpg)'
- en: 'The most common data science modeling tasks are these:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 最常见的数据科学建模任务包括这些：
- en: '***Classifying—*** Deciding if something belongs to one category or another'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Classifying—*** 判断某物是否属于某一类别或另一类别'
- en: '***Scoring—*** Predicting or estimating a numeric value, such as a price or
    probability'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Scoring—*** 预测或估计一个数值，例如价格或概率'
- en: '***Ranking—*** Learning to order items by preferences'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Ranking—*** 学习根据偏好对项目进行排序'
- en: '***Clustering—*** Grouping items into most-similar groups'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Clustering—*** 将项目分组到最相似的组中'
- en: '***Finding relations—*** Finding correlations or potential causes of effects
    seen in the data'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Finding relations—*** 寻找数据中观察到的相关关系或潜在原因'
- en: '***Characterizing—*** Very general plotting and report generation from data'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***Characterizing—*** 从数据中非常通用的绘图和报告生成'
- en: For each of these tasks, there are several different possible approaches. We’ll
    cover some of the most common approaches to the different tasks in this book.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些任务中的每一个，都有几种不同的可能方法。我们将在这本书中介绍这些不同任务的一些最常见方法。
- en: 'The loan application problem is a classification problem: you want to identify
    loan applicants who are likely to default. Some common approaches in such cases
    are logistic regression and tree-based methods (we’ll cover these methods in depth
    in [chapters 7](../Text/07.xhtml#ch07) and [10](../Text/10.xhtml#ch10)). You’ve
    been in conversation with loan officers and others who would be using your model
    in the field, so you know that they want to be able to understand the chain of
    reasoning behind the model’s classification, and they want an indication of how
    confident the model is in its decision: is this applicant highly likely to default,
    or only somewhat likely? To solve this problem, you decide that a decision tree
    is most suitable. We’ll cover decision trees more extensively in [chapter 10](../Text/10.xhtml#ch10),
    but for now we will just look at the resulting decision tree model.^([[3](../Text/01.xhtml#ch01fn3)])'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 贷款申请问题是一个分类问题：你想要识别那些可能违约的贷款申请人。在这种情况下的一些常见方法是对数回归和基于树的算法（我们将在[第7章](../Text/07.xhtml#ch07)和[第10章](../Text/10.xhtml#ch10)中深入探讨这些方法）。你已经与贷款官员和其他将在现场使用你的模型的人进行了交谈，因此你知道他们希望能够理解模型分类背后的推理链，并且他们希望有一个模型对其决策的置信度的指示：这位申请人高度可能违约，还是只有一定可能？为了解决这个问题，你决定决策树是最合适的。我们将在[第10章](../Text/10.xhtml#ch10)中更广泛地介绍决策树，但现在我们只看看得到的决策树模型。[3](../Text/01.xhtml#ch01fn3)
- en: ³
  id: totrans-125
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ³
- en: ''
  id: totrans-126
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In this chapter, for clarity of illustration, we deliberately fit a small and
    shallow tree.
  id: totrans-127
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在本章中，为了清晰起见，我们故意拟合了一个小而浅的树。
- en: Let’s suppose that you discover the model shown in [figure 1.3](../Text/01.xhtml#ch01fig03).
    Let’s trace an example path through the tree. Let’s suppose that there is an application
    for a one-year loan of DM 10,000 (deutsche mark, the currency at the time of the
    study). At the top of the tree (node 1 in [figure 1.3](../Text/01.xhtml#ch01fig03)),
    the model checks if the loan is for longer than 34 months. The answer is “no,”
    so the model takes the right branch down the tree. This is shown as the highlighted
    branch from node 1\. The next question (node 3) is whether the loan is for more
    than DM 11,000\. Again, the answer is “no,” so the model branches right (as shown
    by the darker highlighted branch from node 3) and arrives at leaf 3\. Historically,
    75% of loans that arrive at this leaf are good loans, so the model recommends
    that you approve this loan, as there is a high probability that it will be paid
    off.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你发现了[图1.3](../Text/01.xhtml#ch01fig03)中展示的模型。让我们追踪一条通过树形结构的示例路径。假设有一个申请一年期10,000德国马克（当时的研究货币）贷款的应用。在树的顶部（[图1.3](../Text/01.xhtml#ch01fig03)中的节点1），模型检查贷款是否超过34个月。答案是“否”，因此模型沿着树的右侧分支下行。这显示为从节点1出发的高亮分支。下一个问题（节点3）是贷款是否超过11,000德国马克。同样，答案是“否”，因此模型再次向右分支（由从节点3出发的较暗的高亮分支表示）并到达叶子3。历史上，到达这个叶子的75%的贷款都是良好的贷款，因此模型建议你批准这笔贷款，因为有很高的可能性会偿还。
- en: Figure 1.3\. A decision tree model for finding bad loan applications. The outcome
    nodes show confidence scores.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3. 用于寻找不良贷款申请的决策树模型。结果节点显示置信度分数。
- en: '![](Images/01fig03_alt.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/01fig03_alt.jpg)'
- en: On the other hand, suppose that there is an application for a one-year loan
    of DM 15,000\. In this case, the model would first branch right at node 1, and
    then left at node 3, to arrive at leaf 2\. Historically, all loans that arrive
    at leaf 2 have defaulted, so the model recommends that you reject this loan application.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，假设有一个申请一年期15,000德国马克贷款的应用。在这种情况下，模型首先在节点1处向右分支，然后在节点3处向左分支，到达叶子2。历史上，到达叶子2的所有贷款都违约了，因此模型建议你拒绝这笔贷款申请。
- en: We’ll discuss general modeling strategies in [chapter 6](../Text/06.xhtml#ch06)
    and go into details of specific modeling algorithms in [part 2](../Text/p2.xhtml#part02).
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第6章](../Text/06.xhtml#ch06)中讨论一般的建模策略，并在[第二部分](../Text/p2.xhtml#part02)中详细介绍特定的建模算法。
- en: 1.2.4\. Model evaluation and critique
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.4. 模型评估和批评
- en: 'Once you have a model, you need to determine if it meets your goals:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你有了模型，你需要确定它是否满足你的目标：
- en: Is it accurate enough for your needs? Does it generalize well?
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是否足够准确以满足你的需求？它是否具有良好的泛化能力？
- en: Does it perform better than “the obvious guess”? Better than whatever estimate
    you currently use?
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它的表现是否优于“显而易见的猜测”？是否优于你目前使用的任何估计？
- en: Do the results of the model (coefficients, clusters, rules, confidence intervals,
    significances, and diagnostics) make sense in the context of the problem domain?
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型的结果（系数、聚类、规则、置信区间、显著性以及诊断）在问题域的背景下是否有意义？
- en: '![](Images/012fig01.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/012fig01.jpg)'
- en: If you’ve answered “no” to any of these questions, it’s time to loop back to
    the modeling step—or decide that the data doesn’t support the goal you’re trying
    to achieve. No one likes negative results, but understanding when you can’t meet
    your success criteria with current resources will save you fruitless effort. Your
    energy will be better spent on crafting success. This might mean defining more-realistic
    goals or gathering the additional data or other resources that you need to achieve
    your original goals.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对这些问题的任何一个回答了“不”，那么是时候回到建模步骤——或者决定数据不支持你试图实现的目标。没有人喜欢负面结果，但了解在当前资源下无法满足你的成功标准时，将节省你徒劳的努力。你的精力将更好地用于创造成功。这可能意味着定义更现实的或收集你为实现原始目标所需的额外数据或其他资源。
- en: Returning to the loan application example, the first thing to check is whether
    the rules that the model discovered make sense. Looking at [figure 1.3](../Text/01.xhtml#ch01fig03),
    you don’t notice any obviously strange rules, so you can go ahead and evaluate
    the model’s accuracy. A good summary of classifier accuracy is the *confusion
    matrix*, which tabulates actual classifications against predicted ones.^([[4](../Text/01.xhtml#ch01fn4)])
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 回到贷款申请示例，首先要检查的是模型发现的规则是否有意义。查看 [图 1.3](../Text/01.xhtml#ch01fig03)，你不会注意到任何明显奇怪的规则，因此你可以继续评估模型的准确度。分类器准确度的一个很好的总结是
    *混淆矩阵*，它列出了实际分类与预测分类的对比。（^[[4](../Text/01.xhtml#ch01fn4)]）
- en: ⁴
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁴
- en: ''
  id: totrans-142
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Normally, we’d evaluate the model against a test set (data that wasn’t used
    to build the model). In this example, for simplicity, we''ll evaluate the model
    against the training data (data that was used to build the model). Also note we
    are following a convention that we will use when plotting: predictions are the
    x-axis, which for tables means predictions are the column names. Be aware that
    there are other conventions for confusion matrices.'
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 通常，我们会将模型与测试集（用于构建模型的数据）进行比较。在这个例子中，为了简单起见，我们将使用训练数据（用于构建模型的数据）来评估模型。此外，请注意我们遵循的绘图约定：预测是x轴，对于表格来说，这意味着预测是列名。请注意，混淆矩阵还有其他约定。
- en: 'In [listing 1.1](../Text/01.xhtml#ch01ex01), you will create a confusion matrix
    where rows represent actual loan status, and columns represent predicted loan
    status. To improve legibility, the code references matrix elements by name rather
    than by index. For example, `conf_mat ["GoodLoan", "BadLoan"]` refers to the element
    `conf_mat[2, 1]`: the number of actual good loans that the model predicted were
    bad. The diagonal entries of the matrix represent correct predictions.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [列表 1.1](../Text/01.xhtml#ch01ex01) 中，你将创建一个混淆矩阵，其中行表示实际贷款状态，列表示预测贷款状态。为了提高可读性，代码通过名称而不是索引引用矩阵元素。例如，`conf_mat
    ["GoodLoan", "BadLoan"]` 指的是元素 `conf_mat[2, 1]`：模型预测为不良的实际良好贷款数量。矩阵的对角线条目表示正确预测。
- en: Listing 1.1\. Calculating the confusion matrix
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 1.1\. 计算混淆矩阵
- en: '[PRE0]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '❶ How to install all the packages needed to run examples in the book can be
    found here: [https://github.com/WinVector/PDSwR2/blob/master/packages.R](https://github.com/WinVector/PDSwR2/blob/master/packages.R).'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 如何安装运行本书示例所需的所有包，可以在以下链接找到：[https://github.com/WinVector/PDSwR2/blob/master/packages.R](https://github.com/WinVector/PDSwR2/blob/master/packages.R)。
- en: ❷ This file can be found at [https://github.com/WinVector/PDSwR2/tree/master/Statlog](https://github.com/WinVector/PDSwR2/tree/master/Statlog).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 此文件可以在以下链接找到：[https://github.com/WinVector/PDSwR2/tree/master/Statlog](https://github.com/WinVector/PDSwR2/tree/master/Statlog)。
- en: ❸ Creates the confusion matrix
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 创建混淆矩阵
- en: '❹ Overall model accuracy: 73% of the predictions were correct.'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ❹ 模型总体准确率：73% 的预测是正确的。
- en: '❺ Model precision: 76% of the applicants predicted as bad really did default.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: ❺ 模型精确度：76% 被预测为不良的申请者确实违约了。
- en: '❻ Model recall: the model found 14% of the defaulting loans.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: ❻ 模型召回率：模型发现了 14% 的违约贷款。
- en: '❻ False positive rate: 2% of the good applicants were mistakenly identified
    as bad.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: ❻ 假阳性率：2% 的良好申请者被错误地识别为不良。
- en: The model predicted loan status correctly 73% of the time—better than chance
    (50%). In the original dataset, 30% of the loans were bad, so guessing `GoodLoan`
    all the time would be 70% accurate (though not very useful). So you know that
    the model does better than random and somewhat better than obvious guessing.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 模型正确预测贷款状态的准确率为73%，优于随机猜测（50%）。在原始数据集中，30%的贷款是坏账，所以一直猜测`GoodLoan`的准确率将是70%（尽管并不很有用）。所以你知道模型比随机猜测做得更好，也比明显的猜测做得更好。
- en: Overall accuracy is not enough. You want to know what kind of mistakes are being
    made. Is the model missing too many bad loans, or is it marking too many good
    loans as bad? *Recall* measures how many of the bad loans the model can actually
    find. *Precision* measures how many of the loans identified as bad really are
    bad. *False positive rate* measures how many of the good loans are mistakenly
    identified as bad. Ideally, you want the recall and the precision to be high,
    and the false positive rate to be low. What constitutes “high enough” and “low
    enough” is a decision that you make together with the other stakeholders. Often,
    the right balance requires some trade-off between recall and precision.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 总体准确率还不够。你想要知道正在犯什么类型的错误。模型是否漏掉了太多的坏账，或者是否将太多的好账标记为坏账？*召回率*衡量模型实际上能找到多少坏账。*精确率*衡量被标记为坏账的贷款中有多少确实是坏账。*假阳性率*衡量有多少好账被错误地标记为坏账。理想情况下，你希望召回率和精确率都很高，而假阳性率很低。什么构成“足够高”和“足够低”是与其他利益相关者共同做出的决定。通常，正确的平衡需要在召回率和精确率之间进行一些权衡。
- en: There are other measures of accuracy and other measures of the quality of a
    model, as well. We’ll talk about model evaluation in [chapter 6](../Text/06.xhtml#ch06).
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 还有其他衡量准确率的指标，以及其他衡量模型质量的指标。我们将在第6章[讨论模型评估](../Text/06.xhtml#ch06)。
- en: 1.2.5\. Presentation and documentation
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.5. 演示和文档
- en: Once you have a model that meets your success criteria, you’ll present your
    results to your project sponsor and other stakeholders. You must also document
    the model for those in the organization who are responsible for using, running,
    and maintaining the model once it has been deployed.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你有一个满足成功标准的模型，你将向你的项目赞助商和其他利益相关者展示你的结果。你还必须为那些在模型部署后负责使用、运行和维护模型的组织成员记录模型。
- en: '![](Images/014fig01.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/014fig01.jpg)'
- en: Different audiences require different kinds of information. Business-oriented
    audiences want to understand the impact of your findings in terms of business
    metrics. In the loan example, the most important thing to present to business
    audiences is how your loan application model will reduce charge-offs (the money
    that the bank loses to bad loans). Suppose your model identified a set of bad
    loans that amounted to 22% of the total money lost to defaults. Then your presentation
    or executive summary should emphasize that the model can potentially reduce the
    bank’s losses by that amount, as shown in [figure 1.4](../Text/01.xhtml#ch01fig04).
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的受众需要不同类型的信息。面向商业的受众希望了解你的发现对商业指标的影响。在贷款示例中，向商业受众展示的最重要的事情是，你的贷款申请模型将如何减少坏账（银行因不良贷款而损失的资金）。假设你的模型识别出了一批坏账，占总损失资金的22%。那么，你的演示或执行摘要应该强调该模型有可能减少银行损失的这个数额，如图1.4[所示](../Text/01.xhtml#ch01fig04)。
- en: Figure 1.4\. Example slide from an executive presentation
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.4。执行演示中的示例幻灯片
- en: '![](Images/01fig04_alt.jpg)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/01fig04_alt.jpg)'
- en: You also want to give this audience your most interesting findings or recommendations,
    such as that new car loans are much riskier than used car loans, or that most
    losses are tied to bad car loans and bad equipment loans (assuming that the audience
    didn’t already know these facts). Technical details of the model won’t be as interesting
    to this audience, and you should skip them or only present them at a high level.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 你还希望向这个受众提供你最有趣的发现或建议，例如，新车贷款比二手车贷款风险更大，或者大多数损失都与不良汽车贷款和不良设备贷款有关（假设受众不知道这些事实）。模型的技术细节对这个受众来说可能不那么有趣，你应该跳过它们或只在高层次上展示它们。
- en: 'A presentation for the model’s end users (the loan officers) would instead
    emphasize how the model will help them do their job better:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 为模型最终用户（贷款官员）准备的演示应该强调模型将如何帮助他们更好地完成工作：
- en: How should they interpret the model?
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们应该如何解释模型？
- en: What does the model output look like?
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型的输出看起来是什么样子？
- en: If the model provides a trace of which rules in the decision tree executed,
    how do they read that?
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果模型提供了决策树中执行了哪些规则的跟踪，他们应该如何阅读这些信息？
- en: If the model provides a confidence score in addition to a classification, how
    should they use the confidence score?
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果模型除了分类之外还提供了一个置信度分数，他们应该如何使用这个置信度分数？
- en: When might they potentially overrule the model?
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们可能在什么情况下可能会推翻模型？
- en: Presentations or documentation for operations staff should emphasize the impact
    of your model on the resources that they’re responsible for. We’ll talk about
    the structure of presentations and documentation for various audiences in [part
    3](../Text/p3.xhtml#part03).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 面向运营人员的演示或文档应该强调你的模型对他们负责的资源的影响。我们将在第3部分[讨论不同受众的演示和文档结构](../Text/p3.xhtml#part03)。
- en: 1.2.6\. Model deployment and maintenance
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.6\. 模型部署和维护
- en: Finally, the model is put into operation. In many organizations, this means
    the data scientist no longer has primary responsibility for the day-to-day operation
    of the model. But you still should ensure that the model will run smoothly and
    won’t make disastrous unsupervised decisions. You also want to make sure that
    the model can be updated as its environment changes. And in many situations, the
    model will initially be deployed in a small pilot program. The test might bring
    out issues that you didn’t anticipate, and you may have to adjust the model accordingly.
    We’ll discuss model deployment in [chapter 11](../Text/11.xhtml#ch11).
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，模型投入运行。在许多组织中，这意味着数据科学家不再对模型的日常运营负有主要责任。但你仍然应该确保模型能够平稳运行，不会做出灾难性的无监督决策。你还想确保模型能够随着环境的变化而更新。在许多情况下，模型最初将部署在一个小型的试点项目中。测试可能会发现你没有预料到的问题，你可能需要相应地调整模型。我们将在第11章[讨论模型部署](../Text/11.xhtml#ch11)。
- en: '![](Images/016fig01.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![图片](Images/016fig01.jpg)'
- en: When you deploy the model, you might find that loan officers frequently override
    the model in certain situations because it contradicts their intuition. Is their
    intuition wrong? Or is your model incomplete? Or, in a more positive scenario,
    your model may perform so successfully that the bank wants you to extend it to
    home loans as well.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 当你部署模型时，你可能会发现贷款官员在特定情况下经常绕过模型，因为它与他们的直觉相矛盾。他们的直觉错了吗？或者你的模型不完整？或者，在一个更积极的场景中，你的模型可能表现得太成功，以至于银行希望你也将其扩展到住房贷款。
- en: 'Before we dive deeper into the stages of the data science lifecycle, in the
    following chapters, let’s look at an important aspect of the initial project design
    stage: setting expectations.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入探讨数据科学生命周期各阶段之前，在接下来的章节中，让我们先看看初始项目设计阶段的一个重要方面：设定预期。
- en: 1.3\. Setting expectations
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.3\. 设定预期
- en: 'Setting expectations is a crucial part of defining the project goals and success
    criteria. The business-facing members of your team (in particular, the project
    sponsor) probably already have an idea of the performance required to meet business
    goals: for example, the bank wants to reduce their losses from bad loans by at
    least 10%. Before you get too deep into a project, you should make sure that the
    resources you have are enough for you to meet the business goals.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 设定预期是定义项目目标和成功标准的关键部分。你的团队面向业务成员（特别是项目发起人）可能已经对满足业务目标所需的表现有了一定的想法：例如，银行希望至少减少10%的不良贷款损失。在你深入一个项目之前，你应该确保你拥有的资源足以帮助你实现业务目标。
- en: This is an example of the fluidity of the project lifecycle stages. You get
    to know the data better during the exploration and cleaning phase; after you have
    a sense of the data, you can get a sense of whether the data is good enough to
    meet desired performance thresholds. If it’s not, then you’ll have to revisit
    the project design and goal-setting stage.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个项目生命周期阶段灵活性的例子。在探索和清洗阶段，你将更好地了解数据；在你对数据有了感觉之后，你可以判断数据是否足够好，以满足预期的性能阈值。如果不够，那么你将不得不重新审视项目设计和目标设定阶段。
- en: 1.3.1\. Determining lower bounds on model performance
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.3.1\. 确定模型性能的下限
- en: Understanding how well a model *should* do for acceptable performance is important
    when defining acceptance criteria.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在定义验收标准时，了解模型应该达到的预期性能水平是很重要的。
- en: 'The *null model* represents the lower bound on model performance that you should
    strive for. You can think of the null model as being “the obvious guess” that
    your model must do better than. In situations where there’s a working model or
    solution already in place that you’re trying to improve, the null model is the
    existing solution. In situations where there’s no existing model or solution,
    the null model is the simplest possible model: for example, always guessing `GoodLoan`,
    or always predicting the mean value of the output when you’re trying to predict
    a numerical value.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '**零模型**代表你应该努力达到的模型性能的下限。你可以将零模型视为“显而易见的猜测”，即你的模型必须做得更好的。在已经有一个正在运行的模型或解决方案，而你试图改进的情况下，零模型是现有的解决方案。在没有现有模型或解决方案的情况下，零模型是最简单的可能模型：例如，始终猜测`GoodLoan`，或者在你试图预测数值时始终预测输出的平均值。'
- en: In our loan application example, 70% of the loan applications in the dataset
    turned out to be good loans. A model that labels all loans as `GoodLoan` (in effect,
    using only the existing process to classify loans) would be correct 70% of the
    time. So you know that any actual model that you fit to the data should be better
    than 70% accurate to be useful—if accuracy were your only metric. Since this is
    the simplest possible model, its error rate is called the *base error rate*.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的贷款申请示例中，数据集中的70%的贷款申请最终证明是好的贷款。将所有贷款标记为`GoodLoan`（实际上，仅使用现有流程来分类贷款）的模型将有70%的时间是正确的。所以你知道，任何实际模型，当你将其拟合到数据上时，应该比70%的准确率更好，以便有用——如果准确率是你的唯一指标。由于这是最简单的模型，其错误率被称为**基础错误率**。
- en: How much better than 70% should you be? In statistics there’s a procedure called
    *hypothesis testing*, or *significance testing*, that tests whether your model
    is equivalent to a null model (in this case, whether a new model is basically
    only as accurate as guessing `GoodLoan` all the time). You want your model accuracy
    to be “significantly better”—in statistical terms—than 70%. We will discuss significance
    testing in [chapter 6](../Text/06.xhtml#ch06).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该比70%好多少？在统计学中，有一个叫做**假设检验**或**显著性检验**的程序，用于检验你的模型是否与零模型（在这种情况下，是否新模型基本上只与始终猜测`GoodLoan`一样准确）等效。你希望你的模型准确率在统计上“显著优于”70%。我们将在[第6章](../Text/06.xhtml#ch06)中讨论显著性检验。
- en: Accuracy is not the only (or even the best) performance metric. As we saw previously,
    the *recall* measures the fraction of true bad loans that a model identifies.
    In our example, the null model that always guesses `GoodLoan` would have zero
    recall in identifying bad loans, which obviously is not what you want. Generally,
    if there is an existing model or process in place, you’d like to have an idea
    of its precision, recall, and false positive rates; improving one of these metrics
    is almost always more important than considering accuracy alone. If the purpose
    of your project is to improve the existing process, then the current model must
    be unsatisfactory for at least one of these metrics. Knowing the limitations of
    the existing process helps you determine useful lower bounds on desired performance.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 准确率并不是唯一的（甚至不是最好的）性能指标。正如我们之前看到的，**召回率**衡量模型识别出的真实坏贷款的比例。在我们的例子中，始终猜测`GoodLoan`的零模型在识别坏贷款方面的召回率为零，这显然不是你想要的。通常，如果已经有一个现有的模型或流程，你希望了解其精确度、召回率和假阳性率；提高这些指标中的一个几乎总是比仅仅考虑准确率更重要。如果你的项目目的是改进现有流程，那么当前模型至少在这些指标中的一个上必须是不令人满意的。了解现有流程的限制有助于你确定所需性能的有用下限。
- en: Summary
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: The data science process involves a lot of back-and-forth—between the data scientist
    and other project stakeholders, and between the different stages of the process.
    Along the way, you’ll encounter surprises and stumbling blocks; this book will
    teach you procedures for overcoming some of these hurdles. It’s important to keep
    all the stakeholders informed and involved; when the project ends, no one connected
    with it should be surprised by the final results.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学流程涉及很多来回——在数据科学家和其他项目利益相关者之间，以及在流程的不同阶段之间。在这个过程中，你会遇到惊喜和障碍；这本书将教你克服一些这些障碍的程序。保持所有利益相关者知情和参与很重要；当项目结束时，与项目有关联的任何人都不应该对最终结果感到惊讶。
- en: 'In the next chapters, we’ll look at the stages that follow project design:
    loading, exploring, and managing the data. [Chapter 2](../Text/02.xhtml#ch02)
    covers a few basic ways to load the data into R, in a format that’s convenient
    for analysis.'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将探讨项目设计之后的阶段：加载数据、探索数据和管理工作数据。[第二章](../Text/02.xhtml#ch02)介绍了几种将数据加载到R中的基本方法，这些方法便于分析。
- en: In this chapter you have learned
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了
- en: A successful data science project involves more than just statistics. It also
    requires a variety of roles to represent business and client interests, as well
    as operational concerns.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个成功的数据科学项目不仅仅涉及统计学。它还需要各种角色来代表商业和客户利益，以及运营方面的关注。
- en: You should make sure you have a clear, verifiable, quantifiable goal.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你应该确保你有一个明确、可验证、可量化的目标。
- en: Make sure you’ve set realistic expectations for all stakeholders.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保你对所有利益相关者设定了现实的目标。
