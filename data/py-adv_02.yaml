- en: '2 Lists: What’s on the menu?'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2 列表：菜单上有什么？
- en: In this chapter
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章
- en: Erik starts using menus in his coffee shop
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃里克开始在咖啡馆中使用菜单
- en: Erik uses Python lists for his drinks, flavors, and toppings
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃里克使用Python列表来存储他的饮料、口味和配料
- en: Erik uses `for` loops to print out his lists
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃里克使用`for`循环来打印列表
- en: Simon explains how computers store numbers and strings
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 西蒙解释计算机如何存储数字和字符串
- en: Erik learns an important thing about list indices
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃里克了解到了关于列表索引的一个重要事情
- en: The next day, Erik was ready to continue working on his Coffee Shop application.
    He remembered that Simon said something about missing products that customers
    might enter in the dialogue. He came to his brother and asked, “You said yesterday
    that customers can enter something that I don’t have in the shop. What should
    I do about it?”
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第二天，埃里克准备好继续他的咖啡馆应用程序的开发。他记得西蒙提到过关于顾客可能在对话中输入的缺失产品的事情。他来到他的哥哥那里问道：“你昨天说顾客可以输入我在店里没有的东西。我该怎么做？”
- en: “Remember the last time you were in a coffee shop or restaurant. How did you
    know what you could order?”
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: “记得你上次在咖啡馆或餐馆的时候。你是怎么知道你可以点什么的？”
- en: “They had a menu with a list of products that they have in the shop.”
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: “他们有一个菜单，上面列出了他们店里有的产品。”
- en: “Right!” Simon said. “A menu! This is what we’re going to create today. What
    does a menu look like in a coffee shop?”
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: “对！”西蒙说，“一份菜单！这就是我们今天要创建的。咖啡馆里的菜单是什么样子的？”
- en: “It’s a list. A list of drinks like coffee, chocolate, and decaf. And a list
    of flavors I can add. Like caramel, mint, and others. And a list of toppings.”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: “这是一个列表。像咖啡、巧克力和脱咖啡这样的饮料列表。我可以添加的口味列表，比如焦糖、薄荷和其他。还有配料列表。”
- en: “Right, lists!” Simon was very glad Erik had used that word. “Like this, right?”
    He quickly drafted something that looked like a menu.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: “对，列表！”西蒙非常高兴埃里克用了这个词。“就像这样，对吧？”他迅速草拟了一份看起来像菜单的东西。
- en: '![](../Images/02-01-lists_menu.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02-01-lists_menu.png)'
- en: “Lists are what we need! We have lists in Python—you may remember that. Lists
    are very useful in Python. They can contain numbers, strings, and even other lists.
    For example . . . ,” Simon took another piece of paper and wrote several examples.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: “列表就是我们需要的！Python中有列表——你可能还记得。列表在Python中非常有用。它们可以包含数字、字符串，甚至其他列表。例如……”西蒙又拿了一张纸，写下了几个例子。
- en: '![](../Images/02-02-lists_examples.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02-02-lists_examples.png)'
- en: “Let’s create lists for your menu. You just give each list a name, like `flavors`,
    for example, and then list your flavors in square brackets. Then do the same for
    your toppings and main drinks. Don’t forget that your flavors, toppings, and drinks
    are strings, so they should be in quotes. You can start a new file in your editor
    and call it `menu.py`, for example.”
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: “让我们为你的菜单创建列表。你只需要给每个列表起一个名字，比如`flavors`，然后在你选择的方括号中列出你的口味。然后以同样的方式为你的配料和主要饮料做同样的事情。别忘了你的口味、配料和饮料是字符串，所以它们应该用引号括起来。你可以在你的编辑器中创建一个新的文件，比如命名为`menu.py`。”
- en: 'Erik opened his editor and started typing. Here is what he had in several minutes:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克打开了他的编辑器并开始输入。几分钟内他输入了以下内容：
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: “Very good,” Simon said. “Now let’s print them as menus.”
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “非常好，”西蒙说。“现在让我们把它们打印成菜单的形式。”
- en: “Just `print(drinks)`?” Erik suggested.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “就打印`drinks`？”埃里克建议。
- en: “You can do that, but it won’t be pretty. Try it.”
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: “你可以这样做，但看起来不会很好。试试看。”
- en: 'Erik added the `print()` statement at the end:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克在最后添加了`print()`语句：
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: “Click Run ![](../Images/icon_run.png),” Simon said.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: “点击运行 ![](../Images/icon_run.png)，”西蒙说。
- en: 'Erik clicked and saw the output at the bottom of the editor window:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克点击并看到了编辑器窗口底部的输出：
- en: '[PRE2]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: “If your menu is a list, we should print it as a list,” Simon said. “And you
    should give your user a way to choose from the list. For example, you can ask
    them to type a letter. But here we have chocolate and coffee, so you can’t just
    use the first letter, ‘C,’ for both. Let’s use numbers instead. For each menu
    item, we’ll print a number. Then your user will type the number for their choice.
    For example, 1 for chocolate, 2 for coffee. Something like this.” Simon took a
    piece of paper and drew a simple menu.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: “如果你的菜单是一个列表，我们应该把它打印成列表的形式，”西蒙说。“你应该给你的用户提供一种从列表中进行选择的方式。例如，你可以要求他们输入一个字母。但这里我们有巧克力和咖啡，所以你不能只用第一个字母‘C’来代表两者。让我们用数字代替。对于每个菜单项，我们将打印一个数字。然后你的用户将输入他们选择的数字。例如，1代表巧克力，2代表咖啡。就像这样。”西蒙拿起一张纸，画了一个简单的菜单。
- en: '![](../Images/02-03-menu_mockup.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02-03-menu_mockup.png)'
- en: “Yes, I saw that in a Chinese restaurant—each dish had a number,” Erik remembered.
    “But how do I do it in Python?”
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，我在一家中餐馆看到过这个——每道菜都有一个编号，”埃里克回忆道。“但在Python中我该如何实现？”
- en: “You have a list of several items,” Simon started his explanation. “You have
    to print each item, adding a number in front of it. When we have to *repeat* something
    in Python, we use a *loop*. In this case it will be a `for` loop. You tell Python
    that for each item in the list, it has to do something. Like print it, for example.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: “你有一个包含几个项目的列表，”西蒙开始解释。“你必须打印每个项目，并在其前面添加一个数字。当我们需要在Python中重复某事时，我们使用*循环*。在这种情况下，它将是一个`for`循环。你告诉Python对于列表中的每个项目，它必须做某事。比如打印它。
- en: '“Write a simple `for` loop,” Simon continued. “Let me write the first one for
    you.” Simon took Erik’s keyboard and added a couple of lines to his code:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: “编写一个简单的`for`循环，”西蒙继续说。“让我为你写第一个。”西蒙拿起埃里克的键盘，在他的代码中添加了几行：
- en: '[PRE3]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Simon clicked Run, and they saw the output:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙点击运行，他们看到了输出：
- en: '[PRE4]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: “Now it’s your turn,” Simon said. “Write the same code for the other two lists.
    Note that I used another variable to print the list items. The list is called
    `drinks`. I used just a `d` for each drink in the list. It’s usually best to use
    meaningful names for your variables, like `drinks` for the list of drinks. But
    if a variable will be used just in one loop to go through a list, the name can
    be short, like one or two letters. It’s not a rule, but it’s easier to type.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: “现在轮到你了，”西蒙说。“为其他两个列表编写相同的代码。注意，我使用了另一个变量来打印列表项。这个列表叫做`drinks`。我为列表中的每一款饮料只使用了`d`。通常最好为你的变量使用有意义的名称，比如`drinks`用于饮料列表。但如果一个变量只在一个循环中用于遍历列表，名称可以很短，比如一个或两个字母。这不是规则，但更容易输入。
- en: “Another important thing,” Simon continued, “is that in Python, spaces mean
    *a lot*. You see that the `print()` function call is shifted four spaces to the
    right? This is how we tell Python *what* should be repeated in the loop. The part
    that is shifted right is called a *block*. Everything you put in this block will
    be repeated for each list item. We have only one function call in the block now,
    but we’ll add something else later.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: “还有一件重要的事情，”西蒙继续说，“在Python中，空格非常重要。你看到`print()`函数调用向右移动了四个空格吗？这就是我们告诉Python在循环中应该重复什么的方式。向右移动的部分称为*块*。你在这个块中放入的任何内容都会为列表中的每个项目重复。现在块中只有一个函数调用，但稍后我们会添加其他内容。
- en: “You also noticed that I didn’t type four spaces on the keyboard. Our editor
    did it for us automatically. All programming editors that you would use for Python
    have this feature. When they see the colon (`:`) they automatically shift the
    next line. This is called ‘starting a block.’ Now go ahead and write the loops.”
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: “你也注意到了，我没有在键盘上输入四个空格。我们的编辑器自动为我们完成了这个操作。你将使用的所有Python编程编辑器都有这个功能。当它们看到冒号（`:`）时，会自动将下一行向右移动。这被称为‘开始一个块’。现在继续编写循环。”
- en: 'Erik created two more loops to print the other two lists. He liked the idea
    of using shorter variable names (less typing!). He also noticed that the editor
    shifted the line after the colon automatically. Very useful! Here is what he got:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克创建了两个额外的循环来打印其他两个列表。他喜欢使用较短的变量名（更少的输入！）。他还注意到编辑器会自动将冒号后面的行向右移动。非常有用！这是他得到的结果：
- en: '[PRE5]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'He saved the program and ran it:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 他保存了程序并运行了：
- en: '[PRE6]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '*Your Turn!* Create your list of products and print it'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '*轮到你了!* 创建你的产品列表并打印它'
- en: Open your code editor and create a program similar to the one Erik just created.
    It should contain three or more lists of items. Then use loops to print out the
    content of those lists.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 打开你的代码编辑器并创建一个类似于埃里克刚刚创建的程序。它应该包含三个或更多的项目列表。然后使用循环打印出这些列表的内容。
- en: You can use Erik’s menu items or create your own. Ice cream flavors, bagels,
    minifigures—anything you want!
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用埃里克的菜单项或创建自己的。冰淇淋口味、百吉饼、迷你人偶——你想要什么都可以！
- en: “Very good,” Simon said. “But we don’t have the numbers yet. We have to fix
    it. Remember I told you that we would add something else to the block? Here is
    what I propose. We’ll create a variable that will keep the item’s number in the
    list. Each time we go to the next item, we add one to that variable. In that case,
    ‘chocolate’ will be number one, ‘coffee’ number two, and so on.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: “非常好，”西蒙说。“但我们还没有数字。我们必须修复它。记得我告诉你我们会向块中添加其他内容吗？这是我提出的建议。我们将创建一个变量来保存列表中项目的编号。每次我们到达下一个项目时，我们将该变量加一。在这种情况下，‘巧克力’将是编号一，‘咖啡’是编号二，以此类推。
- en: '“Let me show you,” and Simon took Erik’s keyboard again:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: “让我给你看看，”西蒙再次拿起埃里克的键盘：
- en: '[PRE7]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'He ran the program, and they saw this:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 他运行了程序，他们看到了这个：
- en: '[PRE8]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '“You see: I added the `i` variable. For each list item, now I print not only
    its value, but also its number. And then I add one to the number to move from
    1 to 2, then from 2 to 3, and so on. Now go ahead and change the rest,” Simon
    said.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: “你看：我添加了`i`变量。对于每个列表项，现在我不仅打印它的值，还打印它的编号。然后我将数字加一，从1到2，然后从2到3，以此类推。现在继续修改剩下的部分，”西蒙说。
- en: 'Erik made the changes:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克做了修改：
- en: '[PRE9]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'When he ran the program he saw this output:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当他运行程序时，他看到了这个输出：
- en: '[PRE10]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: “But this isn’t what I wanted!” Erik said. “I think it should be 1, 2, 3 for
    the drinks, then 1, 2, 3 for the flavors, and 1, 2, 3 for the toppings again.”
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: “但这不是我想要的！”埃里克说。“我认为饮料应该是1，2，3，然后是口味1，2，3，再次是配料1，2，3。”
- en: “Right!” Simon agreed. “How would you do this?”
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: “没错！”西蒙同意。“你会怎么做这个？”
- en: “Use a different variable?”
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: “使用不同的变量？”
- en: “Yes, that’s possible. But you can use the same `i` variable. The important
    thing is to set it to 1 before each loop. We call this *initializing* the variable.”
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，这是可能的。但你可以使用相同的`i`变量。重要的是要在每个循环前将其设置为1。我们称这个过程为*初始化*变量。”
- en: 'Erik added `i = 1` before each loop and got this:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克在每个循环前添加了`i = 1`，得到了这个结果：
- en: '[PRE11]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '*Your Turn!* Print three (or more) menus with numbers'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的机会！* 打印三个（或更多）带编号的菜单'
- en: Modify your previous program to add numbers to your menu items. Use loops. Don’t
    forget to reset the `i` variable (usually it’s called an item counter) for each
    new list.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 修改你的上一个程序，为菜单项添加数字。使用循环。别忘了为每个新列表重置`i`变量（通常称为项目计数器）。
- en: 'He clicked Run and got this output:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 他点击了运行，得到了这个输出：
- en: '[PRE12]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: “Now let’s make it a bit prettier,” Simon said. “Add titles like ‘Our drinks’
    before each list. Remember, we should let the user know what they are seeing and
    what they should do.”
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: “现在让我们让它看起来更漂亮一些，”西蒙说。“在每个列表前加上标题，比如‘我们的饮料’。记住，我们应该让用户知道他们看到的是什么，以及他们应该做什么。”
- en: 'Erik added some titles. He even added an extra line under each title. He was
    sure that would make it look like a real menu:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克添加了一些标题。他甚至在每个标题下添加了一条额外的线条。他确信这样会使它看起来像真正的菜单：
- en: '[PRE13]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '*Your Turn!* Add titles to your menus'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的机会！* 给你的菜单添加标题'
- en: Add titles to your menus to make the output beautiful. Use your shop’s name
    in the titles. Try to use other symbols, not just dashes.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 给你的菜单添加标题，使输出更美观。在标题中使用你的商店名称。尽量使用其他符号，而不仅仅是破折号。
- en: 'The output was beautiful, as he expected:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 输出正如他预期的那样很漂亮：
- en: '[PRE14]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: “Looks good,” Simon said. “What is also good about this format is that now you
    have three lists in your menu and three lists in your program.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: “看起来不错，”西蒙说。“这个格式的优点是现在你的菜单中有三个列表，你的程序中也有三个列表。”
- en: “Now,” Simon continued, “for each list in the menu, you have to ask the user
    to choose an item and then get that information from them. How do you get information
    from a user? You did it yesterday, remember?”
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: “现在，”西蒙继续说，“对于菜单中的每个列表，你必须要求用户选择一个项目，然后从他们那里获取这个信息。你是如何从用户那里获取信息的？你昨天就做到了，记得吗？”
- en: “With `input()`?” asked Erik.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: “使用`input()`吗？”埃里克问道。
- en: “Of course!” Simon was glad Erik remembered the previous lesson. “You can write
    it yourself, can’t you?”
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: “当然！”西蒙很高兴埃里克记得了之前的课程。“你可以自己写，不是吗？”
- en: “Let me try,” Erik said and started editing his code. He remembered that he
    should use the `input()` function. Then he put the prompt inside the parentheses,
    and on the left side, he used a variable. He remembered that he shouldn’t use
    the same variable for different questions.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: “让我试试，”埃里克说，并开始编辑他的代码。他记得应该使用`input()`函数。然后他把提示放在括号内，在左边使用了一个变量。他记得不应该为不同的问题使用相同的变量。
- en: 'Here is what he wrote:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这是他写的：
- en: '[PRE15]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '*Your Turn!* Add user inputs to your menus'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的机会！* 在你的菜单中添加用户输入'
- en: Add `input()` functions to your menus. Use appropriate variable names to store
    the user’s answers.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的菜单中添加`input()`函数。使用合适的变量名来存储用户的答案。
- en: “Now what?” he asked Simon.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: “现在怎么办？”他问西蒙。
- en: '“Now your user types a number, and you use that number to find the item. In
    Python, we call this number a list *index*. If you put this number in square brackets
    next to the list name, you get that item. Like this,” and he wrote an example:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: “现在用户输入一个数字，你使用这个数字来找到项目。在Python中，我们称这个数字为列表的*索引*。如果你把这个数字放在列表名称旁边的方括号中，你就能得到那个项目。就像这样，”然后他写了一个例子：
- en: '![](../Images/02-04-lists_index.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02-04-lists_index.png)'
- en: “So after you know the number, you can find the item in the list. And you can
    print, ‘Here is your order’, like you did yesterday, but now you’ll get those
    items from the menu. Try it. I’ll help you if necessary.”
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: “所以在你知道数字后，你可以在列表中找到该项目。你可以打印，‘这是你的订单’，就像你昨天做的那样，但现在你会从菜单中获取这些项目。试试看。如果需要，我会帮你。”
- en: That was a bit more difficult. Erik looked at his program from yesterday and
    copied the lines from it to the bottom of this program. Then he replaced variables
    like `drink` with the list items, like Simon suggested.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这有点难。埃里克看了看昨天的程序，并将它下面的行复制到这个程序的底部。然后他按照西蒙的建议，将变量如`drink`替换为列表项。
- en: 'Here is his code:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是他的代码：
- en: '[PRE16]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: “Now run it, and let’s see what it gives us,” Simon said.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: “现在运行它，看看它会给我们什么结果，”西蒙说。
- en: 'Erik clicked Run, and the program printed the drinks menu and asked for his
    choice. So far it worked. Erik quickly entered numbers for all three menus and
    saw this output:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克点击了运行，程序打印了饮料菜单并询问他的选择。到目前为止一切正常。埃里克迅速输入了所有三个菜单的数字，并看到了以下输出：
- en: '[PRE17]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: “What’s this?” he was puzzled.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: “这是什么？”他感到困惑。
- en: “Congratulations!” Simon said.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: “恭喜你！”西蒙说。
- en: “What are you so happy about? That my program doesn’t work?” Erik started getting
    angry at his brother.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: “你为什么这么高兴？我的程序不起作用？”埃里克开始对他哥哥生气。
- en: “Not at all!” Simon said. “You got your first error message from Python, and
    that’s a good sign! Making errors and fixing them is the only way to learn. You’ve
    got an error message—now let’s try to fix the problem. Usually Python gives you
    the reason why this happened. Start by reading the last message. What does it
    say?”
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: “一点也不！”西蒙说，“你从Python得到了第一个错误信息，这是一个好兆头！犯错并修复它们是学习的唯一方法。你已经得到了一个错误信息——现在让我们尝试解决问题。通常Python会告诉你为什么会发生这种情况。首先，阅读最后一条信息。它说了什么？”
- en: “Something about slices . . . Must be integers not str. What’s that?”
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: “关于切片的东西……必须是整数而不是字符串。这是什么？”
- en: “I agree, it takes some practice to learn to read Python error messages. Here
    it tells you that when you use a variable as an index of a list, that variable
    should be an integer number, like 1, 2, 3.”
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: “我同意，学习阅读Python错误信息需要一些练习。这里它告诉你，当你使用变量作为列表的索引时，该变量应该是一个整数，比如1、2、3。”
- en: “But I entered numbers!” Erik was still confused.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: “但我输入了数字！”埃里克仍然感到困惑。
- en: “Yes, you *typed* numbers on your keyboard. But for Python, everything you enter
    from a keyboard is a *string*. Python makes a difference between a string containing
    the number ‘1’ and the integer number 1.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，你在键盘上*输入*了数字。但Python中，你从键盘输入的任何东西都是一个*字符串*。Python区分包含数字‘1’的字符串和整数1。”
- en: “This comes from the way computers keep things in memory,” Simon continued.
    “The computer keeps the *number* 1 in memory, but when it shows it to you, it
    converts it to a *string* ‘1’. Computers also convert numbers they get from the
    keyboard. You type ‘123’ on your keyboard, and the computer gets this string and
    *converts* it to a *number* 123\. Look here.” Simon drew a picture with a computer,
    keyboard, display, and a user.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: “这来自于计算机存储东西的方式，”西蒙继续说，“计算机在内存中保留数字1，但是当它显示给你时，它会将其转换为字符串‘1’。计算机也会将它们从键盘获取的数字转换为字符串。你在键盘上输入‘123’，计算机得到这个字符串并将其*转换为*数字123。看这里。”西蒙用计算机、键盘、显示器和用户画了一张图。
- en: '![](../Images/02-05-types_conversions.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/02-05-types_conversions.png)'
- en: “We need to tell Python to convert the strings you type on the keyboard to integer
    numbers. There is a special function for that called `int()`. Let me show you
    how to use it.”
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: “我们需要告诉Python将你在键盘上输入的字符串转换为整数。有一个特殊的函数叫做`int()`。让我给你展示如何使用它。”
- en: 'Simon changed Erik’s program in one place and let him do the same in the other
    two places. Here is what Erik’s program looked like after that:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙在埃里克的程序中改变了一个地方，并让他在其他两个地方也做同样的修改。以下是埃里克的程序修改后的样子：
- en: '[PRE18]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: ❶ Converts string to a number
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 将字符串转换为数字
- en: 'Erik ran the program, entered his choices (coffee, caramel, chocolate) and
    got this output:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克运行了程序，输入了他的选择（咖啡、焦糖、巧克力）并得到了以下输出：
- en: '[PRE19]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: “What? It’s all wrong!” Erik exclaimed. “This is not what I chose!”
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: “什么？全错了！”埃里克惊叫道，“这不是我选择的！”
- en: “I didn’t tell you one important thing about Python lists,” Simon said. “Their
    indices start with zero, not one. So if you want to get the first item from the
    list, you should put 0 in the square brackets. If you want the second item, you
    use 1 as the index.”
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: “我没有告诉你关于Python列表的一个重要事情，”西蒙说，“它们的索引从0开始，而不是1。所以如果你想从列表中获取第一个项目，你应该在方括号中放入0。如果你想获取第二个项目，你使用1作为索引。”
- en: “But why?” Erik was shocked by such a strange thing.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: “但是为什么？”埃里克对这样奇怪的事情感到震惊。
- en: “It’s a long story,” Simon answered. “It comes from the way computers store
    lists in memory. The index you use is the number of items you should skip from
    the beginning of the list to get the item you want. If you want the first item
    of the list, you don’t have to skip any items. You just take it from the beginning
    of the list. So the number of items you should skip is *zero*, right? That’s why
    the first element’s index is 0\. Look here.” Simon drew another picture.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: “这是一个很长的故事，”西蒙回答道。 “这来自于计算机在内存中存储列表的方式。你使用的索引是你应该从列表开头跳过的项目数量，以获取你想要的项目。如果你想获取列表的第一个项目，你不需要跳过任何项目。你只需从列表的开头取它。所以你应该跳过的项目数量是*零*，对吧？这就是为什么第一个元素的索引是0。看这里。”
    西蒙又画了一张图。
- en: '![](../Images/02-06-index_from_zero.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02-06-index_from_zero.png)'
- en: “So what should I do now?” Erik asked. He thought that he understood Simon’s
    explanation, but he was still annoyed by this inconvenience.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: “我现在该怎么做？” 艾瑞克问道。 他认为自己理解了西蒙的解释，但仍然对这个不便感到烦恼。
- en: '“I see that you’re annoyed,” Simon said. “Don’t worry, you’ll get used to it
    very quickly. And you will, like all real programmers, start counting everything
    from zero,” Simon smiled. “For now you just subtract one from each index in the
    square brackets. But be careful: you have to add that `- 1` *after* you have converted
    your input to integer, not before. Like this: `drinks[int(drink) - 1]`.”'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: “我看到你很烦恼，”西蒙说。 “别担心，你会很快习惯的。而且，你会像所有真正的程序员一样，从零开始计算一切，”西蒙微笑着说。 “现在你只需从方括号中的每个索引中减去一个。但要注意：你必须在将输入转换为整数之后，而不是之前添加那个`-
    1`。就像这样：`drinks[int(drink) - 1]`。”
- en: 'Erik fixed his code, and now it looked like this:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克修复了他的代码，现在它看起来像这样：
- en: '[PRE20]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '*Your Turn!* Modify your program to print the order'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '*轮到你了!* 修改你的程序以打印订单'
- en: Modify your program like Erik just did and print your order. Don’t forget to
    convert the input strings to numbers. And don’t forget to subtract one (1) from
    each number—list indices start with zero, remember?
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 按照艾瑞克刚才的方式修改你的程序并打印你的订单。别忘了将输入字符串转换为数字。别忘了从每个数字中减去一个（1）——列表索引从零开始，记住？
- en: 'He ran the program, entered 2, 1, 1 and finally got what he wanted:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 他运行了程序，输入了2，1，1，最终得到了他想要的结果：
- en: '[PRE21]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: “Cool! It works!” Erik was definitely happy. “I like my coffee shop program!
    Are we done with it?”
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: “酷！它工作了！” 艾瑞克显然很高兴。 “我喜欢我的咖啡馆程序！我们完成了吗？”
- en: “Almost,” Simon answered. “Look, you wrote almost exactly the same code three
    times.”
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: “差不多，”西蒙回答道。 “看，你几乎三次写出了完全相同的代码。”
- en: “What’s wrong with that?”
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: “那有什么问题？”
- en: '“Imagine you want to change something in your code. For example, you may want
    to change the way you print the menu items. You’ll have to change it in all three
    places. Or in even more places if you decide to add other menu lists. Imagine
    you want to add desserts to your coffee shop. That means you’ll have to copy this
    code one more time. What if you made a mistake in the code? Programmers call them
    *bugs* (I’ll tell you why later). Then you would have to fix that bug in four
    places, repeating yourself. Programmers like the DRY principle: *Don’t Repeat
    Yourself*.”'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: “想象一下你想在代码中更改一些东西。例如，你可能想更改打印菜单项的方式。你将不得不在所有三个地方进行更改。或者如果你决定添加其他菜单列表，你甚至可能需要在更多的地方进行更改。想象一下你想在你的咖啡馆里添加甜点。这意味着你将不得不再次复制这段代码。如果你在代码中犯了错误怎么办？程序员称之为*bug*（我稍后会告诉你原因）。然后你将不得不在四个地方修复那个bug，重复自己。程序员喜欢DRY原则：*不要重复自己*。”
- en: “But I don’t see how I can do that,” Erik was confused. “If I have *three* menu
    lists, I have to print them three times. And I have to ask the user for input
    three times.”
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: “但我不知道我怎么能做到这一点，”艾瑞克感到困惑。 “如果我有三个菜单列表，我必须打印三次。我必须三次向用户请求输入。”
- en: “We can use a *function* here,” Simon explained. “Remember when we started using
    the `print()` function, I told you that for operations that we want to repeat
    over and over, we use functions. So far we have used functions written by somebody
    else. Now we’ll create our own function and use it.”
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: “我们在这里可以使用一个*函数*，”西蒙解释道。 “记得我们开始使用`print()`函数时，我告诉过你，对于我们要反复进行的操作，我们使用函数。到目前为止，我们使用的是别人写的函数。现在我们将创建我们自己的函数并使用它。”
- en: “That’s cool. I like it,” Erik said.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: “这很酷。我喜欢它，”艾瑞克说。
- en: “Great, we’ll do that tomorrow. I think we have done enough for today. You did
    a great job, Erik.” Simon was indeed glad that his brother was making progress.
    “Let’s recap what we have learned today. What was the first thing?”
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: “太好了，我们明天再做。我认为我们今天已经做得足够多了。你做得很好，艾瑞克。” 西蒙确实很高兴他的兄弟在进步。“让我们回顾一下我们今天学到了什么。第一件事是什么？”
- en: “First, we created *lists*,” Erik said. “We put all our drinks, flavors, and
    toppings in the lists.”
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: “首先，我们创建了*列表*，” 艾瑞克说。“我们把所有的饮料、口味和配料都放在列表中。”
- en: “Good, what was next?”
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: “很好，接下来是什么？”
- en: “Then we printed the lists using *loops*. And then we printed the numbers next
    to each drink or flavor.”
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: “然后我们使用*循环*打印了列表，然后打印了每个饮料或口味的旁边数字。”
- en: “Yes, exactly,” Simon confirmed. “Go on, what was after that?”
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，没错，” 西蒙确认道。“继续，之后发生了什么？”
- en: “Then I tried to print drinks from the list, but I got an error from Python.
    You explained how numbers are stored in computer memory. Then we converted the
    numbers, and I tried to print my order again. And *just because you didn’t tell
    me that indices start with zero*” (Erik didn’t forget that!), “my order printed
    all the wrong items!”
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: “然后我尝试从列表中打印饮料，但Python给我返回了一个错误。你解释了数字是如何存储在计算机内存中的。然后我们转换了数字，我再次尝试打印我的订单。而且*正是因为你没有告诉我索引是从零开始的*”（艾瑞克没有忘记这一点），“我的订单打印出了所有错误的项目！”
- en: “Please, forgive me,” Simon smiled. “But now you’ll remember it much better,
    I’m sure!”
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: “请，原谅我，” 西蒙微笑着说。“但我相信你现在会记得更好！”
- en: “Finally I fixed it, and now it works well!” Erik finished.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: “终于修好了，现在运行得很好！” 艾瑞克说。
- en: “Great job!” Simon gave Erik a thumbs up. “We’ll continue tomorrow and write
    our first function.”
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: “干得好！” 西蒙给艾瑞克竖起大拇指。“我们明天继续，并编写我们的第一个函数。”
- en: New things you have learned today
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 今天你学到的新东西
- en: '*List*—A collection of items in Python. You can have strings or numbers in
    a list, or even a mix of them.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列表*—Python中项目的一个集合。列表中可以包含字符串或数字，甚至它们的混合。'
- en: '*List index*—The number we use to retrieve an item from a list. Indices in
    lists always start with zero and increase by one for each next element: 0, 1,
    2, 3, and so on.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*列表索引*—我们用来从列表中检索项目的数字。列表中的索引总是从零开始，每个下一个元素增加一：0，1，2，3，依此类推。'
- en: '*Numbers and strings*—These are different *types* of variables in Python. When
    you print something on the screen or get input from the keyboard, you always use
    strings. When you want to do any math operations with numbers you received from
    the user, you have to convert them from strings to numbers.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*数字和字符串*—这些是Python中不同类型的变量。当你想在屏幕上打印某物或从键盘获取输入时，你总是使用字符串。当你想对用户接收到的数字进行任何数学运算时，你必须将它们从字符串转换为数字。'
- en: Code for this chapter
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 本章代码
- en: 'You can find the code for this chapter here: [https://github.com/pavelanni/pythonicadventure-code/tree/main/ch02](https://github.com/pavelanni/pythonicadventure-code/tree/main/ch02).'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在这里找到本章的代码：[https://github.com/pavelanni/pythonicadventure-code/tree/main/ch02](https://github.com/pavelanni/pythonicadventure-code/tree/main/ch02)。
