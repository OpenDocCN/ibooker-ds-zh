- en: Appendix A. Preparing the environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录A. 准备环境
- en: A.1 Installing Python and Anaconda
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.1 安装Python和Anaconda
- en: 'For the projects in this book, we will use Anaconda, a Python distribution
    that comes with most of the required machine learning packages that you’ll need
    to use: NumPy, SciPy, Scikit-learn, Pandas, and many more.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书中的项目，我们将使用Anaconda，这是一个包含您所需的大部分机器学习包的Python发行版：NumPy、SciPy、Scikit-learn、Pandas等等。
- en: A.1.1 Installing Python and Anaconda on Linux
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1.1 在Linux上安装Python和Anaconda
- en: The instructions in this section will work regardless of whether you’re installing
    Anaconda on a remote machine or your laptop. Although we tested it only on Ubuntu
    18.04 LTS and 20.04 LTS, this process should work fine for most Linux distributions.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本节中的说明适用于您在远程机器或笔记本电脑上安装Anaconda的情况。尽管我们只在Ubuntu 18.04 LTS和20.04 LTS上进行了测试，但这个过程应该适用于大多数Linux发行版。
- en: Note Using Ubuntu Linux is recommended for the examples in this book. It’s not
    a strict requirement, however, and you should not have problems running the examples
    in other operating systems. If you don’t have a computer with Ubuntu, it’s possible
    to rent one online in the cloud. Please refer to the “Renting a server on AWS”
    section for more detailed instructions.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：建议使用Ubuntu Linux来运行本书中的示例。这不是一个严格的要求，您应该在其他操作系统上运行示例时不会遇到问题。如果您没有装有Ubuntu的计算机，您可以在云中在线租用一台。请参阅“在AWS上租用服务器”部分以获取更详细的说明。
- en: 'Almost every Linux distribution comes with a Python interpreter installed,
    but it’s always a good idea to have a separate installation of Python to avoid
    trouble with the system Python. Using Anaconda is a great option: it’s installed
    in the user directory and it doesn’t interfere with the system Python.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎每个Linux发行版都预装了Python解释器，但始终有一个单独的Python安装是个好主意，以避免与系统Python发生冲突。使用Anaconda是一个很好的选择：它安装在用户目录中，并且不会干扰系统Python。
- en: To install Anaconda, you first need to download it. Go to [https://www.anaconda.com](https://www.anaconda.com)
    and click Get Starter. Then select Download Anaconda Installer. This should take
    you to [https://www.anaconda.com/products/individual](https://www.anaconda.com/products/individual).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Anaconda，您首先需要下载它。访问[https://www.anaconda.com](https://www.anaconda.com)，点击获取入门版。然后选择下载Anaconda安装程序。这应该会带您到[https://www.anaconda.com/products/individual](https://www.anaconda.com/products/individual)。
- en: Select 64-Bit (x86) installer and the latest available version—3.8 at the moment
    of writing (figure A.1).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 选择64位（x86）安装程序和最新可用的版本——写作时为3.8（图A.1）。
- en: '![](../Images/A-01.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![图A.1](../Images/A-01.png)'
- en: Figure A.1 Downloading the Linux Installer for Anaconda
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.1 下载Anaconda的Linux安装程序
- en: Next, copy the link to the installation package. In our case it was [https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-x86_64.sh](https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-x86_64.sh).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，复制安装包的链接。在我们的例子中是[https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-x86_64.sh](https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-x86_64.sh)。
- en: Note If a newer version of Anaconda is available, you should install it instead.
    All the code will work on newer versions without problems.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：如果Anaconda有新版本可用，您应该安装它。所有代码在新版本上都能正常工作，不会出现问题。
- en: 'Now go to the terminal to download it:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 现在转到终端下载它：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then install it:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 然后安装它：
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Read the agreement, type “yes” if you accept it, and then select the location
    where you want to install Anaconda. You can use the default location, but you
    don’t have to.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读协议，如果您接受，请输入“yes”，然后选择您想要安装Anaconda的位置。您可以使用默认位置，但不必这么做。
- en: 'During the installation, you’ll be asked if you want to initialize Anaconda.
    Type “yes,” and it will do everything automatically:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装过程中，您将被询问是否想要初始化Anaconda。输入“yes”，它将自动完成所有操作：
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'If you don’t want to let the installer initialize it, you can do it manually
    by adding the location with Anaconda’s binaries to the `PATH` variable. Open the
    .bashrc file in the home directory and add this line at the end:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不想让安装程序初始化它，您可以通过将Anaconda的二进制文件位置添加到`PATH`变量中来手动完成。在主目录中打开`.bashrc`文件，并在末尾添加此行：
- en: '[PRE3]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'After the installation has completed, you can delete the installer:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您可以删除安装程序：
- en: '[PRE4]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Next, open a new terminal shell. If you’re using a remote machine, you can simply
    exit the current session by pressing Ctrl-D and then log in again using the same
    `ssh` command as previously.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，打开一个新的终端shell。如果您正在使用远程机器，您可以通过按Ctrl-D退出当前会话，然后使用之前相同的`ssh`命令再次登录。
- en: 'Now everything should work. You can test that your system picks the right binary
    by using the `which` command:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在一切应该都能正常工作。你可以通过使用`which`命令来测试你的系统是否选择了正确的二进制文件：
- en: '[PRE5]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'If you’re running on an EC2 instance from AWS, you should see something similar
    to this:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是在AWS的EC2实例上运行，你应该看到类似这样的内容：
- en: '[PRE6]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Of course, the path may be different, but it should be the path to the Anaconda
    installation.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，路径可能不同，但应该是Anaconda安装的路径。
- en: Now you’re ready to use Python and Anaconda.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经准备好使用Python和Anaconda了。
- en: A.1.2 Installing Python and Anaconda on Windows
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1.2 在Windows上安装Python和Anaconda
- en: Linux Subsystem for Windows
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Windows的Linux子系统
- en: The recommended way to install Anaconda on Windows is to use the Linux Subsystem
    for Windows.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上安装Anaconda的推荐方法是使用Windows的Linux子系统。
- en: To install Ubuntu on Windows, open the Microsoft Store and look for ubuntu in
    the search box; then select Ubuntu 18.04 LTS (figure A.2).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Windows上安装Ubuntu，请打开Microsoft Store，在搜索框中查找ubuntu；然后选择Ubuntu 18.04 LTS（图A.2）。
- en: '![](../Images/A-02.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-02.png)'
- en: Figure A.2 Use Microsoft Store to install Ubuntu on Windows.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.2 使用Microsoft Store在Windows上安装Ubuntu。
- en: To install it, simply click Get in the next window (figure A.3).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装它，只需在下一个窗口中点击获取（图A.3）。
- en: '![](../Images/A-03.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-03.png)'
- en: Figure A.3 To install Ubuntu 18.04 for Windows, click Get.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.3 要在Windows上安装Ubuntu 18.04，请点击获取。
- en: Once it’s installed, we can use it by clicking the Launch button (figure A.4).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，我们可以通过点击启动按钮（图A.4）来使用它。
- en: '![](../Images/A-04.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-04.png)'
- en: Figure A.4 Click Launch to run the Ubuntu terminal.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.4 点击启动以运行Ubuntu终端。
- en: When running it for the first time, it will ask you to specify the username
    and password (figure A.5). After that, the terminal is ready to use.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 首次运行时，它将要求你指定用户名和密码（图A.5）。之后，终端就准备好使用了。
- en: '![](../Images/A-05.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-05.png)'
- en: Figure A.5 The Ubuntu Terminal running on Windows
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.5 在Windows上运行的Ubuntu终端
- en: Now you can use the Ubuntu Terminal and follow the instructions for Linux to
    install Anaconda.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以使用Ubuntu终端并遵循Linux的说明来安装Anaconda。
- en: Anaconda Windows Installer
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Anaconda Windows安装程序
- en: Alternatively, we can use the Windows Installer for Anaconda. First, we need
    to download it from [https://anaconda.com/distribution](https://anaconda.com/distribution)
    (figure A.6). Navigate to the Windows Installer section and download the 64-Bit
    Graphical Installer (or the 32-bit version, if you’re using an older computer).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以使用Anaconda的Windows安装程序。首先，我们需要从[https://anaconda.com/distribution](https://anaconda.com/distribution)（图A.6）下载它。导航到Windows安装程序部分并下载64位图形安装程序（或者如果你使用的是较旧的计算机，可以选择32位版本）。
- en: '![](../Images/A-06.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-06.png)'
- en: Figure A.6 Downloading the Windows Installer for Anaconda
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.6 下载Anaconda的Windows安装程序
- en: Once you’ve downloaded the installer, simply run it and follow the setup guide
    (figure A.7).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 下载安装程序后，只需运行它并按照设置指南（图A.7）进行操作。
- en: '![](../Images/A-07.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-07.png)'
- en: Figure A.7 The installer for Anaconda
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.7 Anaconda安装程序
- en: It’s pretty straightforward and you should have no problems running it. After
    the installation is successful, you should be able to run it by choosing Anaconda
    Navigator from the start menu.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这非常直接，你应该没有问题运行它。安装成功后，你应该可以通过从开始菜单中选择Anaconda Navigator来运行它。
- en: A.1.3 Installing Python and Anaconda on macOS
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1.3 在macOS上安装Python和Anaconda
- en: 'The instructions for macOS should be similar to Linux and Windows: select the
    installer with the latest version of Python and execute it.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: macOS的说明应该与Linux和Windows类似：选择带有最新Python版本的安装程序并执行它。
- en: A.2 Running Jupyter
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.2 运行Jupyter
- en: A.2.1 Running Jupyter on Linux
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2.1 在Linux上运行Jupyter
- en: 'Once Anaconda is installed, you can run Jupyter. First, you need to create
    a directory that Jupyter will use for all the notebooks:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 安装Anaconda后，你可以运行Jupyter。首先，你需要创建一个目录，Jupyter将使用该目录来存储所有的notebooks：
- en: '[PRE7]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then `cd` to this directory to run Jupyter from there:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 然后`cd`到这个目录，从这里运行Jupyter：
- en: '[PRE8]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'It will use this directory for creating notebooks. Now let’s run Jupyter:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 它将使用此目录来创建notebooks。现在让我们运行Jupyter：
- en: '[PRE9]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This should be enough if you want to run Jupyter on a local computer. If you
    want to run it on a remote server, such as an EC2 instance from AWS, you need
    to add a few extra command-line options:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想在本地计算机上运行Jupyter，这应该足够了。如果你想在远程服务器上运行它，例如AWS的EC2实例，你需要添加一些额外的命令行选项：
- en: '[PRE10]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'In this case, you must specify two things:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，你必须指定两个东西：
- en: The IP address Jupyter will use to accept incoming HTTP requests (`--ip=0.0.0.0`).
    By default it uses localhost, meaning that it’s possible to access the Notebook
    service only from within the computer.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jupyter将用于接受传入HTTP请求的IP地址（`--ip=0.0.0.0`）。默认情况下，它使用localhost，这意味着只能从计算机内部访问Notebook服务。
- en: The `--no-browser` parameter, so Jupyter won’t attempt to use the default web
    browser to open the URL with the notebooks. Of course, there’s no web browser
    on the remote machine, only a terminal.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--no-browser`参数，这样Jupyter就不会尝试使用默认的网页浏览器打开带有笔记本的URL。当然，远程机器上没有网页浏览器，只有终端。'
- en: Note In the case of EC2 instances on AWS, you will also need to configure the
    security rules to allow the instance to receive requests on the port 8888\. Please
    refer to the “Renting a server on AWS” section for more details.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：在AWS上的EC2实例的情况下，你还需要配置安全规则，以允许实例在端口8888上接收请求。请参阅“在AWS上租用服务器”部分以获取更多详细信息。
- en: 'When you run this command, you should see something similar to this:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 当你运行此命令时，你应该会看到类似以下内容：
- en: '[PRE11]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: When starting, Jupyter generates a random token. You need this token to access
    the web page. This is for security purposes, so no one can access the Notebook
    service but you.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当启动时，Jupyter会生成一个随机令牌。你需要这个令牌来访问网页。这是出于安全考虑，所以没有人可以访问Notebook服务，除了你。
- en: 'Copy the URL from the terminal, and replace (ip-172-31-21-255 or 127.0.0.1)
    with the instance URL. You should end up with something like this:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 从终端复制URL，并将（ip-172-31-21-255或127.0.0.1）替换为实例URL。你应该得到类似以下内容：
- en: http://ec2-18-217-172-167.us-east-2.compute.amazonaws.com:8888/?token=f04317713e74e65289fe5a43dac43d5bf164c144d05ce613
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: http://ec2-18-217-172-167.us-east-2.compute.amazonaws.com:8888/?token=f04317713e74e65289fe5a43dac43d5bf164c144d05ce613
- en: 'This URL consists of three parts:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 此URL由三部分组成：
- en: 'The DNS name of the instance: if you use AWS, you can get it from the AWS console
    or by using the AWS CLI.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实例的DNS名称：如果你使用AWS，你可以从AWS控制台或使用AWS CLI获取它。
- en: The port (8888, which is the default port for the Jupyter notebooks service).
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 端口（8888，这是Jupyter笔记本服务的默认端口）。
- en: The token you just copied from the terminal.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你刚刚从终端复制的令牌。
- en: After that, you should be able to see the Jupyter Notebooks service and create
    a new notebook (figure A.8).
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，你应该能够看到Jupyter Notebooks服务并创建一个新的笔记本（图A.8）。
- en: '![](../Images/A-08.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-08.png)'
- en: Figure A.8 The Jupyter Notebook service. Now you can create a new notebook.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.8 Jupyter Notebook服务。现在你可以创建一个新的笔记本。
- en: 'If you’re using a remote machine, when you exit the SSH session the Jupyter
    Notebook service will stop working. The internal process is attached to the SSH
    session, and it will be terminated. To avoid this, you can run the service inside
    screen, a tool for managing multiple virtual terminals:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是远程机器，当你退出SSH会话时，Jupyter Notebook服务将停止工作。内部进程附属于SSH会话，并将被终止。为了避免这种情况，你可以在screen工具中运行服务，这是一个用于管理多个虚拟终端的工具：
- en: '[PRE12]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This command will attempt to connect to a screen with the name jupyter, but
    if no such screen exists, it will create one.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将尝试连接到名为jupyter的screen，但如果不存在这样的screen，它将创建一个。
- en: 'Then, inside the screen, you can type the same command for starting Jupyter
    Notebook:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在screen内部，你可以输入相同的命令来启动Jupyter Notebook：
- en: '[PRE13]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Check that it’s working by trying to access it from your web browser. After
    verifying that it works, you can detach the screen by pressing Ctrl-A followed
    by D: first press Ctrl-A, wait a bit, and then press D (for macOS, first press
    Ctrl-A and then press Ctrl-D). Anything running inside the screen is not attached
    to the current SSH session, so when you detach the screen and exit the session,
    the Jupyter process will keep running.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 通过尝试从你的网页浏览器访问它来检查它是否工作。在确认它工作后，你可以通过按Ctrl-A后跟D来断开screen：首先按Ctrl-A，稍等片刻，然后按D（对于macOS，首先按Ctrl-A然后按Ctrl-D）。screen内部运行的所有内容都不附加到当前的SSH会话，所以当你断开screen并退出会话时，Jupyter进程将继续运行。
- en: You can now disconnect from SSH (by pressing Ctrl-D) and verify that the Jupyter
    URL is still working.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在可以断开SSH连接（通过按Ctrl-D）并验证Jupyter URL是否仍然可用。
- en: A.2.2 Running Jupyter on Windows
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2.2 在Windows上运行Jupyter
- en: As with Python and Anaconda, if you use the Linux Subsystem for Windows to install
    Jupyter, the instructions for Linux should work for Windows too.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 与Python和Anaconda一样，如果你使用Windows的Linux子系统安装Jupyter，Linux的说明也适用于Windows。
- en: 'By default, there’s no browser configured to run in the Linux Subsystem. So
    we need to use the following command for launching Jupyter:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Linux子系统没有配置浏览器运行。因此，我们需要使用以下命令来启动Jupyter：
- en: '[PRE14]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Alternatively, we can set the `BROWSER` variable to point it to a browser from
    Windows:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以将 `BROWSER` 变量设置为指向 Windows 中的浏览器：
- en: '[PRE15]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: However, if you didn’t use the Linux Subsystem and installed Anaconda using
    the Windows Installer, starting the Jupyter Notebook service is different.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果您没有使用 Linux 子系统，而是使用 Windows 安装程序安装 Anaconda，启动 Jupyter Notebook 服务的方式就不同了。
- en: First, we need to open the Anaconda Navigator in the start menu. Once it’s open,
    find Jupyter in the Applications tab and click Launch (figure A.9).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要在开始菜单中打开 Anaconda Navigator。一旦打开，在应用程序标签页中找到 Jupyter 并点击启动（图 A.9）。
- en: '![](../Images/A-09.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-09.png)'
- en: Figure A.9 To run the Jupyter Notebook service, find Jupyter in the applications
    tab and click Launch.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.9 要运行 Jupyter Notebook 服务，在应用程序标签页中找到 Jupyter 并点击启动。
- en: After the service launches successfully, the browser with Jupyter should open
    automatically (figure A.10).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 服务成功启动后，带有 Jupyter 的浏览器应该会自动打开（图 A.10）。
- en: '![](../Images/A-10.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-10.png)'
- en: Figure A.10 The Jupyter Notebook service launched using Anaconda Navigator
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.10 使用 Anaconda Navigator 启动的 Jupyter Notebook 服务
- en: A.2.3 Running Jupyter on MacOS
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2.3 在 MacOS 上运行 Jupyter
- en: The instructions for Linux should also work for macOS, with no additional changes.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 的说明也应该适用于 macOS，无需进行任何额外更改。
- en: A.3 Installing the Kaggle CLI
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.3 安装 Kaggle CLI
- en: The Kaggle CLI is the command-line interface for accessing the Kaggle platform,
    which includes data from Kaggle competitions and Kaggle datasets.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: Kaggle CLI 是访问 Kaggle 平台的命令行界面，包括 Kaggle 竞赛和 Kaggle 数据集的数据。
- en: 'You can install it using pip:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 pip 安装它：
- en: '[PRE16]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Then you need to configure it. First, you need to get credentials from Kaggle.
    For that, go to your Kaggle profile (create one if you don’t have one yet), located
    at https://www.kaggle.com/<username>/account. The URL will be something like [https://www.kaggle.com/agrigorev/account](https://www.kaggle.com/agrigorev/account).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您需要对其进行配置。首先，您需要从 Kaggle 获取凭证。为此，请访问您的 Kaggle 个人资料（如果您还没有，请创建一个），位于 https://www.kaggle.com/<username>/account。URL
    将类似于 [https://www.kaggle.com/agrigorev/account](https://www.kaggle.com/agrigorev/account)。
- en: In the API section, click Create New API Token (figure A.11).
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在 API 部分，点击创建新的 API 令牌（图 A.11）。
- en: '![](../Images/A-11.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-11.png)'
- en: Figure A.11 To generate an API token to use from the Kaggle CLI, click Create
    New API Token on your Kaggle account page.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.11 要生成用于 Kaggle CLI 的 API 令牌，请点击您的 Kaggle 账户页面上的创建新 API 令牌。
- en: 'This will download a file called kaggle.json, which is a JSON file with two
    fields: `username` and `key`. If you’re configuring the Kaggle CLI on the same
    computer you used to download the file, you should simply move this file to the
    location where the Kaggle CLI expects it:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这将下载一个名为 kaggle.json 的文件，这是一个包含两个字段的 JSON 文件：`username` 和 `key`。如果您在下载文件的同一台计算机上配置
    Kaggle CLI，只需将此文件移动到 Kaggle CLI 期望的位置：
- en: '[PRE17]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'If you’re configuring it on a remote machine, such as an EC2 instance, you
    need to copy the content of this file and paste it into the terminal. Open the
    file using nano (this will create the file if it doesn’t exist):'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在远程机器上配置它，例如 EC2 实例，您需要复制此文件的内容并将其粘贴到终端中。使用 nano 打开文件（如果不存在，将创建文件）：
- en: '[PRE18]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Paste in the content of the kaggle.json file you downloaded. Save the file by
    pressing Ctrl-O and exit nano by pressing Ctrl-X.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 将您下载的 kaggle.json 文件的内容粘贴进去。通过按 Ctrl-O 保存文件，并通过按 Ctrl-X 退出 nano。
- en: 'Now test that it’s working by trying to list the available datasets:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 现在通过尝试列出可用的数据集来测试它是否正在工作：
- en: '[PRE19]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'You can also test that it can download datasets by trying the dataset from
    chapter 2:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过尝试第 2 章的数据集来测试它是否可以下载数据集：
- en: '[PRE20]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: It should download a file called cardataset.zip.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该下载一个名为 cardataset.zip 的文件。
- en: A.4 Accessing the source code
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.4 访问源代码
- en: 'We’ve stored the source code for this book on GitHub, a platform for hosting
    source code. You can see it here: [https://github.com/alexeygrigorev/mlbookcamp-code](https://github.com/alexeygrigorev/mlbookcamp-code).'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经将本书的源代码存储在 GitHub 上，这是一个托管源代码的平台。您可以在以下链接查看：[https://github.com/alexeygrigorev/mlbookcamp-code](https://github.com/alexeygrigorev/mlbookcamp-code)。
- en: GitHub uses Git to manage code, so you’ll need a Git client to access the code
    for this book.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub 使用 Git 来管理代码，因此您需要一个 Git 客户端来访问本书的代码。
- en: Git comes preinstalled in all the major Linux distributions. For example, the
    AMI we used for creating an instance with Ubuntu on AWS already has it.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Git 在所有主要的 Linux 发行版中都是预安装的。例如，我们用于在 AWS 上创建 Ubuntu 实例的 AMI 已经包含了它。
- en: 'If your distribution doesn’t have Git, it’s easy to install it. For example,
    for Debian-based distributions (such as Ubuntu), you need to run the following
    command:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的发行版没有 Git，安装它也很容易。例如，对于基于 Debian 的发行版（如 Ubuntu），您需要运行以下命令：
- en: '[PRE21]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: On macOS, to use Git you need to install Command Line Tools or, alternatively,
    download the installer at [https://sourceforge.net/projects/git-osx-installer/](https://sourceforge.net/projects/git-osx-installer/files/).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在 macOS 上，要使用 Git，您需要安装命令行工具，或者，作为替代，从 [https://sourceforge.net/projects/git-osx-installer/](https://sourceforge.net/projects/git-osx-installer/files/)
    下载安装程序。
- en: For Windows, you can download Git at [https://git-scm.com/download/win](https://git-scm.com/download/win).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows，您可以从 [https://git-scm.com/download/win](https://git-scm.com/download/win)
    下载 Git。
- en: 'Once you have Git installed, you can use it to get the book’s code. To access
    it, you need to run the following command:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您安装了 Git，您就可以使用它来获取书中的代码。要访问它，您需要运行以下命令：
- en: '[PRE22]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Now you can run Jupyter Notebook:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以运行 Jupyter Notebook：
- en: '[PRE23]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'If you don’t have Git and don’t want to install it, it’s also possible to access
    the code without it. You can download the latest code in a zip archive and unpack
    it. On Linux, you can do that by executing these commands:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有 Git 且不想安装它，也可以在不使用 Git 的情况下访问代码。您可以从 zip 存档中下载最新代码并解压。在 Linux 上，您可以通过执行以下命令来完成此操作：
- en: '[PRE24]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'You can also just use your web browser: type the URL, download the zip archive,
    and extract the content.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以直接使用您的网络浏览器：输入 URL，下载 zip 存档，并提取内容。
- en: A.5 Installing Docker
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.5 安装 Docker
- en: In chapter 5, we use Docker to package our application in an isolated container.
    It’s quite easy to install.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在第 5 章，我们使用 Docker 将我们的应用程序打包到隔离的容器中。安装非常简单。
- en: A.5.1 Installing Docker on Linux
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.5.1 在 Linux 上安装 Docker
- en: These steps are based on the official instructions for Ubuntu from the Docker
    website ([https://docs.docker.com/engine/install/ubuntu/](https://docs.docker.com/engine/install/ubuntu/)).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 这些步骤基于 Docker 网站上的官方 Ubuntu 指令（[https://docs.docker.com/engine/install/ubuntu/](https://docs.docker.com/engine/install/ubuntu/))。
- en: 'First, we need to install all the prerequisites:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要安装所有先决条件：
- en: '[PRE25]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Next, we add the repository with the Docker binaries:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们添加包含 Docker 二进制文件的存储库：
- en: '[PRE26]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Now we can install it:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以安装它：
- en: '[PRE27]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Finally, if we want to execute Docker commands without sudo, we need to add
    our user to the `docker` user group:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，如果我们想在不使用 sudo 的情况下执行 Docker 命令，我们需要将我们的用户添加到 `docker` 用户组：
- en: '[PRE28]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Now you’ll need to reboot your system. In the case of EC2 or another remote
    machine, just logging off and on is enough.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您需要重新启动您的系统。在 EC2 或其他远程机器的情况下，只需注销并重新登录即可。
- en: 'To test that everything works fine, run the `hello-world` container:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试一切是否正常工作，运行 `hello-world` 容器：
- en: '[PRE29]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'You should see a message saying that everything works:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该会看到一个表示一切正常的信息：
- en: '[PRE30]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: A.5.2 Installing Docker on Windows
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.5.2 在 Windows 上安装 Docker
- en: To install Docker on Windows, you need to download the installer from the official
    website ([https://hub.docker.com/editions/community/docker-ce-desktop-windows/](https://hub.docker.com/editions/community/docker-ce-desktop-windows/))
    and simply follow the instructions.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 Windows 上安装 Docker，您需要从官方网站下载安装程序（[https://hub.docker.com/editions/community/docker-ce-desktop-windows/](https://hub.docker.com/editions/community/docker-ce-desktop-windows/))，然后简单地按照说明操作。
- en: A.5.3 Installing Docker on MacOS
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.5.3 在 MacOS 上安装 Docker
- en: 'Like with Windows, installing Docker on MacOS is simple: first, download the
    installer from the official website ([https://hub.docker.com/editions/community/docker-ce-desktop-mac/](https://hub.docker.com/editions/community/docker-ce-desktop-mac/)),
    and then follow the instructions.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 就像在 Windows 上一样，在 MacOS 上安装 Docker 也非常简单：首先，从官方网站下载安装程序（[https://hub.docker.com/editions/community/docker-ce-desktop-mac/](https://hub.docker.com/editions/community/docker-ce-desktop-mac/)），然后按照说明操作。
- en: A.6 Renting a server on AWS
  id: totrans-159
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.6 在 AWS 上租用服务器
- en: Using a cloud service is the easiest way of getting a remote machine that you
    can use for following the examples in the book.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 使用云服务是获取远程机器的最简单方法，您可以使用它来跟随书中的示例。
- en: There are quite a few options nowadays, including cloud computing providers
    like Amazon Web Services (AWS), Google Cloud Platform, Microsoft Azure, and Digital
    Ocean. Rather than having to rent a server for a long time, in the cloud you can
    use it for a short period and typically pay per hour, per minute, or even per
    second. You can select the best machine for your needs in terms of computing power
    (number of CPUs or GPUs) and RAM.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 现在有很多选择，包括像亚马逊网络服务（AWS）、谷歌云平台、微软Azure和Digital Ocean这样的云计算提供商。在云中，你可以在短时间内使用服务器，并且通常按小时、按分钟甚至按秒计费。你可以根据计算能力（CPU或GPU的数量）和RAM选择最适合你需求的机器。
- en: It’s also possible to rent a dedicated server for a longer time and pay per
    month. If you intend to use the server for a long time—say, six months or more—renting
    a dedicated server will be cheaper. [Hetzner.com](http://Hetzner.com) might be
    a good option in this case. They also offer servers with GPUs.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以租用专用服务器更长时间，并按月支付。如果你打算长期使用服务器——比如说，六个月或更长时间——租用专用服务器会更便宜。[Hetzner.com](http://Hetzner.com)在这种情况下可能是一个不错的选择。他们还提供带有GPU的服务器。
- en: To make it easier for you to set up the environment with all the required libraries
    for the book, we provide instructions here for setting up an EC2 (Elastic Compute
    Cloud) machine on AWS. EC2 is part of AWS and allows you to rent a server of any
    configuration for any duration of time.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让你更容易地设置本书所需的所有库的环境，我们在这里提供了在AWS上设置EC2（弹性计算云）机器的说明。EC2是AWS的一部分，允许你按任何配置和任何时长租用服务器。
- en: Note We’re not affiliated with Amazon or AWS. We chose to use it in this book
    because at the time of writing it’s the most commonly used cloud provider.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：我们与亚马逊或AWS没有关联。我们选择在本书中使用它，因为在写作时它是使用最广泛的云服务提供商。
- en: 'If you don’t have an AWS account or only recently created it, you’re eligible
    for the free tier: you have a 12-month trial period in which to check out most
    of the AWS products for free. We try to use the free tier whenever possible, and
    we will specifically mention if something isn’t covered by this tier.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还没有AWS账户或者最近才创建了一个账户，你符合免费层的资格：你有一个为期12个月的试用期，期间你可以免费试用AWS的大部分产品。我们尽可能使用免费层，如果某些服务不包含在这个层中，我们会特别说明。
- en: Note that the instructions in this section are optional, and you don’t have
    to use AWS or any other cloud. The code should work on any Linux machine, so if
    you have a laptop with Linux, it should be enough to work through the book. A
    Mac or Windows computer should also be fine, but we haven’t tested the code thoroughly
    on these platforms.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，本节中的说明是可选的，你不必使用AWS或任何其他云服务。代码应该在任何Linux机器上都能运行，所以如果你有一台装有Linux的笔记本电脑，应该足够你完成本书的学习。Mac或Windows电脑也应该是可以的，但我们没有在这些平台上彻底测试代码。
- en: A.6.1 Registering on AWS
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.1 在AWS上注册
- en: The first thing you need to do is create an account. To do this, go to [https://aws.amazon.com](https://aws.amazon.com)
    and click the Create an AWS Account button (see figure A.12).
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要做的第一件事是创建一个账户。为此，请访问[https://aws.amazon.com](https://aws.amazon.com)，然后点击创建AWS账户按钮（见图A.12）。
- en: '![](../Images/A-12.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![图片A-12](../Images/A-12.png)'
- en: Figure A.12 To create an account, click Create an AWS Account on the main AWS
    page.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.12 要创建账户，请点击主AWS页面上的创建AWS账户。
- en: Note This appendix was written in October 2019 and the screenshots were taken
    at that time. Please be aware that content on the AWS web site and the appearance
    of the management console could change.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：本附录是在2019年10月编写的，截图也是在那时拍摄的。请注意，AWS网站上的内容和管理控制台的外观可能会发生变化。
- en: Follow the instructions and fill in the required details. It should be a straightforward
    process, similar to the process of registering on any website.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 按照说明填写所需详细信息。这应该是一个简单的过程，类似于在任何网站上注册的过程。
- en: Note Please be aware that AWS will ask you to provide the details of a bank
    card during the registration process.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：在注册过程中，AWS会要求你提供银行卡的详细信息。
- en: Once you’ve completed the registration and verified your account, you should
    see the main page—the AWS Management Console (figure A.13).
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 完成注册并验证账户后，你应该会看到主页面——AWS管理控制台（见图A.13）。
- en: '![](../Images/A-13.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图片A-13](../Images/A-13.png)'
- en: Figure A.13 The AWS Management Console is the starting page for AWS.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.13 AWS管理控制台是AWS的起始页面。
- en: 'Congratulations! You’ve just created a root account. However, it’s not advisable
    to use the root account for anything: it has very broad permissions that allow
    you to do anything and everything on your AWS accunt. Typically, you use the root
    account to create less powerful accounts and then use them for your day-to-day
    tasks.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！您刚刚创建了一个根账户。然而，不建议将根账户用于任何操作：它具有非常广泛的权限，允许您在AWS账户上做任何事。通常，您使用根账户创建更弱权限的账户，然后使用它们来完成日常任务。
- en: To create such an account, type “IAM” in the Find Services box and click on
    that item in the drop-down list. Select Users in the menu on the left, and click
    Add User (see figure A.14).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建此类账户，请在查找服务框中键入“IAM”，然后点击下拉列表中的该项。在左侧菜单中选择用户，然后点击添加用户（见图A.14）。
- en: '![](../Images/A-14.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-14.png)'
- en: Figure A.14 Adding a user in the AWS Identity and Access Management (IAM) service
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.14 在AWS身份和访问管理（IAM）服务中添加用户
- en: 'Now you just need to follow the instructions and answer the questions. At some
    point, it will ask about an access type: you’ll need to select both Programmatic
    Access and AWS Management Console Access (see figure A.15). We will use both the
    command-line interface (CLI) and the web interface for working with AWS.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您只需遵循说明并回答问题。在某个时候，它将询问访问类型：您需要选择程序性访问和AWS管理控制台访问（见图A.15）。我们将使用命令行界面（CLI）和Web界面来处理AWS。
- en: '![](../Images/A-15.png)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-15.png)'
- en: Figure A.15 We will use both the web interface and the command-line interface
    for working with AWS, so you need to select both access types.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.15 我们将使用Web界面和命令行界面来处理AWS，因此您需要选择两种访问类型。
- en: In the Set Permissions step, you specify what this new user will be able to
    do. You want the user to have full privileges, so select Attach Existing Policies
    Directly at the top and choose AdministratorAccess in the list of policies (see
    figure A.16).
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置权限步骤中，您指定新用户将能够做什么。您希望用户拥有完全权限，因此请在上部选择直接附加现有策略，并在策略列表中选择管理员访问（见图A.16）。
- en: '![](../Images/A-16.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-16.png)'
- en: Figure A.16 Select the AdministratorAccess policy to enable the new user to
    access everything on AWS.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.16 选择管理员访问策略以允许新用户访问AWS上的所有内容。
- en: As the next step, the system will ask you about tags—you can safely ignore these
    for now. Tags are needed for companies where multiple people work on the same
    AWS account, mostly for expense-management purposes, so they shouldn’t be a concern
    for the projects you’ll do in this book.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 作为下一步，系统将询问您有关标签的问题——现在您可以安全地忽略这些。标签通常用于有多个人在同一AWS账户上工作的公司，主要用于费用管理目的，因此它们不应成为您在本书中进行的项目的担忧。
- en: At the end, when you’ve successfully created the new user, the wizard will suggest
    that you download the credentials (figure A.17). Download them and keep them safe;
    you’ll need to use them later when configuring the AWS CLI.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，当您成功创建了新用户时，向导将建议您下载凭据（见图A.17）。下载它们并妥善保管；您稍后配置AWS CLI时需要使用它们。
- en: '![](../Images/A-17.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-17.png)'
- en: Figure A.17 The details for the newly created user. You can see the sign-in
    URL and download the credentials for programmatic access.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.17 新创建用户的详细信息。您可以看到登录URL和下载用于程序性访问的凭据。
- en: 'To access the management console, you can use the link AWS has generated for
    you. It appears in the Success box and follows this pattern:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问管理控制台，您可以使用AWS为您生成的链接。它出现在成功框中，并遵循以下模式：
- en: https://<accountid>.signin.aws.amazon.com/console
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: https://<accountid>.signin.aws.amazon.com/console
- en: 'It might be a good idea to bookmark this link. Once AWS has validated the account
    (which can take a little while), you can use it to log in: simply provide the
    username and password you specified when creating the user.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 将此链接添加到书签可能是个好主意。一旦AWS验证了账户（这可能需要一点时间），您就可以使用它来登录：只需提供您在创建用户时指定的用户名和密码。
- en: You can now start using the services of AWS. Most importantly, you can create
    an EC2 machine.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以使用AWS的服务了。最重要的是，您可以创建一个EC2实例。
- en: A.6.2 Accessing billing information
  id: totrans-195
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.2 访问账单信息
- en: 'When using a cloud service provider, you are typically charged per second:
    for every second you use a particular AWS service, you pay a pre-defined rate.
    At the end of each month you get a bill, which is typically processed automatically.
    The money is withdrawn from the bank card you linked to the AWS account.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用云服务提供商时，您通常按秒计费：对于您使用的每个AWS服务，您将支付预定义的费用。每个月底，您将收到账单，通常自动处理。资金将从您与AWS账户关联的银行卡中扣除。
- en: Important Even though we use the free tier to follow most of the examples in
    the book, you should periodically check the billing page to make sure you’re not
    accidentally using billable services.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示：尽管我们使用免费层来遵循本书中的大多数示例，但您应定期检查计费页面，以确保您没有意外使用可计费服务。
- en: To understand how much you will need to pay at the end of the month, you can
    access the billing page of AWS.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解月底您将需要支付多少费用，您可以访问 AWS 的计费页面。
- en: If you use the root account (the account you created first), simply type “Billing”
    on the homepage of the AWS console to navigate to the billing page (figure A.18).
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是根账户（您首先创建的账户），只需在 AWS 控制台主页上输入“计费”即可导航到计费页面（图 A.18）。
- en: '![](../Images/A-18.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-18.png]'
- en: Figure A.18 To get to the billing page, type in “Billing” in the quick access
    search box.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.18 要访问计费页面，在快速访问搜索框中输入“计费”。
- en: If you try to access the same page from the user account (or IAM user—the one
    we created after creating the root account), you will notice that this is not
    allowed. To fix that, you need to
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您尝试从用户账户（或 IAM 用户——在创建根账户后创建的）访问同一页面，您会注意到这是不允许的。为了解决这个问题，您需要
- en: Allow the billing page to be accessed by all IAM users, and
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许所有 IAM 用户访问计费页面，
- en: Give the AMI user permissions to access the billing page.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 给予 AMI 用户访问计费页面的权限。
- en: 'Allowing all the IAM users access the billing page is simple: go to My Account
    (figure A.19 A), go to the IAM User and Role Access to Billing Information section
    and click Edit (figure A.19 B), and then select the Activate IAM Access option
    and click Update (figure A.19 C).'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 允许所有 IAM 用户访问计费页面很简单：前往“我的账户”（图 A.19 A），进入“IAM 用户和角色访问计费信息”部分并点击编辑（图 A.19 B），然后选择“激活
    IAM 访问”选项并点击更新（图 A.19 C）。
- en: '![](../Images/A-19a.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-19a.png]'
- en: (A) To allow AMI users to access the billing info, click on My Account.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: （A）要允许 AMI 用户访问计费信息，点击“我的账户”。
- en: '![](../Images/A-19b.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-19b.png]'
- en: (B) In the My Account settings, find the IAM User and Role Access to Billing
    Information section and click Edit.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: （B）在“我的账户”设置中，找到“IAM 用户和角色访问计费信息”部分并点击编辑。
- en: '![](../Images/A-19c.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-19c.png]'
- en: (C) Enable the Activate IAM Access option and click Update.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: （C）启用“激活 IAM 访问”选项并点击更新。
- en: Figure A.19 Enabling access to billing information to IAM users
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.19 为 IAM 用户启用访问计费信息
- en: After that, go to the IAM service, find the IAM user we previously created,
    and click on it. Next, click on the Add permissions button (figure A.20).
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，前往 IAM 服务，找到我们之前创建的 IAM 用户，并点击它。接下来，点击“添加权限”按钮（图 A.20）。
- en: '![](../Images/A-20.png)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-20.png]'
- en: Figure A.20 To allow the IAM user access the billing information, we need to
    add special permissions for that. To do so, click on the Add permissions button.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.20 要允许 IAM 用户访问计费信息，我们需要为该用户添加特殊权限。为此，点击“添加权限”按钮。
- en: Then attach the existing Billing policy to the user (figure A.21).
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 然后将现有的计费策略附加到用户（图 A.21）。
- en: '![](../Images/A-21.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-21](../Images/A-21.png)'
- en: Figure A.21 After clicking on the Add permissions button, select the Attach
    existing policies directly option and select Billing in the list.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.21 点击“添加权限”按钮后，选择“直接附加现有策略”选项，并在列表中选择“计费”。
- en: After that, the IAM user should be able to access the billing information page.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，IAM 用户应该能够访问计费信息页面。
- en: A.6.3 Creating an EC2 instance
  id: totrans-220
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.3 创建 EC2 实例
- en: EC2 is a service for renting a machine from AWS. You can use it to create a
    Linux machine to use for the projects in this book. To do this, first go to the
    EC2 page in AWS. The easiest way to do this is by typing “EC2” in the Find Services
    box on the home page of the AWS Management Console; then select EC2 from the drop-down
    list and press Enter (figure A.22).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: EC2 是一种从 AWS 租用机器的服务。您可以使用它来创建一个 Linux 机器，用于本书中的项目。为此，首先前往 AWS 中的 EC2 页面。最简单的方法是在
    AWS 管理控制台主页的“查找服务”框中输入“EC2”；然后从下拉列表中选择 EC2 并按 Enter 键（图 A.22）。
- en: '![](../Images/A-22.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-22](../Images/A-22.png)'
- en: Figure A.22 To go to the EC2 service’s page, type EC2 in the Find Services box
    on the main page of the AWS Management Console and press Enter.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.22 要访问 EC2 服务页面，在 AWS 管理控制台主页的“查找服务”框中输入 EC2 并按 Enter 键。
- en: On the EC2 page, choose Instances from the menu on the left and then click Launch
    Instance (figure A.23).
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 在 EC2 页面上，从左侧菜单中选择“实例”，然后点击“启动实例”（图 A.23）。
- en: '![](../Images/A-23.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-23](../Images/A-23.png)'
- en: Figure A.23 To create an EC2 instance, select Instances in the menu on the left
    and click Launch Instance.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.23 要创建 EC2 实例，在左侧菜单中选择“实例”并点击“启动实例”。
- en: 'This brings you to a six-step form. The first step is to specify the AMI (Amazon
    Machine Image) you’ll use for the instance. We recommend Ubuntu: it’s one of the
    most popular Linux distributions, and we used it for all the examples in this
    book. Other images should also work fine, but we haven’t tested them.'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 这将带您进入一个六步表单。第一步是指定实例将使用的 AMI（Amazon Machine Image）。我们推荐使用 Ubuntu：它是最受欢迎的 Linux
    发行版之一，我们在这本书的所有示例中都使用了它。其他镜像也应该可以正常工作，但我们尚未测试它们。
- en: At the time of writing, Ubuntu Server 20.04 LTS is available (figure A.24),
    so use that one. Find it in the list and then click Select.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，Ubuntu Server 20.04 LTS 可用（图 A.24），因此请使用它。在列表中找到它，然后点击“选择”。
- en: '![](../Images/A-24.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-24](../Images/A-24.png)'
- en: Figure A.24 Your instance will be based on Ubuntu Server 18.04 LTS.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.24 你的实例将基于 Ubuntu Server 18.04 LTS。
- en: 'You should take note of the AMI’s ID: in this example it’s ami-0a8e758f5e873d1c1,
    but it might be different for you, depending on your AWS region and version of
    Ubuntu.'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该注意 AMI 的 ID：在这个例子中是 ami-0a8e758f5e873d1c1，但根据你的 AWS 区域和 Ubuntu 版本，它可能不同。
- en: Note This AMI is free-tier eligible, which means that if you use the free tier
    for testing AWS, you won’t be charged for using this AMI.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：此 AMI 允许免费层使用，这意味着如果你使用免费层测试 AWS，使用此 AMI 不会产生费用。
- en: 'After that you need to select the instance type. There are many options, with
    different numbers of CPU cores and different amounts of RAM. If you want to stay
    within the free tier, select t2.micro (figure A.25). It’s a rather small machine:
    it has only 1 CPU and 1 GB RAM. Of course, it’s not the best instance in terms
    of computing power, but it should be enough for many projects in this book.'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 之后你需要选择实例类型。有许多选项，包括不同数量的 CPU 内核和不同数量的 RAM。如果你想保持在免费层，请选择 t2.micro（图 A.25）。这是一台相当小的机器：它只有
    1 个 CPU 和 1 GB RAM。当然，在计算能力方面，它不是最好的实例，但对于这本书中的许多项目来说应该足够了。
- en: '![](../Images/A-25.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-25](../Images/A-25.png)'
- en: Figure A.25 The t2.micro is a rather small instance with only 1 CPU and 1 GB
    RAM, but it can be used for free.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.25 t2.micro 是一个相当小的实例，只有 1 个 CPU 和 1 GB RAM，但可以免费使用。
- en: 'The next step is where you configure the instance details. You don’t need to
    change anything here and can simply go on to the next step: adding storage (figure
    A.26).'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是配置实例详情。这里你不需要做任何更改，可以直接进入下一步：添加存储（图 A.26）。
- en: '![](../Images/A-26.png)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-26](../Images/A-26.png)'
- en: 'Figure A.26 The fourth step of creating an EC2 instance in AWS: adding storage.
    Change the size to 16GB.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.26 在 AWS 中创建 EC2 实例的第四步：添加存储。将大小更改为 16GB。
- en: 'Here, you specify how much space you need on the instance. The default suggestion
    of 8GB is not enough, so select 18GB. This should be good enough for most of the
    projects we’ll do in this book. After changing it, click Next: Add Tags.'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你指定实例上需要多少空间。默认建议的 8GB 不够用，因此选择 18GB。这对于我们在这本书中将要做的多数项目来说应该足够了。更改后，点击“下一步：添加标签”。
- en: In the next step, you add tags to your new instance. The only tag you should
    add is Name, which allows you to give an instance a human-readable name. Add the
    key Name and the value ml-bookcamp-instance (or any other name you prefer), as
    seen in figure A.27.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一步中，你为新的实例添加标签。你应该添加的唯一标签是“名称”，这允许你为实例赋予一个可读性强的名称。添加键“名称”和值“ml-bookcamp-instance”（或你喜欢的任何其他名称），如图
    A.27 所示。
- en: '![](../Images/A-27.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![图片 A-27](../Images/A-27.png)'
- en: 'Figure A.27 The only tag you may want to specify in step 5 is “Name”: it allows
    you to give a human-readable name to the instance.'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.27 在第五步中你可能想要指定的唯一标签是“名称”：它允许你为实例赋予一个可读性强的名称。
- en: 'The next step is quite an important one: choosing the security group. This
    allows you to configure the network firewall and specify how the instance can
    be accessed and which ports are open. You’ll want to host Jupyter Notebook on
    the instance, so you need to make sure its port is open and you can log in to
    the remote machine.'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步相当重要：选择安全组。这允许你配置网络防火墙并指定实例的访问方式和哪些端口是开放的。你希望在实例上托管 Jupyter Notebook，因此你需要确保其端口已开放并且你可以登录到远程机器。
- en: 'Because you don’t yet have any security groups in your AWS account, you’ll
    need to create a new one now: choose Create a New Security Group and give it the
    name jupyter (figure A.28). You’ll want to use SSH to connect to the instance
    from your computers, so you need to make sure SSH connections are allowed. To
    enable this, select SSH in the Type drop-down list in the first row.'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 因为您在AWS账户中还没有任何安全组，您现在需要创建一个新的：选择创建新的安全组，并将其命名为jupyter（图A.28）。您希望使用SSH从您的计算机连接到实例，因此您需要确保SSH连接被允许。为了启用此功能，在第一行中选择类型下拉列表中的SSH。
- en: '![](../Images/A-28.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![图A.28](../Images/A-28.png)'
- en: Figure A.28 Creating a security group for running Jupyter Notebook on EC2 instances
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.28 在EC2实例上运行Jupyter Notebook的安全组创建
- en: Typically the Jupyter Notebook service runs on port 8888, so you need to add
    a custom TCP rule that port 8888 can be accessed from anywhere on the internet.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 通常Jupyter Notebook服务运行在端口8888上，因此您需要添加一个自定义TCP规则，以便可以从互联网上的任何地方访问端口8888。
- en: When you do this, you may see a warning telling you that this might not be safe
    (figure A.29). It’s not a problem for us because we are not running anything critical
    on the instances. Implementing proper security is not trivial and is out of scope
    for this book.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 当您这样做时，您可能会看到一个警告，告诉您这可能不安全（图A.29）。对我们来说这不是问题，因为我们没有在实例上运行任何关键任务。实施适当的安全措施不是一件简单的事情，也不在本书的范围之内。
- en: '![](../Images/A-29.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![图A.29](../Images/A-29.png)'
- en: Figure A.29 AWS warns us that the rules we added are not strict. For our case
    it’s not a problem and we can safely ignore the warning.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.29 AWS警告我们，我们添加的规则不够严格。在我们的情况下这不是问题，我们可以安全地忽略这个警告。
- en: The next time you create an instance, you’ll be able to reuse this security
    group instead of creating a new one. Choose Select an Existing Security Group
    and select it from the list (figure A.30).
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 下次您创建实例时，您将能够重用这个安全组而不是创建一个新的。选择选择现有的安全组，并从列表中选择它（图A.30）。
- en: '![](../Images/A-30.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![图A.30](../Images/A-30.png)'
- en: Figure A.30 When creating an instance, it’s also possible to assign an existing
    security group to the instance.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.30 创建实例时，也可以将现有的安全组分配给实例。
- en: Configuring the security group is the last step. Verify that everything is fine,
    and click Review and Launch.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 配置安全组是最后一步。确认一切正常，然后点击审查和启动。
- en: 'AWS won’t let you launch the instance yet: you still need to configure the
    SSH keys for logging into the instance. Because your AWS account is still fresh
    and doesn’t have keys yet, you need to create a new key pair. Choose Create a
    New Key Pair from the drop-down list and give it the name jupyter (figure A.31).'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: AWS还不允许您启动实例：您还需要配置SSH密钥以登录到实例。因为您的AWS账户还是新的，还没有密钥，您需要创建一个新的密钥对。从下拉列表中选择创建一个新的密钥对，并将其命名为jupyter（图A.31）。
- en: '![](../Images/A-31.png)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![图A.31](../Images/A-31.png)'
- en: Figure A.31 To be able to use SSH to log in to the instance, you need to create
    a key pair.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.31 要能够使用SSH登录到实例，您需要创建一个密钥对。
- en: Click Download Key Pair and save the file somewhere on your computer. Make sure
    you can access this file later; it’s important for being able to connect to the
    instance.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 点击下载密钥对，并将文件保存在您的计算机上的某个位置。确保您以后可以访问此文件；这对于能够连接到实例非常重要。
- en: The next time you create an instance, you can reuse this key. Select Choose
    an Existing Key Pair in the first drop-down list, choose the key you want to use,
    and click the checkbox to confirm that you still have the key (figure A.32).
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 下次您创建实例时，您可以重用这个密钥。在第一个下拉列表中选择选择现有的密钥对，选择您想要使用的密钥，并点击复选框以确认您仍然拥有该密钥（图A.32）。
- en: '![](../Images/A-32.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![图A.32](../Images/A-32.png)'
- en: Figure A.32 You can also use an existing key when creating an instance.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.32 创建实例时也可以使用现有的密钥。
- en: Now you can launch the instance by clicking Launch Instances. You should see
    a confirmation that everything is good and the instance is launching (figure A.33).
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以通过点击启动实例来启动实例。您应该看到一个确认，表明一切正常，实例正在启动（图A.33）。
- en: '![](../Images/A-33.png)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图A.33](../Images/A-33.png)'
- en: Figure A.33 AWS tells us that everything went well and now the instance is launching.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.33 AWS告诉我们，一切顺利，现在实例正在启动。
- en: In this message, you can see the ID of the instance. In our case, it’s i-0b1a64d4d20997aff.
    You can click on it now to see the details of the instance (figure A.34). Because
    you want to use SSH to connect to your instance, you need to get the public DNS
    name to do it. You can find this on the Description tab.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在这条消息中，你可以看到实例的ID。在我们的例子中，它是i-0b1a64d4d20997aff。你现在可以点击它以查看实例的详细信息（图A.34）。因为你想要使用SSH连接到你的实例，你需要获取公网DNS名称来做这件事。你可以在描述标签中找到它。
- en: '![](../Images/A-34.png)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/A-34.png)'
- en: Figure A.34 The details of the newly created instance. To use SSH to connect
    to it, you need the public DNS name.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.34 新创建的实例的详细信息。要使用SSH连接到它，你需要公网DNS名称。
- en: A.6.4 Connecting to the instance
  id: totrans-268
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.4 连接到实例
- en: In the previous section you created an instance on EC2\. Now you need to log
    in to this instance to install all the required software. You will use SSH for
    this.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，你在EC2上创建了一个实例。现在你需要登录到这个实例来安装所有必需的软件。你将使用SSH来做这件事。
- en: Connecting to the instance on Linux
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 在Linux上连接到实例
- en: 'You already know the public DNS name of your instance. In our example, it’s
    [ec2-18-191-156-172.us-east-2.compute.amazonaws.com](http://ec2-18-191-156-172.us-east-2.compute.amazonaws.com).
    In your case the name will be different: the first part of the name (ec2-18-191-156-172)
    depends on the IP that the instance gets and the second (us-east-2) on the region
    where it’s running. To use SSH to enter the instance, you will need this name.'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经知道你的实例的公网DNS名称。在我们的例子中，它是[ec2-18-191-156-172.us-east-2.compute.amazonaws.com](http://ec2-18-191-156-172.us-east-2.compute.amazonaws.com)。在你的情况下，名称将不同：名称的第一部分（ec2-18-191-156-172）取决于实例获得的IP，第二部分（us-east-2）取决于它运行的区域。要使用SSH进入实例，你需要这个名称。
- en: 'When using the key you downloaded from AWS for the first time, you need to
    make sure the permissions on the file are set correctly. Execute this command:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 当你第一次使用从AWS下载的密钥时，你需要确保文件的权限设置正确。执行以下命令：
- en: '[PRE31]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Now you can use the key to log in to the instance:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以使用密钥登录到实例：
- en: '[PRE32]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Of course, you should replace the DNS name shown here with the one you copied
    from the instance description.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你应该用从实例描述中复制的DNS名称替换这里显示的DNS名称。
- en: 'Before allowing you to enter the machine, the SSH client will ask you to confirm
    that you trust the remote instance:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 在允许你进入机器之前，SSH客户端会要求你确认你信任远程实例：
- en: '[PRE33]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Type “yes” to confirm.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 输入“yes”以确认。
- en: Now you should be able to log in to the instance and see the welcome message
    (figure A.35).
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你应该能够登录到实例并看到欢迎信息（图A.35）。
- en: '![](../Images/A-35.png)'
  id: totrans-281
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/A-35.png)'
- en: Figure A.35 After successfully logging into the EC2 instance, you should see
    the welcome message.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.35 成功登录到EC2实例后，你应该看到欢迎信息。
- en: Now it’s possible to do anything you want with the machine.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以用这台机器做任何你想做的事情。
- en: Connecting to the instance on Windows
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上连接到实例
- en: 'Using the Linux subsystem on Windows is the easiest way for connecting to the
    EC2 instance: you can use SSH there and follow the same instructions as for Linux.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上使用Linux子系统是连接到EC2实例的最简单方法：你可以在那里使用SSH，并遵循与Linux相同的说明。
- en: Alternatively, you can use Putty ([https://www.putty.org](https://www.putty.org))
    for connecting to EC2 instances from Windows.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以使用Putty ([https://www.putty.org](https://www.putty.org)) 从Windows连接到EC2实例。
- en: Connecting to the instance on macOS
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 在macOS上连接到实例
- en: SSH is built in on macOS, so the steps for Linux should work on a Mac.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: SSH内置在macOS中，因此Linux的步骤也应该适用于Mac。
- en: A.6.5 Shutting down the instance
  id: totrans-289
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.5 关闭实例
- en: After you’ve finished working with the instance, you should turn it off.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 在你完成与实例的工作后，你应该关闭它。
- en: Important It’s very important to turn off the instance after the work is finished.
    For each second you use the instance, you get billed, even if you no longer need
    the machine and it’s idle. That doesn’t apply in the first 12 months of using
    AWS if the requested instance is free-tier eligible, but nonetheless, it’s good
    to develop the habit of periodically checking your account status and disabling
    unneeded services.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示：工作完成后，关闭实例非常重要。即使你不再需要机器并且它是空闲的，每使用一秒钟你都会被收费。如果请求的实例在AWS使用的前12个月内是免费层资格的，则不适用，但无论如何，定期检查你的账户状态并禁用不必要的服务的习惯是好的。
- en: 'You can do this from the terminal:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从终端这样做：
- en: '[PRE34]'
  id: totrans-293
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'It’s also possible to do it from the web interface: select the instance you
    want to turn off, go to Actions, and select Instance State > Stop (figure A.36).'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以从Web界面操作：选择你想要关闭的实例，转到操作，然后选择实例状态 > 停止（图A.36）。
- en: '![](../Images/A-36.png)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/A-36.png)'
- en: Figure A.36 Stopping the instance from the AWS console
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 图A.36 从AWS控制台停止实例
- en: 'Once the instance has been stopped, you can start it again by choosing Start
    from the same submenu. It’s also possible to completely remove the instance: for
    this you need to use the Terminate option.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦实例被停止，您可以通过选择同一子菜单中的“启动”来再次启动它。您还可以完全删除实例：为此，您需要使用“终止”选项。
- en: A.6.6 Configuring AWS CLI
  id: totrans-298
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.6.6 配置AWS CLI
- en: AWS CLI is the command line interface for AWS. For most of the things we need,
    using the AWS Console is sufficient, but in some cases, we need the command line
    tool. For example, in chapter 5, we deploy a model to Elastic Beanstalk, and we
    need to configure the CLI.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: AWS CLI是AWS的命令行界面。对于我们需要的多数事情，使用AWS控制台就足够了，但在某些情况下，我们需要命令行工具。例如，在第5章中，我们将模型部署到Elastic
    Beanstalk，并需要配置CLI。
- en: To use the CLI, you need to have Python. If you use Linux or macOS, you should
    already have a Python distribution built in. Alternatively, you can install Anaconda
    using the instructions in the next section.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用命令行界面（CLI），您需要安装Python。如果您使用Linux或macOS，您应该已经内置了Python发行版。或者，您可以使用下一节中的说明安装Anaconda。
- en: 'Just having Python is not enough; you also need to install the AWS CLI itself.
    You can do this by running the following command in the terminal:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 仅拥有Python是不够的；您还需要安装AWS CLI本身。您可以在终端中运行以下命令来完成此操作：
- en: '[PRE35]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'If you already have it, it’s a good idea to update it:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经有了，更新它是个好主意：
- en: '[PRE36]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: After the installation finishes you need to configure the tool, specifying the
    access token and secret you downloaded earlier when creating a user.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您需要配置工具，指定在创建用户时下载的访问令牌和密钥。
- en: 'One way to do this is to use the `configure` command:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此操作的一种方法是使用`configure`命令：
- en: '[PRE37]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'It will ask you for the keys, which we downloaded, when creating a user:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建用户时，它将要求您提供我们下载的密钥：
- en: '[PRE38]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: The region name used here is us-east-2, which is located in Ohio.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 这里使用的区域名称是us-east-2，位于俄亥俄州。
- en: 'When you’re finished configuring the tool, verify that it works. You can ask
    the CLI to return your identity, which should match the details of your user:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 当您完成工具的配置后，请验证它是否正常工作。您可以要求CLI返回您的身份，它应该与您的用户详情相匹配：
- en: '[PRE39]'
  id: totrans-312
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
