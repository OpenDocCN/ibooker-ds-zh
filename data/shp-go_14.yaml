- en: 11 The loop
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 11 循环
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Outlining the phases of startups and projects
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 概述创业和项目的阶段
- en: Working through extensions to core areas of improvement
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过扩展核心改进区域
- en: “I honestly didn’t think we would be able to pull this off. It is amazing what
    we’ve been able to change in just the past few weeks,” the project manager says,
    beaming. “We are going to move all of our projects to this style of development.
    If we are lucky, we can start experimenting with smaller projects and faster release
    cycles. The cost of updating software is so much lighter now. We’ve also reduced
    our server costs by deploying small applications as functions and then migrating
    them to our Kubernetes cluster.”
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: “我真心没想到我们能完成这件事。我们过去几周所能够改变的事情真是令人惊叹，”项目经理面带微笑地说。“我们将把所有项目都转移到这种开发风格。如果我们幸运的话，我们可以开始尝试一些小项目和更快的发布周期。现在更新软件的成本要低得多。我们还通过将小型应用程序作为函数部署，然后迁移到我们的Kubernetes集群来降低了我们的服务器成本。”
- en: You can’t help but smile too. The project manager still hasn’t seen the future
    payout of this pattern. When automation came to textile creation, it changed a
    100% manual job into a 2% manual job. The long-term effects were more jobs in
    textile manufacturing and more products for everyday consumers. By automating
    98% of the workflow, your company will now be able to produce more products and
    tools to help your company grow.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 你也不禁微笑起来。项目经理还没有看到这种模式的未来收益。当自动化进入纺织制造时，它将100%的手动工作转变为2%的手动工作。长期影响是纺织制造业的更多工作机会和更多日常消费者产品。通过自动化98%的工作流程，您的公司现在能够生产更多产品和工具来帮助公司增长。
- en: The funny thing about this story is that it won’t have an end. You may end up
    building a new product again. You may move up to managing a team of developers.
    You may end up leaving your company for another or go out on your own. What is
    important is that it starts over. This last chapter is called “The loop” because,
    if you remember from chapter 1, you will need to go back and design after you
    deliver. This happens for systems and processes as well. Each time a new project
    starts, you should consider what could have been better the last time or other
    ideas you want to explore. As this book comes to a close, we’ll review each stage
    or part (startup, acceleration, cruising) that the book was broken down into as
    well as each element in that stage (process, test, deliver) and decide what to
    look for in the future.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 这个故事有趣的地方在于它不会有结局。你可能最终会再次开发一个新产品。你可能晋升为管理一个开发团队。你可能最终离开公司去另一家公司或自己创业。重要的是它重新开始。最后一章被称为“循环”，因为如果你记得第一章，你需要在交付后返回并设计。这种情况也适用于系统和流程。每次新项目开始时，你应该考虑上次有哪些可以改进的地方，或者你想要探索的其他想法。随着本书的结束，我们将回顾本书分解的每个阶段或部分（启动、加速、巡航）以及该阶段中的每个元素（流程、测试、交付），并决定未来要寻找什么。
- en: 11.1 Startup
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.1 启动
- en: It is obviously the goal for any project to be delivered early and under budget.
    This doesn’t always happen, but when creating a new product or proof of concept,
    anything goes. We want to establish some processes and quality checks and not
    worry too much about scaling.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，任何项目的目标都是尽早交付并在预算内完成。这并不总是发生，但在创建新产品或概念验证时，任何事情都是可能的。我们想要建立一些流程和质量检查，而不必过于担心扩展。
- en: This is why we focused on development setup, unit tests, and serverless functions
    in the first section of this book. Getting developers on board will be the most
    important task. It’s like organizing a worksite. If you have a clear outline of
    where things are and where they are going, you will spend less time giving direction
    and focus more on the development itself. In terms of where things were, we established
    a central repository and mechanism for moving code through our organization. This
    automated some of the work that our team needed to do and freed them up to focus
    on the code. Having this established early on is essential because it frees up
    developers to do other work. However, you should consider how often this task
    will need to be done before automating it. If you find yourself stopping your
    work more than once a week to do the same task, consider automating it.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 正因如此，我们在本书的第一部分重点介绍了开发设置、单元测试和无服务器函数。让开发者参与进来将是最重要的任务。这就像组织一个工地。如果你对事物的位置和去向有一个清晰的概述，你将花费更少的时间给出指示，并将更多精力集中在开发本身上。至于事物的位置，我们建立了一个中央存储库和代码在我们组织中流转的机制。这自动化了我们团队需要做的一些工作，并让他们有更多时间专注于代码。在早期建立这一点是至关重要的，因为它让开发者有更多时间做其他工作。然而，你应该考虑在自动化之前，这项任务需要多久做一次。如果你发现自己一周内不止一次停下来做同样的任务，考虑自动化它。
- en: 'Your software will change over time, but no more so than at the beginning of
    development. This is why simple tests that verify core functionality are a worthwhile
    investment rather than having end-to-end coverage right at the start. While some
    will scoff at accruing technical debt so early on in a project, I feel that if
    a project pivots or closes, it will be considered lost time. The trick is to recognize
    the turning point when a project is here to stay and tests should be improved.
    A good rule is to consider where you find bugs early on. If you find bugs or waste
    time with errors, maybe you should consider adding tests. Once you’ve crossed
    this horizon, a larger code cleanup plan should be considered. This can be a code
    cleanup blitz: everyone takes a section of code and adds tests and documentation.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 你的软件会随着时间的推移而改变，但不会像开发初期那样变化。这就是为什么验证核心功能的基础测试是一项值得投资的工作，而不是一开始就进行端到端覆盖。虽然有些人可能会嘲笑在项目早期积累技术债务，但我认为如果项目转向或关闭，这将被视为浪费时间。关键是识别项目何时会持续进行，何时应该改进测试。一个好的规则是考虑你早期发现错误的地方。如果你发现错误或浪费了时间，也许你应该考虑添加测试。一旦你越过了这个界限，就应该考虑一个更大的代码清理计划。这可以是一次代码清理闪电战：每个人都负责一段代码，并添加测试和文档。
- en: Deployment should also be cheap and easy, which is why we selected FaaS and
    PaaS at the beginning. FaaS is more than capable of running your entire startup
    forever. You may find that you never need to switch from a FaaS because of how
    they scale and how your organization is structured. But at some point, you may
    find that it is cheaper to change to another deployment type. Or you may find
    that the functions aren’t scaling the way you want. In either case, you need to
    keep an eye on usage and metrics around these functions. All major cloud-hosting
    platforms provide this sort of insight and allow you to set alerts. Consider discussing
    what sort of alerts you want to have and coming up with a migration plan, if necessary.
    You will be happy you considered this and have a plan early on instead of doing
    a fire drill in the middle of the night on a Saturday.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 部署应该既便宜又简单，这就是为什么我们最初选择了FaaS和PaaS。FaaS完全能够运行你的整个初创企业。你可能发现，由于它们的扩展能力和你的组织结构，你永远不需要从FaaS切换。但迟早，你可能发现切换到另一种部署类型会更便宜。或者你可能发现函数的扩展方式并不符合你的期望。在两种情况下，你都需要密切关注这些函数的使用情况和指标。所有主要的云托管平台都提供这种洞察力，并允许你设置警报。考虑讨论你想要设置哪些警报，并在必要时制定迁移计划。你会在周六深夜进行消防演习之前，很高兴你考虑了这一点并提前制定了计划。
- en: The startup phase of application development is the equivalent of trailblazing.
    You may find you’ve walked in the wrong direction. You may find that you are heading
    in the right direction but haven’t walked far enough. You may find that you shouldn’t
    even be in this area at all. In all of these cases, it doesn’t make sense to set
    down roots quite yet. Something temporary like a tent would suffice, so consider
    this phase the tent phase. You need to be mobile and temporary, not established.
    Once you feel the pain of the lack of durability, consider moving on to the next
    phase.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序开发的启动阶段相当于开拓者。你可能会发现自己走错了方向。你可能会发现自己正在正确的方向上前进，但走得还不够远。你可能会发现自己甚至不应该在这个区域。在所有这些情况下，现在就打下根基是没有意义的。像帐篷这样的临时设施就足够了，所以这个阶段可以看作是帐篷阶段。你需要保持移动性和临时性，而不是固定下来。一旦你感受到缺乏耐久性的痛苦，就考虑进入下一个阶段。
- en: 11.2 Acceleration
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.2 加速
- en: 'Once you are sure your product is here to stay, the next phase of development
    kicks in. This is the acceleration stage: you start to build rapidly. You’re done
    blazing trails and have found a great place for a home base. You not only need
    to grow fast but grow in the right direction. That is why we focused on taking
    what we’ve built in the startup phase and expanding it. Now we put up walls and
    a roof on our tent and consider how the town will grow.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你确定你的产品将长期存在，下一个开发阶段就开始了。这是加速阶段：你开始快速构建。你已经完成了开拓，找到了一个很好的基地。你不仅需要快速成长，而且要向正确的方向发展。这就是为什么我们专注于在启动阶段构建的基础上进行扩展。现在我们在帐篷上搭建墙壁和屋顶，并考虑城镇将如何发展。
- en: In this phase, we focused more on standardization and documentation. In building
    a home or an office, certain contractor standards are used. Boards are measured
    in feet or meters. Screws have a particular head type. Concrete needs certain
    proportions to set properly. We did the same with our linting and vetting procedures.
    We also wanted to establish better documentation to outline where our code is
    and how it is used. This is the equivalent of blueprints and schematics for our
    system.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，我们更注重标准化和文档化。在建造房屋或办公室时，会使用某些承包商标准。板材以英尺或米为单位测量。螺丝有特定的头部类型。混凝土需要特定的比例才能正确凝固。我们在我们的代码审查和审查程序中也做了同样的事情。我们还希望建立更好的文档，以概述我们的代码在哪里以及如何使用。这是我们系统的蓝图和图示。
- en: We also focused on structuring our application to be modular. When you still
    need to be flexible within a constrained space, the last thing you need is a large
    and rigid item to maneuver. Having a modular system allows you to conform to the
    space in an easier way. Consider the difference between moving a couch and three
    chairs around a sitting room. Which is easier? In the same way, we structured
    our code to inject certain dependencies through the use of interfaces and tested
    them using mocked and stubbed tests. This way, each modular piece was tested independently,
    meaning we don’t need to rewrite our tests unless the functionality changes in
    that one module.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还专注于将我们的应用程序构建成模块化。当你仍然需要在受限的空间内保持灵活性时，你最不需要的就是一个庞大且僵硬的项目来操作。拥有一个模块化系统可以让你更容易地适应空间。考虑一下在客厅里移动沙发和三把椅子之间的区别。哪个更容易？同样，我们通过使用接口注入某些依赖项并使用模拟和存根测试来测试我们的代码，从而构建了我们的代码。这样，每个模块化部分都是独立测试的，这意味着除非该模块的功能发生变化，否则我们不需要重写我们的测试。
- en: We then took this new code and put it into a portable runtime using containers.
    First, Buildpacks were used to build optimized containers for Google’s container
    runtime. Then we created our containers for developer use cases. Being able to
    ship our code around like this shows how teams may need to interact and share
    across different application boundaries. Having the ability to run and document
    dependencies in this way can alleviate integration problems in the future. Also
    consider the implications this can have on your ability to test your applications.
    QA departments or groups can create temporary deployments to run automated test
    scripts without affecting your production deployment.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将这段新代码放入了一个便携式运行时环境中，使用了容器。首先，使用了Buildpacks来为Google的容器运行时构建优化的容器。然后，我们为开发用例创建了我们的容器。能够这样分发我们的代码，展示了团队可能需要如何在不同应用程序边界之间进行交互和共享。能够以这种方式运行和记录依赖项，可以在未来减轻集成问题。同时，考虑一下这可能会对你测试应用程序的能力产生什么影响。质量保证部门或团队可以创建临时部署来运行自动化测试脚本，而不会影响你的生产部署。
- en: Acceleration is used to describe this phase because it’s important to not stop.
    You’ve figured out where to build, and now you need to expand. There is a certain
    speed that an object needs to reach to rid itself of the pull of gravity. This
    can only happen if you continue to accelerate. This is a compounding force, not
    just a static one. As you accelerate, you gain more and more speed, but it is
    harder and harder to get to that edge until, finally, you’ve escaped.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 加速被用来描述这个阶段，因为重要的是不要停止。你已经找到了建设的地方，现在你需要扩展。物体需要达到一定的速度才能摆脱引力的拉扯。这只有在继续加速的情况下才能实现。这是一个累积的力量，而不仅仅是静态的。随着你加速，你获得越来越多的速度，但到达那个边缘变得越来越困难，直到最终，你摆脱了它。
- en: 11.3 Cruising
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.3 巡航
- en: Once you’ve escaped the pull of gravity, you no longer need to accelerate. Instead,
    you can cruise and explore. This does not mean that you’re done. You’ve made it.
    You’ve gotten to a point where you can have the freedom to improve and explore.
    Course corrections will be needed, and mistakes will still happen.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你摆脱了引力的拉扯，你就不再需要加速。相反，你可以巡航和探索。这并不意味着你已经完成。你已经成功了。你已经到达了一个可以自由改进和探索的阶段。需要校正课程，错误仍然会发生。
- en: When we got to this point, we were able to focus on making our applications
    flexible and stable. We can change the way our applications run based on the variables
    we put in. This functionality can be extended to move beyond adding default values
    or endpoints for database connections. Instead, you can use it to hide features
    that have not been completed. There are even ways to remotely manage these settings,
    meaning that you can simply flip a switch on a digital dashboard, and all of a
    sudden, your application will run differently.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们到达这个阶段时，我们能够专注于使我们的应用程序灵活且稳定。我们可以根据我们放入的变量来改变应用程序的运行方式。这种功能可以扩展到超越添加数据库连接的默认值或端点。相反，你可以用它来隐藏尚未完成的功能。甚至有方法可以远程管理这些设置，这意味着你只需在数字仪表板上切换一个开关，你的应用程序就会突然以不同的方式运行。
- en: 'Managing this flexibility is what makes your company succeed. After escaping
    the gravity of starting, you can now explore the vast reaches of your business.
    This becomes the key part of your success. In *The Lean Startup* (Currency, 2011),
    Eric Reise talks about the need to be flexible in a startup to find what the customer
    wants and do nothing more than that. This has been our guiding light throughout
    the book: keep it simple and keep changing. This helps us create the underlying
    tools necessary to deliver quickly and efficiently while continuing to improve.
    Once we are cruising, we can start building the process around how we develop
    features. We can use the behavior-driven development skills we learned in chapter
    9 to help guide and focus our development. We can then start considering other
    forms of testing such as *exploratory testing*, wherein a team tries to break
    our system by generating tons of load or putting special characters into input
    fields. This can then be automated via user-simulated testing frameworks like
    Selenium or Cypress.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 管理这种灵活性是使你的公司成功的关键。在摆脱创业的引力之后，你现在可以探索你业务的广阔领域。这成为你成功的关键部分。在《精益创业》（Currency，2011）一书中，埃里克·雷泽谈到了在创业公司中保持灵活性的必要性，以找到客户想要的东西，并且只做那件事。这是我们贯穿整本书的指导原则：保持简单并不断变化。这有助于我们创建必要的底层工具，以便快速高效地交付，同时继续改进。一旦我们开始顺利航行，我们就可以开始构建围绕我们如何开发功能的过程。我们可以使用在第9章中学到的行为驱动开发技能来引导和聚焦我们的开发。然后我们可以开始考虑其他形式的测试，例如*探索性测试*，其中团队通过生成大量负载或将特殊字符放入输入字段来尝试破坏我们的系统。这可以通过用户模拟测试框架如Selenium或Cypress进行自动化。
- en: Hopefully, all of this leads you to find that you need to adjust your infrastructure.
    You’ll know when you’ve reached this point when someone comes to you, says that
    your cloud bill is too high, and asks if there is something you can do about it.
    This will most likely come before anything else. This is because you are paying
    for the abstraction to have AWS or Google run your application for you. It’s a
    convenience fee. Once at this point, you need to focus on infrastructure; only
    then does it make sense to look at cool tools like Kubernetes. This is not a hard-and-fast
    rule, but focus on simple rather than complex. If you don’t have the team to support
    infrastructure like Kubernetes, you shouldn’t worry about it. Focus on developing
    a product that you can show, and then worry about optimizing how and where it
    runs.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 希望这一切都能让你意识到你需要调整你的基础设施。当你有人来找你说你的云费用太高，并询问你能否做些什么时，你就知道你已经到了这个阶段。这很可能会在其他任何事情之前发生。这是因为你正在为AWS或Google为你运行应用程序的抽象付费。这是一个便利费。一旦到了这个阶段，你需要专注于基础设施；只有在这种情况下，查看像Kubernetes这样的酷工具才有意义。这不是一个铁的规则，但专注于简单而不是复杂。如果你没有支持像Kubernetes这样的基础设施的团队，你不必担心。专注于开发一个你可以展示的产品，然后担心如何优化它的运行方式和地点。
- en: I say all of this from experience. I’ve been working in startups for around
    a decade and have seen how teams grow and where mistakes are made. All too often,
    developers and managers want to reach for a new and shiny technology or tool to
    get a job done when they don’t need to. A former manager of mine once said, “People
    want to grab for a new tool all of the time but don’t know how to use it. The
    old beat-up tools are old and beat up for a reason—it’s because they work.” This
    isn’t to say that you shouldn’t keep an eye on the new and shiny. In fact, you
    will need to incorporate them to keep growing and to keep up, as well as to keep
    your developers engaged. The skill lies in determining which tools to use and
    how to use them. As a team, you should discuss, plan, and research before starting
    down that path and think about supporting what you make for the future.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我从经验中说这些。我在创业公司工作了大约十年，看到了团队如何成长以及错误发生在哪里。过于频繁地，开发人员和经理们想要抓住一个新而闪亮的技术或工具来完成工作，而他们并不需要这样做。我的一个前经理曾经说过：“人们总是想要抓住一个新工具，但他们不知道如何使用它。那些旧而破烂的工具之所以旧而破烂，是因为它们有用。”这并不是说你不应该关注新而闪亮的东西。事实上，你需要将它们融入其中以保持增长和跟上步伐，以及保持你的开发人员参与其中。技能在于确定使用哪些工具以及如何使用它们。作为一个团队，在开始这条道路之前，你应该讨论、计划和进行研究，并考虑支持你为未来所做的一切。
- en: Here is an example of wasting time on something shiny from my recent past. I
    was working on an application that was very similar to applications I have built
    before. A message came in with some metric data, and I needed to normalize it
    to be displayed on various dashboards. I decided that I wanted to make this system
    totally event based and that all communication throughout the service would be
    asynchronous, so I built a complex system around a tool I’ve had my eyes on for
    a year or so. I was excited and happy with what I built—until I wasn’t. I soon
    realized that I had built something more complex than what was needed, and while
    it would scale, it did not need to scale in the way I thought it would. Then I
    realized that the library I was using became deprecated within two weeks of development,
    and suddenly the timeline to refactor what I had just written was moved up.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个例子，展示了我在最近过去浪费在闪亮事物上的时间。我正在开发一个与我之前构建的应用程序非常相似的应用程序。一条消息传来，包含了一些指标数据，我需要将其标准化以便在各个仪表板上显示。我决定我想让这个系统完全基于事件，并且在整个服务中的所有通信都将异步进行，所以我围绕一个我已经关注了一年多的工具构建了一个复杂的系统。我对我所构建的东西感到兴奋和满意——直到我不满意了。很快我就意识到，我所构建的东西比所需的更复杂，虽然它可以扩展，但它不需要以我预期的那种方式扩展。然后我意识到，我使用的库在开发两周后就被弃用了，突然之间，重构我所写代码的时间表提前了。
- en: The lesson is that I built something shiny and new for me, not for the customer.
    I over-designed and over-developed, and then I had to face the consequences of
    rebuilding what I had just built. This came from a lack of planning and discipline
    on my end. It’s important to find a way to make sure that doesn’t happen in the
    future. What was the mitigating tactic I came up with so this sort of problem
    doesn’t happen again? I started writing design documents and placing them in a
    folder in my repo so that people can review designs before the work is done and
    referred to them to see how the system was built. These are known as RFCs, and
    they are very helpful in allowing teams to think about and discuss designs before
    they develop.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 教训是我为自己建造了一些闪亮的新东西，而不是为顾客。我过度设计和开发，然后不得不面对重建我所建造的东西的后果。这源于我自身的缺乏规划和纪律。重要的是要找到一种方法，确保未来不会发生这种情况。我为了防止这类问题再次发生，想出了什么缓解策略？我开始编写设计文档，并将它们放在我的代码库中的一个文件夹里，这样人们可以在工作完成之前审查设计，并在查看系统是如何构建的时参考它们。这些被称为RFC，它们在允许团队在开发之前思考和讨论设计方面非常有帮助。
- en: These are just some things you will experience as your project or product grows
    through the various stages. Let’s now look at the various elements of each stage
    and discuss how you can go beyond what we covered in process, testing, and delivering.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这些只是你在项目或产品通过各个阶段成长过程中可能会遇到的一些事情。现在让我们来看看每个阶段的各种元素，并讨论如何超越我们在流程、测试和交付中涵盖的内容。
- en: 11.4 Elements of development
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.4 开发元素
- en: When we started this book, I mentioned that what I present is not new—at least
    not new to the industry. The hope is that I provide a handbook to get you and
    your business started. Software development didn’t click until I started reading
    comparisons between software development and manufacturing.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们开始写这本书时，我提到我所展示的不是新的——至少对行业来说不是新的。希望我能提供一本手册，帮助你和你的事业起步。软件开发直到我开始阅读软件开发与制造业之间的比较才变得有意义。
- en: I can imagine my various coworkers at my startup all fulfilling different roles.
    Wearing hard hats and uniforms, I can see my manager directing a fellow developer
    on a forklift while my project manager moves folders with various orders from
    different stations. Meanwhile, a QA team member is checking boxes on their clipboard,
    making note of the slightest imperfection. Finally, our Ops team comes by, loads
    it up on a truck, and ships it out of the building.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以想象我的初创公司里的各种同事都在扮演不同的角色。戴着安全帽和制服，我看到我的经理在叉车上指导一位开发者，同时我的项目经理在各个站点之间移动文件夹，处理各种订单。与此同时，一位质量保证团队成员正在他们的记事本上检查方框，记录下最微小的瑕疵。最后，我们的运维团队过来，把它装上卡车，然后把它从大楼里运出去。
- en: That was exactly how the teams were divided, and that’s exactly how work flowed
    through our system. It took a lot of work for us to figure out how to work together,
    build good relationships, and establish trust. A few months before we were purchased,
    I came up with a plan to present how to streamline this work. The result was a
    pipeline similar to this book to help automate the process of taking an idea and
    making it real with a few clicks of a mouse.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 那正是团队被划分的方式，工作也是这样通过我们的系统流动的。我们花了大量的工作来弄清楚如何一起工作，建立良好的关系，并建立信任。在我们被收购的前几个月，我制定了一个计划来展示如何简化这项工作。结果是创建了一个类似于本书的管道，通过几点击鼠标就能自动化将想法变成现实的过程。
- en: When perusing the research for this idea, I found that some great books described
    CI/CD pipelines, testing methodologies, and code standardization practices but
    didn’t put them together with examples. When I looked at the books, I organized
    them into process, testing, and delivery.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当我研究这个想法时，我发现一些优秀的书籍描述了CI/CD管道、测试方法和代码标准化实践，但没有将它们与示例结合起来。当我查看这些书籍时，我将它们组织成了流程、测试和交付。
- en: 11.4.1 Process
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.4.1 流程
- en: Working on a team is hard, whether your team members are your best friends or
    complete strangers. Everyone does things differently, and it’s up to you to figure
    out how to get along and make things together. Waste can cause problems in teams.
    When you waste someone’s time with an incomplete feature, sloppy code, or an obvious
    bug, it can quickly escalate from annoying to disrespectful. Once disrespect for
    a coworker has set in, it becomes difficult for a team to mesh and collaborate.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在团队中工作很困难，无论你的团队成员是你的最好朋友还是完全陌生的人。每个人做事的方式都不同，你必须找出如何相处并一起完成任务。浪费可以导致团队中的问题。当你用不完整的功能、马虎的代码或明显的错误浪费某人的时间时，它可以从令人烦恼迅速升级到不尊重。一旦对同事的不尊重根深蒂固，团队就很难融合和协作。
- en: Processes save time. By establishing standards and practices, you reduce the
    amount of waste produced by saving people’s time and interactions. If a program
    can tell you that your code looks bad, that saves someone else the effort of telling
    you, and you will receive fast, concise feedback. Yet these simple but effective
    tools are often overlooked. The simple pipeline that we created at the beginning
    established our process, and we added to it throughout the book. Establishing
    a process of verifying, testing, and deploying automatically reduces the time
    wasted in handing off and getting to production. This pipeline is illustrated
    in figure 11.1.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 流程可以节省时间。通过建立标准和实践，你可以通过节省人们的时间和互动来减少产生的浪费。如果一个程序能告诉你你的代码看起来很糟糕，这就节省了其他人告诉你这个信息的努力，你将获得快速、简洁的反馈。然而，这些简单但有效的工具往往被忽视。我们在一开始创建的简单管道建立了我们的流程，并在整本书中不断添加内容。建立验证、测试和自动部署的流程可以减少在交接和进入生产过程中浪费的时间。这个管道在图11.1中展示。
- en: '![](../../OEBPS/Images/CH11_F01_Holmes4.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../../OEBPS/Images/CH11_F01_Holmes4.png)'
- en: Figure 11.1 Our process of moving code through our pipeline
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1 我们将代码通过管道的流程
- en: 'You should also have a process for your process. While this seems cyclical,
    it is helpful. Periodically evaluating how you are building and delivering your
    product will help you improve. This is known as *continuous improvement* (a different
    CI than the continuous integration we did earlier). Toyota realized that when
    they were able to increase their productivity, their employees were not at full
    capacity, meaning they could do additional work because their jobs had become
    simpler, so Toyota asked their employees to use this extra time to improve their
    process: to see where they were inefficient or falling short. This isn’t done
    by picking some arbitrary area that you feel needs improvement. The employee and
    manager need metrics, evaluations, and designs before your improvement becomes
    part of a process.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 你还应该对你的流程有一个流程。虽然这看起来是循环的，但这是有帮助的。定期评估你是如何构建和交付你的产品的，这将帮助你改进。这被称为*持续改进*（与我们在早期所做的持续集成不同）。丰田意识到，当他们能够提高生产力时，他们的员工并没有达到最佳状态，这意味着他们可以完成额外的工作，因为他们的工作变得简单了，所以丰田要求他们的员工利用这些额外的时间来改进他们的流程：看看他们在哪里效率低下或不足。这不是通过选择一些你认为需要改进的任意领域来完成的。员工和管理者需要在改进成为流程的一部分之前获得指标、评估和设计。
- en: What does this mean for your team? Ensure that you and your teammates are at
    full capacity and that you are allowing yourself some time to find areas of improvement.
    Setting up metrics around delivery time, build time, and response time can all
    be used to improve your application and your process. Think of how you want to
    use testing and how your pipeline is working. What are the ergonomics of your
    development environment? Is it hard to set up, or does it require someone else
    to get it working? Is your computer crashing if you don’t run things a particular
    way? Does it make sense to develop another way?
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这对你的团队意味着什么？确保你和你的团队成员都处于最佳状态，并且你给自己留出一些时间来寻找改进的领域。围绕交付时间、构建时间和响应时间建立指标都可以用来改进你的应用程序和流程。想想你希望如何使用测试以及你的管道是如何工作的。你的开发环境的人体工程学如何？它是否难以设置，或者是否需要其他人来让它工作？如果你不按照特定方式运行事情，你的电脑会崩溃吗？以另一种方式开发是否合理？
- en: Always be thinking of improving not only your software but also the way you
    develop software. One way of doing that is through targeted and appropriate testing.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 总是思考如何改进你的软件以及你开发软件的方式。实现这一目标的一种方式是通过有针对性的和适当的测试。
- en: 11.4.2 Testing
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.4.2 测试
- en: Testing in startups is such a tricky thing to get right. Your code is changing
    so much and so often that your tests can sometimes get in the way of what you
    are developing. You spend all of your time writing tests for a given piece of
    code that changes within a week. Why should you spend time testing when it can
    go away in an instant?
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在初创公司中进行测试是一件非常棘手的事情。你的代码变化如此频繁，以至于测试有时会阻碍你的开发工作。你把所有的时间都花在为一周内就会改变的代码片段编写测试上。当你知道这些代码可能瞬间就会消失时，你为什么还要花时间去测试呢？
- en: 'Let me ask you this: How do you know if a particular piece of code will stay
    or go? You don’t. While I’ve been on the end of deleting or rewriting my tests
    more often than I can remember, I can distinctly remember projects where we had
    zero test coverage and paid a penalty for it in the long run. We soon encountered
    so many bugs in production that the time would have been better spent writing
    the test code in the first place.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 让我问你这个问题：你怎么知道某个特定的代码片段会保留还是被移除？你不知道。虽然我经常不得不删除或重写我的测试，但我清楚地记得有些项目我们没有进行任何测试，最终为此付出了代价。我们很快在生产中遇到了如此多的错误，如果一开始就编写测试代码，这些时间会更好利用。
- en: What should you do? Should you just not write tests until it’s painful? Absolutely
    not! This will decrease your productivity and increase your overall lead time.
    To solve this problem, we need to think about testing throughout the process,
    not just at one particular stage. The overall trend of the book was to move from
    simple to complex. In the same way, your tests should evolve to become more complex
    and robust by checking various portions of the code in different ways. This saves
    you and the rest of your team time.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该怎么做？难道你真的要等到痛苦不堪的时候才去写测试吗？绝对不是！这样做会降低你的生产力，并增加你的整体开发周期。为了解决这个问题，我们需要在整个过程中考虑测试，而不仅仅是在某个特定的阶段。本书的整体趋势是从简单到复杂。同样，你的测试也应该通过以不同方式检查代码的不同部分而变得更加复杂和健壮。这为你和你的团队节省了时间。
- en: But how much should you test, and what should you test? The answer is to start
    simply with basic unit tests around deterministic sections of code. These are
    your typical algorithmic functions that calculate balances or error rates. You
    give it a set of data, and the same answer kicks out each time. This is done by
    using the basic unit tests and the mocking techniques we talked about in chapters
    4 and 7\. Chapter 10 explored integration-level testing against larger services.
    We didn’t get to a full-system, end-to-end, UI-to-API-level testing. All of this
    should reflect what we see in our testing pyramid (figure 11.2).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 但是你应该测试多少，测试什么？答案是，从基本的单元测试开始，围绕确定性代码部分进行。这些是你的典型的算法函数，它们计算余额或错误率。你给它一组数据，每次都会得到相同的答案。这是通过使用我们在第4章和第7章中讨论的基本单元测试和模拟技术来完成的。第10章探讨了针对更大服务的集成级别测试。我们没有达到全系统、端到端、UI到API级别的测试。所有这些都应反映在我们的测试金字塔（图11.2）中。
- en: '![](../../OEBPS/Images/CH11_F02_Holmes4.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../../OEBPS/Images/CH11_F02_Holmes4.png)'
- en: Figure 11.2 The testing pyramid focuses on building a foundation of unit tests.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2 测试金字塔侧重于建立单元测试的基础。
- en: By starting with the smaller chunks of work and building up, we build a solid
    foundation for testing. If you do anything, do automated unit tests. These are
    the foundation of your quality assessment of your product. Keep these quality
    checks as close to the code as possible in all cases, but specifically for the
    unit tests. If you find that your unit tests are breaking or getting in the way,
    you need to reconsider your testing process. Writing good unit tests is an art
    as much as it is a science. You find what to test and what not to test. Test-driven
    development, as mentioned in chapter 4, is extremely helpful in helping us whittle
    down tests to their core elements.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从较小的任务块开始并逐步构建，我们为测试建立了一个坚实的基础。如果你要做什么，那就做自动化单元测试。这些是评估你产品质量的基础。在所有情况下，尽可能将质量检查与代码保持接近，特别是对于单元测试。如果你发现你的单元测试正在中断或阻碍，你需要重新考虑你的测试流程。编写好的单元测试既是一门艺术，也是一门科学。你需要确定测试什么，不测试什么。正如第4章中提到的，测试驱动开发（TDD）在帮助我们精简测试到核心元素方面非常有帮助。
- en: You may find that your approach to testing is fine but that you are constantly
    changing them. This is an indication of thrashing in other places. Do you have
    a grasp of the code you are writing? Are others writing quality tests? Are you
    getting the correct requirements? Is the project clearly defined? If any of these
    questions are answered “no,” you should have a team meeting.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会发现你的测试方法很好，但你总是在不断改变它们。这是在其他地方过度劳累的迹象。你是否掌握了你正在编写的代码？其他人是否在编写高质量的测试？你是否得到了正确的要求？项目是否定义得清楚？如果这些问题的任何一个答案是“否”，你应该召开一个团队会议。
- en: Testing brings to light more than just bugs in your code. It helps you find
    bugs in your process. As an example, I’ve worked for several companies that have
    had very complicated setups for writing tests. Entire test databases need to be
    loaded, certain software needs to be installed or running, and scripts need to
    run to set up your test environment. While these by themselves are not dangerous,
    they lead to frustration among team members because they struggle with the setup
    rather than writing the test. When you find that team members don’t want to write
    tests or test locally due to local development environments, you have a bug in
    your process.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 测试不仅揭示了代码中的错误，还帮助你发现过程中的错误。例如，我为几家拥有非常复杂的测试设置的公司的测试工作提供过帮助。整个测试数据库需要加载，某些软件需要安装或运行，还需要运行脚本以设置测试环境。虽然这些本身并不可怕，但它们导致团队成员感到沮丧，因为他们挣扎于设置而不是编写测试。当你发现团队成员因为本地开发环境而不愿意编写测试或本地测试时，你就在过程中发现了错误。
- en: 'The eventual goal in all of this automated testing is the goal of any sort
    of automation: freeing others up to do more creative work. If you can build automated
    tests suites at all levels, your team will start to be able to explore areas of
    improvement such as these:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些自动化测试的最终目标，是任何自动化目标的：让其他人有更多的时间去做更有创造性的工作。如果你能在所有层面上构建自动化测试套件，你的团队将开始能够探索这些改进领域：
- en: Performance of different functions or systems
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同功能或系统的性能
- en: Usability of the product
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品的可用性
- en: Rare or extreme edge cases (before customers identify them)
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 罕见或极端的边缘情况（在客户识别它们之前）
- en: User workflow improvements
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户工作流程改进
- en: There are many other areas of improvement. The point is that testing is an essential
    part of creating a feedback loop that is only going to help your company grow.
    The only way to find out if it works as expected is to release it to the public.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 还有许多其他改进领域。重点是测试是创建反馈循环的必要部分，这将只会帮助你的公司成长。唯一找出它是否按预期工作的方法是将它发布给公众。
- en: 11.4.3 Delivering
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11.4.3 交付
- en: Options for delivering your products shift more quickly than sand dunes. Not
    too long ago, companies installed their own servers and hardware. Then it became
    the cloud with all of these virtualized servers. At the time, there were few options
    for cloud computing, but now there are many, and many more come out each month.
    Like electricity, computing is becoming a utility that is accessible to anyone
    with a computer and a credit card. Because of the vast expansion of cloud technologies,
    tools have been built to sit on top of this vast system of computational utilities.
    Platforms like Kubernetes and serverless frameworks are all operating within the
    context of abstracted computational resources (see figure 11.3).
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 交付您产品的选项比沙丘移动得还要快。不久前，公司还安装自己的服务器和硬件。然后，随着所有这些虚拟化服务器的出现，一切都转向了云。当时，云计算的选项很少，但现在有很多，而且每个月都有更多出现。就像电力一样，计算正在变成任何拥有电脑和信用卡的人都可以使用的公用事业。由于云计算技术的广泛扩展，已经构建了工具来构建在这个庞大的计算公用事业系统之上。像Kubernetes和无服务器框架这样的平台都是在抽象计算资源的环境中运行的（见图11.3）。
- en: '![](../../OEBPS/Images/CH11_F03_Holmes4.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../../OEBPS/Images/CH11_F03_Holmes4.png)'
- en: Figure 11.3 We focused on various *aaS products, but as time goes on, there
    may be other abstracted computational resources.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.3 我们专注于各种*aaS产品，但随着时间的推移，可能会有其他抽象计算资源。
- en: But we cannot expect the changes to stop there. While other concepts of process
    and testing will have small improvements and changes over time, the general principles
    will stay the same. How you deliver your product will change significantly in
    the future. We are already seeing trends in moving computational resources onto
    CDN networks, which were originally used for caching web pages. Now they can run
    lightweight APIs and computations on the “edge” of the network.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 但我们无法期望变化会停止在这里。虽然其他流程和测试的概念随着时间的推移将有所小幅度改进和变化，但一般原则将保持不变。你交付产品的方式在未来将发生重大变化。我们已经在看到趋势，将计算资源转移到最初用于缓存网页的CDN网络上，现在它们可以在网络的“边缘”运行轻量级API和计算。
- en: All of this is to say that in a few years, chapters 4, 7, and 10 may refer to
    outdated technology in the cloud world. In fact, I guarantee they will. But this
    doesn’t mean that this book will become outdated. Like the other concepts, some
    core pieces are essential. First and foremost, your pipeline falls squarely in
    the realm of delivery. We started the book by talking about automated delivery
    and its importance. We also discussed the fact that delivery can mean multiple
    things depending on the technology. We focused on cloud technologies because they
    are a simple way to start. But delivery can happen in IoT devices by pushing software
    updates or just downloadable binaries or packages for people to install. Your
    pipeline should be able to take the code you write and deliver an artifact, pure
    and simple.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些都是在说，在几年后，第4章、第7章和第10章可能会提到云世界中过时的技术。事实上，我保证它们会。但这并不意味着这本书会过时。像其他概念一样，一些核心部分是必不可少的。首先，你的管道完全属于交付领域。我们以讨论自动化交付及其重要性开始这本书。我们还讨论了交付根据技术可能意味着多件事情的事实。我们专注于云技术，因为它们是一个简单的开始方式。但交付可以通过在物联网设备上推送软件更新或仅提供供人们安装的可下载的二进制文件或包来实现。你的管道应该能够接收你编写的代码并交付一个工件，简单明了。
- en: 'The delivery of cloud products will change, but those rules will also remain
    the same: start with the easiest and cheapest until you know more about how your
    product is used. In journalism, they tell you to follow the five Ws of investigation
    to get to the bottom of a story, and those apply here as well:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 云产品的交付将发生变化，但那些规则也将保持不变：从最简单、最便宜的开始，直到你更多地了解你的产品是如何被使用的。在新闻业，他们告诉你遵循调查的五W原则来深入挖掘故事，这些原则在这里同样适用：
- en: '*Who* will be using your product?'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*谁*会使用你的产品？'
- en: '*What* are they doing with your product?'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*他们在你的产品上做什么？'
- en: '*Where* are people using the product?'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在哪里*人们在使用产品？'
- en: '*When* are people using it the most?'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*何时*人们最常使用它？'
- en: '*Why* are people using your product?'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*为什么*人们使用你的产品？'
- en: All of these items are essential for delivering what a customer needs and wants.
    The questions almost seem repetitive in that sense, right? When you deliver your
    product, you need to find ways of investigating these areas. For example, if you
    find that most of your users are in Europe and not the United States, you should
    consider deploying in a cloud region in Europe until you can scale to multiple
    deployment zones. Only with metrics can you find these things out.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些项目对于交付客户需要和想要的东西都是必不可少的。从那个角度来看，这些问题几乎显得重复，对吧？当你交付你的产品时，你需要找到调查这些领域的方法。例如，如果你发现大多数用户都在欧洲而不是美国，你应该考虑在欧洲的一个云区域部署，直到你可以扩展到多个部署区域。只有通过指标，你才能发现这些事情。
- en: This was a core piece that I was not able to cover in the book, but it is essential.
    Metric gathering helps you determine where to take your product. It answers the
    investigation questions and helps you justify future work to your employer and
    team. Moving forward, it will be up to you to determine how to evolve your delivery
    and product over time.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我无法在书中涵盖的核心部分，但它至关重要。指标收集帮助你确定如何发展你的产品。它回答了调查问题，并帮助你向雇主和团队证明未来工作的合理性。向前看，将取决于你如何随着时间的推移发展你的交付和产品。
- en: 11.5 The OODA loop
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.5 OODA 循环
- en: 'In the early 1960s, Colonel John Boyd developed a military strategy called
    the OODA loop:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在20世纪60年代初，约翰·博伊德上校开发了一种名为OODA循环的军事战略：
- en: '*Observe*—Collect data.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*观察*—收集数据。'
- en: '*Orient*—Analyze the data.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*定位*—分析数据。'
- en: '*Decide*—Determine the course of action based on your analysis of the data.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*决策*—根据对数据的分析确定行动方案。'
- en: '*Act*—Act on what was decided.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*行动*—根据决定采取行动。'
- en: The process repeats, which puts you back in the observation stage (figure 11.4).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程会重复，把你带回观察阶段（图11.4）。
- en: '![](../../OEBPS/Images/CH11_F04_Holmes4.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../../OEBPS/Images/CH11_F04_Holmes4.png)'
- en: Figure 11.4 The OODA loop
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.4 OODA循环
- en: I hope you can see the parallels with what we were able to accomplish in this
    book. The project manager observed the cost and maintenance of the old system.
    In orienting themselves with the data, they decided that a new service should
    be built at a lower cost. Then they acted by starting this project.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望你能看到与我们在这本书中能够实现的事情之间的相似之处。项目经理观察到了旧系统的成本和维护。在用数据定位自己后，他们决定应该以更低的成本构建一个新的服务。然后他们通过启动这个项目采取了行动。
- en: Then it looped!
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 然后它又循环了！
- en: You *observed* how the old system was built. Having been *oriented* in the current
    development process, you were able to decide that the lowest cost method is to
    write a simple API run through a FaaS for low cost and maintenance. You *acted*
    by creating a CI process that delivers this simple function.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你*观察*了旧系统是如何构建的。在当前开发过程中定位后，你能够决定最低成本的方法是编写一个简单的API，通过FaaS以低成本和维护。你*行动*通过创建一个CI（持续集成）流程来交付这个简单的功能。
- en: It looped again!
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 它又循环了！
- en: You observed that your FaaS was a successful proof of concept. The analysis
    determined that the process would not scale to other teams. You decided to increase
    testing and create a portable application for other teams to use.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 你观察到你的FaaS（函数即服务）是一个成功的概念验证。分析确定这个过程无法扩展到其他团队。你决定增加测试并创建一个可移植的应用程序供其他团队使用。
- en: Then it looped again!
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 然后它又循环了！
- en: Driven by the success of your containerized product, management observed that
    others should do the same. To do this, we required increased levels of process
    and testing and needed to create a containerized deployment environment. We decided
    to add configuration management and integration testing to our process and create
    a Kubernetes cluster.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 由于你的容器化产品的成功，管理层观察到其他人也应该这样做。为了做到这一点，我们需要提高流程和测试的水平，并需要创建一个容器化部署环境。我们决定将配置管理和集成测试添加到我们的流程中，并创建一个Kubernetes集群。
- en: And the loop will continue!
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 并且循环将继续！
- en: When you think of your product development as a loop instead of a long line,
    you’ll find that your development mindset changes. Just like a loop, products
    don’t end. Instead, they evolve. Yes, just like all evolution, you will have products
    that go extinct, but evolution is full of victors and losers; that’s just the
    way it is. It is those who cannot adapt that die. Instead, focus on how your product
    can adapt by observing, orienting, deciding, and acting.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将产品开发视为一个循环而不是一条长线时，你会发现你的开发心态发生了变化。就像一个循环一样，产品不会结束。相反，它们会进化。是的，就像所有进化一样，你会有一些产品灭绝，但进化充满了胜利者和失败者；这就是它的方式。不能适应的人会死去。相反，专注于你的产品如何通过观察、定位、决策和行动来适应。
- en: 11.6 Conclusion
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 11.6 结论
- en: I recently had lunch with a former manager of mine. We were discussing his role
    and how things had changed. “I don’t get to do much development anymore, and I
    don’t have any engineers report directly to me, so I don’t see much code. But
    what I can’t seem to get away from is our pipeline. I’m constantly checking and
    trying to improve it. I’m not sure why I can’t leave it alone.”
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我最近和我的前经理共进午餐。我们讨论了他的角色以及事情是如何变化的。“我现在不能再做很多开发了，而且没有工程师直接向我汇报，所以我看不到很多代码。但我似乎无法摆脱我们的管道。我一直在检查并试图改进它。我不确定为什么我无法放手。”
- en: It made sense to me. He was now at a point where the details of the code were
    not important. What was important was the delivery and then shipping it to customers.
    He didn’t need to know how a test was written or what language the product was
    written in. All he needed to see was that a certain standard was established and
    a process was being used. Beyond that, he needed to trust the rest of the team
    to do their jobs.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 这对我来说是有意义的。他现在到了一个点，代码的细节不再重要。重要的是交付，然后将其运送给客户。他不需要知道测试是如何编写的，或者产品是用什么语言编写的。他只需要看到已经建立了一定的标准，并且正在使用一个流程。除此之外，他需要信任团队的其他成员完成他们的工作。
- en: The journey up to this point has paralleled my career, along with that of many
    others. I started this book by saying that there wasn’t anything new in these
    pages, and I hope you recognized some patterns or processes listed here. The success
    of a project lies outside the control of the developer or the company. The only
    thing you can do is make sure you deliver. Delivering a quality product that can
    quickly adapt to the market and your customer needs is within your control. All
    you need is to build the tools to deliver, assemble a team around them, and explore.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止的旅程与我的职业生涯以及许多其他人的职业生涯相并行。我在本书开头说过，这些页面中没有新内容，希望你能识别出这里列出的一些模式或流程。项目的成功超出了开发人员或公司的控制范围。你能做的唯一一件事就是确保你交付。交付一个能够快速适应市场和客户需求的高质量产品在你的控制范围内。你所需要做的就是构建交付的工具，围绕它们组建一个团队，并探索。
- en: Summary
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: A product is a journey, not a destination.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品是一个旅程，而不是一个目的地。
- en: Pipelines help manage processes within a team without micromanaging.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管道有助于在团队内部管理流程，而不需要微观管理。
- en: Change is inevitable, so you need to find a way to orient yourself within that
    change.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变化是不可避免的，因此你需要找到一种方法来在变化中找到自己的方向。
