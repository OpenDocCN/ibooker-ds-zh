- en: Unit 1\. Imperative programming
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 单元1. 命令式编程
- en: Most computer programs are a series of steps, like the directions for your mom’s
    stroganoff. Tell a computer precisely *how* to accomplish a task, and it can do
    all sorts of things. Writing down these instructions is known as *imperative*
    programming. If only computers could cook!
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数计算机程序都是一系列步骤，就像你妈妈做肉汁蘑菇的指示一样。精确地告诉计算机如何完成任务，它就可以做各种事情。写下这些指示被称为*命令式编程*。如果计算机能做饭就好了！
- en: 'In [unit 1](#part02), you’ll review Go fundamentals and start learning the
    syntax Go uses to instruct your computer. Each lesson builds up the knowledge
    you’ll need to tackle your first challenge: an app that lists ticket prices for
    a vacation to Mars.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在[单元1](#part02)中，你将复习Go的基础知识，并开始学习Go用来指导计算机的语法。每一课都会积累你需要应对第一个挑战的知识：一个列出火星度假票价的应用程序。
- en: Lesson 2\. A glorified calculator
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第2课。一个高级计算器
- en: After reading [lesson 2](#ch02), you’ll be able to
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第2课](#ch02)之后，你将能够
- en: Teach a computer to do your math
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 教会计算机做数学
- en: Declare variables and constants
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 声明变量和常量
- en: See how declaration and assignment differ
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看看声明和赋值如何不同
- en: Use the standard library to generate pseudorandom numbers
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用标准库生成伪随机数
- en: Computer programs are capable of a great many things. In this lesson you’ll
    write programs to solve mathematical problems.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机程序能够做很多事情。在本课中，你将编写程序来解决数学问题。
- en: '|  |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Consider this**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑这一点**'
- en: Why write a program when you could just use a calculator?
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么写程序，而不是直接使用计算器呢？
- en: Well, have you memorized the speed of light or how long it takes Mars to orbit
    the sun? Code can be saved and read later, serving as both a calculator and a
    reference. A program is an executable document that can be shared and modified.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 嗯，你记住了光速或者火星绕太阳运行需要多长时间吗？代码可以保存和稍后读取，既可以作为计算器，也可以作为参考。程序是一个可执行的文档，可以共享和修改。
- en: '|  |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 2.1\. Performing calculations
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1. 执行计算
- en: There are days when we think it would be nice to be younger and weigh a little
    less. In this regard, Mars has a lot to offer. Mars takes 687 Earth days to travel
    around the sun, and its weaker gravitational force means everything weighs approximately
    38% of what it does on Earth.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候我们会想，如果年轻一点，体重轻一点就好了。在这方面，火星有很多可以提供的。火星绕太阳运行需要687个地球日，其较弱的引力意味着一切物体的重量大约是地球上的38%。
- en: 'To calculate how young and light Nathan would be on Mars, we wrote a small
    program, shown in [listing 2.1](#ch02ex01). Go provides the same arithmetic *operators*
    as other programming languages: `+`, `-`, `*`, `/`, and `%` for addition, subtraction,
    multiplication, division, and modulus respectively.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算Nathan在火星上的年龄和体重，我们编写了一个小程序，如[代码清单2.1](#ch02ex01)所示。Go提供了与其他编程语言相同的算术*运算符*：`+`、`-`、`*`、`/`和`%`分别用于加法、减法、乘法、除法和取模。
- en: '![](f0014-01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](f0014-01.jpg)'
- en: '|  |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-20
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 提示
- en: The modulus operator (`%`) obtains the remainder of dividing two whole numbers
    (for example, `42 % 10` is 2).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 取模运算符（`%`）获取两个整数相除的余数（例如，`42 % 10`是2）。
- en: '|  |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'Listing 2.1\. Hello Mars: mars.go'
  id: totrans-23
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 代码清单2.1. 欢迎火星：mars.go
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '***1* A comment for human readers**'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 人类读者注释**'
- en: '***2* Prints 56.3667**'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 打印56.3667**'
- en: '***3* Prints 21**'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 打印21**'
- en: '|  |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-29
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Though [listing 2.1](#ch02ex01) displays weight in pounds, the chosen unit of
    measurement doesn’t impact the weight calculation. Whichever unit you choose,
    the weight on Mars is 37.83% of the weight on Earth.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然代码清单2.1显示的是磅重，但选择的计量单位不会影响重量计算。无论你选择什么单位，火星上的重量是地球上的37.83%。
- en: '|  |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: The code in the preceding listing begins with a comment. When Go sees a double
    slash `//`, it ignores everything until the end of the line. Computer programming
    is all about communication. Code communicates your instructions to a computer,
    and when written well, it communicates your intentions to other people. Comments
    are just for us. They don’t affect how a program runs.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 代码清单中前面的代码以注释开始。当Go看到双斜杠`//`时，它会忽略该行直到行尾。计算机编程全部是关于沟通的。代码将你的指令传达给计算机，当编写得好的时候，它也能将你的意图传达给其他人。注释只是给我们自己看的。它们不会影响程序运行。
- en: 'The preceding listing calls the `Print` function several times to display a
    sentence on a single line. Alternatively, you can pass a list of *arguments* separated
    by commas. An argument to `Println` can be text, a number, or a mathematical *expression*:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的代码清单多次调用`Print`函数，在单行上显示一个句子。或者，你可以传递一个由逗号分隔的*参数*列表。`Println`的参数可以是文本、数字或数学*表达式*：
- en: '[PRE1]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '***1* Prints My weight on the surface of Mars is 56.3667 lbs, and I would be
    21.79758733624454 years old.**'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印我的体重在火星表面是 56.3667 磅，并且我会是 21.79758733624454 岁。**'
- en: '|  |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 2.1**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.1**'
- en: '**[Q1:](#ch02qa2q0a1)**'
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch02qa2q0a1)**'
- en: ''
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Type and run [listing 2.1](#ch02ex01) in the Go Playground at play.golang.org.
    How much would you weigh on Mars? How old would you be? Replace Nathan’s age (41)
    and weight (149.0) with your own.
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 play.golang.org 的 Go Playground 中输入并运行 [列表 2.1](#ch02ex01)。你在火星上会重多少？你会是多少岁？用
    Nathan 的年龄（41）和体重（149.0）替换你自己的。
- en: '|  |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 2.1 answer**'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.1 答案**'
- en: '**[1:](#ch02qa1q1)**'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch02qa1q1)**'
- en: ''
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: That depends on your weight and age.
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这取决于你的体重和年龄。
- en: '|  |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Tip
  id: totrans-49
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 提示
- en: After modifying your code, click the Format button in the Go Playground. It
    will automatically reformat the indentation and spacing of your code without changing
    what it does.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 修改完代码后，点击 Go Playground 中的 Format 按钮。它将自动重新格式化代码的缩进和间距，而不会改变其功能。
- en: '|  |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 2.2\. Formatted print
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2. 格式化打印
- en: The `Print` and `Println` functions have a sibling that gives more control over
    output. By using `Printf`, shown in the following listing, you can insert values
    anywhere in the text.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '`Print` 和 `Println` 函数有一个兄弟函数，它提供了更多对输出的控制。通过使用以下列表中的 `Printf`，您可以在文本中的任何位置插入值。'
- en: 'Listing 2.2\. Printf: fmt.go'
  id: totrans-54
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '列表 2.2. Printf: fmt.go'
- en: '[PRE2]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '***1* Prints My weight on the surface of Mars is 56.3667 lbs,**'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印我的体重在火星表面是 56.3667 磅，**'
- en: '***2* Prints and I would be 21 years old.**'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 打印并且我会是 21 岁。**'
- en: Unlike `Print` and `Println`, the first argument to `Printf` is always text.
    The text contains the *format verb* `%v`, which is substituted for the *value*
    of the expression provided by the second argument.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 与 `Print` 和 `Println` 不同，`Printf` 的第一个参数始终是文本。文本包含 *格式动词* `%v`，它将被第二个参数提供的表达式的
    *值* 替换。
- en: '|  |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-60
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: We’ll introduce more format verbs (other than `%v`) as needed in upcoming lessons.
    For a complete reference, see the online documentation at [golang.org/pkg/fmt/](http://golang.org/pkg/fmt/).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在接下来的课程中根据需要介绍更多的格式动词（除了 `%v`）。有关完整参考，请参阅在线文档 [golang.org/pkg/fmt/](http://golang.org/pkg/fmt/)。
- en: '|  |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: The `Println` function automatically moves to the next line, but `Printf` and
    `Print` don’t. Whenever you want to move to a new line, place `\n` in the text.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '`Println` 函数会自动移动到下一行，但 `Printf` 和 `Print` 不会。每当您想要移动到新的一行时，请将 `\n` 放入文本中。'
- en: 'If multiple format verbs are specified, the `Printf` function will substitute
    multiple values in order:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果指定了多个格式动词，`Printf` 函数将按顺序替换多个值：
- en: '[PRE3]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '***1* Prints My weight on the surface of Earth is 149 lbs.**'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印我的体重在地球上是 149 磅。**'
- en: 'In addition to substituting values anywhere in a sentence, `Printf` can help
    you align text. Specify a width as part of the format verb, such as `%4v` to pad
    a value to a width of 4 characters. A positive number pads with spaces to the
    left, and a negative number pads with spaces to the right:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在句子中的任何位置替换值之外，`Printf` 还可以帮助您对齐文本。将宽度指定为格式动词的一部分，例如 `%4v` 可以将一个值填充到 4 个字符的宽度。正数用空格填充到左边，负数用空格填充到右边：
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The preceding code displays the following output:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码显示以下输出：
- en: '[PRE5]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '|  |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 2.2**'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.2**'
- en: '**[1](#ch02qa4q0a1)**'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa4q0a1)**'
- en: ''
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How do you print a new line?
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如何打印新的一行？
- en: '**[2](#ch02qa4q0a2)**'
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa4q0a2)**'
- en: ''
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What does `Printf` do when it encounters the `%v` format verb?
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 当 `Printf` 遇到 `%v` 格式动词时，它会做什么？
- en: '|  |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 2.2 answer**'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.2 答案**'
- en: '**[1](#ch02qa3q1)**'
  id: totrans-82
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa3q1)**'
- en: ''
  id: totrans-83
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Use `\n` anywhere in the text you’re printing to insert a new line or use `fmt.Println()`.
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在您要打印的文本中的任何位置使用 `\n` 插入新行或使用 `fmt.Println()`。
- en: '**[2](#ch02qa3q2)**'
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa3q2)**'
- en: ''
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The `%v` is substituted for a value from the following arguments.
  id: totrans-87
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`%v` 将替换为以下参数中的一个值。'
- en: '|  |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 2.3\. Constants and variables
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3. 常量和变量
- en: The calculations in [listing 2.1](#ch02ex01) are performed on *literal* numbers.
    It isn’t clear what the numbers mean, particularly values like 0.3783\. Programmers
    sometimes refer to unclear literal numbers as *magic numbers*. Constants and variables
    can help by providing descriptive names.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 2.1](#ch02ex01) 中的计算是在 *字面量* 数字上进行的。这些数字的含义并不明确，尤其是像 0.3783 这样的值。程序员有时将不明确的字面量数字称为
    *魔法数字*。常量和变量可以通过提供描述性名称来帮助。'
- en: After seeing the benefits of living on Mars, our next question is how long the
    trip will take. Traveling at the speed of light would be ideal. Light travels
    at a *constant* speed in the vacuum of space, which makes the math easy. On the
    other hand, the distance between Earth and Mars *varies* significantly, depending
    on where the planets are in their orbits around the Sun.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在看到火星上生活的益处后，我们接下来的问题是旅行需要多长时间。以光速旅行将是理想的。光在太空的真空中以恒定速度传播，这使得数学变得简单。另一方面，地球和火星之间的距离会根据行星在太阳轨道上的位置而显著变化。
- en: The following listing introduces two new keywords, `const` and `var`, for declaring
    constants and variables respectively.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的列表介绍了两个新的关键字，`const`和`var`，分别用于声明常量和变量。
- en: 'Listing 2.3\. Traveling at the speed of light: lightspeed.go'
  id: totrans-93
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表2.3\. 以光速旅行：lightspeed.go
- en: '[PRE6]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '***1* Prints 186 seconds**'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印186秒**'
- en: '***2* Prints 1337 seconds**'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 打印1337秒**'
- en: Type [listing 2.3](#ch02ex03) into the Go Playground and click Run. Light speed
    is pretty convenient; you probably wouldn’t hear anyone asking, “Are we there
    yet?”
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 将[列表2.3](#ch02ex03)输入到Go沙盒中并点击运行。光速非常方便；你大概不会听到有人问，“我们到了吗？”
- en: The first calculation is based on Mars and Earth being nearby, with `distance`
    declared and assigned an initial value of 56,000,000 km. Then the `distance` variable
    is assigned a new value of 401,000,000 km, with the planets on opposite sides
    of the Sun, though plotting a course directly through the Sun could be problematic.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次计算基于火星和地球靠近的情况，声明并赋予`distance`变量一个初始值5600万公里。然后，将`distance`变量赋予一个新的值4010万公里，此时行星位于太阳的两侧，尽管直接穿越太阳的航线可能会有问题。
- en: '|  |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-100
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: The `lightSpeed` constant can’t be changed. If you try to assign it a new value,
    the Go compiler will report the error “cannot assign to lightSpeed.”
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '`lightSpeed`常量不能更改。如果你尝试给它赋予一个新值，Go编译器将报告错误“不能向lightSpeed赋值。”'
- en: '|  |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-104
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Variables must be declared before you can use them. Go will report an error
    if you assign a value to a variable that hasn’t been declared with `var`—for example,
    `speed = 16`. This restriction can help catch mistakes, such as accidentally assigning
    a value to `distence` when you intended to type `distance`.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用变量之前必须声明它们。如果你尝试将值赋给未用`var`声明的变量，Go将报告错误——例如，`speed = 16`。这种限制可以帮助捕捉错误，比如在打算输入`distance`时意外地将值赋给了`distence`。
- en: '|  |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 2.3**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查2.3**'
- en: '**[1](#ch02qa6q0a1)**'
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa6q0a1)**'
- en: ''
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The SpaceX Interplanetary Transport System lacks a warp drive, but it will coast
    to Mars at a respectable 100,800 km/h. An ambitious launch date of January 2025
    would place Mars and Earth 96,300,000 km apart. How many days would it take to
    reach Mars? Modify [listing 2.3](#ch02ex03) to find out.
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: SpaceX星际运输系统没有超光速驱动器，但它将以可尊敬的100,800公里/小时的速度滑行到火星。一个雄心勃勃的发射日期是2025年1月，届时火星和地球相距9600万公里。到达火星需要多少天？修改[列表2.3](#ch02ex03)以找出答案。
- en: '**[2](#ch02qa6q0a2)**'
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa6q0a2)**'
- en: ''
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: There are 24 hours in one Earth day. To give 24 a descriptive name in your program,
    which keyword would you use?
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个地球日有24小时。为了在你的程序中给24一个描述性的名称，你会使用哪个关键字？
- en: '|  |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 2.3 answer**'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.3 答案**'
- en: '**[1](#ch02qa5q1)**'
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa5q1)**'
- en: ''
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Spaceships don’t travel in a straight line, but as an approximation, the trip
    would take 39 days.
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 飞船不会直线行驶，但作为一个近似值，旅行将需要39天。
- en: ''
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-122
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '**[2](#ch02qa5q2)**'
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa5q2)**'
- en: ''
  id: totrans-124
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The `const` keyword because the value doesn’t change while the program is running.
  id: totrans-125
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`const`关键字因为程序运行期间值不会改变。'
- en: '|  |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 2.4\. Taking a shortcut
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.4\. 简化方法
- en: There may not be any shortcuts to visit Mars, but Go provides a few keystroke-saving
    shortcuts.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 访问火星可能没有捷径，但Go提供了一些节省按键的快捷方式。
- en: 2.4.1\. Declare multiple variables at once
  id: totrans-129
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.4.1\. 一次性声明多个变量
- en: 'When you declare variables or constants, you can declare each one on its own
    line like this:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 当你声明变量或常量时，你可以像这样单独声明每个：
- en: '[PRE8]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Or you can declare them as a group:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 或者你可以将它们作为一个组声明：
- en: '[PRE9]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Yet another option is to declare multiple variables on a single line:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选项是在单行中声明多个变量：
- en: '[PRE10]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Before you declare multiple variables as a group or on a single line, consider
    whether or not the variables are related. Always keep in mind the readability
    of your code.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在你将多个变量作为一个组或单行声明之前，考虑一下这些变量是否相关。始终牢记代码的可读性。
- en: '|  |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 2.4**'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查2.4**'
- en: '**[Q1:](#ch02qa8q0a1)**'
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch02qa8q0a1)**'
- en: ''
  id: totrans-140
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What single line of code would declare both the number of hours in a day and
    the minutes per hour?
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 以下哪一行代码可以声明一天中的小时数和每小时分钟数？
- en: '|  |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 2.4 answer**'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.4 答案**'
- en: '**[1:](#ch02qa7q1)**'
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch02qa7q1)**'
- en: ''
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '|  |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 2.4.2\. Increment and assignment operators
  id: totrans-149
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.4.2\. 增量和赋值运算符
- en: There are a few shortcuts to perform assignment with other operations. The last
    two lines of the following listing are equivalent.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些快捷方式可以与其他操作一起执行赋值。以下列表的最后两行是等效的。
- en: 'Listing 2.4\. Assignment operators: shortcut.go'
  id: totrans-151
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.4\. 赋值运算符：shortcut.go
- en: '[PRE12]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Incrementing by one has an additional shortcut, as shown in the following listing.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 增量可以通过以下列表中的方式使用额外的快捷方式。
- en: Listing 2.5\. Increment operator
  id: totrans-154
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.5\. 增量运算符
- en: '[PRE13]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '***1* happy birthday!**'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 祝你生日快乐！**'
- en: You can decrement with `count--` or shorten other operations like `price /=
    2` in the same way.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `count--` 来递减，或者以相同的方式缩短其他操作，比如 `price /= 2`。
- en: '|  |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-159
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: In case you’re wondering, Go does not support the prefix increment `++count`
    like C and Java.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想知道，Go 不支持像 C 和 Java 那样的前缀增量 `++count`。
- en: '|  |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 2.5**'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.5**'
- en: '**[Q1:](#ch02qa10q0a1)**'
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch02qa10q0a1)**'
- en: ''
  id: totrans-165
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Write the shortest line of code to subtract two pounds from a variable named
    `weight`.
  id: totrans-166
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 编写一行最短的代码，从名为 `weight` 的变量中减去两磅。
- en: '|  |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 2.5 answer**'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.5 答案**'
- en: '**[1:](#ch02qa9q1)**'
  id: totrans-170
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch02qa9q1)**'
- en: ''
  id: totrans-171
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`weight -= 2`'
  id: totrans-172
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`weight -= 2`'
- en: '|  |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 2.5\. Think of a number
  id: totrans-174
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.5\. 思考一个数字
- en: Think of a number between 1 and 10.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 思考一个介于 1 和 10 之间的数字。
- en: Got it? Okay.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 明白了？好的。
- en: Now have your computer “think” of a number between 1 and 10\. Your computer
    can generate pseudorandom numbers using the `rand` package. They’re called *pseudorandom*
    because they’re more or less random, but not truly random.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让你的电脑“思考”一个介于 1 和 10 之间的数字。你的电脑可以使用 `rand` 包生成伪随机数。它们被称为 *伪随机*，因为它们或多或少是随机的，但不是真正的随机。
- en: The code in [listing 2.6](#ch02ex06) will display two numbers between 1–10\.
    Passing 10 to `Intn` *returns* a number from 0–9, to which you add 1 and assign
    the result to `num`. The `num` variable can’t be a Go constant because it’s the
    result of a function call.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 2.6](#ch02ex06) 中的代码将显示 1 到 10 之间的两个数字。将 10 传递给 `Intn` 会返回一个 0 到 9 之间的数字，然后你将
    1 加到这个数字上，并将结果赋值给 `num`。`num` 变量不能是一个 Go 常量，因为它是一个函数调用的结果。'
- en: '|  |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-180
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: If you forget to add 1, you’ll get a number between 0–9\. Because we want a
    number between 1–10, that’s an example of an off-by-one error, a classic programming
    mistake.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你忘记加 1，你将得到一个介于 0–9 之间的数字。因为我们想要一个介于 1–10 之间的数字，这是一个离一错误（off-by-one error）的例子，这是一个经典的编程错误。
- en: '|  |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 'Listing 2.6\. Random numbers: rand.go'
  id: totrans-183
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.6\. 随机数：rand.go
- en: '[PRE14]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: The *import path* for the `rand` package is `math/rand`. The `Intn` function
    is prefixed with the package name `rand`, but the import path is longer.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '`rand` 包的 *导入路径* 是 `math/rand`。`Intn` 函数以包名 `rand` 为前缀，但导入路径更长。'
- en: '|  |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Tip
  id: totrans-187
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 提示
- en: To use a new package, it must be listed as an `import`. The Go Playground can
    add import paths for you. First ensure the Imports checkbox is checked and then
    click the Format button. The Go Playground will determine which packages are being
    used and update your import paths.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用一个新的包，它必须被列为一个 `import`。Go Playground 可以为你添加导入路径。首先确保勾选了 Imports 复选框，然后点击
    Format 按钮。Go Playground 将确定正在使用哪些包，并更新你的导入路径。
- en: '|  |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-191
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Every time you run [listing 2.6](#ch02ex06), the same two pseudorandom numbers
    are displayed. It’s rigged! In the Go Playground, time stands still and results
    are cached, but these numbers are good enough for our purposes.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 每次运行 [列表 2.6](#ch02ex06) 时，都会显示相同的两个伪随机数。这是被操纵的！在 Go Playground 中，时间静止并且结果被缓存，但这些数字对于我们的目的来说已经足够好了。
- en: '|  |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 2.6**'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.6**'
- en: '**[Q1:](#ch02qa12q0a1)**'
  id: totrans-196
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch02qa12q0a1)**'
- en: ''
  id: totrans-197
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The distance between Earth and Mars varies from nearby to opposite sides of
    the sun. Write a program that generates a random distance from 56,000,000 to 401,000,000
    km.
  id: totrans-198
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 地球和火星之间的距离从太阳的近端到远端变化。编写一个程序，生成一个介于 5,600,000 到 40,100,000 公里之间的随机距离。
- en: '|  |'
  id: totrans-199
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-200
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 2.6 answer**'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.6 答案**'
- en: '**[1:](#ch02qa11q1)**'
  id: totrans-202
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch02qa11q1)**'
- en: ''
  id: totrans-203
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-204
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '|  |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Summary
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: The `Print`, `Println`, and `Printf` functions display text and numbers on the
    screen.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Print`、`Println` 和 `Printf` 函数在屏幕上显示文本和数字。'
- en: With `Printf` and the `%v` *format verb*, values can be placed anywhere in the
    displayed text.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `Printf` 和 `%v` *格式动词*，值可以放在显示文本的任何位置。
- en: Constants are declared with the `const` keyword and can’t be changed.
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 常量使用 `const` 关键字声明，并且不能更改。
- en: Variables are declared with `var` and can be assigned new values while a program
    is running.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变量使用`var`声明，并且在程序运行期间可以分配新的值。
- en: The `math/rand` import path refers to the `rand` package.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`math/rand`导入路径指的是`rand`包。'
- en: The `Intn` function in the `rand` package generates pseudorandom numbers.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rand`包中的`Intn`函数生成伪随机数。'
- en: 'You used 5 of the 25 Go keywords: `package`, `import`, `func`, `const`, and
    `var`.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你使用了25个Go关键字中的5个：`package`、`import`、`func`、`const`和`var`。
- en: Let’s see if you got this...
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看你是否掌握了这个...
- en: 'Experiment: malacandra.go'
  id: totrans-215
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实验：malacandra.go
- en: '*Malacandra is much nearer than that: we shall make it in about twenty-eight
    days.*'
  id: totrans-216
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*马尔卡丹比那更近：我们将在大约二十八天内到达那里。*'
- en: ''
  id: totrans-217
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*C.S. Lewis, *Out of the Silent Planet**'
  id: totrans-218
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*C.S.路易斯，《寂静星球之外》*'
- en: '*Malacandra* is another name for Mars in *The Space Trilogy* by C. S. Lewis.
    Write a program to determine how fast a ship would need to travel (in km/h) in
    order to reach Malacandra in 28 days. Assume a distance of 56,000,000 km.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '*马尔卡丹*是C.S.路易斯《太空三部曲》中火星的另一个名字。编写一个程序来确定一艘船需要以多快的速度（以公里/小时计）才能在28天内到达马尔卡丹。假设距离为5600万公里。'
- en: Compare your solution to the code listing in the appendix.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 将你的解决方案与附录中的代码列表进行比较。
- en: Lesson 3\. Loops and branches
  id: totrans-221
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第3课。循环和分支
- en: After reading [lesson 3](#ch03), you’ll be able to
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第3课](#ch03)之后，你将能够
- en: Have your computer make choices with `if` and `switch`
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`if`和`switch`让计算机做出选择
- en: Repeat code with `for` loops
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`for`循环重复代码
- en: Use conditions for looping and branching
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用条件进行循环和分支
- en: Computer programs rarely read from beginning to end like a novel. Programs are
    more like Choose Your Own Adventure books or interactive fiction. They take different
    paths under certain conditions or repeat the same steps until a condition is met.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机程序很少像小说一样从头到尾阅读。程序更像《选择你的冒险》书籍或互动小说。它们在特定条件下采取不同的路径，或者重复相同的步骤，直到满足某个条件。
- en: If you’re familiar with the `if`, `else`, and `for` keywords found in many programming
    languages, this lesson will serve as a speedy introduction to Go’s syntax.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你熟悉许多编程语言中找到的`if`、`else`和`for`关键字，这门课程将作为Go语法的快速入门。
- en: '|  |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Consider this**'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑这一点**'
- en: When Nathan was young, his family would play *Twenty Questions* to pass the
    time on long trips. One person would think of something, and everyone else tried
    to guess what it was. Questions could only be answered with yes or no. A question
    like “How big is it?” would invite a blank stare. Instead, a common question was
    “Is it larger than a toaster?”
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 当内森还小的时候，他的家人会在长途旅行中玩“二十个问题”来消磨时间。一个人会想出一个东西，其他人试图猜是什么。问题只能用是或不是来回答。像“它有多大？”这样的问题会引来一个茫然的表情。相反，一个常见的问题是“它比烤面包机大吗？”
- en: Computer programs operate on yes/no questions. Given some condition (such as
    *larger than a toaster*), a CPU can either continue down a path or jump (`JMP`)
    to somewhere else in the program. Complex decisions need to be broken down into
    smaller, simpler conditions.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机程序通过是/否问题进行操作。给定某些条件（如*比烤面包机大*），CPU可以继续沿着一条路径向下走，或者跳转（`JMP`）到程序中的另一个地方。复杂的决策需要分解成更小、更简单的条件。
- en: Consider the clothes you’re wearing today. How did you pick each article of
    clothing? Which variables were involved, such as the weather forecast, planned
    activity, availability, fashion, randomness, and so on? How would you teach a
    computer to get dressed in the morning? Write down several questions with a yes
    or no answer.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑你今天穿的衣服。你是如何挑选每一件衣服的？涉及哪些变量，比如天气预报、计划的活动、可用性、时尚、随机性等等？你将如何教计算机在早上穿衣服？写下几个有是或否答案的问题。
- en: '|  |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 3.1\. True or false
  id: totrans-234
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1\. 是或不是
- en: 'When you read Choose Your Own Adventure books, you’ll come across choices like
    this:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 当你阅读《选择你的冒险》书籍时，你会遇到这样的选择：
- en: '*If you walk outside the cave, turn to page 21.*'
  id: totrans-236
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*如果你走出洞穴，翻到第21页。*'
- en: ''
  id: totrans-237
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*Edward Packard, *The Cave of Time**'
  id: totrans-238
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*爱德华·帕卡德，《时间洞穴》*'
- en: 'Do you walk outside the cave? In Go, your answer can be either `true` or `false`,
    two constants that are already declared. You can use them like this:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 你是否走出洞穴？在Go语言中，你的答案可以是`true`或`false`，这两个常量已经声明。你可以这样使用它们：
- en: '[PRE16]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '|  |'
  id: totrans-241
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-242
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Some programming languages have a loose definition of truth. In Python and JavaScript
    the absence of text (`""`) is considered false, as is the number zero. In Ruby
    and Elixir the same values are considered true. In Go, the only true value is
    `true` and the only false value is `false`.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 一些编程语言对真值有宽松的定义。在 Python 和 JavaScript 中，文本的缺失 (`""`) 被认为是 false，数字零也是如此。在 Ruby
    和 Elixir 中，相同的值被认为是 true。在 Go 中，唯一的真值是 `true`，唯一的假值是 `false`。
- en: '|  |'
  id: totrans-244
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: True and false are *Boolean* values, so named after 19th century mathematician
    George Boole. Several functions in the standard library return a Boolean value.
    For example, the following listing uses the `Contains` function from the `strings`
    package to ask if the `command` variable contains the text “outside”. It does
    contain that text, so the result is `true`.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: True 和 false 是 *Boolean* 值，因此以 19 世纪数学家乔治·布尔命名。标准库中的几个函数返回布尔值。例如，以下代码示例使用 `strings`
    包中的 `Contains` 函数来检查 `command` 变量是否包含文本“outside”。它确实包含该文本，因此结果是 `true`。
- en: 'Listing 3.1\. A function that returns a Boolean value: contains.go'
  id: totrans-246
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.1. 返回布尔值的函数：contains.go
- en: '[PRE17]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '***1* Print You leave the cave: true**'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印 You leave the cave: true**'
- en: '|  |'
  id: totrans-249
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 3.1**'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.1**'
- en: '**[1](#ch03qa2q0a1)**'
  id: totrans-251
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch03qa2q0a1)**'
- en: ''
  id: totrans-252
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Emerging from the cave, your eyes meet the blinding midday sun. How do you declare
    a Boolean variable named `wearShades`?
  id: totrans-253
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 从洞穴中出来，你的眼睛遇到了刺眼的正午阳光。你如何声明一个名为 `wearShades` 的布尔变量？
- en: '**[2](#ch03qa2q0a2)**'
  id: totrans-254
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch03qa2q0a2)**'
- en: ''
  id: totrans-255
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: There is a sign near the cave entrance. How can you determine if the `command`
    contains the word `"read"`?
  id: totrans-256
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 洞穴入口附近有一个标志。你如何确定 `command` 是否包含单词 `"read"`？
- en: '|  |'
  id: totrans-257
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 3.1 answer**'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.1 答案**'
- en: '**[1](#ch03qa1q1)**'
  id: totrans-260
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch03qa1q1)**'
- en: ''
  id: totrans-261
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`var wearShades = true`'
  id: totrans-262
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`var wearShades = true`'
- en: '**[2](#ch03qa1q2)**'
  id: totrans-263
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch03qa1q2)**'
- en: ''
  id: totrans-264
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`var read = strings.Contains(command, "read")`'
  id: totrans-265
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`var read = strings.Contains(command, "read")`'
- en: '|  |'
  id: totrans-266
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 3.2\. Comparisons
  id: totrans-267
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2. 比较运算
- en: Another way to arrive at a `true` or `false` value is by comparing two values.
    Go provides the comparison operators shown in [table 3.1](#ch03table01).
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种得到 `true` 或 `false` 值的方法是通过比较两个值。Go 提供了 [表 3.1](#ch03table01) 中显示的比较运算符。
- en: Table 3.1\. Comparison operators
  id: totrans-269
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 表 3.1. 比较运算符
- en: '| == | Equal | != | Not equal |'
  id: totrans-270
  prefs: []
  type: TYPE_TB
  zh: '| == | 等于 | != | 不等于 |'
- en: '| < | Less than | > | Greater than |'
  id: totrans-271
  prefs: []
  type: TYPE_TB
  zh: '| < | 小于 | > | 大于 |'
- en: '| <= | Less than or equal | >= | Greater than or equal |'
  id: totrans-272
  prefs: []
  type: TYPE_TB
  zh: '| <= | 小于或等于 | >= | 大于或等于 |'
- en: You can use the operators in [table 3.1](#ch03table01) to compare text or numbers,
    as shown in the following listing.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 [表 3.1](#ch03table01) 中的运算符来比较文本或数字，如下面的代码示例所示。
- en: 'Listing 3.2\. Comparing numbers: compare.go'
  id: totrans-274
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.2. 比较数字：compare.go
- en: '[PRE18]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The previous listing will produce this output:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的代码示例将产生以下输出：
- en: '[PRE19]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '|  |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-279
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: JavaScript and PHP have a special *threequals* operator for strict equality.
    In those languages `"1" == 1` is true (lax), but `"1" === 1` is false (strict).
    Go only has a single equality operator, which doesn’t allow direct comparison
    of text with numbers. [Lesson 10](kindle_split_020.html#ch10) demonstrates how
    to convert numbers to text and vice versa.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript 和 PHP 有一个特殊的 *threequals* 操作符用于严格相等。在这些语言中 `"1" == 1` 是 true（宽松），但
    `"1" === 1` 是 false（严格）。Go 只有一个相等操作符，它不允许直接比较文本和数字。[第 10 课](kindle_split_020.html#ch10)演示了如何将数字转换为文本以及相反。
- en: '|  |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 3.2**'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.2**'
- en: '**[Q1:](#ch03qa4q0a1)**'
  id: totrans-284
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch03qa4q0a1)**'
- en: ''
  id: totrans-285
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Which is greater, an “apple” or a “banana”?
  id: totrans-286
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 哪个更大，是“apple”还是“banana”？
- en: '|  |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 3.2 answer**'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.2 答案**'
- en: '**[1:](#ch03qa3q1)**'
  id: totrans-290
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch03qa3q1)**'
- en: ''
  id: totrans-291
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The banana is clearly greater.
  id: totrans-292
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 香蕉显然更大。
- en: ''
  id: totrans-293
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-294
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE20]'
- en: ''
  id: totrans-295
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '***1* Prints false**'
  id: totrans-296
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印 false**'
- en: '|  |'
  id: totrans-297
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 3.3\. Branching with if
  id: totrans-298
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3. 使用 if 分支
- en: A computer can use Boolean values or comparisons to choose between different
    paths with an `if` statement, as shown in the following listing.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机可以使用布尔值或比较来通过 `if` 语句选择不同的路径，如下面的代码示例所示。
- en: 'Listing 3.3\. Branching: if.go'
  id: totrans-300
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.3. 分支：if.go
- en: '[PRE21]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '***1* If command is equal to “go east”**'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 如果命令等于“go east”**'
- en: '***2* Otherwise, if command is equal to “go inside”**'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 否则，如果命令等于“go inside”**'
- en: '***3* Or, if anything else**'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 或者，如果其他任何情况**'
- en: 'The previous listing will produce the following output:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的代码示例将产生以下输出：
- en: '[PRE22]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Both `else if` and `else` are optional. When there are several paths to consider,
    you can repeat `else if` as many times as needed.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '`else if` 和 `else` 都是可选的。当有多个路径要考虑时，你可以根据需要重复使用 `else if`。'
- en: '|  |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-309
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Go reports an error if you accidentally use assignment (`=`) when equality (`==`)
    is intended.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你意外地使用了赋值运算符 (`=`) 而不是相等运算符 (`==`)，Go 会报告错误。
- en: '|  |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 3.3**'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.3**'
- en: '**[Q1:](#ch03qa6q0a1)**'
  id: totrans-314
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch03qa6q0a1)**'
- en: ''
  id: totrans-315
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Adventure games are divided up into rooms. Write a program that uses `if` and
    `else if` to display a description for each of three rooms: cave, entrance, and
    mountain. When writing your program, ensure the curly braces `{}` are placed according
    to the one true brace style as shown in [listing 3.3](#ch03ex03).'
  id: totrans-316
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 冒险游戏被划分为房间。编写一个程序，使用 `if` 和 `else if` 来显示三个房间（洞穴、入口和山脉）的描述。在编写程序时，确保花括号 `{}`
    的放置符合正确的花括号风格，如[列表 3.3](#ch03ex03) 所示。
- en: '|  |'
  id: totrans-317
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-318
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 3.3 answer**'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.3 答案**'
- en: '**[1:](#ch03qa5q1)**'
  id: totrans-320
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch03qa5q1)**'
- en: ''
  id: totrans-321
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-322
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '|  |'
  id: totrans-323
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 3.4\. Logical operators
  id: totrans-324
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4\. 逻辑运算符
- en: In Go the logical operator `||` means *or*, and the logical operator `&&` means
    *and*. Use logical operators to check multiple conditions at once. See [figures
    3.1](#ch03fig01) and [3.2](#ch03fig02) for how these operators are evaluated.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Go 语言中，逻辑运算符 `||` 表示 *或*，而逻辑运算符 `&&` 表示 *与*。使用逻辑运算符可以同时检查多个条件。参见[图 3.1](#ch03fig01)
    和 [3.2](#ch03fig02) 了解这些运算符的评估方式。
- en: Figure 3.1\. True if either `a || b` is true (or)
  id: totrans-326
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 3.1\. 当 `a || b` 中的任意一个为真时（或）
- en: '![](03fig01.jpg)'
  id: totrans-327
  prefs: []
  type: TYPE_IMG
  zh: '![](03fig01.jpg)'
- en: Figure 3.2\. True if both `a && b` are true (and)
  id: totrans-328
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 3.2\. 当 `a && b` 都为真时（与）
- en: '![](03fig02.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![](03fig02.jpg)'
- en: 'The code in [listing 3.4](#ch03ex04) determines whether 2100 will be a leap
    year. The rules for determining a leap year are as follows:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 3.4](#ch03ex04) 中的代码判断 2100 年是否是闰年。判断闰年的规则如下：'
- en: Any year that is evenly divisible by 4 but not evenly divisible by 100
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何能被 4 整除但不能被 100 整除的年份
- en: Or any year that is evenly divisible by 400
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者任何能被 400 整除的年份
- en: '|  |'
  id: totrans-333
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-334
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Recall that modulus (`%`) obtains the remainder of dividing two whole numbers.
    A remainder of zero indicates that a number is evenly divisible by another.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，取模运算符 (`%`) 获取两个整数相除的余数。余数为零表示一个数可以被另一个数整除。
- en: '|  |'
  id: totrans-336
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '![](f0028-01.jpg)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
  zh: '![](f0028-01.jpg)'
- en: 'Listing 3.4\. Leap year determination: leap.go'
  id: totrans-338
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.4\. 闰年判断：leap.go
- en: '[PRE24]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The previous listing will produce the following output:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列表将产生以下输出：
- en: '[PRE25]'
  id: totrans-341
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: As with most programming languages, Go uses *short-circuit logic*. If the first
    condition is true (the year is evenly divisible by 400), there’s no need to evaluate
    what follows the `||` operator, so it is ignored.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 与大多数编程语言一样，Go 使用 *短路逻辑*。如果第一个条件为真（年份能被 400 整除），则不需要评估 `||` 运算符后面的内容，因此它被忽略。
- en: The `&&` operator is just the opposite. The result is false unless both conditions
    are true. If the year isn’t evenly divisible by 4, there’s no need to evaluate
    the next condition.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '`&&` 运算符正好相反。结果为假，除非两个条件都为真。如果年份不能被 4 整除，则不需要评估下一个条件。'
- en: The *not* logical operator (`!`) flips a Boolean value from `false` to `true`
    or vice versa. The following listing displays a message if the player doesn’t
    have a torch or if the torch isn’t lit.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 逻辑运算符的非运算符 (`!`) 会将布尔值从 `false` 翻转到 `true` 或相反。以下列表显示如果玩家没有火炬或火炬未点亮时将显示的消息。
- en: 'Listing 3.5\. The not operator: torch.go'
  id: totrans-345
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.5\. 非运算符：torch.go
- en: '[PRE26]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '***1* Prints Nothing to see here.**'
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 打印无内容可看。**'
- en: '|  |'
  id: totrans-348
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 3.4**'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.4**'
- en: '**[1](#ch03qa8q0a1)**'
  id: totrans-350
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch03qa8q0a1)**'
- en: ''
  id: totrans-351
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Using pen and paper, substitute `2000` into the leap year expression from [listing
    3.4](#ch03ex04). Evaluate all the modulus operators to find the remainders (use
    a calculator if need be). Then evaluate the `==` and `!=` conditions to `true`
    or `false`. Finally, evaluate the logical operators `&&` and then `||`. Was 2000
    a leap year?
  id: totrans-352
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用笔和纸，将 `2000` 代入 [列表 3.4](#ch03ex04) 中的闰年表达式。计算所有模运算符的余数（如有必要，请使用计算器）。然后评估
    `==` 和 `!=` 条件为 `true` 或 `false`。最后，评估逻辑运算符 `&&` 和 `||`。2000 年是闰年吗？
- en: '**[2](#ch03qa8q0a2)**'
  id: totrans-353
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch03qa8q0a2)**'
- en: ''
  id: totrans-354
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Would you have saved time if you had used short-circuit logic to evaluate `2000%400
    == 0` to `true` first?
  id: totrans-355
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你首先使用短路逻辑评估 `2000%400 == 0` 为 `true`，你会节省时间吗？
- en: '|  |'
  id: totrans-356
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-357
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 3.4 answer**'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.4 答案**'
- en: '**[1](#ch03qa7q1)**'
  id: totrans-359
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch03qa7q1)**'
- en: ''
  id: totrans-360
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Yes, the year 2000 was a leap year:'
  id: totrans-361
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 是的，2000 年是闰年：
- en: ''
  id: totrans-362
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-363
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '**[2](#ch03qa7q2)**'
  id: totrans-364
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch03qa7q2)**'
- en: ''
  id: totrans-365
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Yes, evaluating and writing down the later half of the equation did take time.
    Computers are much faster, but short-circuit logic still saves time.
  id: totrans-366
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 是的，评估并写下方程的后半部分确实花费了一些时间。计算机要快得多，但短路逻辑仍然可以节省时间。
- en: '|  |'
  id: totrans-367
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 3.5\. Branching with switch
  id: totrans-368
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5\. 使用 `switch` 进行分支
- en: When comparing one value to several others, Go provides the `switch` statement,
    which you can see in the following listing.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 当比较一个值与多个值时，Go 提供了 `switch` 语句，您可以在下面的列表中看到。
- en: 'Listing 3.6\. The `switch` statement: concise-switch.go'
  id: totrans-370
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.6\. `switch` 语句：concise-switch.go
- en: '[PRE28]'
  id: totrans-371
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '***1* Compares cases to command**'
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 比较案例到命令**'
- en: '***2* A comma- separated list of possible values**'
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 以逗号分隔的可能值列表**'
- en: 'The previous listing will produce the following output:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的列表将生成以下输出：
- en: '[PRE29]'
  id: totrans-375
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '|  |'
  id: totrans-376
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-377
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: You can also use the `switch` statement with numbers.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用带有数字的`switch`语句。
- en: '|  |'
  id: totrans-379
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Or you can use the `switch` statement with conditions for each case, much like
    using `if...else`. One unique feature of `switch` is the `fallthrough` keyword,
    which is used to execute the body of the next `case`, as shown in the next listing.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以使用每个case的条件`switch`语句，就像使用`if...else`一样。`switch`的一个独特功能是`fallthrough`关键字，它用于执行下一个`case`的体，如下一个列表所示。
- en: 'Listing 3.7\. The switch statement: switch.go'
  id: totrans-381
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.7\. 开关语句：switch.go
- en: '[PRE30]'
  id: totrans-382
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '***1* Expressions are in each case.**'
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 每个case中都有表达式。**'
- en: '***2* Falls through to the next case**'
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 跳转到下一个case**'
- en: 'The previous listing will produce the following output:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的列表将生成以下输出：
- en: '[PRE31]'
  id: totrans-386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '|  |'
  id: totrans-387
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-388
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Falling through happens by default in C, Java, and JavaScript, whereas Go takes
    a safer approach, requiring an explicit `fallthrough` keyword.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 在C、Java和JavaScript中，默认情况下会发生跳过，而Go采取更安全的方法，需要显式使用`fallthrough`关键字。
- en: '|  |'
  id: totrans-390
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-391
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 3.5**'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.5**'
- en: '**[Q1:](#ch03qa10q0a1)**'
  id: totrans-393
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch03qa10q0a1)**'
- en: ''
  id: totrans-394
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Modify [listing 3.7](#ch03ex07) to use the more concise form of `switch`, as
    every comparison is with `room`.
  id: totrans-395
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 将[列表 3.7](#ch03ex07)修改为使用更简洁的`switch`形式，因为每个比较都是与`room`进行的。
- en: '|  |'
  id: totrans-396
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-397
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 3.5 answer**'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.5 答案**'
- en: '**[1:](#ch03qa9q1)**'
  id: totrans-399
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch03qa9q1)**'
- en: ''
  id: totrans-400
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-401
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '|  |'
  id: totrans-402
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 3.6\. Repetition with loops
  id: totrans-403
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.6\. 循环中的重复
- en: Rather than type the same code multiple times, the `for` keyword repeats code
    for you. [Listing 3.8](#ch03ex08) loops around until `count` equals 0.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 与多次输入相同的代码相比，`for`关键字为你重复代码。[列表 3.8](#ch03ex08)循环直到`count`等于0。
- en: Before each iteration, the expression `count > 0` is evaluated to produce a
    Boolean value. If the value is `false` (`count` = 0), the loop terminates—otherwise,
    it runs the body of the loop (the code between `{` and `}`).
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 在每次迭代之前，表达式`count > 0`被评估以产生一个布尔值。如果值为`false`（`count` = 0），则循环终止——否则，它将运行循环体（`{`和`}`之间的代码）。
- en: '![](f0032-01.jpg)'
  id: totrans-406
  prefs: []
  type: TYPE_IMG
  zh: '![](f0032-01.jpg)'
- en: 'Listing 3.8\. A countdown loop: countdown.go'
  id: totrans-407
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.8\. 倒计时循环：countdown.go
- en: '[PRE33]'
  id: totrans-408
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '***1* Declares and initializes**'
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 声明并初始化**'
- en: '***2* A condition**'
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 条件**'
- en: '***3* Decrements count; otherwise it will loop forever**'
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 减少count；否则它将无限循环**'
- en: An *infinite* loop doesn’t specify a `for` condition, but you can still `break`
    out of a loop at any time. The following listing orbits a 360° circle and stops
    randomly.
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 一个*无限*循环没有指定`for`条件，但你仍然可以在任何时候`break`跳出循环。以下列表围绕360°圆圈旋转并随机停止。
- en: 'Listing 3.9\. To infinity and beyond: infinity.go'
  id: totrans-413
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 3.9\. 到无限远：infinity.go
- en: '[PRE34]'
  id: totrans-414
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '|  |'
  id: totrans-415
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-416
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: The `for` loop has other forms that will be introduced in [lessons 4](kindle_split_013.html#ch04)
    and [9](kindle_split_019.html#ch09).
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: '`for`循环还有其他形式，将在第4课（[lessons 4](kindle_split_013.html#ch04)）和第9课（[9](kindle_split_019.html#ch09)）中介绍。'
- en: '|  |'
  id: totrans-418
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-419
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 3.6**'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 3.6**'
- en: '**[Q1:](#ch03qa12q0a1)**'
  id: totrans-421
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch03qa12q0a1)**'
- en: ''
  id: totrans-422
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Not every launch goes smoothly. Implement a countdown where every second there’s
    a 1 in 100 chance that the launch fails and the countdown stops.
  id: totrans-423
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 并非每次发射都能顺利进行。实现一个倒计时，每秒钟有1%的概率发射失败，倒计时停止。
- en: '|  |'
  id: totrans-424
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-425
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 3.6 answer**'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 3.6 答案**'
- en: '**[1:](#ch03qa11q1)**'
  id: totrans-427
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch03qa11q1)**'
- en: ''
  id: totrans-428
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-429
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '|  |'
  id: totrans-430
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Summary
  id: totrans-431
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: Booleans are the only values that can be used in conditions.
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 布尔值是唯一可以用于条件的值。
- en: Go provides branching and repetition with `if`, `switch`, and `for`.
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Go语言通过`if`、`switch`和`for`提供分支和循环。
- en: 'You used 12 of the 25 Go keywords: `package`, `import`, `func`, `var`, `if`,
    `else`, `switch`, `case`, `default`, `fallthrough`, `for`, and `break`.'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你使用了25个Go关键字中的12个：`package`、`import`、`func`、`var`、`if`、`else`、`switch`、`case`、`default`、`fallthrough`、`for`和`break`。
- en: Let’s see if you got this...
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看你是否掌握了这个...
- en: 'Experiment: guess.go'
  id: totrans-436
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实验：guess.go
- en: Write a guess-the-number program. Make the computer pick random numbers between
    1–100 until it guesses your number, which you declare at the top of the program.
    Display each guess and whether it was too big or too small.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 编写一个猜数字程序。让计算机随机选择1到100之间的数字，直到它猜出你声明的程序顶部的数字。显示每个猜测以及它是否过大或过小。
- en: Lesson 4\. Variable scope
  id: totrans-438
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第4课\. 变量作用域
- en: After reading [lesson 4](#ch04), you’ll be able to
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第4课](#ch04)之后，你将能够
- en: Know the benefits of variable scope
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解变量作用域的好处
- en: Use a shorter way to declare variables
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用更简洁的方式来声明变量
- en: See how variable scoping interacts with `for`, `if`, and `switch`
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看看变量作用域如何与`for`、`if`和`switch`交互
- en: Know when to use a wide or narrow scope
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解何时使用宽作用域或窄作用域
- en: In the course of running a program, many variables are used briefly and then
    discarded. This is facilitated by the *scoping rules* of the language.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 在程序运行的过程中，许多变量被短暂使用然后丢弃。这是通过语言的*作用域规则*来实现的。
- en: '|  |'
  id: totrans-445
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Consider this**'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑这一点**'
- en: How many things can you keep in your head at once?
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 你一次能记住多少件事情？
- en: It has been suggested that our short-term memory is limited to about seven items,
    with a seven-digit phone number being an excellent example.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 有建议称我们的短期记忆限制在大约七个项目左右，七个数字的电话号码是一个很好的例子。
- en: Computers can store many values in their short-term or Random Access Memory
    (RAM), but remember that code is read not only by computers, but also by humans.
    As such, code should be kept as simple as possible.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机可以在它们的短期或随机存取存储器（RAM）中存储许多值，但记住代码不仅被计算机阅读，也被人类阅读。因此，代码应尽可能简单。
- en: If any variable in a program could change at any time, and be accessed from
    anywhere, keeping track of everything in a large program could become quite hectic.
    Variable scope helps by allowing you to focus on the relevant variables in a given
    function or portion of code without concerning yourself with the rest.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 如果程序中的任何变量都可能随时更改，并且可以从任何地方访问，那么在大型程序中跟踪所有内容可能会变得相当混乱。变量作用域通过允许你专注于给定函数或代码部分中的相关变量，而无需关心其他变量，从而提供帮助。
- en: '|  |'
  id: totrans-451
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 4.1\. Looking into scope
  id: totrans-452
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.1\. 探索作用域
- en: When a variable is declared, it comes into *scope*, or to put it another way,
    the variable becomes visible. Your program can access the variable so long as
    it’s in scope, but once a variable is no longer in scope, attempts to access it
    will report an error.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个变量被声明时，它进入*作用域*，或者说，变量变得可见。只要变量在作用域内，程序就可以访问它，但一旦变量不再在作用域内，尝试访问它将会报告错误。
- en: One benefit of variable scope is that you can reuse the same name for different
    variables. Can you imagine if every variable in your program had to have a unique
    name? If so, try to imagine a slightly bigger program.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 变量作用域的一个好处是你可以为不同的变量重用相同的名称。你能想象如果你的程序中的每个变量都必须有一个唯一的名称吗？如果是这样，试着想象一个稍微大一点的程序。
- en: Scoping also helps while reading through code because you don’t need to keep
    all the variables in your head. Once a variable goes out of scope, you can stop
    thinking about that variable.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 作用域还有助于阅读代码，因为你不需要将所有变量都记在脑海中。一旦变量超出作用域，你就可以停止考虑那个变量。
- en: '![](f0035-01.jpg)'
  id: totrans-456
  prefs: []
  type: TYPE_IMG
  zh: '![](f0035-01.jpg)'
- en: In Go, scopes tend to begin and end along the lines of curly braces `{}`. In
    the following listing, the `main` function begins a scope, and the `for` loop
    begins a nested scope.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 在Go中，作用域通常从大括号`{}`开始和结束。在下面的列表中，`main`函数开始一个作用域，`for`循环开始一个嵌套作用域。
- en: 'Listing 4.1\. Scoping rules: scope.go'
  id: totrans-458
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.1\. 作用域规则：scope.go
- en: '[PRE36]'
  id: totrans-459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '***1* A new scope begins.**'
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 开始一个新的作用域。**'
- en: '***2* This scope ends.**'
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 这个作用域结束了。**'
- en: The `count` variable is declared within the *function scope* and is visible
    until the end of the `main` function, whereas the `num` variable is declared within
    the scope of the `for` loop. After the loop ends, the `num` variable goes out
    of scope.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: '`count`变量在*函数作用域*内声明，直到`main`函数结束才可见，而`num`变量在`for`循环的作用域内声明。循环结束后，`num`变量将超出作用域。'
- en: The Go compiler will report an error for any attempt to access `num` after the
    loop. You can access the `count` variable after the `for` loop ends because it’s
    declared outside of the loop, though there really is no reason to. In order to
    confine `count` to the scope of a loop, you’ll need a different way to declare
    variables in Go.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: Go 编译器会在循环之后尝试访问`num`时报告错误。循环结束后，你可以访问`count`变量，因为它是在循环外部声明的，尽管实际上没有理由这样做。为了将`count`限制在循环的作用域内，你需要用Go中声明变量的不同方式。
- en: '|  |'
  id: totrans-464
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 4.1**'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 4.1**'
- en: '**[1](#ch04qa2q0a1)**'
  id: totrans-466
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch04qa2q0a1)**'
- en: ''
  id: totrans-467
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How does variable scope benefit you?
  id: totrans-468
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 变量作用域如何为你带来好处？
- en: '**[2](#ch04qa2q0a2)**'
  id: totrans-469
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch04qa2q0a2)**'
- en: ''
  id: totrans-470
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What happens to a variable when it goes out of scope? Modify [listing 4.1](#ch04ex01)
    to access `num` after the loop and see what happens.
  id: totrans-471
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 变量超出作用域后会发生什么？修改[列表 4.1](#ch04ex01)以在循环之后访问`num`并查看会发生什么。
- en: '|  |'
  id: totrans-472
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-473
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 4.1 answer**'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 4.1 答案**'
- en: '**[1](#ch04qa1q1)**'
  id: totrans-475
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch04qa1q1)**'
- en: ''
  id: totrans-476
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The same variable name can be used in multiple places without any conflicts.
    You only need to think about the variables that are currently in scope.
  id: totrans-477
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 同一个变量名可以在多个地方使用而不会发生冲突。你只需要考虑当前在作用域内的变量。
- en: '**[2](#ch04qa1q2)**'
  id: totrans-478
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch04qa1q2)**'
- en: ''
  id: totrans-479
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The variable is no longer visible or accessible. The Go compiler reports an
    `undefined: num` error.'
  id: totrans-480
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '变量不再可见或可访问。Go 编译器报告 `undefined: num` 错误。'
- en: '|  |'
  id: totrans-481
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 4.2\. Short declaration
  id: totrans-482
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2\. 简短声明
- en: 'Short declaration provides an alternative syntax for the `var` keyword. The
    following two lines are equivalent:'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 简短声明为 `var` 关键字提供了一种替代语法。以下两行是等效的：
- en: '[PRE37]'
  id: totrans-484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: It may not seem like much, but saving three characters makes short declaration
    far more popular than `var`. More importantly, short declaration can go places
    where `var` can’t.
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然节省了三个字符，但简短声明比 `var` 更受欢迎。更重要的是，简短声明可以到达 `var` 无法到达的地方。
- en: 'The following listing demonstrates a variant of the `for` loop that combines
    initialization, a condition, and a post statement that decrements `count`. When
    using this form of `for` loops, the provided order is significant: initialize,
    condition, post.'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的列表演示了 `for` 循环的一种变体，它结合了初始化、条件和递减 `count` 的后语句。当使用这种形式的 `for` 循环时，提供的顺序很重要：初始化、条件、后。
- en: 'Listing 4.2\. A condensed countdown: loop.go'
  id: totrans-487
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.2\. 紧凑的倒计时：loop.go
- en: '[PRE38]'
  id: totrans-488
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '***1* count remains in scope.**'
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* count 仍然在作用域内。**'
- en: Without short declaration, the `count` variable must be declared outside of
    the loop, which means it remains in scope after the loop ends.
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有简短声明，`count` 变量必须在循环外部声明，这意味着它在循环结束后仍然保持作用域。
- en: 'By using short declaration, the `count` variable in the next listing is declared
    and initialized as part of the `for` loop and falls out of scope once the loop
    ends. If `count` were accessed outside of the loop, the Go compiler would report
    an `undefined: count` error.'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: '通过使用简短声明，下一个列表中的 `count` 变量作为 `for` 循环的一部分声明和初始化，一旦循环结束就超出作用域。如果尝试在循环外部访问 `count`，Go
    编译器将报告 `undefined: count` 错误。'
- en: 'Listing 4.3\. Short declaration in a `for` loop: short-loop.go'
  id: totrans-492
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.3\. 在 `for` 循环中的简短声明：short-loop.go
- en: '[PRE39]'
  id: totrans-493
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '***1* count is no longer in scope.**'
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 计数器已不再在作用域内。**'
- en: '|  |'
  id: totrans-495
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-496
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: For the best readability, declare variables near where they are used.
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 为了最佳的可读性，请将变量声明在它们被使用的地方附近。
- en: '|  |'
  id: totrans-498
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Short declaration makes it possible to declare a new variable in an `if` statement.
    In the following listing the `num` variable can be used in any branch of the `if`
    statement.
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 简短声明使得在 `if` 语句中声明新变量成为可能。在下面的列表中，`num` 变量可以在 `if` 语句的任何分支中使用。
- en: 'Listing 4.4\. Short declaration in a `if` statement: short-if.go'
  id: totrans-500
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.4\. 在 `if` 语句中的简短声明：short-if.go
- en: '[PRE40]'
  id: totrans-501
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '***1* num is no longer in scope.**'
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* num 已不再在作用域内。**'
- en: Short declaration can also be used as part of a `switch` statement, as the following
    listing shows.
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 简短声明也可以作为 `switch` 语句的一部分使用，如下面的列表所示。
- en: 'Listing 4.5\. Short declaration in a `switch` statement: short-switch.go'
  id: totrans-504
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.5\. 在 `switch` 语句中的简短声明：short-switch.go
- en: '[PRE41]'
  id: totrans-505
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '|  |'
  id: totrans-506
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 4.2**'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 4.2**'
- en: '**[Q1:](#ch04qa4q0a1)**'
  id: totrans-508
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch04qa4q0a1)**'
- en: ''
  id: totrans-509
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How would the scope of `num` be affected if short declaration weren’t used in
    [listings 4.4](#ch04ex04) or [4.5](#ch04ex05)?
  id: totrans-510
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果在 [列表 4.4](#ch04ex04) 或 [4.5](#ch04ex05) 中没有使用简短声明，`num` 的作用域将如何受到影响？
- en: '|  |'
  id: totrans-511
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-512
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 4.2 answer**'
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 4.2 答案**'
- en: '**[1:](#ch04qa3q1)**'
  id: totrans-514
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch04qa3q1)**'
- en: ''
  id: totrans-515
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: It’s not possible to declare a variable with `var` immediately after the `if`,
    `switch`, or `for` keywords. Without short declaration, `num` would need to be
    declared before the `if/switch` statement, so `num` would remain in scope beyond
    the end of `if/switch`.
  id: totrans-516
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 `if`、`switch` 或 `for` 关键字之后立即使用 `var` 声明变量是不可能的。如果没有简短声明，`num` 必须在 `if/switch`
    语句之前声明，因此 `num` 将在 `if/switch` 语句结束后保持作用域。
- en: '|  |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 4.3\. Narrow scope, wide scope
  id: totrans-518
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.3\. 窄作用域，宽作用域
- en: The code in the next listing generates and displays a random date—perhaps a
    departure date to Mars. It also demonstrates several different scopes in Go and
    shows why considering scope when declaring variables is important.
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个列表中的代码生成并显示一个随机日期——可能是一个前往火星的出发日期。它还展示了 Go 中的几个不同作用域，并说明了为什么在声明变量时考虑作用域很重要。
- en: 'Listing 4.6\. Variable scoping rules: scope-rules.go'
  id: totrans-520
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.6\. 变量作用域规则：scope-rules.go
- en: '[PRE42]'
  id: totrans-521
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '***1* era is available throughout the package.**'
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 时代在整个包中可用。**'
- en: '***2* era and year are in scope.**'
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 时代和年份在作用域内。**'
- en: '***3* era, year, and month are in scope.**'
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 时代、年份和月份在作用域内。**'
- en: '***4* era, year, month, and day are in scope.**'
  id: totrans-525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 时代、年份、月份和日期在作用域内。**'
- en: '***5* It’s a new day.**'
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***5* 新的一天开始了。**'
- en: '***6* month and day are out of scope.**'
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***6* 月份和日期已不在作用域内。**'
- en: '***7* year is no longer in scope.**'
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***7* 年份已不再在作用域内。**'
- en: The `era` variable is declared outside of the `main` function in the *package
    scope*. If there were multiple functions in the `main` package, `era` would be
    visible from all of them.
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: '`era`变量在`main`函数外部，在*包作用域*中声明。如果`main`包中有多个函数，`era`将可以从所有这些函数中访问。'
- en: '|  |'
  id: totrans-530
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-531
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Short declaration is not available for variables declared in the package scope,
    so `era` can’t be declared with `era := "AD"` at its current location.
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: 在包作用域中声明的变量不支持简短声明，因此`era`不能在其当前位置使用`era := "AD"`进行声明。
- en: '|  |'
  id: totrans-533
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: The `year` variable is only visible within the `main` function. If there were
    other functions, they could see `era` but not `year`. The *function scope* is
    narrower than the package scope. It begins at the `func` keyword and ends with
    the terminating brace.
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: '`year`变量仅在`main`函数内部可见。如果有其他函数，它们可以看到`era`但不能看到`year`。*函数作用域*比包作用域窄。它从`func`关键字开始，到结束括号结束。'
- en: The `month` variable is visible anywhere within the `switch` statement, but
    once the `switch` statement ends, `month` is no longer in scope. The scope begins
    at the `switch` keyword and ends with the terminating brace for `switch`.
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: '`month`变量在`switch`语句的任何地方都是可见的，但一旦`switch`语句结束，`month`就不再具有作用域。作用域从`switch`关键字开始，到`switch`的结束括号结束。'
- en: Each `case` has its own scope, so there are three independent `day` variables.
    As each case ends, the `day` variable declared within that `case` goes out of
    a scope. This is the only situation where there are no braces to indicate scope.
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: 每个`case`都有自己的作用域，因此有三个独立的`day`变量。随着每个`case`的结束，在该`case`中声明的`day`变量将超出作用域。这是唯一没有大括号来指示作用域的情况。
- en: The code in [listing 4.6](#ch04ex06) is far from perfect. The narrow scope of
    `month` and `day` results in code duplication (`Println`, `Println`, `Println`).
    When code is duplicated, someone may revise the code in one place, but not the
    other (such as deciding not to print the era, but forgetting to change one case).
    Sometimes code duplication is justified, but it’s considered a *code smell*, and
    should be looked at.
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 4.6](#ch04ex06) 中的代码远非完美。`month`和`day`的作用域太窄，导致代码重复（`Println`、`Println`、`Println`）。当代码重复时，有人可能会在一个地方修改代码，但忘记在另一个地方修改（例如，决定不打印时代，但忘记更改一个情况）。有时代码重复是合理的，但被认为是一种*代码异味*，应该被检查。'
- en: To remove the duplication and simplify the code, the variables in [listing 4.6](#ch04ex06)
    should be declared in the wider function scope, making them available after the
    `switch` statement for later work. It’s time to refactor! *Refactoring* means
    modifying the code without modifying the code’s behavior. The code in the following
    listing still displays a random date.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: 为了消除重复并简化代码，[列表 4.6](#ch04ex06) 中的变量应在更宽泛的函数作用域中声明，这样它们在`switch`语句之后就可以用于后续操作。是时候重构了！*重构*意味着在不改变代码行为的情况下修改代码。以下列表中的代码仍然显示随机日期。
- en: 'Listing 4.7\. Random date refactored: random-date.go'
  id: totrans-539
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 4.7\. 随机日期重构：random-date.go
- en: '[PRE43]'
  id: totrans-540
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Though a narrower scope often reduces the mental overhead, [listing 4.6](#ch04ex06)
    demonstrates that constraining variables too tightly can result in *less* readable
    code. Take it on a case-by-case basis, refactoring until you can’t improve the
    readability any further.
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管较窄的作用域通常可以减少心理负担，但[列表 4.6](#ch04ex06) 证明了过于严格地约束变量可能会导致*更少*可读的代码。根据具体情况，重构直到无法进一步提高可读性为止。
- en: '|  |'
  id: totrans-542
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 4.3**'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 4.3**'
- en: '**[Q1:](#ch04qa6q0a1)**'
  id: totrans-544
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch04qa6q0a1)**'
- en: ''
  id: totrans-545
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What’s one way to recognize that variables are scoped too tightly?
  id: totrans-546
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如何识别变量作用域过窄的一种方法？
- en: '|  |'
  id: totrans-547
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-548
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 4.3 answer**'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 4.3 答案**'
- en: '**[1:](#ch04qa5q1)**'
  id: totrans-550
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch04qa5q1)**'
- en: ''
  id: totrans-551
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If code is being duplicated due to where variables are declared.
  id: totrans-552
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果代码重复是由于变量声明的位置引起的。
- en: '|  |'
  id: totrans-553
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Summary
  id: totrans-554
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: An opening curly brace `{` introduces a new scope that ends with a closing brace
    `}`.
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开放的大括号`{`引入了一个以关闭大括号`}`结束的新作用域。
- en: The `case` and `default` keywords also introduce a new scope even though no
    curly braces are involved.
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即使没有大括号，`case`和`default`关键字也会引入一个新的作用域。
- en: The location where a variable is declared determines which scope it’s in.
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变量声明的位置决定了它所在的作用域。
- en: Not only is shortcut declaration shorter, you can take it places where `var`
    can’t go.
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不仅简短声明更短，你还可以将其用于`var`无法使用的地方。
- en: Variables declared on the same line as a `for`, `if`, or `switch` are in scope
    until the end of that statement.
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与`for`、`if`或`switch`在同一行声明的变量在其语句结束时具有作用域。
- en: A wide scope is better than a narrow scope in some situations—and vice versa.
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，宽作用域比窄作用域更好——反之亦然。
- en: Let’s see if you got this...
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看你是否掌握了这个...
- en: 'Experiment: random-dates.go'
  id: totrans-562
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实验：random-dates.go
- en: 'Modify [listing 4.7](#ch04ex07) to handle leap years:'
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 修改 [listing 4.7](#ch04ex07) 以处理闰年：
- en: Generate a random year instead of always using `2018`.
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成一个随机的年份而不是总是使用 `2018`。
- en: 'For February, assign `daysInMonth` to 29 for leap years and 28 for other years.
    Hint: you can put an `if` statement inside of a `case` block.'
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于二月，对于闰年将 `daysInMonth` 设置为 29，对于其他年份设置为 28。提示：你可以在 `case` 块中放置一个 `if` 语句。
- en: Use a `for` loop to generate and display 10 random dates.
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `for` 循环生成并显示 10 个随机日期。
- en: 'Lesson 5\. Capstone: Ticket to Mars'
  id: totrans-567
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 5 课. 顶石：火星票
- en: Welcome to the first challenge. It’s time to take everything covered in [unit
    1](kindle_split_010.html#part02) and write a program on your own. Your challenge
    is to write a ticket generator in the Go Playground that makes use of variables,
    constants, `switch`, `if`, and `for`. It should also draw on the `fmt` and `math/rand`
    packages to display and align text and to generate random numbers.
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到第一个挑战。现在是时候将 [unit 1](kindle_split_010.html#part02) 中涵盖的所有内容应用到自己的程序中。你的挑战是编写一个票生成器，在
    Go Playground 中使用变量、常量、`switch`、`if` 和 `for`。它还应利用 `fmt` 和 `math/rand` 包来显示和排列文本以及生成随机数。
- en: When planning a trip to Mars, it would be handy to have ticket pricing from
    multiple spacelines in one place. Websites exist that aggregate ticket prices
    for airlines, but so far nothing exists for spacelines. That’s not a problem for
    you, though. You can use Go to teach your computer to solve problems like this.
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: 在计划前往火星的旅行时，能够在一个地方看到多个太空旅行公司的票价会很有用。存在一些网站会汇总航空公司的票价，但到目前为止还没有针对太空旅行公司的。不过，这对您来说不是问题。您可以使用
    Go 来教会计算机解决这类问题。
- en: '![](f0041-01.jpg)'
  id: totrans-570
  prefs: []
  type: TYPE_IMG
  zh: '![图片](f0041-01.jpg)'
- en: 'Start by building a prototype that generates 10 random tickets and displays
    them in a tabular format with a nice header, as follows:'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: 首先构建一个原型，生成 10 个随机票并使用漂亮的标题以表格格式显示，如下所示：
- en: '[PRE44]'
  id: totrans-572
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The table should have four columns:'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 表格应该有四列：
- en: The spaceline company providing the service
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供服务的太空旅行公司
- en: The duration in days for the trip to Mars (one-way)
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 前往火星的旅行天数（单程）
- en: Whether the price covers a return trip
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 价格是否覆盖往返票
- en: The price in millions of dollars ![](sad.jpg)
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 价格（单位：百万美元）![图片](sad.jpg)
- en: 'For each ticket, randomly select one of the following spacelines: Space Adventures,
    SpaceX, or Virgin Galactic.'
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每张票，随机选择以下太空旅行公司之一：Space Adventures、SpaceX 或 Virgin Galactic。
- en: Use October 13, 2020 as the departure date for all tickets. Mars will be 62,100,000
    km away from Earth at the time.
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 2020 年 10 月 13 日作为所有票的出发日期。那时火星距离地球 6210 万公里。
- en: Randomly choose the speed the ship will travel, from 16 to 30 km/s. This will
    determine the duration for the trip to Mars and also the ticket price. Make faster
    ships more expensive, ranging in price from $36 million to $50 million. Double
    the price for round trips.
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: 随机选择船只的速度，从 16 到 30 km/s。这将决定前往火星的旅行时间和票价。让速度更快的船只更贵，价格从 3600 万美元到 5000 万美元不等。往返票加倍价格。
- en: When you’re done, post your solution to the *Get Programming with Go* forums
    at [forums.manning.com/forums/get-programming-with-go](http://forums.manning.com/forums/get-programming-with-go).
    If you get stuck, feel free to ask questions on the forums, or take a peek at
    the appendix for our solution.
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，将你的解决方案发布到 *Get Programming with Go* 论坛 [forums.manning.com/forums/get-programming-with-go](http://forums.manning.com/forums/get-programming-with-go)。如果你遇到困难，可以在论坛上自由提问，或者查看附录中的解决方案。
