- en: Appendix C. Getting Podman
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 C. 获取 Podman
- en: Podman is a great tool for working with containers, but how do you get it installed
    on your system? What packages are required to make it work? This appendix covers
    installing or building Podman on your system.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 是一个用于处理容器的优秀工具，但如何在您的系统上安装它呢？需要哪些软件包才能使其正常工作？本附录涵盖了在您的系统上安装或构建 Podman
    的方法。
- en: C.1 Installing Podman
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: C.1 安装 Podman
- en: Podman is available for almost all Linux distributions via their package managers.
    It is also available on Mac, Windows, and FreeBSD platforms. The official podman.io
    site, [https://podman.io/getting-started/installation](https://podman.io/getting-started/installation),
    is regularly updated with new instructions on how to install Podman for different
    distributions. Most of the content in this appendix originates from the podman.io
    site, as seen in figure C.1.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 几乎可以通过所有 Linux 发行版的软件包管理器获得。它也适用于 Mac、Windows 和 FreeBSD 平台。官方 podman.io
    网站提供了如何为不同发行版安装 Podman 的新指令，[https://podman.io/getting-started/installation](https://podman.io/getting-started/installation)
    网站会定期更新。本附录中的大部分内容源自 podman.io 网站，如图 C.1 所示。
- en: '![](../../OEBPS/Images/C-01.png)'
  id: totrans-4
  prefs: []
  type: TYPE_IMG
  zh: '![](../../OEBPS/Images/C-01.png)'
- en: Figure C.1 Podman installation instructions website
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 图 C.1 Podman 安装说明网站
- en: C.1.1 macOS
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.1 macOS
- en: Because Podman is a tool for running Linux containers, you can use it on a macOS
    desktop only if you have access to a Linux box, running either locally or remotely.
    To make this process somewhat easier, Podman includes a command, `podman` `machine`,
    to automatically manage VMs.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Podman 是一个运行 Linux 容器的工具，因此您只能在访问到本地或远程运行的 Linux 机器的情况下在 macOS 桌面上使用它。为了使这个过程变得更容易一些，Podman
    包含一个 `podman` `machine` 命令，可以自动管理虚拟机。
- en: Homebrew
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Homebrew
- en: 'The Mac client is available through Homebrew ([https://brew.sh/](https://brew.sh/)):'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Mac 客户端可通过 Homebrew 获取 ([https://brew.sh/](https://brew.sh/))：
- en: '[PRE0]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Podman has the ability to install a VM and run a Linux instance on your machine
    using the `podman` `machine` command. On a Mac, you must execute the following
    commands to install and start the Linux VM to successfully run containers locally:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 有能力使用 `podman` `machine` 命令在您的机器上安装虚拟机并运行 Linux 实例。在 Mac 上，您必须执行以下命令来安装和启动
    Linux 虚拟机，才能成功在本地运行容器：
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Optionally, you can use the `podman` `system` `connection` command to set up
    SSH connections to remote Linux machines running the Podman service.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，您可以使用 `podman` `system` `connection` 命令来设置 SSH 连接到运行 Podman 服务的远程 Linux
    机器。
- en: You can then verify the installation information using
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下命令验证安装信息：
- en: '[PRE2]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The Podman command is running natively on the Mac but communicating with an
    instance of Podman running within the VM.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 命令在 Mac 上以原生方式运行，但与在虚拟机中运行的 Podman 实例进行通信。
- en: C.1.2 Windows
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.2 Windows
- en: Because Podman is a tool for running Linux containers, you can use it on a Windows
    desktop only if you have access to a Linux box, running either locally or remotely.
    On Windows, Podman can also utilize the Windows Subsystem for Linux system.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Podman 是一个运行 Linux 容器的工具，因此您只能在访问到本地或远程运行的 Linux 机器的情况下在 Windows 桌面上使用它。在
    Windows 上，Podman 还可以利用 Windows Subsystem for Linux 系统。
- en: Windows Remote client
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Windows 远程客户端
- en: You can retrieve the latest Windows Remote client on the [https://github.com/containers/podman/releases](https://github.com/containers/podman/releases)
    site.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在 [https://github.com/containers/podman/releases](https://github.com/containers/podman/releases)
    网站上获取最新的 Windows 远程客户端。
- en: Once installed, you can configure the Windows Remote client to connect to a
    Linux server using the `podman` `system` `connection` command. You can find out
    more about this process at [http://mng.bz/M0Kn](http://mng.bz/M0Kn).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您可以使用 `podman` `system` `connection` 命令配置 Windows 远程客户端以连接到 Linux 服务器。您可以在
    [http://mng.bz/M0Kn](http://mng.bz/M0Kn) 上了解更多关于此过程的信息。
- en: Windows Subsystem for Linux (WSL) 2.0
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Subsystem for Linux (WSL) 2.0
- en: See Windows documentation on installing WSL 2.0, and then pick a distribution
    that includes Podman, including many described below. Alternatively, the `podman`
    `machine` `init` command can bootstrap it all for you by automatically installing
    and configuring WSL, downloading and provisioning Fedora Core VM on it, and creating
    corresponding SSH connections for the Podman remote client.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅有关安装 WSL 2.0 的 Windows 文档，然后选择包含 Podman 的发行版，其中许多在本节中已描述。或者，`podman` `machine`
    `init` 命令可以为您自动安装和配置 WSL，在它上面下载和配置 Fedora Core 虚拟机，并为 Podman 远程客户端创建相应的 SSH 连接。
- en: Note WSL 1.0 is not supported.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：WSL 1.0 不受支持。
- en: C.1.3 Arch Linux and Manjaro Linux
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.3 Arch Linux 和 Manjaro Linux
- en: 'Arch Linux and Manjaro Linux use the `pacman` tool to install software:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Arch Linux 和 Manjaro Linux 使用 `pacman` 工具安装软件：
- en: '[PRE3]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: C.1.4 CentOS
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.4 CentOS
- en: 'Podman is available in the default Extras repos for CentOS 7 and in the AppStream
    repo for CentOS 8 and Stream:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 可在 CentOS 7 的默认 Extras 仓库中找到，在 CentOS 8 和 Stream 的 AppStream 仓库中可用：
- en: '[PRE4]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: C.1.5 Debian
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.5 Debian
- en: 'The `podman` package is available in the Debian 11 (bullseye) repositories
    and later:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`podman` 软件包可在 Debian 11（bullseye）仓库及其以后的版本中找到：'
- en: '[PRE5]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: C.1.6 Fedora
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.6 Fedora
- en: '[PRE6]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: C.1.7 Fedora-CoreOS, Fedora Silverblue
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.7 Fedora-CoreOS, Fedora Silverblue
- en: Podman comes preinstalled on these distributions. There is no need to need to
    install it.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 在这些发行版中预装。无需安装。
- en: C.1.8 Gentoo
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.8 Gentoo
- en: '[PRE7]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: C.1.9 OpenEmbedded
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.9 OpenEmbedded
- en: BitBake recipes for Podman and its dependencies are available in the meta-virtualization
    layer ([http://mng.bz/aPzB](http://mng.bz/aPzB)). Add the layer to your OpenEmbedded
    build environment, and build Podman using
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 及其依赖项的 BitBake 脚本在 meta-virtualization 层中可用 ([http://mng.bz/aPzB](http://mng.bz/aPzB))。将层添加到您的
    OpenEmbedded 构建环境，并使用以下命令构建 Podman：
- en: '[PRE8]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: C.1.10 openSUSE
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.10 openSUSE
- en: '[PRE9]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: C.1.11 openSUSE Kubic
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.11 openSUSE Kubic
- en: The openSUSE Kubic distribution has Podman built in. There is no need to need
    to install it.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: openSUSE Kubic 发行版内置了 Podman。无需安装。
- en: C.1.12 Raspberry Pi OS arm64
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.12 Raspberry Pi OS arm64
- en: 'The Raspberry Pi OS uses the standard Debian repositories, so it is fully compatible
    with Debian’s arm64 repository:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi OS 使用标准的 Debian 仓库，因此它与 Debian 的 arm64 仓库完全兼容：
- en: '[PRE10]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: C.1.13 Red Hat Enterprise Linux
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.13 Red Hat Enterprise Linux
- en: RHEL7
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: RHEL7
- en: 'Make sure you have a RHEL7 subscription, then enable the extras channel and
    install Podman:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您拥有 RHEL7 订阅，然后启用 extras 频道并安装 Podman：
- en: '[PRE11]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Note RHEL7 is no longer receiving updates to the Podman package except for security
    fixes.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：RHEL7 已不再接收 Podman 软件包的更新，除非是安全修复。
- en: RHEL8
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: RHEL8
- en: 'Podman is included in the `container-tools` module along with Buildah and Skopeo:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Podman 包含在 `container-tools` 模块中，与 Buildah 和 Skopeo 一起：
- en: '[PRE12]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: RHEL9 (and beyond)
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: RHEL9（及其以后版本）
- en: '[PRE13]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: C.1.14 Ubuntu
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: C.1.14 Ubuntu
- en: 'The `podman` package is available in the official repositories for Ubuntu 20.10
    and newer:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '`podman` 软件包可在 Ubuntu 20.10 及更高版本的官方仓库中找到：'
- en: '[PRE14]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: C.2 Building from source code
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: C.2 从源代码构建
- en: 'I usually advise people to get the packaged versions of Podman because successfully
    running Podman on Linux requires having additional tools installed, such as conmon
    (container monitor), `containernetworking-plugins` (network configuration), and
    `containers-common` (general configuration). While the process of building Podman
    from the source code is not very complicated, the list of dependencies differs
    from one Linux distribution to another. You can always check the latest instructions
    on the following Podman page: [http://mng.bz/gRDE](http://mng.bz/gRDE).'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我通常建议人们获取 Podman 的打包版本，因为成功在 Linux 上运行 Podman 需要安装额外的工具，例如 conmon（容器监控器）、`containernetworking-plugins`（网络配置）和
    `containers-common`（通用配置）。虽然从源代码构建 Podman 的过程并不复杂，但依赖项列表因 Linux 发行版而异。您始终可以在以下
    Podman 页面上找到最新说明：[http://mng.bz/gRDE](http://mng.bz/gRDE)。
- en: C.3 Podman Desktop
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: C.3 Podman Desktop
- en: There is also a GUI, Podman Desktop, for browsing, managing, and inspecting
    containers and images from different container engines, available at [https://github.com/containers/podman-desktop](https://github.com/containers/podman-desktop).
    Podman Desktop offers the capability to connect to multiple engines at the same
    time and provides a unified interface. This is a relatively new project under
    heavy development, so expect some rough edges.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有一个用于浏览、管理和检查来自不同容器引擎的容器和镜像的 GUI，Podman Desktop，可在 [https://github.com/containers/podman-desktop](https://github.com/containers/podman-desktop)
    获取。Podman Desktop 提供了同时连接到多个引擎的能力，并提供了一个统一的界面。这是一个相对较新的项目，正处于快速发展中，因此请期待一些粗糙的边缘。
- en: To provide some background, in September 2021, Docker Inc. announced they will
    begin charging for the previously free version of Docker Desktop on macOS. The
    Docker announcement has caused many people to switch and look for a replacement.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提供一些背景信息，2021 年 9 月，Docker Inc. 宣布他们将开始对之前免费的 macOS Docker Desktop 版本收费。Docker
    的公告导致许多人转向并寻找替代品。
- en: Summary
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Podman is a tool for running Linux containers, so it runs only on Linux.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman 是一个运行 Linux 容器的工具，因此它仅在 Linux 上运行。
- en: Podman is available in default package repositories of most major Linux distributions.
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman 可在大多数主要 Linux 发行版的默认软件包仓库中找到。
- en: Podman is available as a remote client on Mac and Windows, which connects to
    either a local or remote Linux box.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman 可作为 Mac 和 Windows 上的远程客户端使用，连接到本地或远程 Linux 服务器。
- en: Podman provides a special command for Linux VM management on macOS and Windows.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman 为 macOS 和 Windows 上的 Linux VM 管理提供了一个特殊的命令。
- en: Podman can be built from source code, but it requires many other tools to run
    successfully.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman 可以从源代码构建，但需要许多其他工具才能成功运行。
- en: Podman Desktop is an alternative for the popular Docker Desktop.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Podman Desktop 是 Docker Desktop 的一个替代方案。
