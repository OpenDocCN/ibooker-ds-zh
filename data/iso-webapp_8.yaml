- en: Best practices for isomorphic web applications
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 同构Web应用的最佳实践
- en: '| Best Practice | Section |'
  id: totrans-1
  prefs: []
  type: TYPE_TB
  zh: 最佳实践 | 部分
- en: '| --- | --- |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '--- | ---'
- en: '| Set up webpack to be ready for production use. | [5.5.2](kindle_split_016_split_005.xhtml#ch05lev2sec8)
    |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: 设置webpack以准备生产使用。[5.5.2](kindle_split_016_split_005.xhtml#ch05lev2sec8)
- en: '| Build React components that can be composed, increasing the reusability of
    your code. | [4.3.1](kindle_split_015_split_003.xhtml#ch04lev2sec7), [4.3.2](kindle_split_015_split_003.xhtml#ch04lev2sec8)
    |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: 构建可组合的React组件，提高代码的可重用性。[4.3.1](kindle_split_015_split_003.xhtml#ch04lev2sec7),
    [4.3.2](kindle_split_015_split_003.xhtml#ch04lev2sec8)
- en: '| Ensure your state is immutable when using Redux by using the spread operator
    (...) pattern. | [6.3.1](kindle_split_017_split_003.xhtml#ch06lev2sec3) |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: 使用扩展运算符(...)模式确保在使用Redux时你的状态是不可变的。[6.3.1](kindle_split_017_split_003.xhtml#ch06lev2sec3)
- en: '| Implement routing for the server with React Router. | [7.2.1](kindle_split_019_split_003.xhtml#ch07lev2sec3)
    |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
  zh: 使用React Router为服务器实现路由。[7.2.1](kindle_split_019_split_003.xhtml#ch07lev2sec3)
- en: '| Render components on the server with React renderToString. | [7.2.3](kindle_split_019_split_003.xhtml#ch07lev2sec5)
    |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: 使用React的renderToString在服务器上渲染组件。[7.2.3](kindle_split_019_split_003.xhtml#ch07lev2sec5)
- en: '| Use a static function to indicate the data needs for each container component
    in the app. | [7.3.2](kindle_split_019_split_004.xhtml#ch07lev2sec7) |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: 使用静态函数来指示应用中每个容器组件所需的数据。[7.3.2](kindle_split_019_split_004.xhtml#ch07lev2sec7)
- en: '| Serialize the data fetched on the server and attach it to the DOM. | [8.2.1](kindle_split_020_split_002.xhtml#ch08lev2sec3)
    |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: 序列化在服务器上获取的数据，并将其附加到DOM上。[8.2.1](kindle_split_020_split_002.xhtml#ch08lev2sec3)
- en: '| Deserialize the data provided in the DOM and use it to initialize the state
    of the app. | [8.2.2](kindle_split_020_split_002.xhtml#ch08lev2sec4) |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: 解析DOM中提供的数据，并使用它来初始化应用的状态。[8.2.2](kindle_split_020_split_002.xhtml#ch08lev2sec4)
- en: '| Avoid isomorphic render warnings by using the React lifecycle method componentDidMount.
    | [8.3.3](kindle_split_020_split_003.xhtml#ch08lev2sec8) |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: 通过使用React的生命周期方法componentDidMount来避免同构渲染警告。[8.3.3](kindle_split_020_split_003.xhtml#ch08lev2sec8)
- en: '| Make sure you test your code in all the environments it will run in (server
    and browser). | [9.1.1](kindle_split_021_split_001.xhtml#ch09lev2sec1), [9.2.1](kindle_split_021_split_002.xhtml#ch09lev2sec4),
    [9.2.2](kindle_split_021_split_002.xhtml#ch09lev2sec5) |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: 确保你在所有将运行代码的环境中测试你的代码（服务器和浏览器）。[9.1.1](kindle_split_021_split_001.xhtml#ch09lev2sec1),
    [9.2.1](kindle_split_021_split_002.xhtml#ch09lev2sec4), [9.2.2](kindle_split_021_split_002.xhtml#ch09lev2sec5)
- en: '| Isolate code that can only run in the browser by using environment variables.
    Webpack allows you to inject them into your browser code (process.env.BROWSER).
    | [10.1.2](kindle_split_022_split_001.xhtml#ch10lev2sec2), [10.1.3](kindle_split_022_split_001.xhtml#ch10lev2sec3)
    |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: 使用环境变量来隔离只能在浏览器中运行的代码。Webpack允许你将它们注入到你的浏览器代码中（process.env.BROWSER）。[10.1.2](kindle_split_022_split_001.xhtml#ch10lev2sec2),
    [10.1.3](kindle_split_022_split_001.xhtml#ch10lev2sec3)
- en: '| To manage SEO, use a static function to add metatags to the <head> of the
    html page on the server. | [10.2.1](kindle_split_022_split_002.xhtml#ch10lev2sec4),
    [10.2.2](kindle_split_022_split_002.xhtml#ch10lev2sec5) |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: 为了管理SEO，使用静态函数向服务器上HTML页面的<head>部分添加元标签。[10.2.1](kindle_split_022_split_002.xhtml#ch10lev2sec4),
    [10.2.2](kindle_split_022_split_002.xhtml#ch10lev2sec5)
- en: '| Handle user sessions based on cookies in an isomorphic way. | [11.4.1](kindle_split_023_split_004.xhtml#ch11lev2sec8)
    |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: 以同构方式基于cookie处理用户会话。[11.4.1](kindle_split_023_split_004.xhtml#ch11lev2sec8)
