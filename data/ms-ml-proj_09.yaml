- en: '9 Sprint 3: system building and production'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 9 Sprint 3：系统构建和生产
- en: 'This chapter covers:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖了：
- en: Embedding your models into the system you are going to build
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将你的模型嵌入到你将要构建的系统
- en: Dealing with nonfunctional implications
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理非功能性影响
- en: Building the data and model-serving infrastructures for production
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为生产构建数据和模型服务基础设施
- en: Ensuring that the user interface is appropriate
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保用户界面是适当的
- en: Ensuring that the logging, monitoring, and alerting elements are properly governed
    and managed in production
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保日志记录、监控和警报元素在生产中得到适当的治理和管理
- en: In sprint 2, the team built, tested, and selected models to support the user
    stories developed in sprint 1\. Without more work, the models cannot be used to
    generate value; essentially, they’re just lines of code sitting inanimate in a
    repository. *To be useful AI, models need to be implemented in the IT architecture
    that supports the client’s business processes and customer delivery.*
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在Sprint 2中，团队构建、测试并选择了支持Sprint 1中开发的故事的模型。没有更多的努力，这些模型无法用来产生价值；本质上，它们只是静止在仓库中的代码行。*为了成为有用的AI，模型需要被实施在支持客户业务流程和客户交付的IT架构中。*
- en: There are two characteristics of an ML system, which are a focus of the work
    in sprint 3, the topic of this chapter. We must implement the data infrastructure
    supporting the production platform to ensure that the models operate in the data
    environment that they were trained for. Additionally, we need to retrieve and
    run the ML models created from sprint 2 for the system to work.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习系统有两个特点，这是Sprint 3工作的重点，也是本章的主题。我们必须实施支持生产平台的数据基础设施，以确保模型在它们被训练的数据环境中运行。此外，我们需要检索和运行从Sprint
    2创建的ML模型，以便系统可以工作。
- en: In this chapter, we go over the process of deciding which components are required
    in the production system and how they will hang together. In later sections, we’ll
    deal with the tradeoffs and decisions that drive the selection and delivery of
    the data layer, model-serving infrastructure, and interface elements. First, though,
    you and the team need to work out the type of ML system that you are going to
    build, and that’s what the next section covers.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论决定生产系统中需要哪些组件以及它们如何协同工作的过程。在后续章节中，我们将处理驱动数据层、模型服务基础设施和界面元素选择和交付的权衡和决策。首先，你和团队需要确定你们将要构建的机器学习系统的类型，这正是下一节要涵盖的内容。
- en: 9.1 Sprint 3 backlog
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.1 Sprint 3待办事项列表
- en: Table 9.1 provides a summary of the tasks that we’ll explore in this chapter.
    These tasks are the must be completed before your project can move into production
    and start to deliver value for your users.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.1总结了本章我们将探讨的任务。这些任务必须在项目进入生产并开始为用户创造价值之前完成。
- en: Table 9.1 Backlog for Sprint 3
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.1 Sprint 3待办事项列表
- en: '| Task # | Item |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| 任务编号 | 项目 |'
- en: '| --- | --- |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| S3.1 | Identify the type of system that will be used to embed the models.
    |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| S3.1 | 确定用于嵌入模型的系统类型。|'
- en: '| S3.2 | Determine the functional and nonfunctional implications of the system
    you are building. |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| S3.2 | 确定你正在构建的系统的功能和非功能影响。|'
- en: '| S3.3 | Build the production data flows to enable the models to make inferences.
    |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| S3.3 | 构建生产数据流，使模型能够进行推理。|'
- en: '| S3.4 | Build the model server and the inference system. |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| S3.4 | 构建模型服务器和推理系统。|'
- en: '| S3.5 | Determine the appropriate interface components required by your system.
    |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| S3.5 | 确定系统所需的适当接口组件。|'
- en: '| S3.6 | Select a conformant interface development approach, allowing for the
    delivery of the interface requirements. |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| S3.6 | 选择一个符合接口开发方法，以便交付接口需求。|'
- en: '| S3.7 | Build logging, monitoring, and alerting components for the system.
    |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| S3.7 | 为系统构建日志记录、监控和警报组件。|'
- en: '| S3.8 | Ensure that model governance and hand-over arrangements are agreed
    on. |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| S3.8 | 确保模型治理和交接安排达成一致。|'
- en: '| S3.9 | Produce maintenance and support documentation. |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| S3.9 | 制作维护和支持文档。|'
- en: '| S3.10 | Develop a pre-release testing plan. |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| S3.10 | 制定预发布测试计划。|'
- en: '| S3.11 | Promote to production.Create a post-release test plan. |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| S3.11 | 推送到生产。创建发布后测试计划。|'
- en: '| S3.12 | Provide post-release recognition and thanks. |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| S3.12 | 提供发布后的认可和感谢。|'
- en: Figure 9.1 shows an ML system from the perspective of what’s needed to make
    it functional in production. At the top, there’s a data infrastructure that creates
    the input to the system. This could include streams of clicks or other interactions
    from a user interface, but fundamentally, these are the signals that are consumed
    by the models for inference.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1展示了从使系统在生产中功能化的需求角度出发的机器学习系统。在顶部，有一个数据基础设施为系统提供输入。这可能包括来自用户界面的点击流或其他交互，但本质上，这些是模型进行推断所消费的信号。
- en: The architecture illustrated in figure 9.1 uses an inference service to invoke
    the models based on events in the data stream. This service might run in batch
    mode, processing files of data and producing annotations on each entity in its
    data set. It might also run responsively, based on an event in an application.
    The model’s output is used by some application code to make the decision about
    what service should be invoked. That could be as simple as just showing something
    to the user and using that to make another decision or taking the output and feeding
    it into the control system of a machine.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1中展示的架构使用推断服务根据数据流中的事件调用模型。此服务可能以批量模式运行，处理数据文件并为数据集中的每个实体生成注释。它也可能基于应用程序中的事件进行响应式运行。模型的输出被某些应用程序代码用于决定应该调用哪个服务。这可能只是向用户展示某些内容并据此做出另一个决定，或者将输出输入到机器的控制系统中。
- en: '![](../Images/09-01.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图9.1](../Images/09-01.png)'
- en: Figure 9.1 Abstract layers and concerns for an ML system discussed in this chapter
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1展示了本章讨论的机器学习系统的抽象层和关注点
- en: 'At the bottom layer of the stack in figure 9.1 is the exposure interface. As
    well as interacting with users by publishing model inferences, the system must
    provide logging and management data (such as alerts in the case of unexpected
    behavior) and integration information for other systems (such as orchestration
    signals) in this layer. To implement the functionality of this layer, here are
    a few recommendations:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在图9.1的堆栈底层是曝光接口。除了通过发布模型推断与用户交互外，该系统还必须在这一层提供日志和管理数据（例如，在意外行为的情况下发出警报）以及为其他系统（例如编排信号）的集成信息。为了实现这一层的功能，以下是一些建议：
- en: You can use Big Table, Redshift, SQL Server, Oracle, Kafka, or SPARK (and many
    others) as the data engine that supports different requirements for data infrastructure
    components.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用Big Table、Redshift、SQL Server、Oracle、Kafka或SPARK（以及其他许多）作为支持数据基础设施组件不同需求的数据引擎。
- en: You can deploy application code using engines such as Kubeflow, Kubernetes,
    OpenShift, Flask, Tomcat, or others. Serverless components such as AWS Lambda,
    Azure Serverless, and GCP’s Cloud Functions provide an alternative method of hosting
    and running models.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用Kubeflow、Kubernetes、OpenShift、Flask、Tomcat或其他引擎部署应用程序代码。无服务器组件，如AWS Lambda、Azure无服务器和GCP的云函数，提供了一种替代的托管和运行模型的方法。
- en: You can use systems such as Splunk and Grafana, as well as user interface development
    frameworks such as Angular.js for the exposure layers.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用Splunk和Grafana等系统，以及Angular.js等用户界面开发框架作为曝光层。
- en: 9.2 Types of ML implementations
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.2 机器学习实现类型
- en: 'Production system analysis ticket: S3.1'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 生产系统分析票据：S3.1
- en: Identify the type of system (assistive, delegative, autonomous) that will be
    used to embed the models.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定将用于嵌入模型的系统类型（辅助型、委托型、自主型）。
- en: 'Production system analysis ticket: S3.2'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 生产系统分析票据：S3.2
- en: Determine the functional and nonfunctional implications of the system you are
    building.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定您正在构建的系统的功能和非功能影响。
- en: 'For the system to be useful, you need to decide how you’ll use the models that
    you created. Earlier in the development process, this was considered and worked
    on, but now the models are built and the best selected for use. Broadly, we can
    identify three types of setting for the models that you develop:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使系统有用，您需要决定如何使用您创建的模型。在开发过程的早期，这已被考虑并进行了工作，但现在模型已经构建并选择了最佳模型用于使用。广泛地说，我们可以识别您开发的模型的三种设置类型：
- en: '*Assistive models:* Creates output that’s directly consumed by humans. A large
    data population summarized in a dashboard is an assistive model. For example,
    if you use a complex set of sensor readings to create a recommendation, that is
    an assistive model.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*辅助型模型*：创建直接由人类消费的输出。在仪表板上总结的大量数据是一个辅助型模型。例如，如果您使用一组复杂的传感器读数来创建推荐，那么这是一个辅助型模型。'
- en: '*Delegative models:* Creates a control signal independent of human input but
    under direct human supervision and management. Disregarding whether they are intelligent,
    systems that run chemical factories while monitored by human controllers are examples
    of this type of system, as are fly-by-wire aircraft and autopilots.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*委托模型*：创建一个独立于人类输入的控制信号，但在直接的人类监督和管理下。无论它们是否智能，由人类控制器监控的化学工厂运行系统、飞机制导系统和自动驾驶仪都是这类系统的例子。'
- en: '*Autonomous models:* Embedded in systems that do not feature human control
    or monitoring, either for significant periods of time or through transformative
    system evolutions. Many robotic systems and drones are autonomous, as are automatic
    high-frequency trading systems that function outside of human management.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*自主模型*：嵌入到没有人类控制或监控的系统，无论是长时间还是通过系统演化的转型。许多机器人系统和无人机是自主的，同样，在人类管理之外运行的自动高频交易系统也是自主的。'
- en: These different types of systems are on a spectrum of autonomy and human control.
    The more autonomous an ML-powered system, the less opportunity for human control
    and intervention, but this has consequences. The level of assurance in terms of
    the reliability of the models created to drive it must be higher, and the system
    engineering that embeds the models must be more robust and offer a higher level
    of assurance. Three design forces act more strongly as autonomy is increased.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这些不同类型的系统位于自主性和人类控制的一个连续谱上。一个由机器学习驱动的系统越自主，人类控制和干预的机会就越少，但这也有其后果。用于驱动该系统的模型可靠性必须得到更高的保证，并且嵌入模型的系统工程必须更加鲁棒，并提供更高的保证。随着自主性的增加，三种设计力量作用得更强。
- en: First, as systems become more autonomous, there is a greater need for them to
    explain their decisions. The ML component of systems that humans control directly,
    and in which the humans have agency and accountability for the decisions, do not
    need to be as transparent as autonomous systems. We may be able to understand
    the ML component in human-controlled systems, but the human element is always
    opaque.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，随着系统变得更加自主，它们解释其决策的需求就越大。人类直接控制且人类对决策有代理和责任感的系统中的机器学习组件不需要像自主系统那样透明。我们可能能够理解人类控制系统中机器学习组件，但人类因素始终是模糊的。
- en: Second, the mechanisms that are used to document and record the system’s development
    process must be more robust the more autonomous the system. The organization that
    deploys the autonomous system must stand behind its decision, and it can only
    do that if there is a method of accounting for how it was developed.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，用于记录和记录系统开发过程的机制必须随着系统的自主性增加而变得更加鲁棒。部署自主系统的组织必须对其决策负责，而它只能通过有方法解释其开发过程才能做到这一点。
- en: Third, autonomous systems require better and more robust nonfunctional performance.
    There is no human to step in and take over if the system stutters to a halt or
    starts doing something squirrely. Often, the users of an autonomous system are
    physically unable to intervene or save themselves in the case of a nonfunctional
    failure.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，自主系统需要更好的非功能性性能和更强的鲁棒性。如果系统突然停止或开始出现异常行为，没有人类可以介入接管。通常情况下，自主系统的用户在非功能性故障发生时，身体上无法介入或自救。
- en: Having looked at the production system analysis tickets for sprint 3, you should
    now be able to move onto the next tasks. In the next part of this section, we’ll
    explore more deeply the implications that you and the team must deal with when
    building assistive, delegative, and autonomous systems using ML.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在查看第3个冲刺的生产系统分析票据后，你现在应该能够进行下一项任务。在本节下一部分，我们将更深入地探讨在构建使用机器学习的辅助、委托和自主系统时，你和团队必须处理的含义。
- en: '9.2.1 Assistive systems: recommenders and dashboards'
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.2.1 辅助系统：推荐器和仪表板
- en: Assistive systems are designed to be directly used by humans. Their value is
    driven by the transparency of human inspection that they provide. Assistive systems
    provide advice to humans, but they do not control the decisions that are made
    on the back of that information and guidance.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 辅助系统旨在直接由人类使用。它们的价值由它们提供的人类检查的透明度驱动。辅助系统向人类提供建议，但它们不控制基于该信息和指导所做的决策。
- en: Assistive systems summarize information, offer predictions, and enable humans
    to efficiently consume these for decision-making and to create insight. By enabling
    information that would normally be incomprehensible and used to create value,
    assistive AI systems have a role in creating economic and scientific value that
    would otherwise be unavailable.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 辅助系统总结信息，提供预测，并使人类能够高效地消费这些信息以进行决策和创造洞察。通过使原本难以理解的信息用于创造价值，辅助人工智能系统在创造经济和科学价值方面发挥了作用，这些价值在其他情况下可能无法获得。
- en: The Large Hadron Collider, a high-energy particle collider, provides a good
    example of this type of system. Experiments there utilized ML techniques generated
    by a challenge competition to find breakthrough physics results in vast data sets
    [2]. Without this assistance from ML, it’s arguable that the physics community
    would have been unable to take advantage of their most powerful experimental instrument.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 大型强子对撞机，一种高能粒子对撞机，是这种类型系统的良好例子。那里的实验利用了由挑战竞赛产生的机器学习技术，在庞大的数据集中寻找突破性的物理结果[2]。如果没有机器学习的这种辅助，物理界可能无法利用他们最强大的实验工具。
- en: A canonical assistive interface is a dashboard. A dashboard is a collection
    of visualizations that summarize the information that is relevant to a particular
    business problem, enabling rapid inspection. There is now a wide range of tools,
    proprietary (such as Looker, Power BI, Qlik, and Tableau) and open source (such
    as Shiny and Dash), that you can use to create dashboards.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 典型的辅助界面是仪表板。仪表板是一组可视化图表，总结了与特定业务问题相关的信息，使得快速检查成为可能。现在有各种各样的工具，包括专有工具（如Looker、Power
    BI、Qlik和Tableau）和开源工具（如Shiny和Dash），您可以使用它们来创建仪表板。
- en: Figure 9.2 shows a standard dashboard on the left that contrasts with an intelligent
    dashboard on the right, which integrates the output of ML-derived models. In a
    standard dashboard, data is transformed and displayed using aggregate functions
    and selection filters. In an intelligent dashboard, additional information is
    displayed because the model creates filters (e.g., to remove outliers or noise)
    over the information to make predictions using it. For example, we can deploy
    a customer churn model that’s used to generate output based on user-selected values
    to determine a competitor’s activity and sales investment.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2展示了左侧的标准仪表板与右侧的智能仪表板的对比，后者集成了由机器学习模型得出的输出。在标准仪表板中，数据通过聚合函数和选择过滤器进行转换和显示。在智能仪表板中，由于模型在信息上创建了过滤器（例如，用于去除异常值或噪声），因此会显示额外的信息，以便使用这些信息进行预测。例如，我们可以部署一个客户流失模型，该模型根据用户选择的值生成输出，以确定竞争对手的活动和销售投资。
- en: This kind of prediction provides decision-makers with an indication of potential
    or probable outcomes. If undesirable outcomes appear in the distribution or forecast,
    then the client can take action to change course by finding the parameter settings
    that make positive outcomes likely and negative outcomes unlikely. In the customer
    churn example, the dashboard user might find that increasing the investment in
    sales creates outcomes with low customer churn, despite any level of competitor
    activity.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这种预测为决策者提供了潜在或可能结果的指示。如果分布或预测中出现不希望的结果，那么客户可以通过找到使积极结果可能而消极结果不可能的参数设置来采取行动，改变方向。在客户流失的例子中，仪表板用户可能会发现，即使竞争对手的活动水平如何，增加销售投资也能创造出低客户流失率的结果。
- en: '![](../Images/09-02.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/09-02.png)'
- en: Figure 9.2 A simple dashboard on the left versus an intelligent model-driven
    dashboard on the right
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2 左侧是一个简单的仪表板，右侧是一个智能模型驱动的仪表板
- en: Although the intelligent dashboard illustrated in figure 9.2 integrates output
    from ML-derived models, this isn’t the only type of assistive system available.
    Many internet services use assistive intelligence to enhance the user experiences
    they offer. The diversity and scale of services and available offers are often
    bewildering to consumers and, sometimes, virtually impossible to navigate without
    support. We can use ML to provide recommendations and selections, filtering irrelevant
    results from the user interface and directing the user’s attention to selections
    that are more engaging.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管图9.2中展示的智能仪表板集成了由机器学习模型得出的输出，但这并不是唯一可用的辅助系统类型。许多互联网服务使用辅助智能来增强他们提供的用户体验。服务和可用优惠的多样性和规模常常让消费者感到困惑，有时在没有支持的情况下几乎无法导航。我们可以使用机器学习来提供推荐和选择，从用户界面中过滤掉不相关的结果，并将用户的注意力引导到更具吸引力的选择上。
- en: As an example, you could implement a recommendation system using a co-occurrence
    matrix. You would categorize the items into groups to control the size of the
    matrix and then increment the value of the co-occurrence when a choice is made
    by a user. When a user selects a similar item in the future, you can use the co-occurrence
    with the highest value to generate a recommendation to pique the user’s interest.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你可以通过使用共现矩阵来实现一个推荐系统。你会将项目分类成组以控制矩阵的大小，然后在用户做出选择时增加共现的值。当用户在未来选择一个类似的项目时，你可以使用最高值的共现来生成一个能够激发用户兴趣的推荐。
- en: Let’s say that Simon watches *Star Wars* and then the newer *Star Trek* movie.
    The newer *Star Trek* movie is categorized as Science Fiction Reboots. When someone
    else watches *Aliens*, for example, you show them a list of Science Fiction Reboots
    with *Star Trek*, *Dune*, *Dawn of the Planet of the Apes*, *Mad Max Fury Road*,
    and so on. Table 9.2 shows how this would be represented and what it would look
    like after one update with lots of design assumptions woven in. The categories
    are preselected (arbitrarily), and there is no self-similarity allowed. Because
    the table does not record selections for the same category, the algorithm always
    recommends a list of something different. Also, there is no mention of what to
    do if you are dealing with a selection from the Nature category. Do you provide
    a random list to choose from or no list?
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 假设西蒙观看了*星球大战*，然后是较新的*星际迷航*电影。较新的*星际迷航*电影被归类为科幻重启。当其他人观看*异形*等电影时，你可以向他们展示包含*星际迷航*、*沙丘*、*猿人星球黎明*、*疯狂的麦克斯：狂暴之路*等电影的科幻重启列表。表9.2展示了这种表示方式以及经过一次更新后，在众多设计假设下的样子。类别是预先选择的（任意选择），不允许自我相似。因为表格不记录同一类别的选择，所以算法总是推荐一个不同的列表。此外，没有提及如果处理的是自然类别的选择时应该怎么做。你是提供随机列表供选择，还是不提供列表？
- en: Table 9.2 A co-occurrence table update with preferences for a movie after watching
    *Star Wars*.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.2：观看*星球大战*后对电影的共现表更新，并偏好科幻重启电影。
- en: '| Category | Old science fiction | Nature | ... | Science fiction reboots |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| 类别 | 旧科幻 | 自然 | … | 科幻重启 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Old science fiction | X | 0 | 0 | 1 |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| 旧科幻 | X | 0 | 0 | 1 |'
- en: '| Nature | 0 | X | 0 | 0 |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 自然 | 0 | X | 0 | 0 |'
- en: '| … | 0 | 0 | X | 0 |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| … | 0 | 0 | X | 0 |'
- en: '| Science fiction reboots | 1 | 0 | 0 | X |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 科幻重启 | 1 | 0 | 0 | X |'
- en: Now, let’s take this system a step further. If we chose an item from the recommendation
    list at random and then showed it to the user for their next movie, then we could
    say that the user had delegated the choice to the system. The system becomes delegative,
    which is discussed in the next section.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们进一步探讨这个系统。如果我们随机从推荐列表中选择一个项目，然后展示给用户作为他们下一部电影，那么我们可以说用户已经将选择权委托给了系统。系统变成了委托系统，这在下一节中会讨论。
- en: 9.2.2 Delegative systems
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.2.2 委托系统
- en: We use a delegative system to make decisions on behalf of users when they are
    unable to exercise direct case-by-case control. This can be because the decisions
    require the use of an overwhelming amount of data or because the decision must
    be made faster than a human can make it. Importantly, a delegative system provides
    mechanisms for the human to review and correct the decisions made or to step in
    and correct the behavior of the system if the automated decision-maker fails.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用委托系统代表用户在无法直接逐个案例进行控制时做出决策。这可能是因为决策需要使用大量的数据，或者因为决策必须比人类能做出的决策更快。重要的是，委托系统提供了人类审查和纠正决策的机制，或者在自动化决策者失败时，可以介入并纠正系统的行为。
- en: The Perseverance Rover [1] is a glamorous example of a delegative AI system.
    Perseverance is a semi-autonomous robot that landed on Mars at the beginning of
    2021\. Its mission was to investigate rocks that had formed billions of years
    ago in a flood area of a large crater. It moved from rock formation to rock formation
    to discover and sample a range of different rocks, enabling the development of
    an understanding of the geology of the area. The scientists and geologists on
    Earth determined the objectives of the rover, manipulated the sampling and testing
    instruments and tools, and exercised top-level control over its systems and functions.
    Figure 9.3 illustrates how Perseverance acted independently, using its sensors
    to construct a proposed path forward across some part of the terrain in front
    of it. After sending the path to Mission Control for approval, the rover will
    prepare the command processes to drive the path. Once approval is received, the
    rover executes the plan by itself.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 坚持不懈号漫游车 [1] 是一个典型的委托式人工智能系统的华丽例子。坚持不懈号是一个半自主机器人，它在2021年初登陆火星。它的任务是调查数十亿年前在一个大型撞击坑的洪水区域形成的岩石。它从一个岩石形成地移动到另一个岩石形成地，以发现和采样不同类型的岩石，从而有助于对该地区地质的了解。地球上的科学家和地质学家确定了漫游车的目标，操作采样和测试仪器和工具，并对它的系统和功能进行高级控制。图9.3展示了坚持不懈号如何独立行动，使用其传感器在其前方地形的一部分构建一个前进的预定路径。在将路径发送到任务控制中心进行批准后，漫游车将准备命令过程以驱动路径。一旦获得批准，漫游车将自行执行计划。
- en: '![](../Images/09-03.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/09-03.png)'
- en: Figure 9.3 The control flow for a delegative remote control rover [1]
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.3 委托式遥控漫游车的控制流程 [1]
- en: The delegative system model was chosen for Perseverance because it balanced
    the physical constraint imposed by the lag in communications with Mars and the
    value and risk that the state-of-the-art AI methods created. A manual control
    system meant that the rover would move too slowly to achieve its scientific goals.
    This was because each iteration of the drive required at least eight minutes to
    make (due to the time it takes for the signal to travel to and from Mars). A fully
    autonomous system would have exposed the billions of dollars invested in the mission
    to too much risk for NASA to accept. The episodic control described here is one
    mechanism of many that you can use for managing system autonomy in a delegative
    AI implementation.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 选择委托式系统模型用于坚持不懈号，因为它平衡了由与火星通信延迟带来的物理约束和最先进的人工智能方法创造的价值与风险。手动控制系统意味着漫游车的移动速度太慢，无法实现其科学目标。这是因为每次行驶迭代至少需要八分钟来完成（由于信号往返火星所需的时间）。一个完全自主的系统会将数十亿美元的投资暴露在太多的风险中，这是NASA无法接受的。这里描述的周期性控制是许多可用于管理委托式人工智能实现中系统自主性的机制之一。
- en: An alternative strategy is to partition the system into independent subsystems,
    each of which can fail without systemic or unacceptable damage. You can manage
    each partition individually in the event of failure, provided that the failure
    of the subsystem can be tolerated for the amount of time or money that resolving
    it requires.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种策略是将系统划分为独立的子系统，每个子系统在出现故障时不会造成系统性的或不可接受的损害。在子系统故障可以容忍的时间内或所需的资金内，您可以单独管理每个分区。
- en: Mobile phone networks are examples of such systems, where we can use a partitioning
    strategy to provide delegative control. Each cell of the network works autonomously
    to provide service to all subscribers within its allocated area. A cell could
    suffer a failure, for example, because its subscriber database fails or because
    the antenna steering strategy doesn’t allocate sufficient power to enable subscribers
    to use the service. This localized and limited failure is then reported or detected
    by the national operating center. They take remedial action according to the service-level
    agreements that a communications regulator imposes on the operator. If the network
    is provided for emergency services (police, fire, ambulance, or coast guard, for
    example), then failover and replication provisions may be in place to provide
    the required coverage. Alternatively, rapid remediation from a 24/7/365 service
    and repair team may be designed into the system to sort things out.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 移动电话网络是这类系统的例子，我们可以使用分区策略来提供委托控制。网络中的每个小区都独立工作，为其分配区域内所有用户提供服务。例如，一个小区可能会因为其用户数据库失败或天线转向策略没有分配足够的功率来启用用户使用服务而出现故障。这种局部且有限的故障随后会被国家运营中心报告或检测到。他们根据通信监管机构对运营商施加的服务级别协议采取补救措施。如果网络提供紧急服务（例如警察、消防、救护车或海岸警卫队），那么可能已经实施了故障转移和复制措施来提供所需的覆盖范围。或者，系统可能设计了一个24/7/365的服务和维修团队，以便快速解决问题。
- en: This kind of partitioning and rapid recovery strategy is applicable to many
    applications. Because failure is built into the system, it becomes a liability,
    and we can’t design applications that require constant pervasive availability
    and service to rely on this mechanism. A life-support system may have a partitioning
    strategy where some elements continue functioning in the face of other failures,
    but the system must also include a qualified person (say, a nurse) who can operate
    the failed elements while they are broken. Overall, the system (machine + nurse)
    is robust enough to be acceptable.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这种分区和快速恢复策略适用于许多应用。因为故障是系统固有的，它变成了一个负担，我们不能设计需要持续普遍可用性和服务的应用程序来依赖这种机制。生命维持系统可能有一种分区策略，其中一些元素在面临其他故障的情况下继续工作，但系统还必须包括一个合格的人员（比如护士）来操作故障元件，在它们损坏时。总的来说，系统（机器+护士）足够稳健，可以接受。
- en: One error that a team can make in designing a delegative system is to implement
    fake controls for the human operator. If the system passes control back to the
    human when it’s too late to repair the error, that isn’t delegation, it’s just
    plain failure. In the life support example, imagine if the nurse only becomes
    aware of the machine’s failure when the patient suffers a cardiac arrest. That’s
    too late; the damage is already done. In a real-life example, aircraft were placed
    into a stall by a control system, but only engaging the human pilot after the
    point at which there was no way to avoid a crash [5]. Tragically, many hundreds
    of people were killed by this system. Obviously, the real pilot (or nurse) must
    be brought in with sufficient time and agency to deal with the scenario that’s
    unfolding, and the person must have the agency to make decisions that can avoid
    disaster.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在设计委托系统时，团队可能会犯的一个错误是实施针对人工操作员的虚假控制。如果系统在修复错误为时已晚时将控制权交还给人工操作员，那不是委托，那只是简单的失败。在生命维持系统的例子中，想象一下如果护士只有在病人出现心脏骤停时才意识到机器的故障，那就太晚了；损害已经造成了。在现实生活中的例子中，飞机被控制系统置于失速状态，但在无法避免坠机的情况下才让人类飞行员介入[5]。悲剧的是，数百人因此丧生。显然，真正的飞行员（或护士）必须足够早地介入并拥有足够的权力来处理正在展开的情况，并且这个人必须有权做出避免灾难的决定。
- en: Fake delegative systems of this type might be constructed due to human and organizational
    error. They also get constructed as a way to avoid the constraints and challenges
    of implementing truly autonomous systems. Unfortunately, the evidence of capability
    that creates sufficient confidence to deploy a truly autonomous system and meet
    the criteria of “I’ll trust my life to this” or “I’ll trust my business to this”
    can be dodged by pretending that there is a failsafe that can step in and prevent
    the system from killing or bankrupting people. Eventually, this approach ends
    up killing and bankrupting those who have been fooled into trusting such a system.
    We’ll discuss the extra requirements for autonomy and the strict criteria that
    are imposed on ethical and functionally successful autonomous system development
    in the next section.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 由于人类和组织错误，可能会构建出这种类型的虚假委托系统。它们也作为避免实施真正自主系统约束和挑战的一种方式而被构建。不幸的是，通过假装存在一种可以介入并防止系统杀人或使人们破产的安全措施，可以规避创建足够信心部署真正自主系统并满足“我将把我的生命托付给它”或“我将把我的事业托付给它”的标准的证据。最终，这种方法会导致那些被欺骗而信任这种系统的人被杀害或破产。我们将在下一节讨论自主系统的额外要求以及强加在道德上和功能上成功的自主系统开发上的严格标准。
- en: 9.2.3 Autonomous systems
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.2.3 自主系统
- en: Autonomous systems are left to run unsupervised and independently for extended
    periods without human intervention. We described the Perseverance rover as a delegative
    system because control episodes are partitioned into elements, which can be reviewed
    and signed off by humans. If Perseverance drives into a sand trap (like some previous
    rovers have), then that will not be because the ML and AI planners failed, it’s
    because it was not correctly operated. More accurately, it’s because there was
    a failure, despite the team’s best efforts. The ML team built appropriate control
    measures into the system, appropriate in the sense that the team balanced the
    limitations and requirements of the system.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 自主系统被允许在没有人类干预的情况下独立运行和运行很长时间。我们将Perseverance漫游车描述为一种委托系统，因为控制过程被划分为元素，这些元素可以由人类审查和批准。如果Perseverance驶入沙坑（就像一些以前的漫游车所做的那样），那将不是因为机器学习和人工智能规划者失败了，而是因为操作不当。更准确地说，那是因为尽管团队尽了最大努力，但仍然出现了故障。机器学习团队在系统中构建了适当的控制措施，这些措施是适当的，因为团队平衡了系统的局限性和要求。
- en: A self-driving car, on the other hand, is a completely autonomous system. If
    you board a self-driving car and ask it to take you to a particular destination,
    you are not responsible for the accident that the car gets into on the way. The
    team that developed the car and sold it to you as self-driving is responsible
    (morally and ethically, if not always legally). A self-driving car (at least for
    the sake of this discussion) is an operationally autonomous device. The vehicle
    performs the entire episode of managing a journey from home to destination; the
    user controls the strategic choice of where to go and, potentially, may exert
    tactical control by changing some operational instructions (for example, “use
    the back route” or “slow down, I feel sick”).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，自动驾驶汽车是一个完全自主的系统。如果你乘坐自动驾驶汽车并要求它带你去一个特定的目的地，你不需要对汽车在途中发生的任何事故负责。开发汽车并将其作为自动驾驶汽车卖给你的团队（在道德和伦理上，如果不是法律上）负责。自动驾驶汽车（至少就这次讨论而言）是一个操作上自主的设备。车辆执行从家到目的地的整个旅程管理过程；用户控制去哪里的战略选择，并且可能通过改变一些操作指令（例如，“走后路”或“慢点，我感觉不舒服”）来施加战术控制。
- en: Delivering a fully autonomous system imposes a far stronger set of requirements
    on the team than delivering an assistive system. The development of self-driving
    systems demonstrates this. Self-driving technology has been deployed in urban
    settings since 2007 as described by Xei et al [12] but 15 years later, has yet
    to make it into widespread use. This is due to the complexities of the real-world
    derailed attempts to deploy and operate self-driving vehicles. Conversely, autonomous
    ML systems are deployed to manage and create the user experience for the most
    popular social networking and content recommendation systems on the internet.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 提供一个完全自主的系统对团队的要求远比提供一个辅助系统要严格。自动驾驶系统的开发证明了这一点。自2007年以来，自动驾驶技术已在城市环境中部署，如Xei等人所述[12]，但15年后，它仍未得到广泛应用。这是由于在现实世界中部署和运营自动驾驶车辆的复杂性和失败尝试。相反，自主机器学习系统被部署来管理和创建互联网上最受欢迎的社会网络和内容推荐系统的用户体验。
- en: Large social networks employ algorithms to select posts and stories to be displayed
    on subscribers’ timelines using a recommender system. For the individual user,
    this may seem like an example of an assistive system; they are able to see a consistent
    thread of content in an unmanageable ocean of information. The users, however,
    have no choice about the content that they see or, more importantly, what they
    don’t see. The social network is an autonomous system, intelligently directing
    the content on its servers to its subscribers.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 大型社交网络使用推荐系统算法来选择在订阅者时间轴上显示的帖子和信息。对于单个用户来说，这看起来可能是一个辅助系统的例子；他们能够在信息海洋中看到一条连贯的内容线索。然而，用户对于他们看到的内容或更重要的是，他们看不到的内容，没有选择权。社交网络是一个自主系统，智能地将其服务器上的内容定向发送给其订阅者。
- en: Self-driving cars reveal one face of an autonomous system; social networks reveal
    the other. A self-driving application manages the kinetic power of a car. Social
    networks don’t have localized kinetic power, but they do have global and societal
    scale. An application such as a large social network platform is not possible
    without AI. Since the development of these systems, they have generated hundreds
    of billions of dollars of revenue for their creators. Because autonomous systems
    have such a high value, creating applications that can’t be handled by humans
    and managing systems that are beyond human capability, and yet are obviously dangerous,
    are they themselves intrinsically dangerous. This is not to say that they shouldn’t
    be built and used!
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 自动驾驶汽车揭示了自主系统的一面；社交网络揭示了另一面。自动驾驶应用管理汽车的动能。社交网络没有局部化的动能，但它们具有全球和社会规模。没有人工智能，大型社交网络平台这样的应用是不可能的。自从这些系统开发以来，它们已经为它们的创造者创造了数千亿美元的收益。由于自主系统具有如此高的价值，创建人类无法处理的应用，管理超出人类能力范围的系统，而这些系统显然是危险的，它们本身是否本质上就是危险的。这并不是说它们不应该被构建和使用！
- en: The power and promise of autonomous systems make them the ideal candidates for
    solutions to the problems facing us today. Your task is to find the mechanisms
    that constrain and manage the fundamental dangers and pitfalls that their development
    and deployment has revealed to date.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 自主系统的力量和承诺使它们成为解决我们今天面临问题的理想候选者。你的任务是找到限制和管理它们开发和部署至今所揭示的基本危险和陷阱的机制。
- en: Currently, the intent and structure of the system, along with the power and
    the significance of the application, drive many of the design decisions in this
    type of project. As the implementation phase is undertaken, the team has to consider
    all of these decisions in relationship to all the steps and activities that they
    need to undertake to get the final system delivered.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，系统的意图和结构，以及应用的力量和重要性，驱动着这类项目中许多设计决策。随着实施阶段的进行，团队必须考虑所有这些决策与所有需要执行以交付最终系统步骤和活动之间的关系。
- en: The first of these is to build a production data infrastructure that hydrates
    the application with the data it needs to function.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 其中之一是建立一个生产数据基础设施，为应用提供其运行所需的数据。
- en: 9.3 Nonfunctional review
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.3 非功能性审查
- en: The team has now spent several weeks working with the data, the infrastructure,
    and the users, and they should have a far more detailed view of what is needed
    to deliver successfully. Additionally, you have the models generated by ML in
    your hands, and the patterns of data movement and transformation that are required
    to create the features and inputs for the models are now well-defined. Putting
    these things together enables a meaningful set of requirements in terms of the
    amount of processing time that is available for the different components of the
    production system and the amount of money and environmental resources that the
    client has to spend to power each of these elements.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 团队现在已经花费了几周时间与数据、基础设施和用户一起工作，他们应该对成功交付所需的内容有一个更为详细的了解。此外，你手中还有机器学习生成的模型，以及创建模型所需特征和输入所需的数据移动和转换模式现在已经定义良好。将这些事情结合起来，可以在处理时间、不同生产系统组件以及客户为每个元素提供动力所需资金和环境资源方面形成一个有意义的系统需求集。
- en: Processing time needs to be considered both in terms of latency (the time to
    respond to the service request) and throughput (how many service requests can
    be completed in a given timeframe). Table 9.3 shows a longer list of some of the
    requirements that you and the team must consider when reviewing the training pipelines
    for reimplementation and migration.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 处理时间需要从延迟（响应服务请求的时间）和吞吐量（在给定时间内可以完成多少个服务请求）两个方面来考虑。表9.3显示了在审查重新实现和迁移的训练管道时，你和团队必须考虑的一些要求的长列表。
- en: Table 9.3 Nonfunctional requirements in an ML-powered system
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.3 机器学习系统中的非功能性需求
- en: '| Requirement | Description | Notes |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| Requirement | Description | Notes |'
- en: '| --- | --- | --- |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| $Cost | How much it costs to execute the system. | Need to consider long
    life but cheap infrastructure versus short life but more expensive. |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| $Cost | 执行系统的成本。 | 需要考虑长期使用但成本较低的基础设施与短期使用但成本较高的基础设施之间的权衡。 |'
- en: '| Environmental cost | The amount of environmental damage that can be accepted
    per use of the service. | Thought should be given to environmental impacts including
    greenhouse gas emissions and the use of noxious chemicals in air conditioning
    and cooling systems. Be cognizant of the consumption of metals, such as rare earth
    and gold, which may be involved in fielding your service in some domains. |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| Environmental cost | 每次使用服务所能接受的环保损害量。 | 应当考虑环境影响，包括温室气体排放以及空调和冷却系统中使用的有害化学物质。应意识到金属（如稀土和金）的消耗，这些金属可能在某些领域部署你的服务时涉及。
    |'
- en: '| Latency/wall clock | The amount of elapsed time from a service request to
    a delivered result. | In some applications, this is considered in terms of a flat
    requirement such as less than 0.5 s; alternatively, present as an expectation
    around a distribution or range of outcomes. |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| Latency/wall clock | 从服务请求到结果交付所经过的时间。 | 在某些应用中，这被视为一个平直的要求，例如小于0.5秒；或者，可以作为一个关于分布或结果范围的期望来呈现。
    |'
- en: '| Throughput | The number of requests that can be served in a given amount
    of time. | This defines how many customers utilizing the services can be supported
    simultaneously by the system. |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| Throughput | 在给定时间内可以处理的服务请求数量。 | 这定义了系统可以同时支持多少客户使用服务。 |'
- en: '| Queue policy | Preference for serving excess requests. | If there are more
    requests than can be supported by the system throughput, or a request cannot be
    served in the required clock time, what should the behavior of the system be?
    Should strict FIFO/LIFO behavior be enforced? Are there other requirements to
    prioritize certain requests? |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| Queue policy | 对处理超额请求的优先级。 | 如果请求数量超过了系统吞吐量所能支持的数量，或者请求无法在所需的时钟时间内得到处理，系统应该采取什么行为？是否应该强制执行严格的先进先出/后进先出行为？是否有其他要求来优先处理某些请求？
    |'
- en: '| Failure policy | When a request cannot be served without breaching a nonfunctional
    requirement, what should happen? | Some systems should fail silently, some should
    provide an exception/failure response and message, and some should serve the request
    outside of the nonfunctional requirement. In some cases, it’s even appropriate
    to close the system after failure. |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| Failure policy | 当请求无法在不违反非功能性需求的情况下得到处理时，应该发生什么？ | 一些系统应该静默失败，一些系统应该提供异常/失败响应和消息，而一些系统应该在非功能性要求之外处理请求。在某些情况下，在失败后关闭系统甚至可能是适当的。
    |'
- en: '| Durability | How long the service is to perform without failure. | Some systems
    become unreliable over time. Determining how long the models must work in service
    dictates the kind of measures that are required to mitigate this. |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| Durability | 服务在无故障状态下运行的时间长度。 | 一些系统随着时间的推移会变得不可靠。确定模型必须在服务中工作多长时间，这决定了需要采取哪些措施来减轻这种情况。
    |'
- en: '| Reliability | How many failures (breach of nonfunctional requirements) the
    system can tolerate. | Consider all sources of failure together as well as looking
    at them one at a time. |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| Reliability | 系统可以容忍多少次故障（非功能性需求违反）。 | 应当考虑所有故障来源，同时也要逐一审视它们。 |'
- en: The models and the pipelines, along with the setting for the system, are now
    in hand. These are the component parts that your team will integrate into the
    system (however it’s going to be constructed). Now you can work out the E2E (end-to-end)
    performance expectations. You can then determine if you will hit the targets that
    you’re shooting for.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 模型和管道，以及系统的设置，现在都已掌握。这些是您的团队将集成到系统中的组件部分（无论系统如何构建）。现在您可以确定E2E（端到端）的性能预期。然后您可以确定是否能够达到您所追求的目标。
- en: 9.4 Implementing the production system
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.4 实施生产系统
- en: This section serves to assist you when implementing your production system.
    As a reminder, let’s look at the sprint 3 tickets associated with this task.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 本节旨在帮助您实施生产系统。作为提醒，让我们看看与该任务相关的冲刺3票据。
- en: 'System implementation ticket: S3.3'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 系统实施票据：S3.3
- en: Build the production data flows to enable the models to make inferences.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建生产数据流，以使模型能够进行推理。
- en: 'System implementation ticket: S3.4'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 系统实施票据：S3.4
- en: Build the model server and the inference system.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建模型服务器和推理系统。
- en: 'System implementation ticket: S3.5'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 系统实施票据：S3.5
- en: Determine the appropriate interface components required by your system.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定系统所需的适当接口组件。
- en: 'System implementation ticket: S3.6'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 系统实施票据：S3.6
- en: Select a conformant interface development approach, allowing for the delivery
    of the interface requirements.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择符合接口开发方法，以便交付接口要求。
- en: 9.4.1 Production data infrastructure
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.4.1 生产数据基础设施
- en: 'Your models are going into production, where they will be integrated into an
    application, and they are going to have to function effectively. There are two
    key components to the production infrastructure: the data pipelines that are going
    to funnel the application data into the models, including the processes that create
    the features and the model-serving infrastructure that is going to invoke and
    execute the models to produce a result. The data is constructed from lots of different
    sources. For example, if a user clicks a shopping basket, there is data from the
    click (which button, how long since the last click, etc.), from the basket (the
    data store that holds previous selections), and from the user data store and the
    commercial context.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您的模型将进入生产环境，将集成到应用程序中，并且它们必须有效运行。生产基础设施有两个关键组件：将应用程序数据导入模型的管道，包括创建特征的过程，以及将调用并执行模型以产生结果的模型服务基础设施。数据来自许多不同的来源。例如，如果用户点击购物车，有来自点击的数据（哪个按钮，自上次点击以来有多久等），来自购物车（存储先前选择的数据存储），以及来自用户数据存储和商业环境。
- en: Figure 9.4 shows this implementation pattern at a high level. Data flows in
    from the stores and the operational activities, such as user interface clicks
    or sensor data. Processing that data turns it into the features and formats that
    the model expects. (This step replicates the processes used in the training and
    testing pipelines.) A mechanism then takes that entity of data and passes it to
    a running instance of the model.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4展示了这一实现模式的高级视图。数据从存储和操作活动（如用户界面点击或传感器数据）流入。处理这些数据将其转换为模型期望的特征和格式。（此步骤复制了训练和测试管道中使用的流程。）然后，一种机制将这个数据实体传递给模型的运行实例。
- en: '![](../Images/09-04.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![图9.4](../Images/09-04.png)'
- en: Figure 9.4 An abstract view of the production ML implementation. Data is pulled
    into and collected in a feature creation process, and then it’s submitted to a
    running instance of the model(s) that are used to generate an inference and an
    output.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4 生产机器学习实现的抽象视图。数据被拉入并收集在特征创建过程中，然后提交给运行实例的模型（用于生成推理和输出）。
- en: In sprint 1, you created training data pipelines and used those to manage the
    training data. In sprint 2, you implemented the pipelines for the test environment,
    replicating the data delivery pipelines in the training environment to the test
    environment. Now you and the team need to build the production pipelines to feed
    data into the models selected. The hardware and systems that are available to
    do this in a production environment are typically different from those that are
    provided in development.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在冲刺1中，您创建了训练数据管道，并使用这些管道管理训练数据。在冲刺2中，您实现了测试环境的管道，复制了训练环境中的数据交付管道到测试环境。现在您和团队需要构建生产管道，将数据输入选定的模型。在生产环境中执行此操作的可用的硬件和系统通常与开发中提供的不同。
- en: Table 9.4 describes some of options that you and the team may now face. The
    data pipelines that you constructed to provide examples to your model from pre-canned
    resources now have to run on the production infrastructure. Unfortunately (for
    everyone concerned, but especially for ML engineers), data technology has evolved
    through many generations. You and the team may be confronted by any one of them.
    In the worst case, you are going to be confronted by all of them at once. Table
    9.4 provides an overview of the types of sources and data engines that you can
    expect in the production context. Thank your lucky stars that you do not need
    to pull the data for the pipeline with COBOL.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.4描述了您和团队可能现在面临的一些选项。您构建的数据管道原本是为了从预定义资源中为模型提供示例，现在必须在生产基础设施上运行。不幸的是（对所有人来说都是如此，尤其是对机器学习工程师来说），数据技术已经经历了许多代的发展。您和团队可能会遇到其中任何一代。在最坏的情况下，您可能会同时遇到所有这些。表9.4提供了生产环境中可以预期的数据源和数据引擎类型的概述。感谢您的幸运之星，您不需要用COBOL来拉取管道的数据。
- en: Table 9.4 Data engines and their use in the production service
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.4 数据引擎及其在生产服务中的应用
- en: '| Data engine type | Characteristics | Use case/comments |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 数据引擎类型 | 特点 | 用例/备注 |'
- en: '| --- | --- | --- |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| 内存存储（Redis, Memcached） | 极高的速度，但不持久或数据安全。可能成本高昂。 | 需要高速/低延迟的推理结果，且数据转换和处理相对简单。
    |'
- en: '| Data lake (HDFS, S3) plus processor (Hadoop, EMR, Dataproc, Databricks) |
    Storage using a flexible filesystem and large-scale processing. | Large offline
    and cheap data transforms required; typically coupled with a faster store to support
    the inference service. |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| 数据湖（HDFS, S3）加处理器（Hadoop, EMR, Dataproc, Databricks） | 使用灵活的文件系统和大规模处理进行存储。
    | 需要大型的离线且成本较低的数据转换；通常与更快的存储配合使用以支持推理服务。 |'
- en: '| Data warehouse (BigQuery, Redshift, Oracle Exadata, etc.) | Managed data
    store for training data (typically, the default). | Flexible analytic data infrastructure
    that provides a general-purpose engine for serving models. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 数据仓库（BigQuery, Redshift, Oracle Exadata等） | 用于训练数据的托管数据存储（通常是默认选项）。 | 提供通用引擎的灵活分析数据基础设施，用于服务于模型。
    |'
- en: '| RDBMS transaction server (Oracle, MySQL, Postgres, Spanner) | Good application
    performance if properly designed and optimized. Can struggle at the limit or become
    expensive. | Provides a direct reimplementation layer to accelerate a pipeline
    with minimal technical change. |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| RDBMS事务服务器（Oracle, MySQL, Postgres, Spanner） | 如果设计得当并优化良好，具有良好的应用性能。在极限情况下可能会遇到困难或变得昂贵。
    | 提供直接重实现层，以最小的技术更改加速管道。 |'
- en: '| Document store/NSQL (Mongo, CouchDB, Cassandra, Big Table) | High speed;
    good at serving large objects. | Need to retrieve large unstructured objects and
    serve to the inference service. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 文档存储/NSQL (Mongo, CouchDB, Cassandra, Big Table) | 高速；擅长处理大型对象。 | 需要检索大型非结构化对象并服务于推理服务。
    |'
- en: '| Memory store (Redis, Memcached) | Extremely high speed, but not persistent
    or data safe. Can be expensive. | High speed/low latency inference results required
    with relatively straightforward data transformation and manipulation. |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: A modern approach is to abstract the data sources in production behind an access
    layer. In this scenario, the team cannot access or query the actual databases
    from which they will get the data. Instead, they will be provided with an API
    address that invokes the query automatically. There are lots of advantages to
    this pattern. The main advantage is that by introducing an abstraction layer,
    the system is decoupled from the implementation details of the sources that it
    depends on.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 现代的方法是在生产环境中通过一个访问层抽象数据源。在这种情况下，团队无法访问或查询他们将从其中获取数据的实际数据库。相反，他们将被提供一个API地址，该地址会自动调用查询。这种模式有很多优点。主要优点是通过引入抽象层，系统与其依赖的源的实施细节解耦。
- en: If this isn’t the approach in the production architecture that you use, it may
    be a good idea to implement it yourselves so you can deal with future architectural
    evolution. It’s much easier to cope with a database upgrade if all the calls and
    interactions in the system are managed through a well-controlled and well-documented
    API.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在生产架构中您没有采用这种方法，那么自己实现它可能是个好主意，这样您就可以应对未来的架构演变。如果系统中的所有调用和交互都通过一个控制良好且文档齐全的API进行管理，那么处理数据库升级会容易得多。
- en: Regardless of the infrastructure used, the key challenge is to replicate the
    data pipeline developed in sprint 2, which supports the construction of the examples
    that are presented to the model. You will be able to reuse much of the code that
    was developed, but this shift often requires that you will need to make changes.
    This could create a situation where, although the model used in prod is the model
    developed and tested by the team (with all the artefacts created and used carefully
    preserved), it behaves differently because the data pipeline is throwing new biases
    into the mix. The way to control this is to fall back on the data testing systems
    that you developed in sprint 1 to ensure that the right data was produced for
    model building.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 无论使用哪种基础设施，关键挑战都是复制在冲刺2中开发的实际数据管道，该管道支持向模型展示的示例构建。您将能够重用大部分已开发的代码，但这一转变通常需要您进行更改。这可能导致一种情况，即尽管生产中使用的模型是团队开发并测试的模型（所有创建和使用的工件都经过仔细保存），但由于数据管道将新的偏差引入其中，其行为可能不同。控制这种行为的办法是回退到在冲刺1中开发的测试数据系统，以确保为模型构建生成了正确的数据。
- en: Testing and verifying the actual and expected behavior of the data pipeline
    is a key guarantee for model fidelity. The next section looks at another. The
    second aspect of the production system that needs to be considered is the model-serving
    mechanism.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 测试和验证数据管道的实际和预期行为是保证模型精确性的关键保证。下一节将探讨另一个方面。生产系统需要考虑的第二个方面是模型服务机制。
- en: 9.4.2 The model server and the inference service
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.4.2 模型服务器和推理服务
- en: An *inference service* is a mechanism that provides optimized and efficient
    compute and storage for executing your models. It is an execution mechanism that
    meets this project’s requirements for latency, scale (number of requests), and
    cost (overall, given the number of requests expected). Inference services are
    design and implementation patterns and packages that you use to cope with the
    challenges of running large and complex models in production.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**推理服务**是一种提供优化和高效计算和存储以执行您的模型的机制。它是一种满足本项目对延迟、规模（请求数量）和成本（总体而言，考虑到预期的请求数量）要求的执行机制。推理服务是您用来应对在生产环境中运行大型和复杂模型挑战的设计和实现模式以及包。'
- en: A large-scale or pervasive ML-powered system might invoke the models that power
    it billions of times in its lifetime. If an optimization of just 1% is made, then
    that is equivalent to tens of millions of model invocations. A system such as
    Google Translate or the Facebook recommender supports a revenue stream that is
    large and sustained, so a specialist team implements and supports the production
    services for the ML-compute components. This team can hone and optimize the execution
    framework to support the required scale and performance of such systems.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 一个大规模或普遍的机器学习系统在其生命周期中可能会调用数十亿次支持其运行的模型。如果仅对优化进行1%的改进，那么这相当于数千万次的模型调用。像Google
    Translate或Facebook推荐系统这样的系统支持一个庞大且持续的收益流，因此一个专业团队负责实施和支持机器学习计算组件的生产服务。这个团队能够磨练和优化执行框架，以支持这些系统的所需规模和性能。
- en: In many other scenarios, though, a dedicated team (or bunch of teams) may not
    be organizationally feasible, even if a business case can be made that they would
    be a cost-effective investment. Organizations often struggle with cash flow or
    have strategic imperatives that pull investment from cost-effective activities
    to mitigate existential risks of competition or regulation. Although some places
    have well-oiled ML machines purring in production, the rest of the world must
    muddle through as best we can.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多其他场景中，尽管可以提出一个业务案例，表明它们是一个具有成本效益的投资，但一个专门的团队（或多个团队）在组织上可能不可行。组织常常在现金流或战略需求上挣扎，这些需求将投资从具有成本效益的活动中撤出，以减轻竞争或监管的生存风险。尽管一些地方有运行良好的机器学习机器在生产中嗡嗡作响，但世界上的其他地方必须尽力而为。
- en: There are two approaches beyond the expensive (and risky) use of a bespoke implementation.
    The first is to use a mainstream execution engine and to minimally customize it
    to support your ML function. Table 9.5 flags various execution engines.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 除了使用定制实现的昂贵（且风险高）方法之外，还有两种方法。第一种是使用主流执行引擎，并对其进行最小化定制以支持您的机器学习函数。表9.5列出了各种执行引擎。
- en: Table 9.5 Using generic execution engines for ML models
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.5 使用通用执行引擎为机器学习模型
- en: '| Engine | Comments |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| 引擎 | 备注 |'
- en: '| --- | --- |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| In a database:BigQuery ML, Redshift ML, Oracle OCI, Vertica PMML | Execution
    in database functions means accepting constraints on how the application runs,
    but this is a modular and decoupled approach. |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| 在数据库中：BigQuery ML, Redshift ML, Oracle OCI, Vertica PMML | 在数据库函数中执行意味着接受对应用程序运行方式的限制，但这是一种模块化和解耦的方法。|'
- en: '| Application servers:NGINX, Apache Tomcat, Flask, Appserver | For generic
    low-scale and permissive latency/cost use cases. Consider because of the low barrier
    in terms of skills and setup requirements. |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| 应用服务器：NGINX, Apache Tomcat, Flask, Appserver | 用于通用低规模和宽容的延迟/成本用例。考虑到技能和设置要求的低门槛，可以考虑使用。|'
- en: '| SPARK-like solutions:Apache SPARK, Databricks, Dataproc | Good support for
    bulk and stream processing with permissive cost and latency requirements. |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 类似SPARK的解决方案：Apache SPARK, Databricks, Dataproc | 在宽容的成本和延迟要求下，提供良好的批处理和流处理支持。|'
- en: '| Kubernetes, Kubeflow | Flexible and scalable support for interactive applications
    with permissive cost requirements. |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| Kubernetes, Kubeflow | 提供对交互式应用的支持，具有灵活可扩展性和宽容的成本要求。|'
- en: '| Serverless:Lambda, Cloud Functions, Azure Functions, Cloud Run. | A flexible,
    modular, and decoupled approach that’s cost effective and performative in some
    applications but can become expensive in unpredictable ways. |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| 无服务器：Lambda, Cloud Functions, Azure Functions, Cloud Run | 一种灵活、模块化和解耦的方法，在某些应用中成本效益高且性能出色，但可能以不可预测的方式变得昂贵。|'
- en: All these options have tradeoffs and benefits. In many applications, it’s sensible
    to run the ML in the database, but doing this impacts the behavior of the database,
    and it can be expensive. Also, database execution is necessarily inflexible; database
    engines are updated and maintained with respect to their performance as database
    engines, not with regards to their prowess as ML engines. The latest ML technology
    will not be in the database you use, at least not until it’s available in an engine
    less strongly coupled to another core concern of the software stack.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些选项都有其权衡和好处。在许多应用中，在数据库中运行机器学习是合理的，但这样做会影响数据库的行为，并且可能成本高昂。此外，数据库执行必然缺乏灵活性；数据库引擎的更新和维护是基于其作为数据库引擎的性能，而不是作为机器学习引擎的能力。最新的机器学习技术不会出现在你使用的数据库中，至少不会出现在与软件堆栈的其他核心关注点联系不那么紧密的引擎中。
- en: We use application servers to invoke execution from web pages and apps. The
    frontend on a phone or a browser calls the application server for some off-device,
    server-side processing, and the application server provides the response. These
    systems are often massively parallel and scalable and offer state-of-the-art load
    balancing and error management. They are, after all, the systems that field the
    requests from billions of users to many of the internet services that we use every
    day.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用应用服务器从网页和应用程序中调用执行。手机或浏览器的前端调用应用服务器进行一些离设备的服务器端处理，应用服务器提供响应。这些系统通常是大规模并行和可扩展的，并提供了最先进的负载均衡和错误管理。毕竟，它们是处理数十亿用户请求的系统，这些请求是我们每天使用的许多互联网服务的一部分。
- en: SPARK-like solutions provide a variety of ways to manage parallelism in memory
    with support for accessing a filesystem that contains the data needed to run a
    model. SPARK is a mainstream programming approach, so many developers have this
    skill. SPARK interacts with Python and R implementations of models well, so its
    cost is typically low. SPARK tends to be expensive for on demand applications
    and isn’t good for extremely low latency applications.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 类似SPARK的解决方案提供了多种管理内存中并行性的方法，并支持访问包含运行模型所需数据的文件系统。SPARK 是一种主流编程方法，因此许多开发者都具备这项技能。SPARK
    与 Python 和 R 的模型实现交互良好，因此其成本通常较低。SPARK 对于按需应用来说可能成本高昂，而且不适合极低延迟的应用。
- en: Kubernetes (K8s) provides a scalable, persistent processing system. It is especially
    attractive in a cloud environment, where you can use it as a managed service.
    Kubernetes can be expensive for bursty workloads, however.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes (K8s) 提供了一个可扩展的持久处理系统。在云环境中，你可以将其用作托管服务，这特别吸引人。然而，对于突发工作负载，Kubernetes
    可能成本高昂。
- en: Finally, serverless systems excel at providing extremely scalable on demand
    processing for bursty workloads, but they have a relatively high startup latency
    compared to persistent, always on approaches like K8s. It’s important to be careful
    about pricing models underpinning serverless approaches. If cloud providers decide
    that it’s commercially appropriate for them to change the pricing approach of
    a serverless engine, then this can be disruptive for any ML system using it. Ensure
    that you have an offramp.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，无服务器系统在提供对突发工作负载的极大规模按需处理方面表现出色，但与像K8s这样的持久、始终在线的方法相比，它们的启动延迟相对较高。在无服务器方法背后的定价模型方面，我们必须谨慎。如果云服务提供商决定改变无服务器引擎的定价方法在商业上是合适的，那么这可能会对使用它的任何机器学习系统造成破坏。确保您有一个退出策略。
- en: The second approach is to use an engine designed to support ML invocation from
    the ground up. Interest in this approach, however, waxes and wanes in the ML community.
    In the ancient history of AI, specialist compute platforms such as Lisp machines
    described by Withington [11] were developed but were out competed by mainstream
    processors like the Intel 8086, Dec Alpha, Sun Spark, and Motorola 68000\. Perhaps
    this will happen with ML server engines, but again, perhaps not. Engines like
    OpenVINO [7] and TensorFlow Serving [4] (Google 2021) are optimized to manage
    the execution of models that are, in fact, millions or billions of regularized
    activations created by operations over floating-point numbers. Additionally, a
    prebuilt engine offers the advantage of optimizations aimed at processor instruction
    sets such as the Google TPU or Intel processor instructions.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种方法是使用从底层设计来支持机器学习调用的引擎。然而，这种方法的兴趣在机器学习社区中起伏不定。在人工智能的古老历史中，像Withington [11]
    描述的Lisp机器这样的专用计算平台被开发出来，但被像Intel 8086、Dec Alpha、Sun Spark和Motorola 68000这样的主流处理器所取代。也许机器学习服务器引擎也会发生这种情况，但也许不会。像OpenVINO
    [7] 和TensorFlow Serving [4]（Google 2021）这样的引擎被优化来管理模型的执行，这些模型实际上是由浮点数操作创建的数百万或数十亿的正则化激活。此外，预构建的引擎还提供了针对处理器指令集的优化优势，例如Google
    TPU或Intel处理器指令。
- en: Determining the production implementation for your data flow, the processing
    required to hydrate your models, and the processing surface that executes them
    is hugely important. However, if the users can’t see what is happening, or if
    they have insufficient controls to manipulate it in the ways that they need to,
    then it’s all for nothing. Given the importance of good UX, we’ll address that
    in the next section.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 确定您数据流的生产实现、用于使模型活化的处理以及执行它们的处理表面非常重要。然而，如果用户看不到正在发生的事情，或者他们没有足够的控制来以他们需要的方式操作它，那么这一切都是徒劳的。鉴于良好用户体验的重要性，我们将在下一节中讨论这个问题。
- en: 9.4.3 User interface design
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.4.3 用户界面设计
- en: Many would argue that the starting point for any system should be the impact
    that it has on the people it supports. Advocates of “Design Thinking” might champion
    the need for structured processes that surface the constraints and requirements
    of usability. A good example from Liedtka’s HBR article [6] was an inappropriate
    hospital booking system. Its users were old and not computer savvy, as well as
    ill and disorientated by the maladies that led them to use the system. From this
    perspective, building a clever automated booking system before understanding how
    it would be used is a waste of money and time.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人会认为，任何系统的起点都应该是它对其支持的人产生的影响。 “设计思维”的倡导者可能会支持需要结构化流程来揭示可用性约束和需求。Liedtka的HBR文章
    [6] 中的一个好例子是不合适的医院预约系统。它的用户是老年人，不擅长使用电脑，以及由于导致他们使用系统的疾病而感到不适和迷失方向。从这个角度来看，在了解它将如何被使用之前构建一个聪明的自动化预约系统是金钱和时间的浪费。
- en: Another example of failure caused by an inappropriate interface is the Boeing
    737 MAX aircraft and its MCAS system. This system was designed to make flying
    easy for pilots, providing controls that supported a pilot in the case of a stall.
    Theoretically, this would avoid a dangerous event that could cause the aircraft
    to crash. The activation light for this system was an expensive optional extra
    in the cockpit configuration, and so some airlines chose not to include it in
    the systems they purchased. Unfortunately, this meant that pilots were unaware
    when the system was activated, which might have been OK if it only turned on when
    there was a stall condition. However, in some cases, damaged sensors meant that
    the system activated when the aircraft was in normal flight, causing it to dive
    towards the ground and to behave in ways that its pilots didn’t understand, let
    alone know how to deal with [8]. Concealing the workings of the model apparently
    contributed to the deaths of 100’s of people, and consequently, billions of dollars
    of commercial loss as the 737 MAX was withdrawn from use and retrofitted.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个由于不适当的界面导致的失败例子是波音737 MAX飞机及其MCAS系统。该系统旨在使飞行员飞行变得容易，提供在飞机失速时支持飞行员的控制。理论上，这将避免可能导致飞机坠毁的危险事件。该系统的激活灯是驾驶舱配置中的一个昂贵的可选额外设备，因此一些航空公司选择不在他们购买的系统中包含它。不幸的是，这意味着飞行员在系统激活时并不知情，如果它只在失速条件下打开，这可能没问题。然而，在某些情况下，损坏的传感器意味着系统在飞机正常飞行时激活，导致飞机向地面俯冲，并以飞行员不理解甚至不知道如何应对的方式行事[8]。显然，隐藏模型的工作原理导致了数百人的死亡，因此，737
    MAX被停用并进行了返修，造成了数十亿美元的商誉损失。
- en: Saleema Amershi [3] published a set of guidelines for developing AI systems
    in 2019, summarized in table 9.6\. Although Amershi talks about AI, it’s clear
    that these guidelines (numbered as G1 to G18) are focused on systems that contain
    ML models, and so are relevant to your project. You’ll note that Table 9.6 is
    annotated with some asterisks. These signify guidelines that are especially important
    for UI designers in ML projects. Although all the guidelines presented in this
    chapter are significant for system value and success, the guidelines G1, G2, G4,
    G5, G6, G8, G10, G14, G15, G17, and G18 are especially important in that these
    can prevent catastrophic failure. These guidelines focus on preventing ML systems
    from committing *sins of commission*, where a system that acts badly is worse
    than one that leaves its users to decide for themselves.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: Saleema Amershi [3]于2019年发布了一套开发AI系统的指南，总结在表9.6中。尽管Amershi谈论的是AI，但很明显，这些指南（编号为G1至G18）主要关注包含ML模型的系统，因此与你的项目相关。你会注意到表9.6中标注了一些星号。这些星号表示对ML项目中的UI设计师特别重要的指南。虽然本章中提出的所有指南对系统价值和成功都具有重要意义，但G1、G2、G4、G5、G6、G8、G10、G14、G15、G17和G18这些指南尤为重要，因为这些可以防止灾难性失败。这些指南侧重于防止ML系统犯下*越权之罪*，即一个表现不佳的系统比让用户自行决定更糟糕。
- en: Table 9.6 AI design guidelines (adapted from Amershi [3])
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.6 AI设计指南（改编自Amershi [3]）
- en: '| When to use | Number | Design guideline |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| 何时使用 | 数字 | 设计指南 |'
- en: '| --- | --- | --- |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Initially | G1* | Make clear what the system can and can’t do. |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| 初始时 | G1* | 清楚地说明系统能做什么和不能做什么。 |'
- en: '| G2* | As well as describing the system’s capabilities, clarify how well the
    system works. |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '| G2* | 除了描述系统的功能外，还要阐明系统工作得有多好。 |'
- en: '| During interaction | G3 | Time proactive interactions with regard to the
    user’s current task and environment. |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| 在交互过程中 | G3 | 考虑到用户的当前任务和环境进行主动交互的时间。 |'
- en: '| G4* | Show information relevant to the user’s current context. |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
  zh: '| G4* | 显示与用户当前上下文相关的信息。 |'
- en: '| G5* | Provide information in a way that the user can reflect on its social
    and cultural context. |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '| G5* | 以用户能够反思其社会和文化背景的方式提供信息。 |'
- en: '| G6 | Make sure that information and instructions don’t reflect unfair social,
    gender, or racial biases. |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '| G6 | 确保信息和说明不反映不公平的社会、性别或种族偏见。 |'
- en: '| When wrong | G7 | Support efficient invocation to make it easy for the system
    work. |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
  zh: '| 当出错时 | G7 | 支持高效的调用，使系统工作变得容易。 |'
- en: '| G8* | Make it easy to turn the system off, even after failing. |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| G8* | 即使在失败后也要使系统易于关闭。 |'
- en: '| G9 | Support efficient correction by making it easy to correct and edit the
    systems output and actions. |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| G9 | 通过使系统输出和动作的更正和编辑变得容易来支持高效的更正。 |'
- en: '| G10* | Scope services when in doubt. If the system isn’t sure, then get more
    information from the user or gracefully degrade the service when unclear about
    the users’ goals. |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| G10* | 在不确定的情况下确定服务范围。如果系统不确定，则从用户那里获取更多信息，或者在不确定用户目标时优雅地降低服务。|'
- en: '| G11 | Give users access to explanations about the system’s behavior. |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| G11 | 使用户能够访问有关系统行为的解释。|'
- en: '| Over time | G12 | Remember recent interactions and maintain those in memory
    to make it easy for the user to use that memory to get service. |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| Over time | G12 | 记住最近的交互，并在内存中保持这些交互，以便用户可以使用这些记忆来获得服务。|'
- en: '| G13 | Learn from user behavior; personalize the system to the user. |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| G13 | 从用户行为中学习；根据用户个性化系统。|'
- en: '| G14* | Adapt cautiously. Limit disruptive and unexpected changes to the system’s
    behavior, especially where the user has needs based on their expectations. |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| G14* | 谨慎适应。限制对系统行为的破坏性和意外变化，特别是在用户基于其期望有需求的地方。|'
- en: '| G15* | Encourage granular feedback. Enable users to provide meaningful information
    on performance and ensure that there is a mechanism to do that. |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| G15* | 鼓励细致的反馈。使用户能够提供有关性能的有意义的信息，并确保有机制可以实现这一点。|'
- en: '| G16 | Let users know when their input changes the behavior of the system.
    |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| G16 | 当用户的输入改变系统的行为时，通知用户。|'
- en: '| G17* | Allow the users to monitor and control how the system behaves. |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| G17* | 允许用户监控和控制系统的行为。|'
- en: '| G18* | Notify users about changes. Inform the users when the AI’s capabilities
    are updated or enhanced so that they can modify their expectations. |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| G18* | 通知用户关于变更的信息。当AI的能力更新或增强时，通知用户以便他们可以修改他们的期望。|'
- en: 'These guidelines can help to create a list of instruments and controls that
    are required for a particular system. The smart building example that was discussed
    earlier in the book can serve as an example as we delve into more detail about
    the guidelines:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这些指南可以帮助创建一个特定系统所需的仪器和控制列表。书中之前讨论的智能建筑示例可以作为我们深入了解指南细节的例子：
- en: '*G1:* Everyone in the building should be aware that the environment is managed
    by an AI system. We could create signage to let people know, and the building’s
    web page could have a note about the system on it.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G1:* 建筑中的每个人都应该意识到环境是由AI系统管理的。我们可以创建标牌让人们知道，建筑网站也可以在页面上添加关于系统的说明。|'
- en: '*G2:* Information about the performance during field testing and validation
    should be shared, and the results explained. Draw attention to the carbon savings,
    explaining that this might mean that some parts of the building are cooler than
    normal outside of business hours, for example.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G2:* 应共享现场测试和验证期间的性能信息，并解释结果。关注碳减排，解释这可能意味着在非工作时间，建筑的一些部分比正常情况下更凉爽。|'
- en: '*G3:* Ensure that the system doesn’t make radical adjustments to temperature
    and lighting during core business hours.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G3:* 确保系统在核心业务时间不进行温度和照明的激进调整。|'
- en: '*G4:* Ensure that the environmental and power consumption information for a
    particular building area is available.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G4:* 确保特定建筑区域的环保和能耗信息可用。|'
- en: '*G5:* When presenting the information on environment and power, consider the
    relevance of the raw numbers to the users. Present the information relative to
    previous data and explain the difference. Relate benefits to items that the users
    can understand and empathize with; for example, for carbon savings, “numbers of
    trees felled” or “hectares of forest required to offset.”'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G5:* 在展示环境和能源信息时，考虑原始数字对用户的相关性。将信息与先前数据相比较，并解释差异。将好处与用户可以理解和同情的项目相关联；例如，对于碳减排，“砍伐的树木数量”或“抵消所需的森林公顷数”。|'
- en: '*G6:* Consider factors such as biology in the performance of the system. For
    example, women are often said to feel the cold more than men. Ensure that this
    is considered in the behavior of the system. Also, make sure that any user testing
    panels have an even representation of women and men, and ask each what they think
    of the system’s performance.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G6:* 在系统的性能中考虑诸如生物学等因素。例如，人们常说女性比男性更容易感到寒冷。确保这一点在系统的行为中得到考虑。同时，确保任何用户测试小组中男女比例均衡，并询问他们各自对系统性能的看法。|'
- en: '*G7:* Provide a complaint and management process. Who should the building’s
    users contact, and how?'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G7:* 提供投诉和管理流程。建筑的用户应该联系谁，以及如何联系？|'
- en: '*G8:* Consider that the system might fail and might need to be turned off.
    Ensure that the building managers know how to do this and that the users know
    how to contact the building managers.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G8:* 考虑系统可能会失败，可能需要关闭。确保建筑管理者知道如何这样做，并且用户知道如何联系建筑管理者。'
- en: '*G9:* Provide controls that allow the building managers to control the system
    in meaningful ways. If the users complain that the building is too hot or too
    cold, provide ways to modify the system’s behavior so that it remains in use,
    even if not optimally.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G9:* 提供控制选项，让建筑管理者能够以有意义的方式控制系统。如果用户抱怨建筑太热或太冷，提供修改系统行为的方法，使其保持使用状态，即使不是最优的。'
- en: '*G10:* Ensure that there is a fail-safe option for the building that returns
    it to a steady temperature in case the sensor network and controller produce inputs
    that don’t get a strong response from the model.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G10:* 确保建筑有一个安全选项，在传感器网络和控制器产生模型没有强烈响应的输入时，将其恢复到稳定温度。'
- en: '*G11:* Record what the system is doing and provide access to that log in a
    friendly way so that users can inspect the decision making to moderate or increase
    energy use over a long period.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*G11:* 记录系统正在做什么，并以友好的方式提供对该日志的访问，以便用户可以检查决策过程，以在长时间内调节或增加能源使用。'
- en: 'Over time, an interface developed with G1-G11 guidelines provides a mechanism
    for users to leave feedback and ensures a process where the company’s managers
    get the feedback. For that reason, provide a feedback page where you can keep
    a record of the actions taken by the managers and then publish that so the users
    can see what was done with their feedback. The affordance made for G11 avoids
    a difficult point: providing an explanation of what the models are doing can be
    challenging. Rudin details this as a barrier to the adoption and use of AI systems
    in important applications [10].'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 随着时间的推移，根据G1-G11指南开发的界面为用户提供了一种反馈机制，并确保公司管理者能够收到反馈。因此，提供一个反馈页面，您可以在此记录管理者采取的行动，然后将其发布，让用户可以看到他们的反馈是如何被处理的。为G11提供的便利避免了困难的一点：解释模型所做的事情可能具有挑战性。Rudin将其详细描述为在重要应用中采用和使用AI系统的障碍[10]。
- en: The requirement for transparency in the intended application should have been
    considered in selecting the model. This is a strong system requirement and was
    part of the decision-making in chapter 8\. However, sometimes the best model,
    selected with respect to all the needs and challenges in the project, may be undesirably
    opaque. For example, the AI underpinning the protein structure prediction, AlphaFold
    2, is a complex set of extremely large and arcane deep networks. These are not
    interpretable, but it would be great if they were so that biologists would know
    how and why AlphaFold 2 does what it does. AlphaFold provides some compromise
    capability by rendering the structures that it creates, showing how they differ
    from previous hypothesized structures, and how they then function. This allows
    scientists to evaluate and intuit the effectiveness and value of the black-box
    predictions that AlphaFold makes.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择模型时，应该考虑预期应用中的透明度要求。这是一个强烈的需求，也是第8章决策的一部分。然而，有时根据项目中的所有需求和挑战选择的最佳模型可能是不透明的。例如，支撑蛋白质结构预测的AI，AlphaFold
    2，是一组极其庞大且晦涩的深度网络。这些网络是不可解释的，但如果它们是可解释的，那就太好了，这样生物学家就可以了解AlphaFold 2是如何以及为什么这样做。AlphaFold通过渲染它创建的结构，显示它们与先前假设的结构有何不同，以及它们是如何工作的，提供了一些折衷的能力。这允许科学家评估和直观AlphaFold做出的黑盒预测的有效性和价值。
- en: The best thing for the users and your team may be to use post hoc explanation
    mechanisms. One popular approach for providing explanations of the inferences
    made by deep networks such as AlphaFold 2 is to provide activation maps, showing
    which parts of the processed images cause the highest level of activity in the
    network. A popular package that supports this style of explanation is LIME [9].
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 对于用户和您的团队来说，最好的做法可能是使用事后解释机制。为深度网络如AlphaFold 2提供推理解释的一种流行方法是提供激活图，显示哪些处理过的图像的部分在网络上引起了最高级别的活动。支持这种解释风格的流行软件包是LIME
    [9]。
- en: The art of providing a post hoc explanation is improving all the time, but there
    are strong criticisms of it in Rudin [10]. The judgement you must make is whether
    the harm that is potentially caused by providing a misleading explanation about
    a system’s actions outweighs the harm caused by disregarding the value that an
    opaque system could provide to the users. Being clear that the explanation is
    indicative and may be inaccurate mitigates this potential harm a little, but the
    users are essentially in your hands. It’s your responsibility; exercise care.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 提供事后解释的艺术一直在提高，但在鲁丁[10]中对此有强烈的批评。你必须做出的判断是，提供关于系统行为的误导性解释可能造成的伤害是否超过了忽视不透明系统可能为用户提供的价值所造成的伤害。明确说明解释是指示性的，可能不准确，这可以稍微减轻这种潜在伤害，但用户实际上是在你的手中。这是你的责任；请谨慎行事。
- en: 9.5 Logging, monitoring, management, feedback, and documentation
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.5 日志记录、监控、管理、反馈和文档
- en: 'Support and management component: S3.7'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 支持和管理组件：S3.7
- en: Build logging, monitoring, and alerting components for the system.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为系统构建日志记录、监控和警报组件。
- en: 'Support and management component: S3.8'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 支持和管理组件：S3.8
- en: Ensure that model governance and hand-over arrangements are agreed on.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保模型治理和交接安排已达成一致。
- en: 'Support and management component: S3.9'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 支持和管理组件：S3.9
- en: Produce maintenance and support documentation.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 制作维护和支持文档。
- en: If you are delivering a system into production, then it’s necessary to implement
    a set of administrative and managerial interfaces that allow technical support
    groups to operate it. ML systems are no exception. The system needs to produce
    informative logging information so you can understand that it is performing as
    expected and trace what happens if something goes wrong. It also needs to generate
    alarms in the case of failure, preferably before it fails.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在将系统交付到生产环境中，那么实施一套允许技术支持团队操作的管理和行政接口是必要的。ML系统也不例外。系统需要生成有信息量的日志信息，以便你可以了解它是否按预期运行，并在出现问题的情况下追踪发生了什么。它还需要在失败之前生成警报，最好是失败之前。
- en: For normal software systems, performance monitoring is nonfunctional. In functional
    terms, we can expect the software to work, apart from bugs. ML systems can suffer
    a functional failure in production as well, because the world changes, and the
    patterns and behaviors that were extracted with the ML algorithms in sprint 2
    are no longer relevant. This can happen because the entities that generate the
    demands and actions for the ML predictions change. Perhaps some of them got old
    and died; perhaps other pressures such as economic change or the introduction
    of new technology have radically shifted the dynamics of the domain. For example,
    a model that provided good predictions for music sales based on data prior to
    streaming becoming widespread would likely fail today. It follows that this means
    we must log and alarm functional system behavior as well as nonfunctional behavior
    to decode if, where, and when this kind of functional failure can happen.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 对于正常的软件系统，性能监控是非功能性的。从功能的角度来看，我们可以期望软件在没有错误的情况下正常工作。ML系统在生产中也可能出现功能故障，因为世界在变化，在冲刺2中用ML算法提取的模式和行为可能不再相关。这可能是因为产生ML预测需求和行动的实体发生了变化。也许其中一些已经变老并死亡；也许其他压力，如经济变化或新技术的引入，已经从根本上改变了该领域的动态。例如，一个基于流媒体普及之前的数据提供良好音乐销售预测的模型可能会在今天失败。因此，这意味着我们必须记录和警报功能系统行为以及非功能行为，以解码这种功能故障可能发生的时间、地点和原因。
- en: We need to record and capture in the system’s logs all the events relevant to
    its operation, such as database connections, user logins, data updates, and model
    decisions. The frequency and density of logging is dictated by the application,
    as is the retention period for the logs themselves. Obviously, there is a cost
    in terms of the load that calculating performance metrics imposes on the system,
    and there is a cost for storing the logging data too. This is balanced by the
    requirements of the application that you established when developing the system.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要在系统日志中记录和捕获与其操作相关的所有事件，例如数据库连接、用户登录、数据更新和模型决策。日志记录的频率和密度由应用程序决定，日志本身的保留期也是如此。显然，计算性能指标对系统造成的负载以及存储日志数据都有成本。这通过你在开发系统时建立的应用程序需求来平衡。
- en: The density of the logs is driven by requirements and performance considerations.
    The performance of an alert system is constrained by how humans can interact with
    it effectively. Support groups often complain about alarm storms that turn every
    light on their boards red and send messages to all devices every 10 minutes. These
    alerts are routinely ignored and may as well not exist. The unfortunate side effect
    of this kind of alarm behavior is that the meaningful alerts are lost in the blizzard
    of junk and are ignored as well.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 日志的密度是由需求和性能考虑驱动的。警报系统的性能受限于人类如何有效地与之互动。支持小组经常抱怨警报风暴，每10分钟就会让他们的板上所有灯都变红，并向所有设备发送消息。这些警报通常被忽视，几乎可以忽略不计。这种警报行为的糟糕副作用是，有意义的警报在垃圾信息中丢失，也被忽视了。
- en: Along with logging and alerting, the system must have effectors that you can
    use to control and manage it. Management functionality can be as simple as the
    ability to request a reboot to clear problems like filled queues or failed memory
    allocation. Although it is hoped that the delivered system is bug-free and flawless,
    it’s unwise to plan on that assumption. Providing a restart button can prove to
    be a cheap and effective solution for unexpected problems. It may also be sufficient
    to keep a valuable system in the field for years longer than would otherwise be
    the case.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 除了日志记录和警报之外，系统还必须具备您可以使用来控制和管理的执行器。管理功能可以简单到请求重启以清除队列满或内存分配失败等问题。尽管希望交付的系统无错误且完美，但基于这种假设的计划是不明智的。提供重启按钮可能是一种既经济又有效的解决方案，以应对意外问题。这也可能足以让一个宝贵的系统在现场运行数年，而不会出现其他情况。
- en: A powerful method of making a system supportable in production is to enable
    the users to provide feedback. This is especially useful in the early days of
    a deployment when the development group is still available to implement any required
    fixes. Providing a feedback mechanism is table stakes; you’ve got to do it. What’s
    more important, however, is to get the users to use it. A good method is to directly
    ask them what their opinion of the system is.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在生产环境中使系统可支持的一种强大方法是让用户能够提供反馈。这在部署的早期阶段尤其有用，因为开发组仍然可以实施任何所需的修复。提供反馈机制是基本要求；你必须这样做。然而，更重要的是要让用户使用它。一种好的方法是直接询问他们对系统的看法。
- en: As an example, consider the implementation of a system to support monitoring
    customer complaints on the internet (for example, on Twitter or Facebook). The
    system’s users can be thought of as call center operatives who are disempowered
    in the client organization and are not able for social and cultural reasons to
    speak against the company’s systems. Suppose when they are provided with a mechanism
    for feedback about the system’s performance in confidence, they post many complaints.
    One complaint is that the system takes so long to respond, they sometimes get
    timed out of their account logins. At first, this seems ridiculous, but when investigating
    query time on the backend database, the team finds that some queries are running
    for several minutes. This makes the system both slow and demoralizing to use,
    and it also destroys any benefits that the ML system was designed to create.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，考虑实施一个支持在互联网上监控客户投诉的系统（例如，在Twitter或Facebook上）。系统的用户可以被视为在客户组织中无权力的呼叫中心操作员，由于社会和文化原因，他们无法反对公司的系统。假设当提供了一种关于系统性能的反馈机制时，他们会发布许多投诉。一个投诉是系统响应时间过长，他们有时会超时。起初，这似乎很荒谬，但当调查后端数据库的查询时间时，团队发现一些查询运行了数分钟。这使得系统既慢又令人沮丧，也破坏了ML系统旨在创造的所有好处。
- en: In our example, the problem with the system in production appears because the
    production database was not configured and indexed in the way that it was supposed
    to be. The team didn’t know this because none of the tests showed that. The problem
    is resolved with one phone call to the database team. The point of this anecdote
    is that despite testing, logging, and monitoring, the development team can be
    blind to problems in production. Asking the users rarely hurts and can (as in
    this case) be extremely valuable.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，生产中系统的问题出现是因为生产数据库没有按照预期的方式进行配置和索引。团队不知道这一点，因为没有任何测试显示这一点。通过给数据库团队打一个电话，问题就得到了解决。这个轶事的要点是，尽管进行了测试、日志记录和监控，但开发团队可能对生产中的问题视而不见。向用户询问很少会伤害到他们，并且（正如这个案例所示）可能非常有价值。
- en: One particular feature of ML systems is that, over time, the value of input
    to the system can change as the world evolves and moves forward. Monitoring system
    input for these changes is one way that logging and monitoring support the governance
    of an ML system. This is discussed in more depth next.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习系统的一个特定特征是，随着时间的推移，系统的输入价值可以随着世界的发展和前进而改变。监控系统输入以检测这些变化是日志和监控支持机器学习系统治理的一种方式。这一点将在下一节中更深入地讨论。
- en: 9.5.1 Model governance
  id: totrans-210
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.5.1 模型治理
- en: In some applications, the models implemented into the system on day one of operation
    are used successfully, right up until some change in the state of the art or requirements
    for the application make them obsolete, then they get withdrawn from service.
    In other applications, changes in the domain, perhaps caused by swings of fashion,
    inflation, social structures, or demographics, mean that models become outdated,
    and their performance starts to degrade. Organizations using ML can deploy hundreds
    or thousands of models and systems, but unless these are delivered within a systematic
    management and governance framework, chaos will reign.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些应用中，第一天运营中实施到系统中的模型被成功使用，直到技术状态或应用需求的变化使它们过时，然后它们被从服务中撤回。在其他应用中，领域的变化，可能是由时尚的波动、通货膨胀、社会结构或人口统计引起的，意味着模型变得过时，其性能开始下降。使用机器学习的组织可以部署数百或数千个模型和系统，但除非这些模型在系统性的管理和治理框架内交付，否则将陷入混乱。
- en: 'A basic governance structure mandates that the systems and models that underpin
    them are registered with a responsible person within the client organization.
    The model must be owned by someone. We must also provide the materials and information
    required to properly access and understand the models so that the owners can deal
    with it as it evolves. The governance system should at the very least allow the
    system owner (who is responsible for and empowered to make decisions about the
    system) to be identified and to link all the artifacts that enable the system
    to be audited, managed, maintained, and supported for easy discovery and access.
    In addition, the governance system calls for the history of the production system
    to be recorded and read:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 一个基本的治理结构要求支撑系统和模型的负责人在客户组织内部进行注册。模型必须由某人拥有。我们还必须提供访问和理解模型所需的所有材料和信息，以便所有者可以随着其发展来处理它。治理系统至少应允许识别系统所有者（负责并有权就系统做出决策的人），并将所有使系统能够被审计、管理、维护和支持的工件链接起来，以便于发现和访问。此外，治理系统要求记录和读取生产系统的历史：
- en: When was the system implemented, changed, and reviewed?
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统是在何时实施、更改和审查的？
- en: When were problems with the system detected and recorded, and what was done
    to deal with them?
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统问题何时被检测和记录，以及采取了哪些措施来处理这些问题？
- en: If the system was removed from service, when was it withdrawn, and when will
    it and the associated records of its commission and operation be deleted?
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果系统被停用，它是在何时被撤回的，以及它和其授权及操作的相关记录将在何时被删除？
- en: A core requirement that disappears in the bureaucratic chaff is that the model
    owners must be able to tell when the model has gone wrong and must be able to
    turn it off, fix it, or put something else in its place. A critical step is knowing
    that the model has gone wrong. Some simple checks in production can reveal this;
    for example, counting the types of classifications that the model makes and raising
    an alert if too many of one type are noticed. However, a more sophisticated approach
    is to build assertions into the model server and to log and alert if any of these
    are violated (Kang, et al. 2020).
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在官僚主义的繁琐中消失的一个核心要求是，模型所有者必须能够判断模型何时出错，并且必须能够将其关闭、修复或替换为其他东西。一个关键步骤是知道模型已经出错。在生产环境中进行一些简单的检查可以揭示这一点；例如，计算模型做出的分类类型，并在发现太多某一类型时发出警报。然而，一个更复杂的方法是将断言构建到模型服务器中，并在这些断言被违反时进行记录和警报（Kang等人，2020年）。
- en: 'You must also provide for contingencies. This is like any business continuity
    plan; it’s fundamental that a business won’t go bankrupt if the head office is
    shut for a week or a month due to an earthquake, a bad storm, or other unforeseen
    catastrophe. Every business should have contingency plans to deal with that kind
    of eventuality. The same is true for models! If the models stop working, for whatever
    strange reason, the business using them should not be left to sink. For example:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 你还必须为意外情况做好准备。这就像任何业务连续性计划一样；基本的前提是，如果总部因地震、恶劣风暴或其他不可预见的事故关闭一周或一个月，企业不会破产。每个企业都应该有应急计划来应对这种可能性。对于模型也是如此！如果模型停止工作，无论是什么奇怪的原因，使用这些模型的企业不应该被遗弃。例如：
- en: Can aggregate behavior or majority class prediction (with appropriate warnings)
    provide a lower value substitute for the model?
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 聚合行为或多数类预测（附带适当的警告）能否为模型提供一个更低价值的替代品？
- en: Can you provide older models that work less well but may be more robust?
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你能提供一些工作效果不那么好但可能更稳健的旧模型吗？
- en: Can you turn off the model, allowing the users to manage for some period without
    it? How long is that time? Is it realistic that the model can be debugged, retested,
    and fixed in that time?
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你能关闭模型，让用户在没有它的情况下管理一段时间吗？这个时间是多长？在这么短的时间内调试、重新测试和修复模型是现实的吗？
- en: In the next chapter, these issues will loom large because they will impact your
    future work. By getting realistic post-release arrangements in place before the
    shift to production, you can avoid a lot of heartache and trouble.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，这些问题将变得非常重要，因为它们将影响你未来的工作。在转向生产之前，通过制定实际的发布后安排，你可以避免很多痛苦和麻烦。
- en: 9.5.2 Documentation
  id: totrans-222
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.5.2 文档
- en: 'During the project, you should have produced and filed a great deal of documentation.
    All of this is incredibly useful and valuable, but to deliver a maintainable system,
    the team needs to prepare some additional documents that support the system in
    life. These documents are:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在项目期间，你应该已经产生并归档了大量文档。所有这些都是极其有用和宝贵的，但为了交付一个可维护的系统，团队需要准备一些额外的文档来支持系统的运行。这些文档包括：
- en: A production team organization chart
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个生产团队组织结构图
- en: A run book
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行手册
- en: A technical overview
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术概述
- en: A troubleshooting guide
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 故障排除指南
- en: You can use the production team organization chart to answer who looks after
    the system, how to contact them, and what credentials, knowledge, and training
    do they need to do their job? Also, make sure that the set up and structure of
    the production team considers holidays, sickness, and succession. It’s fine for
    people to be aggressive in saying that folks had better cover things that they
    are paged to deal with, no matter what. But what if someone quits, or worse, they
    die? Then, you are bust, and all the posturing and bluster is just a meme.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用生产团队组织结构图来回答谁负责系统，如何联系他们，以及他们需要哪些凭证、知识和培训来完成工作？同时，确保生产团队的设置和结构考虑到了假期、疾病和继任问题。人们积极地说，人们最好覆盖他们被叫去处理的事情，这是可以的。但万一有人辞职，或者更糟，他们去世了？那么，你就陷入了困境，所有的姿态和吹嘘都只是个笑话。
- en: 'A run book allows first- and second-line support to troubleshoot the system
    when it produces errors because of faults or problems in other systems or in its
    supporting hardware. Other support groups may fix the root cause of these errors,
    but the relevant “fix this please” ticket needs to get raised, and you will need
    to tell the users what’s happened and what is being done about it. The run book
    should provide information for every error state that the logging and monitoring
    system might produce. Some of these will simply say something like “data error:
    escalate to technical team,” but many will also provide simple fixes such as “restart
    application server using app_server_restart.exe script.”'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 运行手册允许一线和二线支持在系统因其他系统或其支持硬件中的故障或问题产生错误时进行故障排除。其他支持团队可能会修复这些错误的根本原因，但相关的“请修复此问题”的工单需要提出，并且你需要告诉用户发生了什么以及正在采取什么措施。运行手册应提供日志和监控系统可能产生的每个错误状态的信息。其中一些可能只是简单地说“数据错误：升级至技术团队”，但许多也会提供简单的修复方法，例如“使用app_server_restart.exe脚本重启应用程序服务器。”
- en: 'A technical overview provides a briefing for new engineers so they can quickly
    understand the core components and concepts. This overview typically links to
    the documentation archive that the team produced, so it should be seen as a high-level
    map of the system and not a detailed deep dive. Essentially, the team should imagine
    that they are presented with the code base and the development documentation.
    What is it that they need to get started quickly? At a minimum, the document should
    include a diagram showing the major components of the system and the allocation
    of processing on each, and it should also show a view of the data flows in the
    system: where the data is coming from and where it is accessed, staged, and processed.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 技术概述为新工程师提供简报，使他们能够快速了解核心组件和概念。这个概述通常链接到团队生成的文档存档，因此应被视为系统的高级地图，而不是详细的深入研究。本质上，团队应该想象他们被提供了代码库和开发文档。他们需要什么才能快速开始？至少，文档应包括一个显示系统主要组件及其处理分配的图表，还应显示系统中的数据流视图：数据来自哪里，在哪里被访问、存储和处理。
- en: To set up a troubleshooting guide, ask the team to apply their imaginations.
    What is it that is likely to be wrong with the system? What would they do to fix
    it?
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 为了设置故障排除指南，要求团队发挥想象力。系统可能存在哪些错误？他们会如何修复它？
- en: 'Ensure that the team pays particular attention to the documentation of the
    ML component and models in the system. The development documents cover the technical
    architecture and approach of the modeling, but the documentation must detail:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 确保团队特别注意系统中ML组件和模型的文档。开发文档涵盖了建模的技术架构和方法，但文档必须详细说明：
- en: How to invoke the model in isolation (what files to run, how data can be passed
    into it, etc.).
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何独立调用模型（要运行的文件，如何向其中传递数据等）。
- en: How to retain the model (again, what to run, how to run it, and environment
    prerequisites).
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何保留模型（再次，要运行什么，如何运行，以及环境先决条件）。
- en: How to evaluate the model’s behavior (reference the project documentation but
    explicitly state what is important about how the model delivers value to the users).
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何评估模型的行为（参考项目文档，但明确说明模型如何向用户交付价值的重要性）。
- en: The effort required to develop these documents is considerable and obviously
    scales with the complexity of the system that you are developing. The payoff from
    doing this is enormous; a set of good production documents when coupled to a well-stocked
    development archive provides a fantastic source for the onward development and
    maintenance of your system.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 开发这些文档所需的努力相当大，并且显然与您正在开发的系统的复杂性成正比。这样做的好处是巨大的；一套良好的生产文档与一个丰富的开发档案相结合，为系统的后续开发和维护提供了一个极好的资源。
- en: 9.6 Pre-release testing
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.6 预发布测试
- en: 'Testing ticket: S3.10'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 测试票据：S3.10
- en: Develop a pre-release testing plan.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 制定预发布测试计划。
- en: 'The team probably thinks they did enough testing in sprint 2, but the hard
    reality is, there’s more to be done to deploy the production system. Most organizations
    have testing standards (sometimes called VV&T, meaning verification, validation,
    and testing). You and the team will be required to develop and complete a testing
    plan, which is then signed off as complete by the client’s IT. Typically, a testing
    plan requires that you conduct unit, system, integration, and acceptance tests:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 团队可能认为在冲刺2中已经做了足够的测试，但残酷的现实是，部署生产系统还有更多工作要做。大多数组织都有测试标准（有时称为VV&T，即验证、验证和测试）。你和团队将需要制定并完成一个测试计划，然后由客户的IT部门签署为完成。通常，测试计划要求你进行单元测试、系统测试、集成测试和验收测试：
- en: '*Unit tests:* Localized tests that developers use to prove their code works.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*单元测试:* 开发者用来证明其代码工作的本地化测试。'
- en: '*System tests:* Show that the code performs as expected; for example, testing
    the model is a system test as is testing the nonfunctional elements.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*系统测试:* 展示代码按预期执行；例如，测试模型和测试非功能性元素都是系统测试。'
- en: '*Integration tests:* Demonstrate that the different system models work together
    as expected; for example, the production database works with the code that performs
    feature extraction.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*集成测试:* 展示不同的系统模型按预期协同工作；例如，生产数据库与执行特征提取的代码一起工作。'
- en: '*Acceptance tests:* Demonstrate that the system meets the criteria that makes
    it useful for its business purpose or the purposes of its users.'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*验收测试:* 展示系统满足使其对业务目的或用户目的有用的标准。'
- en: 'During system development, the team did a lot of unit testing (for instance,
    the data testing described in sprint 1) and system testing (such as the extensive
    work at the end of sprint 2). Acceptance tests should be facilitated by the work
    on UX, which was started in sprint 2 as well. However, there are aspects of unit
    and system testing that need to be created now, and the data infrastructure, UX,
    and model-serving infrastructure needs to be tested with integration tests. Any
    other application elements that are integrated with the ML system also require
    integration testing. The work to be done now is to:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在系统开发过程中，团队进行了大量的单元测试（例如，在冲刺1中描述的数据测试）和系统测试（如冲刺2末期的广泛工作）。验收测试应由在冲刺2开始的UX工作来促进。然而，现在需要创建单元和系统测试的某些方面，并且需要通过集成测试来测试数据基础设施、UX和模型服务基础设施。任何与ML系统集成的其他应用程序元素也需要集成测试。现在要完成的工作是：
- en: Gather and catalog the unit and system tests done so far.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集和整理到目前为止进行的单元和系统测试。
- en: Formalize and organize the acceptance tests from the UX work.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将UX工作中的验收测试正式化和组织化。
- en: Ensure that the production components have proper unit and system tests.
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保生产组件有适当的单元和系统测试。
- en: Design and undertake integration tests to ensure that the implemented system
    works correctly as a whole.
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计并执行集成测试，以确保实施的整体系统运行正确。
- en: Get the test plan accepted as one that is appropriate.
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保测试计划得到认可，是一个合适的计划。
- en: Get your preproduction tests into an automated test system and run the tests
    successfully.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将你的预生产测试集成到自动化测试系统中，并成功运行测试。
- en: Finally, get the necessary sign off, showing that the team executed the accepted
    test plan successfully and that the VV&T group agrees that the system can be productionized.
    There is a significant difference between the testing required to deliver a useful
    ML system and that for a more standard bit of software. The core of this is the
    performance and behavior of the models that are extracted from the data.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，获得必要的批准，表明团队成功执行了接受的测试计划，并且VV&T小组同意该系统可以投入生产。将一个有用的ML系统交付所需的测试与更标准化的软件所需的测试之间存在显著差异。其核心是从数据中提取的模型的表现和行为。
- en: At the time of writing, the standards that most organizations demand for the
    testing their models are well below what we detailed in chapter 8\. Hopefully,
    that will change. Until then, you and the team are the professionals and the experts.
    Testing standards and quality mandates are backstops and reminders of the need
    for you to demonstrate why you are paid to do what you do. Your test plan shows
    that you have done everything that is expected of you in creating a robust and
    reliable artifact to deliver for your client and your users.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，大多数组织对测试其模型所要求的标准远低于我们在第8章中详细说明的标准。希望这会改变。在此之前，你和团队是专业人士和专家。测试标准和质量要求是后盾和提醒，表明你需要证明你为什么被支付来做你所做的事情。你的测试计划表明，你已经完成了你所期望的一切，以创建一个健壮且可靠的工件，交付给你的客户和用户。
- en: 9.7 Ethics review
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.7 伦理审查
- en: Is it too late to check that everything is on track concerning ethics? Of course
    not! At this point, the team needs to make sure there are no emerging issues that
    they haven’t accounted for in the previous exercises, and they need to assemble
    the documentation they prepared for all the ethical evaluations. Work on this
    was done pre-project, post EDA, and during the decision-making process for model
    selection.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 检查伦理方面的所有事项是否按计划进行是否太晚了？当然不是！在这个阶段，团队需要确保没有出现他们在之前的练习中没有考虑到的新问题，并且他们需要整理好为所有伦理评估准备的文档。这项工作是在项目开始前、EDA之后以及模型选择决策过程中完成的。
- en: 'Now that the whole system is understood, you and the team need to review the
    ethical consequences of its deployment. As previously discussed, there are many
    ongoing efforts to understand the ethical implications and licensing of an ML
    system; the context of the system determines which, if any, the team will adopt.
    Also, it’s expected that this province will rapidly evolve, and it is the responsibility
    of you and the team to employ best practices to ensure that the system that you
    built is ethical. To do so, check the following:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 现在系统整体已了解，你和团队需要审查其部署的伦理后果。如前所述，有许多持续的努力去理解ML系统的伦理影响和许可；系统的上下文决定了团队将采用哪些，如果有的话。此外，预计这个领域将迅速发展，你和团队有责任采用最佳实践来确保你构建的系统是符合伦理的。为此，检查以下内容：
- en: Is the way that the system will be managed clearly understood by the people
    accountable for it?
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 负责该系统的人是否清楚地理解了系统的管理方式？
- en: Is there an appropriate governance process in place that will manage the system’s
    behavior and impact over time, even when the people who are doing it now move
    on?
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否有一个适当的治理流程在位，可以随着时间的推移管理系统的行为和影响，即使现在执行它的人已经离开？
- en: Is the system’s performance understood and measured by the way it impacts its
    users and others in its operating context? Can the team demonstrate this?
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统的性能是否通过它对其用户和其他在其操作环境中的影响来理解和衡量？团队能够证明这一点吗？
- en: Does the system’s interface provide enough information to allow the users to
    understand what it is doing?
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统的界面是否提供了足够的信息，使用户能够理解它在做什么？
- en: Are the available controls that manage the behavior of the system effective
    and appropriate?
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理系统行为的现有控制措施是否有效且适当？
- en: Can the users make use of the controls effectively so that they can be reasonably
    held to account for the system’s behavior?
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户能否有效地利用控制措施，以便他们可以合理地对其系统的行为负责？
- en: Have you consulted with the users of the system and the people impacted by its
    use?
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你已经咨询过系统用户和受其使用影响的人了吗？
- en: Has the team evaluated the impact of the system on those people?
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 团队评估了系统对那些人的影响了吗？
- en: Does your team fully understand any harm the system may cause and is this clearly
    outweighed by the utility of the system?
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的团队能否完全理解系统可能造成的任何伤害，并且这种伤害是否明显被系统的效用所抵消？
- en: Regarding the last point, in the case of harm, ensure that there’s a responsible
    person or somebody with the authority and competence to make a judgement about
    the system’s utility available.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 关于最后一点，在伤害的情况下，确保有一个负责任的人或者有权威和能力的某人可以就系统的效用做出判断。
- en: 9.8 Promotion to production
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.8 提升至生产
- en: 'Ticket to put your system into production: S3.11'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 将你的系统投入生产的工单：S3.11
- en: Promote to production.
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提升至生产。
- en: Create a post-release test plan.
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建发布后测试计划。
- en: The great day arrives! Everything is signed off, the system isn’t dangerous
    or malfeasant, it works, and it is valuable. Everyone loves it, so what happens
    next? You schedule a release time/date. In a DevOps environment, this might be
    the day that the system hits the criteria to make its first release. In a more
    ossified enterprise environment, there may be a weekly release day or (more likely)
    a quarterly release day and do expect there to be freezes around milestone dates
    like Christmas, New Year, and financial-reporting season. Some enterprises have
    protracted release freezes around periods that are vital for trading or safety
    as well.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 那个伟大的日子到来了！一切都已经签字批准，系统既不危险也不恶意，它运行正常，并且具有价值。每个人都喜欢它，那么接下来会发生什么？你安排发布的时间/日期。在DevOps环境中，这可能就是系统达到首次发布标准的那一天。在更加僵化的企业环境中，可能会有每周发布日或者（更可能的是）每季度发布日，并且确实预期在圣诞节、新年和财务报告季节这样的里程碑日期会有冻结。一些企业在对交易或安全至关重要的时期也会有较长时间的发布冻结。
- en: 'Once everyone agrees on a day and time, then in a modern project, you run a
    batch file (possibly by clicking a button or by issuing a command-line instruction)
    that shifts all the artifacts required for the system into production and makes
    them available for invocation. Typically, we run post-release tests to demonstrate
    that the system has been transferred completely and properly and that it really
    is running. This means that the team has four jobs to do:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦所有人都同意了日期和时间，在现代项目中，你将运行一个批处理文件（可能通过点击按钮或通过执行命令行指令），将所有必需的系统工件转移到生产环境中，并使其可供调用。通常，我们会运行发布后测试来证明系统已经完全且正确地转移，并且它确实正在运行。这意味着团队有四项工作要做：
- en: Develop the CI/CD process that promotes all files to the production environment.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开发将所有文件提升到生产环境的CI/CD流程。
- en: Hopefully, this is done with standard development pipeline tools (for example,
    Jenkins). Sometimes, especially in a cutting-edge project, there will be some
    corner cases for deployment that require another workaround. The important thing
    is not to end up with a bunch of Post-It notes, or even worse, folklore-style
    verbal instructions that define the deployment process. Insist on as much automation
    (and simple-to-use automation) as possible. Why? Because pushing to production
    is both exciting and stressful, and it often goes wrong. You may have to rejig
    and redo the system. Automation is your friend.
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 希望这是通过标准开发管道工具（例如，Jenkins）完成的。有时，尤其是在前沿项目中，可能会有一些部署的边缘情况需要另一个解决方案。重要的是不要最终得到一堆便利贴，或者更糟糕的是，像民间传说风格的口头指示来定义部署过程。尽可能坚持自动化（以及易于使用的自动化）。为什么？因为推向生产既令人兴奋又令人紧张，而且经常出错。你可能不得不重新调整和重新设计系统。自动化是你的朋友。
- en: Create a post-release test plan. Again, automate this (as for all your testing)
    and ensure that you know how it will run and how it will be deployed in production.
    This is usually a part of the general promotion event.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建发布后的测试计划。再次自动化（就像所有你的测试一样），并确保你知道它将如何运行以及如何在生产中部署。这通常是常规推广活动的一部分。
- en: Do the promotion/release tasks, including the testing.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行推广/发布任务，包括测试。
- en: Run the post-release testing and verify the results.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行发布后的测试并验证结果。
- en: As mentioned, it’s not unusual for something to go wrong with the production
    deployment. What’s important is that you are prepared for this contingency. Ensure
    that you have key people available to intervene and that they are empowered with
    credentials and permissions to do what’s needed to sort out any last-minute hitches.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 正如提到的，生产部署出现问题的并不少见。重要的是你要为这种意外情况做好准备。确保有关键人员可用以介入，并且他们拥有凭证和权限来完成任何最后的障碍。
- en: 9.9 You aren’t done yet
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.9 你还没有完成
- en: 'Task to do when you think you’ve finished: S3.12'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 当你认为你已经完成时需要完成的任务：S3.12
- en: Provide post-release recognition and thanks.
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供发布后的认可和感谢。
- en: It’s there, in production and running. This is the point at which to celebrate.
    Take the team out for lunch, hold a party, get a drink. At the very least, send
    them all a note of thanks in a team call or via email. The team has come through
    and delivered, they deserve some recognition. As for you, pat yourself on the
    back; you were brilliant. Then, look after your own interests, sit back, and think
    through what happened. The experience that you’ve gone through is valuable, and
    you need to recognize and retain it.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 项目已经上线并运行。这是庆祝的时刻。带团队出去吃午餐，举办派对，喝一杯。至少，在团队通话或通过电子邮件向他们发送感谢信。团队已经成功交付，他们应得到一些认可。至于你，给自己鼓掌；你做得非常出色。然后，关注自己的利益，放松一下，思考发生了什么。你所经历的经验是宝贵的，你需要认可并保留它。
- en: It’s at this point that it’ll dawn on you that there’s a life beyond the project.
    Sometimes you can take a break and switch to something new when you come back,
    but the reality is that this was your project, and you and everyone associated
    with it will likely be called in to follow up on whatever opportunities and developments
    arise. In the next chapter, we’ll review post project work. There is a lot to
    do to support and maintain a system in production, and there’s a lot to do to
    learn from what’s happened and to improve your practice for the next project and
    the ones after that.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 就在这个时候，你可能会意识到项目之外还有生活。有时当你回来时，你可以休息一下，转而做一些新的事情，但现实是，这是你的项目，你和所有与之相关的人可能会被召集来跟进出现的任何机会和发展。在下一章中，我们将回顾项目后的工作。为了支持和维护一个在生产中的系统，有很多事情要做，而且还有很多事情要做，从发生的事情中学习，以改进你为下一个项目以及之后的项目的实践。
- en: 9.10 The Bike Shop sprint 3
  id: totrans-284
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.10 自行车店冲刺3
- en: The end of sprint 2 coincided with your vacation, and you took full advantage
    of the holiday. You were confident that Rob would deliver while you were out,
    and the first thing you do when you’re back at work is to review his sprint report,
    and you feel vindicated. When Karima calls on your first morning back, you’re
    in a great mood. This doesn’t last, though.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个冲刺的结束与你的假期巧合，你充分利用了假期。你相信罗布在你外出时能完成任务，当你回到工作时，你首先审查他的冲刺报告，并感到自己得到了证明。当卡里玛在你回到工作的第一天早上给你打电话时，你心情很好。但这并没有持续太久。
- en: Karima feels that there’s been a great deal of activity in the project to date,
    but she’s not seeing anything tangible. She uses the phrase “all smoke and no
    light.” This is not good. Karima has clearly had a change of mind about the progress
    and value of the project; the question is why? You can guess, someone asked her
    where were the fruits of the investment? With the instinct for survival that all
    senior business stakeholders have, Karima undoubtedly responded by outlining why
    her doubts about this project haven’t been considered. She then explained how
    she’s made the best of a bad job so far but shouldn’t be blamed for what happens.
    It’s not hard to imagine who Karima thinks should get blamed if indeed the project
    doesn’t prove out.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 卡里玛觉得到目前为止项目活动很多，但她看不到任何具体成果。她用“全是烟雾，没有光亮”这个短语来形容。这可不是什么好事。卡里玛显然对项目的进展和价值有了改变看法；问题是为什么？你可以猜到，有人问她投资成果在哪里？凭借所有高级商业利益相关者都有的生存本能，卡里玛无疑通过概述她对这个项目怀疑未被考虑的原因来回应。然后她解释了到目前为止她如何尽力而为，但不应为发生的事情承担责任。不难想象，如果项目确实证明不了，卡里玛认为应该受到责备的人是谁。
- en: You think fast. Perhaps, you offer, the right thing to do is to have a review
    session, where the progress and outcome so far can be presented to Karima and
    anyone else she would like to bring in to talk about the direction of the project,
    but you have a good backup plan here. While the modelling team has been doing
    their high-profile work, Clara has been plugging away in the background looking
    at the frontend of the system. She’s building UX components and testing them with
    the users. You had a quick chat with her late last week, and you’re confident
    that given the time it takes to get people into a review, the team will be able
    to pull together a concept demo that will convince whoever is rattling Karima’s
    cage that all is well.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 你迅速思考。也许，你提出，正确的做法是召开一个审查会议，将到目前为止的进展和结果展示给卡里玛以及她希望邀请的其他人，讨论项目的方向，但你在这里有一个很好的备用计划。虽然建模团队一直在进行高调的工作，但克拉拉一直在幕后努力，研究系统的前端。她正在构建用户体验组件，并测试它们。你上周晚些时候与她简短地聊过，你确信，考虑到人们进行审查所需的时间，团队将能够联合起来进行一个概念演示，说服那些在卡里玛耳边嗡嗡作响的人，一切都很顺利。
- en: You lean back in your chair and mentally kick yourself. You should have seen
    this coming, but you focused more on the target application earlier in the project.
    You know, though, that if you had switched the focus onto demonstrating how much
    value the application could have, rather than making sure it would work, then
    you could have been in trouble for wasting the client’s money on a system that
    was just fantasy. Back-loading the project is too risky. After reading Rob’s report,
    however, you are confident that the project will work, but the danger lies in
    it getting scrapped before you can prove it. You look at your coffee and wonder
    if it’s OK to get a stronger drink and shake your head wearily. The weekend feels
    a long way in the past, and it’s only 10:30 a.m.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 你靠在椅背上，心理上对自己进行了一番责备。你应该早就看到这一点了，但你之前在项目早期更关注的是目标应用。然而，你知道，如果你把重点放在展示应用可能带来的价值上，而不是确保它能够工作，那么你可能会因为浪费客户的金钱在一个只是幻想的系统上而陷入麻烦。项目后置风险太大。然而，在阅读了罗布的报告后，你确信项目会成功，但危险在于在你证明它之前，项目可能会被取消。你看着你的咖啡，想知道是否可以喝得更浓一些，然后疲惫地摇了摇头。周末似乎还很遥远，而现在才上午10:30。
- en: Still, there’s no time like the present to deal with issues of this sort. The
    first thing you do is to set up a team meeting for first thing tomorrow morning.
    The next thing you do is message Clara and Rob. Thank goodness they are both in
    and working today, so you arrange a three-way chat after lunch. You use the time
    before lunch to review the materials generated in sprint 1 and 2.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，现在处理这类问题正是时候。你首先做的事情是安排明天一早召开团队会议。接下来，你给克拉拉和罗布发信息。谢天谢地，他们今天都在工作，所以你安排了午饭后进行三方通话。你利用午餐前的这段时间来回顾1和2个冲刺阶段产生的材料。
- en: In the chat, you let Rob and Clara know that it’s time the team outlined how
    the model’s likely application will best meet the customer’s needs. Happily, the
    three of you share the view that the best implementation of the models is to sit
    them behind intelligent dashboards. This was the initial concept that was discussed
    with the client. You consider where the project went off track. If, in sprint
    2, Clara had flagged that the model would not work from a UX point of view, or
    if the modelling team had found something that would have derailed the implementation,
    then you would have been able to talk Karima and Niresh through a change of direction.
    Ironically, that might have given them a stronger perception of team’s engagement
    with the customer’s requirement. Still, the good news is that the project is well
    on track to deliver what the clients want and what Clara believes the users need.
    Rob agrees to take the lead in putting the presentation together.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 在聊天中，你让罗布和克拉拉知道，是时候让团队概述模型可能的适用性如何最好地满足客户的需求了。令人高兴的是，你们三个人都认为，模型的最佳实现方式是将它们放在智能仪表盘后面。这是与客户讨论的初始概念。你考虑了项目偏离轨道的地方。如果在冲刺2中，克拉拉曾指出模型从用户体验的角度无法工作，或者建模团队发现了可能阻碍实施的问题，那么你就可以和卡拉玛和Niresh讨论改变方向的问题。具有讽刺意味的是，这可能会让他们对团队与客户需求的参与有更强烈的认识。不过，好消息是，项目正在顺利进行，以满足客户的需求和克拉拉认为用户需要的。
- en: Niresh then messages you to say that there is a slot for a project checkpoint
    in three days, but he doesn’t give any further details. Three days is quite a
    while in a project like this and looking at the situation that Clara and Rob talked
    through with you, you feel a lot better for the leeway. Rob’s view is reassuring
    too. He thinks that by the time the checkpoint comes along, the team will have
    some quite impressive plans to show.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: Niresh随后给你发消息说，三天后有一个项目检查点的空位，但他没有提供任何进一步的细节。在这个项目里，三天的时间相当长，看到克拉拉和罗布与你讨论的情况，你对这个灵活性感到很欣慰。罗布的看法也很让人安心。他认为，到检查点的时候，团队将有一些相当令人印象深刻的计划可以展示。
- en: In the morning, you and Rob walk the team through the situation, and you lay
    out some goals for the next three days. The first goal is to deal with the analysis
    tickets 3.1 and 3.2\. (See section 9.1 if you need a reminder about the purpose
    of these tickets.) Because of where the team is now and the maturity of the project,
    you decide that 3.1 can be dealt with in the team meeting. The team agrees. It’s
    obvious that the appropriate approach is to develop intelligent dashboards as
    an assistive application. Figuring out the nonfunctional impact of this is a bit
    more complex, but Danish and Kate are happy to take ticket 3.2 and will come back
    with a review tomorrow morning.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 早上，你和罗布向团队介绍了情况，并为接下来的三天制定了目标。第一个目标是处理分析任务3.1和3.2。（如果你需要提醒这些任务的目的，请参阅第9.1节。）鉴于团队目前的位置和项目的成熟度，你决定3.1可以在团队会议上处理。团队也同意了。显然，合适的做法是开发智能仪表盘作为辅助应用程序。确定这一举措的非功能性影响稍微复杂一些，但丹尼尔和凯特愿意接手3.2，并将在明天早上提供反馈。
- en: Rob suggests that the best thing to do is to throw some light onto tickets 3.3
    and 3.4 and put together a dev environment prototype of the app. To get this done
    in three days is an ambitious target, but the team seems surprisingly confident.
    Their previous investigations and Rob’s work in sprint 1 uncovered a dashboard
    tool that Clara and Miguel are familiar with. The required data flows can be easily
    sketched from the new prod databases, and the external data sources in the cloud
    environment can deploy the transformations and feature creation steps to a serverless
    processor. Clara and Miguel start work on implementing the UI, Kate and Rob focus
    on an implementation design for the model server, and Jenn and Sam look at the
    data pipeline. All agree to present at the review meeting tomorrow morning.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 罗布建议最好的做法是，对任务3.3和3.4进行一些说明，并组装一个应用程序的开发环境原型。在三天内完成这个目标是一个雄心勃勃的目标，但团队似乎出奇地自信。他们之前的调查和罗布在冲刺1中的工作发现了一个克拉拉和米格尔都熟悉的仪表盘工具。所需的数据流可以轻松地从新的生产数据库中绘制出来，云环境中的外部数据源可以将转换和特征创建步骤部署到无服务器处理器。克拉拉和米格尔开始实施用户界面，凯特和罗布专注于模型服务器的实现设计，詹妮和山姆查看数据管道。所有人都同意在明天的审查会议上进行展示。
- en: In the days afterward, you are kept busy fielding architectural questions from
    the team about the available components. Some of them you can respond to yourself,
    but you find yourself frequently chatting with Niresh to get additional answers.
    When the checkpoint meeting comes round that Thursday, Karima shows up with a
    person that introduces himself as Alan, the finance guy. You recognize him as
    Alan Williams, who is The Bike Shop CFO. Clearly, he’s curious about where his
    money is being spent. Karima seems quite distracted and unsure of herself, and
    Niresh is as quiet as a mouse. Alan has a formidable reputation at The Bike Shop—he
    doesn’t suffer fools gladly or at all.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 在随后的几天里，你忙于回答团队关于可用组件的架构问题。其中一些你可以自己回答，但你发现自己经常和Niresh聊天以获取额外的答案。当那个星期四的检查点会议来临时，Karima带着一个自称是Alan的人出现，他是财务人员。你认出他是Alan
    Williams，The Bike Shop的首席财务官。显然，他对他的钱花在哪里很感兴趣。Karima似乎有些分心，不确定自己，而Niresh像老鼠一样安静。Alan在The
    Bike Shop有很强的声誉——他不会轻易或根本不忍受傻瓜。
- en: You’ve briefed the team carefully on the plan. You’ll present the project and
    the value of the work upfront and then Rob will show the prototype. He segues
    to Clara, who will talk about the UX work and the responses from the users she’s
    in touch with. Miguel will then walk through the UI’s features, focusing on making
    the ML system work for the users. With the remaining time, Jenn and Kate will
    go over the prod design.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经仔细地向团队介绍了计划。你将首先介绍项目和工作价值，然后Rob将展示原型。他转向Clara，Clara将谈论用户体验工作和她接触到的用户的反馈。Miguel将接着介绍UI的功能，重点是让机器学习系统为用户工作。剩下的时间里，Jenn和Kate将回顾生产设计。
- en: This arrangement proves to be a great choice. Alan listens to your outline of
    the benefits and looks straight at Karima. He says, “This is exactly what I was
    talking about.” Karima blanches, and you feel a cold chill run down your spin,
    but then he says, “This isn’t all vapor though, is it? What have you got to show
    me?”
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 这种安排证明是一个非常好的选择。Alan听了你关于好处的概述，直视Karima。他说，“这正是我所说的。”Karima脸色一变，你感到一阵冷意从脊背传下来，但他接着说，“但这不是空谈，对吧？你有什么可以给我看的？”
- en: Rob kicks off the demo and immediately Karima relaxes. After 30 seconds, Niresh
    grins at you (out of Alan’s eyeline, of course). Alan is nodding as Clara talks
    about the user responses, and when Jenn describes the data design, he turns to
    Niresh and asks, “What do you think?” Niresh says, “I talked it over with the
    users. We can take this to the conformance board tomorrow and look to go live
    with it soon thereafter.”
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: Rob开始了演示，Karima立刻放松下来。30秒后，Niresh对着你微笑（当然是在Alan的视线之外）。当Clara谈论用户反馈时，Alan点头，当Jenn描述数据设计时，他转向Niresh问道，“你有什么看法？”Niresh说，“我和用户讨论过了。我们可以在明天将这个方案提交给合规委员会，并尽快投入使用。”
- en: Alan stands up, ignoring you, he turns to Karima and says, “Go for it. I’ll
    speak to Pete.” Alan turns to the team and says, “Great to meet you all” and walks
    out. You feel a bit ignored, but then, you are a suit from a consultancy. Karima
    makes it clear that she’s pleased with the presentation and the demo. She asks
    the team if they are confident that they can have the implementation ready for
    testing in the timelines that you outlined.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: Alan站起来，没有注意到你，他转向Karima说，“去做吧。我会和Pete谈谈。”Alan转向团队说，“很高兴见到你们所有人”然后走了出去。你感到有点被忽视，但毕竟，你是一个咨询公司的西装革履的人。Karima明确表示她对演示和演示很满意。她问团队是否自信能够在你概述的时间表内准备好实施测试。
- en: Before tasks S3.3 and S3.4 are completed, however, there are quite a few review-and-response
    subtasks in the backlog. It looks like it will take a couple of days more to run
    those. The team carries on picking up and dealing with the tickets in the sprint
    backlog; standups are short and to the point. The team all knows what they are
    doing, and they are driving to get it done. Clara is already looking at S3.5 and
    will start on 3.6 before the end of the week.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在完成S3.3和S3.4任务之前，待办事项中有很多审查和响应子任务。看起来还需要额外几天时间来完成这些任务。团队继续处理冲刺待办事项中的票据；站立会议简短而直接。团队所有人都知道自己在做什么，并且正在努力完成。Clara已经开始查看S3.5，并在本周末之前开始处理3.6。
- en: Kate knows that the logging environment at The Bike Shop is Splunk, and she
    quicky provides an appropriate logging and monitoring set up, interfacing into
    the logs generated by the model server and the data subsystem. Rob and you are
    entirely taken up with working with the support groups at The Bike Shop to arrange
    for them to pick up the system. Karima gets walked through a governance process.
    Sam and Jenn take on the testing. The plan is signed, a test harness is built,
    and soon everything is green across the board.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 凯特知道The Bike Shop的日志环境是Splunk，她迅速提供了适当的日志和监控设置，与模型服务器和数据子系统的日志进行接口。你和罗布完全忙于与The
    Bike Shop的支持团队合作，安排他们接手系统。卡拉玛走过了治理流程。山姆和詹妮负责测试。计划得到了签署，测试工具链被构建，很快所有方面都一切顺利。
- en: Miguel builds the release logic to promote the system to production, a time
    and date is agreed on and before you know it, you are staring at a dashboard that’s
    available on The Bike Shop intranet. Karima hugs you. Niresh grins happily. The
    next day you draft an email thanking the team. Just as you are about to send it,
    an alert pops up. It’s your boss. You and the team have been retained by The Bike
    Shop. They want more, and they’re willing to pay!
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 米格尔构建了发布逻辑，将系统提升到生产环境，双方商定了时间和日期，在你还没反应过来的时候，你正盯着The Bike Shop内部网络上的仪表板。卡拉玛拥抱了你。尼雷什高兴地微笑着。第二天你草拟了一封感谢团队的电子邮件。就在你准备发送时，一个警报弹了出来。是你的老板。你和团队被The
    Bike Shop留下了。他们想要更多，而且愿意为此付费！
- en: Summary
  id: totrans-302
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Make a deliberate choice about the type of ML system that you and the team are
    building. Is it assistive, delegative, or autonomous?
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你和你团队构建的机器学习系统类型上做出深思熟虑的选择。它是辅助性的、委托性的还是自主性的？
- en: Own the implications of that choice! The nonfunctional and functional requirements
    of the various types of ML-driven systems are different.
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 承担这一选择带来的影响！不同类型的机器学习驱动系统的非功能性需求和功能性需求是不同的。
- en: You need to build production data flows and a suitable model-serving infrastructure
    to support the requirements that you’ve identified.
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你需要构建生产数据流和合适的模型服务基础设施，以支持你已确定的需求。
- en: User interface requirements for ML systems are different from normal systems.
    You will need to ensure that the system is appropriately instrumented and that
    the relevant controls are available to the users.
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习系统的用户界面需求与普通系统不同。你需要确保系统得到适当的配置，并且用户可以访问相关控制功能。
- en: Make sure to provide the right logging, monitoring, and alerting infrastructure,
    or the production support groups won’t be able to accept it into service.
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保提供正确的日志记录、监控和警报基础设施，否则生产支持团队无法将其投入使用。
- en: Get your system tested and signed off as fit for production.
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保你的系统经过测试并获得生产就绪的批准。
- en: Budget time and effort for pre-release user and integration testing.
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为预发布用户和集成测试预留时间和精力。
- en: Ethical review is essential when developing a release candidate for the system.
    This is often the point at which stakeholders realize what it is that has been
    implemented and its implications. It can be painful, but catching problems at
    this last hurdle is far preferable to releasing problems into the wild.
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在开发系统发布候选版本时进行道德审查是必不可少的。这通常是利益相关者意识到已经实施的内容及其影响的时候。这可能很痛苦，但在这个最后的障碍中捕捉到问题，远比将问题发布到野外要好得多。
- en: Be ready for the ongoing work that comes with delivering a system into production.
    Your job isn’t over when the users get their hands on your work. In fact, it’s
    probably just beginning.
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备好将系统投入生产所带来的持续工作。当用户接触到你的工作时，你的工作还没有结束。事实上，可能才刚刚开始。
