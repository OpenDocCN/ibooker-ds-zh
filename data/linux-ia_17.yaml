- en: Appendix. A chapter-by-chapter, command-line review
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录。逐章的命令行回顾
- en: 1\. Welcome to Linux
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 欢迎使用Linux
- en: '`ls -lh /var/log`—Lists the contents and full, human-friendly details of the
    /var/log/ directory.'
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ls -lh /var/log`—列出/var/log/目录的内容和完整、人性化的详细信息。'
- en: '`cd`—Returns you to your home directory.'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cd`—返回您的家目录。'
- en: '`cp file1 newdir`—Copies a file called file1 to the directory called newdir.'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cp file1 newdir`—将名为file1的文件复制到名为newdir的目录中。'
- en: '`mv file? /some/other/directory/`—Moves all files containing the letters *file*
    and one more character to the target location.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mv file? /some/other/directory/`—将包含字母*file*和一个更多字符的所有文件移动到目标位置。'
- en: '`rm -r *`—Deletes all files and directories below the current location—use
    with great care.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rm -r *`—删除当前位置下的所有文件和目录—请谨慎使用。'
- en: '`man sudo`—Opens the man documentation file on using sudo with commands.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`man sudo`—打开使用sudo与命令的man文档文件。'
- en: '2\. Linux virtualization: Building a Linux working environment'
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. Linux虚拟化：构建Linux工作环境
- en: '`apt install virtualbox`—Uses `apt` to install a software package from a remote
    repository.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt install virtualbox`—使用`apt`从远程仓库安装软件包。'
- en: '`dpkg -i skypeforlinux-64.deb`—Directly installs a downloaded Debian package
    on a Ubuntu machine.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dpkg -i skypeforlinux-64.deb`—直接在Ubuntu机器上安装下载的Debian包。'
- en: '`wget https://example.com/document-to-download`—A command-line program that
    downloads files.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`wget https://example.com/document-to-download`—一个用于下载文件的命令行程序。'
- en: '`dnf update`—or `yum update` or `apt update`—Synchronizes the local software
    index with what’s available from online repositories.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dnf update`—或`yum update`或`apt update`—同步本地软件索引与在线仓库中可用的内容。'
- en: '`shasum ubuntu-16.04.2-server-amd64.iso`—Calculates the checksum for a downloaded
    file to confirm that it matches the provided value, meaning that the contents
    haven’t been corrupted in transit.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shasum ubuntu-16.04.2-server-amd64.iso`—计算下载文件的校验和，以确认其与提供的值匹配，这意味着内容在传输过程中未被损坏。'
- en: '`vboxmanage clonevm Kali-Linux-template --name newkali`—Uses the `vboxmanage`
    tool to clone an existing VM.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vboxmanage clonevm Kali-Linux-template --name newkali`—使用`vboxmanage`工具克隆现有的虚拟机。'
- en: '`lxc-start -d -n mycont`—Starts an existing LXC container.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lxc-start -d -n mycont`—启动现有的LXC容器。'
- en: '`ip addr`—Displays information on each of a system’s network interfaces (including
    their IP addresses).'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip addr`—显示系统每个网络接口的信息（包括它们的IP地址）。'
- en: '`exit`—Leaves a shell session without shutting down the machine.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`exit`—在不关闭机器的情况下离开shell会话。'
- en: '3\. Remote connectivity: Safely accessing networked machines'
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 远程连接：安全访问网络机器
- en: '`dpkg -s ssh`—Checks the status of an Apt-based software package.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dpkg -s ssh`—检查基于Apt的软件包的状态。'
- en: '`systemctl status ssh`—Checks the status of a system process (systemd).'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemctl status ssh`—检查系统进程（systemd）的状态。'
- en: '`systemctl start ssh`—Starts a system process.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemctl start ssh`—启动系统进程。'
- en: '`ip addr`—Lists all the network interfaces on a computer.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip addr`—列出计算机上的所有网络接口。'
- en: '`ssh-keygen`—Generates a new pair of SSH keys.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ssh-keygen`—生成新的SSH密钥对。'
- en: '`$ cat .ssh/id_rsa.pub | ssh ubuntu@10.0.3.142 "cat >> .ssh/authorized_keys"`—Copies
    a local key, and pastes it on a remote machine.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`$ cat .ssh/id_rsa.pub | ssh ubuntu@10.0.3.142 "cat >> .ssh/authorized_keys"`—复制本地密钥，并将其粘贴到远程机器上。'
- en: '`ssh -i .ssh/mykey.pem ubuntu@10.0.3.142`—Specifies a particular key pair.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ssh -i .ssh/mykey.pem ubuntu@10.0.3.142`—指定特定的密钥对。'
- en: '`scp myfile ubuntu@10.0.3.142:/home/ubuntu/myfile`—Safely copies a local file
    to a remote computer.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scp myfile ubuntu@10.0.3.142:/home/ubuntu/myfile`—安全地将本地文件复制到远程计算机。'
- en: '`ssh -X ubuntu@10.0.3.142`—Logs in to a remote host for a graphics-enabled
    session.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ssh -X ubuntu@10.0.3.142`—登录到远程主机以进行图形化会话。'
- en: '`ps -ef | grep init`—Displays all currently running system process, and filters
    results by the string `init`.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ps -ef | grep init`—显示所有当前运行的系统进程，并通过字符串`init`过滤结果。'
- en: '`pstree -p`—Displays all currently running system processes in a visual tree
    format.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pstree -p`—以可视树格式显示所有当前运行的系统进程。'
- en: '4\. Archive management: Backing up or copying entire file systems'
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4. 归档管理：备份或复制整个文件系统
- en: '`df -h`—Displays all currently active partitions with sizes shown in a human
    readable format.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`df -h`—以人类可读的格式显示所有当前活动的分区及其大小。'
- en: '`tar czvf archivename.tar.gz /home/myuser/Videos/*.mp4`—Creates a compressed
    archive from video files in a specified directory tree.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tar czvf archivename.tar.gz /home/myuser/Videos/*.mp4`—从指定目录树中的视频文件创建压缩归档。'
- en: '`split -b 1G archivename.tar.gz archivename.tar.gz.part`—Splits a large file
    into smaller files of a set maximum size.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`split -b 1G archivename.tar.gz archivename.tar.gz.part`—将大文件分割成指定最大大小的较小文件。'
- en: '`find /var/www/ -iname "*.mp4" -exec tar -rvf videos.tar {} \;`—Finds files
    meeting set criteria, and streams their names to tar to include in an archive.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`find /var/www/ -iname "*.mp4" -exec tar -rvf videos.tar {} \;`—查找满足特定标准的文件，并将它们的名称流式传输到
    tar 以包含在存档中。'
- en: '`chmod o-r /bin/zcat`—Removes read permissions for the username *others*.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`chmod o-r /bin/zcat`—移除用户 *others* 的读取权限。'
- en: '`dd if=/dev/sda2 of=/home/username/partition2.img`—Creates an image of the
    sda2 partition, and saves it to your home directory.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dd if=/dev/sda2 of=/home/username/partition2.img`—创建 sda2 分区的镜像，并将其保存到您的家目录中。'
- en: '`dd if=/dev/urandom of=/dev/sda1`—Overwrites a partition with random characters
    to obscure the old data.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dd if=/dev/urandom of=/dev/sda1`—用随机字符覆盖分区以隐藏旧数据。'
- en: '5\. Automated administration: Configuring automated offsite backups'
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5. 自动化管理：配置自动离站备份
- en: '`#!/bin/bash`—The so-called “shebang line” that tells Linux which shell interpreter
    you’re going to be using for a script.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`#!/bin/bash`—所谓的“shebang 行”，告诉 Linux 您将使用哪个 shell 解释器来执行脚本。'
- en: '`||`—Inserts an “or” into a script, meaning either the command to the left
    is successful or execute the command to the right.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`||`—在脚本中插入一个“或”，意味着左侧的命令成功或执行右侧的命令。'
- en: '`&&`—Inserts an “and” into a script, meaning if the command to the left is
    successful, execute the command to the right.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`&&`—在脚本中插入一个“和”，意味着如果左侧的命令成功，则执行右侧的命令。'
- en: '`test -f /etc/filename`—Tests for the existence of the specified file or directory
    name.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`test -f /etc/filename`—检查指定的文件或目录名是否存在。'
- en: '`chmod +x upgrade.sh`—Makes a script file executable.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`chmod +x upgrade.sh`—使脚本文件可执行。'
- en: '`pip3 install --upgrade --user awscli`—Installs the AWS command-line interface
    using Python’s pip package manager.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pip3 install --upgrade --user awscli`—使用 Python 的 pip 软件包管理器安装 AWS 命令行界面。'
- en: '`aws s3 sync /home/username/dir2backup s3://linux-bucket3040`—Synchronizes
    the contents of a local directory with the specified S3 bucket.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`aws s3 sync /home/username/dir2backup s3://linux-bucket3040`—同步本地目录的内容与指定的
    S3 存储桶。'
- en: '`21 5 * * 1 root apt update && apt upgrade`—A cron directive that executes
    two `apt` commands at 5:21 each morning.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`21 5 * * 1 root apt update && apt upgrade`—cron 指令，每天早上 5:21 执行两个 `apt` 命令。'
- en: '`NOW=$(date +"%m_%d_%Y")`—Assigns the current date to a script variable.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NOW=$(date +"%m_%d_%Y")`—将当前日期分配给脚本变量。'
- en: '`systemctl start site-backup.timer`—Activates a systemd system timer.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemctl start site-backup.timer`—激活 systemd 系统定时器。'
- en: '6\. Emergency tools: Building a system recovery device'
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 6. 紧急工具：构建系统恢复设备
- en: '`sha256sum systemrescuecd-x86-5.0.2.iso`—Calculates the SHA256 checksum of
    a .ISO file.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sha256sum systemrescuecd-x86-5.0.2.iso`—计算 .ISO 文件的 SHA256 校验和。'
- en: '`isohybrid systemrescuecd-x86-5.0.2.iso`—Adds a USB-friendly MBR to a live-boot
    image.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`isohybrid systemrescuecd-x86-5.0.2.iso`—为实时启动镜像添加一个 USB 友好的 MBR。'
- en: '`dd bs=4M if=systemrescuecd-x86-5.0.2.iso of=/dev/sdb && sync`—Writes a live-boot
    image to an empty drive.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dd bs=4M if=systemrescuecd-x86-5.0.2.iso of=/dev/sdb && sync`—将实时启动镜像写入空驱动器。'
- en: '`mount /dev/sdc1 /run/temp-directory`—Mounts a partition to a directory on
    the live file system.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mount /dev/sdc1 /run/temp-directory`—将分区挂载到实时文件系统上的一个目录。'
- en: '`ddrescue -d /dev/sdc1 /run/usb-mount/sdc1-backup.img /run/usb-mount/sdc1-backup.logfile`—Saves
    files on a damaged partiton to an image named sdc1-backup.img, and writes events
    to a log file.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ddrescue -d /dev/sdc1 /run/usb-mount/sdc1-backup.img /run/usb-mount/sdc1-backup.logfile`—将损坏分区上的文件保存到名为
    sdc1-backup.img 的镜像中，并将事件写入日志文件。'
- en: '`chroot /run/mountdir/`—Opens a root shell on a file system.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`chroot /run/mountdir/`—在文件系统上打开 root shell。'
- en: '7\. Web servers: Building a MediaWiki server'
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7. 网络服务器：构建 MediaWiki 服务器
- en: '`apt install lamp-server^`—Ubuntu command that installs all the elements of
    a LAMP server.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt install lamp-server^`—Ubuntu 命令，安装 LAMP 服务器的所有元素。'
- en: '`systemctl enable httpd`—Launches Apache on a CentOS machine at every system
    boot.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemctl enable httpd`—在 CentOS 机器的每次系统启动时启动 Apache。'
- en: '`firewall-cmd --add-service=http --permanent`—Permits HTTP browser traffic
    into a CentOS system.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`firewall-cmd --add-service=http --permanent`—允许 HTTP 浏览器流量进入 CentOS 系统。'
- en: '`mysql_secure_installation`—Resets your root password and tightens database
    security.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mysql_secure_installation`—重置您的 root 密码并加强数据库安全性。'
- en: '`mysql -u root -p`—Logs in to MySQL (or MariaDB) as the root user.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mysql -u root -p`—以 root 用户登录 MySQL（或 MariaDB）。'
- en: '`CREATE DATABASE newdbname;`—Creates a new database in MySQL (or MariaDB).'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CREATE DATABASE newdbname;`—在 MySQL（或 MariaDB）中创建一个新的数据库。'
- en: '`yum search php- | grep mysql`—Searches for available packages related to PHP
    on a CentOS machine.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`yum search php- | grep mysql`—在 CentOS 机器上搜索与 PHP 相关的可用软件包。'
- en: '`apt search mbstring`—Searches for available packages related to multibyte
    string encoding.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt search mbstring`—搜索与多字节字符串编码相关的可用软件包。'
- en: '8\. Networked file sharing: Building a Nextcloud file-sharing server'
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8. 网络文件共享：构建Nextcloud文件共享服务器
- en: '`a2enmod rewrite`—Enables the rewrite module so Apache can edit URLs as they
    move between a client and server.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`a2enmod rewrite`—启用重写模块，以便Apache可以在客户端和服务器之间移动URL时编辑它们。'
- en: '`nano /etc/apache2/sites-available/nextcloud.conf`—Creates or edits an Apache
    host configuration file for Nextcloud.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nano /etc/apache2/sites-available/nextcloud.conf`—为Nextcloud创建或编辑Apache主机配置文件。'
- en: '`chown -R www-data:www-data /var/www/nextcloud/`—Changes the user and group
    ownership of all website files to the www-data user.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`chown -R www-data:www-data /var/www/nextcloud/`—将所有网站文件的用户和组所有权更改为www-data用户。'
- en: '`sudo -u www-data php occ list`—Uses the Nextcloud CLI to list available commands.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sudo -u www-data php occ list`—使用Nextcloud CLI列出可用命令。'
- en: '`aws s3 ls s3://nextcloud32327`—Lists the contents of an S3 bucket.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`aws s3 ls s3://nextcloud32327`—列出S3存储桶的内容。'
- en: 9\. Securing your web server
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9. 保护你的Web服务器
- en: '`firewall-cmd --permanent --add-port=80/tcp`—Opens port 80 to incoming HTTP
    traffic, and configures it to reload at boot time.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`firewall-cmd --permanent --add-port=80/tcp`—打开端口80以允许传入HTTP流量，并在启动时配置它重新加载。'
- en: '`firewall-cmd --list-services`—Lists the currently active rules on a firewalld
    system.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`firewall-cmd --list-services`—列出firewalld系统上当前活动的规则。'
- en: '`ufw allow ssh`—Opens port 22 for SSH traffic using UncomplicatedFirewall on
    Ubuntu.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ufw allow ssh`—使用Ubuntu上的UncomplicatedFirewall打开端口22以允许SSH流量。'
- en: '`ufw delete 2`—Removes the second `ufw` rule as listed by the `ufw status`
    command.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ufw delete 2`—删除`ufw status`命令列出的第二个`ufw`规则。'
- en: '`ssh -p53987 username@remote_IP_or_domain`—Logs in to an SSH session using
    a nondefault port.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ssh -p53987 username@remote_IP_or_domain`—使用非默认端口登录SSH会话。'
- en: '`certbot --apache`—Configures an Apache web server to use Let’s Encrypt encryption
    certificates.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`certbot --apache`—配置Apache Web服务器以使用Let’s Encrypt加密证书。'
- en: '`selinux-activate`—Activates SELinux on an Ubuntu machine.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`selinux-activate`—在Ubuntu机器上激活SELinux。'
- en: '`setenforce 1`—Toggles enforcing mode in an SELinux configuration.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`setenforce 1`—在SELinux配置中切换强制模式。'
- en: '`ls -Z /var/www/html/`—Displays the security context of the files in a specified
    directory.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ls -Z /var/www/html/`—显示指定目录中文件的保密上下文。'
- en: '`usermod -aG app-data-group otheruser`—Adds the otheruser user to the app-data-group
    system group.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`usermod -aG app-data-group otheruser`—将otheruser用户添加到app-data-group系统组。'
- en: '`netstat -npl`—Scans for open (listening) network ports on a server.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`netstat -npl`—在服务器上扫描打开（监听）的网络端口。'
- en: '10\. Securing network connections: Creating a VPN or DMZ'
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10. 确保网络连接安全：创建VPN或DMZ
- en: '`hostname OpenVPN-Server`—Sets the command-prompt description to make it easier
    to keep track of which server you’re logged in to.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`hostname OpenVPN-Server`—设置命令提示符描述，以便更容易跟踪你登录的是哪个服务器。'
- en: '`cp -r /usr/share/easy-rsa/ /etc/openvpn`—Copies the Easy RSA scripts and environment
    configuration files to the working OpenVPN directory.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cp -r /usr/share/easy-rsa/ /etc/openvpn`—将Easy RSA脚本和环境配置文件复制到工作OpenVPN目录。'
- en: '`./build-key-server server`—Generates an RSA key pair set with the name *server*.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`./build-key-server server`—生成名为*server*的RSA密钥对集。'
- en: '`./pkitool client`—Generates a client set of keys from an existing RSA key
    infrastructure.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`./pkitool client`—从现有的RSA密钥基础设施生成客户端密钥集。'
- en: '`openvpn --tls-client --config /etc/openvpn/client.conf`—Launches OpenVPN on
    a Linux client using the settings from the client.conf file.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openvpn --tls-client --config /etc/openvpn/client.conf`—使用client.conf文件中的设置在Linux客户端上启动OpenVPN。'
- en: '`iptables -A FORWARD -i eth1 -o eth2 -m state --state NEW,ESTABLISHED, RELATED
    -j ACCEPT`—Allows data transfers between the eth1 and eth2 network interfaces.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`iptables -A FORWARD -i eth1 -o eth2 -m state --state NEW,ESTABLISHED,RELATED
    -j ACCEPT`—允许eth1和eth2网络接口之间的数据传输。'
- en: '`man shorewall-rules`—Displays documentation on the rules file used by Shorewall.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`man shorewall-rules`—显示Shorewall使用的规则文件的文档。'
- en: '`systemctl start shorewall`—Starts the Shorewall firewall tool.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemctl start shorewall`—启动Shorewall防火墙工具。'
- en: '`vboxmanage natnetwork add --netname dmz --network "10.0.1.0/24" --enable --dhcp
    on`—Uses the VirtualBox CLI to create and configure a virtual NAT network with
    DHCP for VirtualBox VMs.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vboxmanage natnetwork add --netname dmz --network "10.0.1.0/24" --enable --dhcp
    on`—使用VirtualBox CLI创建和配置一个带有DHCP的虚拟NAT网络，用于VirtualBox虚拟机。'
- en: '`vboxmanage natnetwork start --netname dmz`—Starts a virtual NAT network.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vboxmanage natnetwork start --netname dmz`—启动虚拟NAT网络。'
- en: '`dhclient enp0s3`—Requests an IP address for the enp0s3 interface from a DHCP
    server.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dhclient enp0s3`—从DHCP服务器请求enp0s3接口的IP地址。'
- en: '11\. System monitoring: Working with log files'
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 11. 系统监控：处理日志文件
- en: Alt-F<*n*>—Opens a virtual console from a non-GUI shell.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alt-F<*n*>—从非GUI shell打开虚拟控制台。
- en: '`journalctl -n 20`—Displays the 20 most recent log entries in the journal.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`journalctl -n 20`—显示最近的 20 条日志条目。'
- en: '`journalctl --since 15:50:00 --until 15:52:00`—Displays only events between
    the `since` and `until` times.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`journalctl --since 15:50:00 --until 15:52:00`—仅显示在 `since` 和 `until` 时间之间的事件。'
- en: '`systemd-tmpfiles --create --prefix /var/log/journal`—Instructs systemd to
    create and maintain a persistent journal file rather than one that is destroyed
    with every boot.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemd-tmpfiles --create --prefix /var/log/journal`—指示 systemd 创建并维护一个持久的日志文件，而不是每次启动时都会被销毁的文件。'
- en: '`cat /var/log/auth.log | grep -B 1 -A 1 failure`—Displays matching lines along
    with the lines immediately before and after.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cat /var/log/auth.log | grep -B 1 -A 1 failure`—显示匹配的行以及其前后的一行。'
- en: '`cat /var/log/mysql/error.log | awk ''$3 ~/[Warning]/'' | wc`—Searches the
    MySQL error log for events classified as a Warning.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cat /var/log/mysql/error.log | awk ''$3 ~/[Warning]/'' | wc`—在 MySQL 错误日志中搜索被分类为警告的事件。'
- en: '`sed "s/^` **`[0-9]`** `//g" numbers.txt`—Removes numbers at the start of each
    line of a file.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sed "s/^` **`[0-9]`** `//g" numbers.txt`—删除文件每行的开头数字。'
- en: '`tripwire --init`—Initializes the database of a Tripwire installation.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tripwire --init`—初始化 Tripwire 安装的数据库。'
- en: '`twadmin --create-cfgfile --site-keyfile site.key twcfg.txt`—Generates a new
    encrypted tw.cfg file for Tripwire.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`twadmin --create-cfgfile --site-keyfile site.key twcfg.txt`—为 Tripwire 生成一个新的加密
    tw.cfg 文件。'
- en: 12\. Sharing data over a private network
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12. 在私有网络上共享数据
- en: '`/home 192.168.1.11(rw,sync)`—An entry in the NFS server /etc/exports file
    that defines a remote client share.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/home 192.168.1.11(rw,sync)`—NFS 服务器 /etc/exports 文件中的一个条目，定义了远程客户端共享。'
- en: '`firewall-cmd --add-service=nfs`—Opens a CentOS firewall for client access
    to your NFS share.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`firewall-cmd --add-service=nfs`—打开 CentOS 防火墙以允许客户端访问您的 NFS 共享。'
- en: '`192.168.1.23:/home /nfs/home nfs`—A typical entry in the /etc/fstab file of
    an NFS client, which loads an NFS share.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`192.168.1.23:/home /nfs/home nfs`—NFS 客户端 /etc/fstab 文件中的一个典型条目，用于加载 NFS 共享。'
- en: '`smbpasswd -a sambauser`—Adds Samba functionality (and a unique password) to
    an existing Linux user account.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`smbpasswd -a sambauser`—向现有的 Linux 用户账户添加 Samba 功能（以及一个唯一的密码）。'
- en: '`nano /etc/samba/smb.conf`—Samba is controlled by the smb.conf file on the
    server.'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nano /etc/samba/smb.conf`—Samba 由服务器上的 smb.conf 文件控制。'
- en: '`smbclient //localhost/sharehome`—Logs in to a local Samba share (using the
    Samba user account).'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`smbclient //localhost/sharehome`—使用 Samba 用户账户登录本地 Samba 共享。'
- en: '`ln -s /nfs/home/ /home/username/Desktop/`—Creates a symbolic link, allowing
    a user to easily access an NFS share by clicking a desktop icon.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ln -s /nfs/home/ /home/username/Desktop/`—创建一个符号链接，允许用户通过点击桌面图标轻松访问 NFS 共享。'
- en: 13\. Troubleshooting system performance issues
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 13. 解决系统性能问题
- en: '`uptime`—Returns the CPU load averages over the past 1, 5, and 15 minutes.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`uptime`—返回过去 1、5 和 15 分钟的 CPU 负载平均值。'
- en: '`cat /proc/cpuinfo | grep processor`—Returns the number of system CPU processors.'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cat /proc/cpuinfo | grep processor`—返回系统 CPU 处理器的数量。'
- en: '`top`—Displays real-time statistics for running Linux processes.'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`top`—显示正在运行的 Linux 进程的实时统计信息。'
- en: '`killall yes`—Shuts down all running instances of the `yes` command.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`killall yes`—关闭所有正在运行的 `yes` 命令实例。'
- en: '`nice --15 /var/scripts/mybackup.sh`—Raises the priority of the mybackup.sh
    script for system resources.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nice --15 /var/scripts/mybackup.sh`—提高 mybackup.sh 脚本的系统资源优先级。'
- en: '`free -h`—Displays total and available system RAM.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`free -h`—显示系统和可用系统 RAM。'
- en: '`df -i`—Displays the available and total inodes for each file system.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`df -i`—显示每个文件系统的可用和总 inodes。'
- en: '`find . -xdev -type f | cut -d "/" -f 2 | sort | uniq -c | sort -n`—Counts
    and displays numbers of files by parent directory.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`find . -xdev -type f | cut -d "/" -f 2 | sort | uniq -c | sort -n`—按父目录计数并显示文件数量。'
- en: '`apt-get autoremove`—Removes old and unused kernel headers.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`apt-get autoremove`—删除旧的未使用的内核头文件。'
- en: '`nethogs eth0`—Displays processes and transfers data related to network connections
    using the eth0 interface.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nethogs eth0`—使用 eth0 接口显示与网络连接相关的进程和数据传输。'
- en: '`tc qdisc add dev eth0 root netem delay 100ms`—Slows all network transfers
    through the eth0 interface by 100 milliseconds.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tc qdisc add dev eth0 root netem delay 100ms`—通过 eth0 接口将所有网络传输速度减慢 100 毫秒。'
- en: '`nmon -f -s 30 -c 120`—Records data from a series of `nmon` scans to a file.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nmon -f -s 30 -c 120`—将一系列 `nmon` 扫描的数据记录到文件中。'
- en: 14\. Troubleshooting network issues
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14. 解决网络问题
- en: '`ip addr`—Lists the active interfaces on a Linux system. May be shortened to
    `ip a` or lengthened to `ip address`; it’s your choice.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip addr`—列出 Linux 系统上的活动接口。可以是 `ip a` 的缩写，也可以是 `ip address` 的扩展，由您选择。'
- en: '`lspci`—Lists the PCI devices currently connected to your computer.'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lspci`—列出当前连接到您的计算机的 PCI 设备。'
- en: '`dmesg | grep -A 2 Ethernet`—Searches the `dmesg` logs for references to the
    string *Ethernet,* and displays references along with the subsequent two lines
    of output.'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dmesg | grep -A 2 Ethernet`—在 `dmesg` 日志中搜索字符串 *Ethernet* 的引用，并显示引用及其后续两行输出。'
- en: '`ip route add default via 192.168.1.1 dev eth0`—Manually sets a new network
    route for a computer.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip route add default via 192.168.1.1 dev eth0`—手动为计算机设置新的网络路由。'
- en: '`dhclient enp0s3`—Requests a dynamic (DHCP) IP address for the enp0s3 interface.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dhclient enp0s3`—为 enp0s3 接口请求动态（DHCP）IP 地址。'
- en: '`ip addr add 192.168.1.10/24 dev eth0`—Assigns a static IP address to the eth0
    interface (doesn’t persist past the next system restart).'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip addr add 192.168.1.10/24 dev eth0`—将静态 IP 地址分配给 eth0 接口（在下次系统重启后不会持续）。'
- en: '`ip link set dev enp0s3 up`—Starts the enp0s3 interface (useful after editing
    the configuration).'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ip link set dev enp0s3 up`—启动 enp0s3 接口（在编辑配置后很有用）。'
- en: '`netstat -l | grep http`—Scans a local machine for a web service listening
    on port 80.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`netstat -l | grep http`—扫描本地机器，查找在端口 80 上监听的 Web 服务。'
- en: '`nc -z -v bootstrap-it.com 443 80`—Scans a remote website for services listening
    on port 443 or 80.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`nc -z -v bootstrap-it.com 443 80`—扫描远程网站，查找在端口 443 或 80 上监听的服务。'
- en: 15\. Troubleshooting peripheral devices
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 15. 外设故障排除
- en: '`lshw -c memory` (or `lshw -class memory`)—Displays the memory section of a
    system’s hardware profile.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lshw -c memory`（或 `lshw -class memory`）—显示系统硬件配置的内存部分。'
- en: '`` ls /lib/modules/`uname -r` ``—Lists the contents of the directory under
    /lib/modules/ containing modules for your current, active kernel.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`` ls /lib/modules/`uname -r` ``—列出位于 /lib/modules/ 目录下的内容，该目录包含当前活动内核的模块。'
- en: '`lsmod`—Lists all active modules.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lsmod`—列出所有活动模块。'
- en: '`modprobe -c`—Lists all available modules.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`modprobe -c`—列出所有可用的模块。'
- en: '`find /lib/modules/$(uname -r) -type f -name ath9k*`—Searches for a file among
    the available kernel modules with a name starting with *ath9k*.'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`find /lib/modules/$(uname -r) -type f -name ath9k*`—在可用的内核模块中搜索以 *ath9k* 开头的文件。'
- en: '`modprobe ath9k`—Loads the specified module into the kernel.'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`modprobe ath9k`—将指定的模块加载到内核中。'
- en: '`GRUB_CMDLINE_LINUX_DEFAULT="systemd.unit=runlevel3.target"`—The /etc/ default/grub
    file loads Linux as multiuser, non-graphic session.'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GRUB_CMDLINE_LINUX_DEFAULT="systemd.unit=runlevel3.target"`—/etc/default/grub
    文件加载 Linux 为多用户、非图形会话。'
- en: '`lp -H 11:30 -d Brother-DCP-7060D /home/user/myfile.pdf`—Schedules a print
    job to the Brother printer at 11:30 UTC.'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lp -H 11:30 -d Brother-DCP-7060D /home/user/myfile.pdf`—计划在 11:30 UTC 的时间将打印任务发送到
    Brother 打印机。'
- en: '16\. DevOps tools: Deploying a scripted server environment using Ansible'
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 16. DevOps 工具：使用 Ansible 部署脚本化服务器环境
- en: '`add-apt-repository ppa:ansible/ansible`—Adds the Debian Ansible software repository
    to allow `apt` to install Ansible on an Ubuntu/Debian machine.'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`add-apt-repository ppa:ansible/ansible`—将 Debian Ansible 软件仓库添加到系统中，以便 `apt`
    在 Ubuntu/Debian 机器上安装 Ansible。'
- en: '`ansible webservers -m ping`—Tests all the hosts in the webservers host group
    for network connectivity.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ansible webservers -m ping`—测试 webservers 主机组中的所有主机以检查网络连通性。'
- en: '`ansible webservers -m copy -a "src=/home/ubuntu/stuff.html dest=/var/www/html/"`—Copies
    a local file to the specified file location on all the hosts in the webservers
    group.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ansible webservers -m copy -a "src=/home/ubuntu/stuff.html dest=/var/www/html/"`—将本地文件复制到
    webservers 组中所有主机的指定文件位置。'
- en: '`ansible-doc apt`—Displays syntax and usage information on the `apt` module.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ansible-doc apt`—显示 `apt` 模块的语法和用法信息。'
- en: '`ansible-playbook site.yml`—Launches an operation based on the site.yml playbook.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ansible-playbook site.yml`—根据 site.yml playbook 启动操作。'
- en: '`ansible-playbook site.yml --ask-vault-pass`—Uses a Vault password to authenticate
    and perform playbook operations.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ansible-playbook site.yml --ask-vault-pass`—使用 Vault 密码进行身份验证并执行 playbook
    操作。'
