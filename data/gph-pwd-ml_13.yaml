- en: 10 Social network analysis against fraud
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 10 社交网络分析对抗欺诈
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Using social network analysis (SNA) to classify fraudsters and fraud risks
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用社交网络分析（SNA）对欺诈者和欺诈风险进行分类
- en: Describing different graph algorithms for SNA-based fraud analytics
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述基于社交网络分析（SNA）的欺诈分析的不同图算法
- en: Using a real graph database to perform a proper SNA
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用真实的图数据库执行适当的社交网络分析
- en: In this chapter, you will learn about techniques for combating fraud that approach
    the task from a different perspective. The techniques for fighting fraud presented
    in chapters 8 and 9 use different graph construction methods to create networks
    based on the information available in the transactions themselves and/or the users’
    accounts. In chapter 8, we created a graph connecting users with merchants by
    using transaction information, and we explored connecting nodes based on overlapping
    information (two accounts that use the same email address, for example). In chapter
    9, you learned how to construct a graph (the k-NN graph) by computing distances
    between pairs of observations (each of which has been converted to a node) and
    storing the top k relationships.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将了解从不同角度应对欺诈的技术。第8章和第9章中介绍的欺诈斗争技术使用不同的图构建方法，根据交易本身和/或用户账户中可用的信息创建网络。在第8章中，我们通过使用交易信息创建了一个连接用户和商家的图，并探讨了基于重叠信息连接节点（例如，使用相同电子邮件地址的两个账户）。在第9章中，你学习了如何通过计算成对观察之间的距离（每个观察都已被转换为节点）并存储前k个关系来构建一个图（k-NN图）。
- en: In this chapter, we will consider the case in which a graph—specifically, a
    social network—exists either implicitly or explicitly in the data that we collect
    for fraud analysis. As you learned in the first part of the book, a graph is considered
    to be a social network if the nodes are people and the edges express relationships
    between people (friendship, family, work connections, and so on). Such networks
    can be imported from existing explicitly social networks, such as Facebook, LinkedIn,
    and Twitter, or they can be created from internal data. Telecommunications providers,
    for example, have massive transactional databases in which they record calls among
    their customers. Supposing that people with stronger relationships call one another
    more often than relative strangers do, it is possible to use such information
    to create a social network and assign strengths to the ties between people based
    on the frequency and/or duration of the calls. Other examples in which social
    networks can be inferred are the data collected by internet infrastructure providers
    (people connecting from the same IP address), banks (periodic recurrent transactions
    among people), retail organizations (one person sending deliveries to the address
    of another person), and the online gaming industry (people regularly playing from
    the same address or on the same team).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将考虑以下情况：一个图——具体来说，是一个社交网络——要么隐含地，要么明确地存在于我们为欺诈分析收集的数据中。正如你在本书的第一部分所学，如果一个图中的节点是人，而边表示人与人之间的关系（友谊、家庭、工作联系等），那么这个图被认为是社交网络。这样的网络可以从现有的显式社交网络中导入，例如Facebook、LinkedIn和Twitter，或者可以从内部数据中创建。例如，电信提供商拥有大量的交易数据库，其中记录了他们客户之间的通话。假设关系更强的人比相对陌生的人更频繁地互相通话，那么可以使用此类信息来创建社交网络，并根据通话的频率和/或持续时间分配人与人之间联系的力量。其他可以推断出社交网络的例子包括互联网基础设施提供商收集的数据（来自同一IP地址的人连接）、银行（人们之间周期性的重复交易）、零售组织（一个人向另一个人的地址发送送货）以及在线游戏行业（人们从同一地址或同一团队定期玩游戏）。
- en: Whether the social network has been created implicitly or explicitly, the question
    is whether our fraud detection models might benefit from social network analysis
    (SNA) or complex network analysis (CNA). In other words, do the relationships
    between people play an important role in fraud, and is fraud a contagious effect
    in the network? Are fraudsters randomly spread throughout the social network,
    or are there observable effects indicating that social connections play a role
    in fraud attempts? Should we assume that the probability that someone will commit
    fraud depends on the people they are connected to? If John Smith has five friends
    who are fraudsters, what would you say about him [Baesens et al., 2015]? The goal
    is to determine which types of unstructured network information extracted from
    a social network (techniques related to SNA and CNA) can be translated into useful
    and meaningful characteristics of a subject (a fraudster, in our case), and how.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 无论社会网络是隐式创建还是显式创建，问题在于我们的欺诈检测模型是否可能从社会网络分析（SNA）或复杂网络分析（CNA）中受益。换句话说，人与人之间的关系在欺诈中是否扮演着重要角色，欺诈是否是网络中的传染效应？欺诈者是否在社会网络中随机分布，或者是否存在可观察的效果表明社会联系在欺诈尝试中发挥作用？我们应该假设某人是否会犯欺诈取决于他们所联系的人吗？如果约翰·史密斯有五个是欺诈者的朋友，你会怎么说他
    [Baesens et al., 2015]？目标是确定从社会网络中提取的哪些类型的非结构化网络信息（与SNA和CNA相关的技术）可以转化为有用的和有意义的主题特征（在我们的案例中是欺诈者），以及如何转化。
- en: SNA—and link analysis in general as a tool for improving the quality of fraud
    detection systems—is a hot topic in the fraud-fighting software industry. Gartner
    Group fraud analyst Avivah Litan [2012] suggests a five-layer approach[¹](#pgfId-1008596)
    to fraud detection and prevention, as illustrated in figure 10.1.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 社会网络分析（SNA）——以及作为提高欺诈检测系统质量工具的链接分析——在欺诈斗争软件行业中是一个热门话题。Gartner集团欺诈分析师Avivah Litan
    [2012]建议采用一种五层方法[¹](#pgfId-1008596)进行欺诈检测和预防，如图10.1所示。
- en: '![CH10_F01_Negro](../Images/CH10_F01_Negro.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F01_Negro](../Images/CH10_F01_Negro.png)'
- en: Figure 10.1 The five-layer approach to fraud detection proposed by Gartner
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.1 Gartner提出的欺诈检测五层方法
- en: 'In this model, each of the levels represents a specific type of customer activity
    and behavior:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个模型中，每个层级代表一种特定的客户活动和行为类型：
- en: '*Level 1* is endpoint-centric and includes user authentication, device, and
    geolocation information. It entails adding a set of authentication options for
    different customer access channels. For low-risk scenarios, all banks provide
    two-factor authentication, such as a combination of hardware or software ID and
    a personal identification number (PIN), or a user ID and password. For higher-risk
    scenarios, three-factor authentication (adding identity credentials from a third
    category, such as biometrics) is more secure but also more inconvenient. Out-of-band
    authentication, which requires separate information channels for authentication
    and access, is widely accepted as a defense against man-in-the-middle attacks.
    These controls sound fundamental, but many institutions are weak on monitoring
    even at this level [Barta and Stewart, 2008].'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Level 1* 以端点为中心，包括用户身份验证、设备和地理位置信息。它包括为不同的客户访问渠道添加一组身份验证选项。对于低风险场景，所有银行都提供双因素身份验证，例如硬件或软件ID与个人识别码（PIN）的组合，或者用户ID和密码。对于高风险场景，三因素身份验证（添加来自第三类身份凭证，如生物识别）更安全，但也不太方便。带外身份验证，它要求为身份验证和访问使用单独的信息通道，被广泛接受为防止中间人攻击的防御措施。这些控制听起来很基础，但许多机构即使在这一点上监控也很薄弱
    [Barta and Stewart, 2008]。'
- en: '*Level 2* is navigation-centric, which means that customer behavior during
    a particular session is analyzed for anomalies. The analysis includes real-time,
    dynamic capture of online customer and account activity. This information is used
    to build a customer profile to determine what is normal or abnormal for this customer,
    providing an enhanced view of the customer/account and forming the foundation
    for real-time decisions.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Level 2* 以导航为中心，这意味着在特定会话期间分析客户行为是否存在异常。分析包括对在线客户和账户活动的实时、动态捕获。这些信息用于构建客户档案，以确定对这位客户而言什么是正常或异常，从而提供对客户/账户的更全面视角，并为实时决策奠定基础。'
- en: '*Level 3* is channel-centric. It focuses on analyzing account activity for
    anomalies. The idea is to have an end-to-end enterprise platform that can address
    a specific channel and provide extensibility across channels. In a banking context,
    a fraud prevention system might focus on Automated Clearing House (ACH) transactions.
    Thirty ACH transactions in one day would be considered to be abnormal if the customer
    usually makes one or two such transactions per month.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*第三级* 是以渠道为中心的。它侧重于分析账户活动的异常情况。想法是拥有一个端到端的企业平台，可以针对特定渠道，并在渠道之间提供可扩展性。在银行环境中，欺诈预防系统可能会专注于自动清算所（ACH）交易。如果客户通常每月只进行一到两次此类交易，那么一天内发生30笔ACH交易将被视为异常。'
- en: '*Level 4* is cross-product and cross-channel; it entails monitoring entity
    behavior across accounts, products, and channels. Transactions that initially
    look legitimate may appear to be suspicious when correlated with activities in
    other areas. A bank can monitor payments to credit card accounts made through
    telephone banking, online, by check, and by mobile device. Such a wide-spectrum
    transaction monitoring approach (rather than looking at a subset of transactions
    coming from a single source, as in the channel-centric approach) is important
    because it provides a global view of the subject’s behavior. Fraudsters do a lot
    of system testing through low-dollar or zero-dollar transaction attempts that
    sampling may miss.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*第四级* 是跨产品和跨渠道；它包括监控实体在账户、产品和渠道之间的行为。最初看似合法的交易，当与其他区域的活动相关联时，可能会显得可疑。银行可以监控通过电话银行、在线、支票和移动设备进行的信用卡账户支付。这种广泛的交易监控方法（而不是像以渠道为中心的方法那样只关注来自单一来源的交易子集）很重要，因为它提供了对主体行为的全局视角。欺诈者会通过小额或零额交易尝试进行大量系统测试，这些测试可能会被抽样遗漏。'
- en: '*Level 5* is about entity link analysis, or evaluating connections between
    various users or transactions. At this level, the analysis goes beyond transaction
    and customer views to analyze activities and relationships within a network of
    related entities (such as customers who share demographic data or transaction
    patterns, or relationships among people generally). Entity link analysis helps
    detect and prevent fraud by identifying patterns of behavior that appear suspicious
    only when viewed across related accounts or entities, or by discovering the networks
    associated with a suspicious account, entity, or individual to determine whether
    a case is limited to an isolated individual or is part of a criminal conspiracy.
    In the automobile insurance industry, fraud detection systems may uncover staged
    accidents or false claims by identifying suspicious patterns or overlaps, such
    as cases in which an individual is the insured party in one case and a passenger
    in another, or the insured party and claimant have the same phone number, or there
    is repetitive use of the same body shops and medical professionals.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*第五级* 是关于实体链接分析，或评估不同用户或交易之间的联系。在这一级别，分析超越了交易和客户视角，以分析相关实体网络（如共享人口统计数据或交易模式的客户，或人们之间的一般关系）内的活动和关系。实体链接分析通过识别仅在跨相关账户或实体查看时才显得可疑的行为模式，或通过发现与可疑账户、实体或个人相关的网络，以确定案件是否仅限于孤立的个人，还是属于犯罪阴谋的一部分，从而帮助检测和预防欺诈。在汽车保险行业，欺诈检测系统可能通过识别可疑模式或重叠，如一个人在一个案例中是投保人，在另一个案例中是乘客，或投保人和索赔人有相同的电话号码，或反复使用相同的汽车修理厂和医疗专业人员，来揭露安排的交通事故或虚假索赔。'
- en: In this schema, the fifth level—the most advanced one—focuses on the use of
    graph analysis as a powerful tool for fighting fraud. The scenarios presented
    in chapter 8, in which graphs were used to create connections among people based
    on the information provided, also fall into this category. In that case, network
    analysis connects entities through demographic attributes such as address, phone
    number, employer, account ownership, IP address, and device ID.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个框架中，第五级——最先进的一级——专注于使用图分析作为对抗欺诈的有力工具。第8章中提出的场景，其中使用图根据提供的信息在人们之间建立联系，也属于这一类别。在这种情况下，网络分析通过人口统计属性（如地址、电话号码、雇主、账户所有权、IP地址和设备ID）将实体连接起来。
- en: This chapter focuses instead on SNA, which involves exploring explicit or implicit
    connections among users as a basis for performing fraud detection and prevention.
    We will consider various techniques for building a social network out of the data
    available and for identifying fraudsters or evaluating the risk of people being
    victims of fraud.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 本章重点介绍社会网络分析（SNA），它涉及探索用户之间的显式或隐式联系，作为进行欺诈检测和预防的基础。我们将考虑从可用数据中构建社会网络的各种技术，以及识别欺诈者或评估人们成为欺诈受害者风险的技术。
- en: 10.1 Social network analysis concepts
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.1 社会网络分析概念
- en: In general terms, we can say that network effects are powerful. This statement
    is commonly accepted as true and confirmed by a lot of concrete evidence. People
    tend to associate with other people whom they perceive as being similar to them
    in some way [Newman, 2010], such as race, religion, political affiliation, hobbies,
    socioeconomic status, or character. Thus, knowing certain characteristics of some
    nodes in a network (such as “honest” and “dishonest”) will give us a decent chance
    of being able to guess the characteristics of the rest of the nodes [Koutra et
    al., 2011].
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 从一般意义上来说，我们可以认为网络效应是强大的。这个说法通常被认为是正确的，并且得到了大量具体证据的证实。人们倾向于与他们认为在某些方面与自己相似的其他人交往[Newman,
    2010]，例如种族、宗教、政治派别、爱好、社会经济地位或性格。因此，了解网络中某些节点（如“诚实”和“不诚实”）的某些特征，将给我们一个相当大的机会来猜测其他节点的特征[Koutra
    et al., 2011]。
- en: This concept is expressed by the term *homophily*, which boils down to the expression
    “Birds of a feather flock together.” Friendships are mostly based on similar interests,
    origins, or experiences—including, conceivably, a shared tendency to commit fraud.
    Relationships determine which people are influenced by whom and the extent to
    which information is exchanged among them.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这个概念用“同质性”这个术语来表达，它归结为“物以类聚”的表达方式。友谊大多基于相似的兴趣、起源或经历——包括，可能地，共同倾向于进行欺诈。关系决定了哪些人会受到谁的影响，以及他们之间信息交流的程度。
- en: It is also important to note that not all social networks are homophilic. There
    are different ways to compute formally how much a network is homophilic, but broadly,
    we can say that a network is homophilic if nodes with label X (fraudster, New
    Yorker, doctor, and so on) are to a larger extent connected to other nodes with
    label X. In the context of fraud detection,
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，并非所有的社交网络都是同质性的。有不同方式来正式计算一个网络有多少同质性，但总的来说，我们可以这样说：如果一个网络中的节点X（欺诈者、纽约客、医生等）与其他带有标签X的节点有更大的连接程度，那么这个网络就是同质性的。在欺诈检测的背景下，
- en: '*A network is homophilic if fraudulent nodes are significantly more connected
    to other fraudulent nodes, and as a consequence, legitimate nodes connect significantly
    more to other legitimate nodes [Baesens et al., 2015].*'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果一个网络是同质性的，那么欺诈节点与其他欺诈节点有显著更多的连接，因此，合法节点与其他合法节点有显著更多的连接[Baesens et al., 2015]。*'
- en: More concretely, suppose that l is the fraction of legitimate nodes in the network,
    computed as the number of legitimate nodes divided by the total number of nodes,
    and f is the fraction of fraudulent nodes in the network, computed as the number
    of fraudulent nodes divided by the total number of nodes. In a purely random network—one
    in which the edges are created randomly between nodes without any internal or
    external influence—the expected probability that an edge connects two dissimilarly
    labeled nodes can be expressed as 2 × l × f. These edges are called *cross-labeled
    edges*. A network is homophilic if the fraction of cross-labeled edges, computed
    as the ratio (r) between the number of cross-labeled edges and the number of all
    edges, is significantly less than the expected probability 2 × l × f. Consider
    the social network shown in figure 10.2.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 更具体地说，假设l是网络中合法节点的比例，计算为合法节点数除以总节点数，f是网络中欺诈节点的比例，计算为欺诈节点数除以总节点数。在一个纯粹随机的网络中——在这种网络中，边是在节点之间随机创建的，没有任何内部或外部影响——两个不同标签节点之间连接的预期概率可以表示为2
    × l × f。这些边被称为*交叉标签边*。一个网络是同质性的，如果交叉标签边的比例（r），即交叉标签边数与总边数的比率，显著低于预期的概率2 × l ×
    f。考虑图10.2所示的社交网络。
- en: '![CH10_F02_Negro](../Images/CH10_F02_Negro.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F02_Negro](../Images/CH10_F02_Negro.png)'
- en: Figure 10.2 A toy example of a social network
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.2 社会网络的一个玩具示例
- en: The black nodes are the fraudsters, and the white nodes represent legitimate
    people. The network consists of 11 nodes, 7 legitimate and 4 fraudulent. In this
    example, the fraction l is 7/11, and the fraction f is 4/11\. In a random network,
    the fraction of cross-labeled edges should be
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 黑色节点是欺诈者，白色节点代表合法的人。该网络由11个节点组成，其中7个是合法的，4个是欺诈的。在这个例子中，l的分数是7/11，f的分数是4/11。在随机网络中，交叉标记边的比例应该是
- en: 2 × *l* × *f* = 2 × 7/11 × 4/11
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 2 × *l* × *f* = 2 × 7/11 × 4/11
- en: 2 × 7/11 × 4/11 = 0.462
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 2 × 7/11 × 4/11 = 0.462
- en: The network has 4 cross-labeled edges, 5 edges between fraudulent nodes, and
    9 edges between legitimate nodes, for a total 18 edges. So r (the observed fraction
    of cross-labeled edges) has a value of 4/18 (0.222), which is significantly less
    than (indeed, less than half of) the expected value in a random network. Thus,
    we can say that the network in figure 10.2 is homophilic. Using a formula, we
    say that the network is homophilic if
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 该网络有4个交叉标记的边，5个欺诈节点之间的边，以及9个合法节点之间的边，总共有18条边。因此，r（观察到的交叉标记边的比例）的值为4/18（0.222），这显著小于（实际上，小于随机网络预期值的一半）。因此，我们可以说图10.2中的网络是同质的。用公式来说，如果一个网络是同质的，那么
- en: 'H: 2 × 1 × f » r'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 'H: 2 × 1 × f ≈ r'
- en: In marketing, the concept of homophily is frequently exploited to assess how
    individuals influence one another and to determine which people are likely responders
    and should be targeted with a marketing incentive. If all of Alessandro’s friends
    use telecom provider X, for example, Alessandro is likely to sign a contract with
    the same provider.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在市场营销中，同质性的概念经常被用来评估个人如何相互影响，以及确定哪些人可能对营销激励措施做出反应，并应该成为目标。例如，如果亚历山德罗的所有朋友都使用电信运营商X，那么亚历山德罗很可能与同一家运营商签订合同。
- en: The same reasoning holds in the context of fraud. We define a homophilic network
    as a network where fraudsters are more likely to be connected to other fraudsters
    and legitimate people are more likely to be connected to other legitimate people.
    Figure 10.3 demonstrates what such a network might look like.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在欺诈的背景下，同样的推理也是适用的。我们定义同质网络为一个网络，其中欺诈者更有可能与其他欺诈者相连，而合法的人更有可能与其他合法的人相连。图10.3展示了这样一个网络可能的样子。
- en: 'The gray nodes represent fraudsters, and the white ones represent legitimate
    people. It is easy to see that the gray nodes are clustered into groups; this
    network has one large subgraph and a smaller one with three nodes. In the case
    of fraud analysis, such a group of fraudsters is called a *web of frauds*. Legitimate
    nodes are also clustered. As you can see, however, the network is not perfectly
    homophilic: fraudulent nodes are not uniquely connected to other fraudulent nodes
    but connect to legitimate nodes as well. By looking at this network, we can identify
    the legitimate nodes that have a high chance of becoming the victims of fraud
    attempts because they are the ones that are connected to a web of frauds.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 灰色节点代表欺诈者，白色节点代表合法的人。很容易看出灰色节点聚集成了群体；这个网络有一个大子图和一个小子图，包含三个节点。在欺诈分析的情况下，这样的一群欺诈者被称为*欺诈网络*。合法节点也聚集在一起。然而，正如你所看到的，网络并不是完全同质的：欺诈节点不仅与其他欺诈节点相连，还与合法节点相连。通过观察这个网络，我们可以识别出那些有很高可能性成为欺诈尝试受害者的合法节点，因为它们是与欺诈网络相连的节点。
- en: Exercise
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 练习
- en: Use the formula given earlier to determine whether the network in figure 10.3
    is homophilic. So far, we’ve been looking at snapshots of social networks, but
    by nature, social networks are dynamic and evolve rapidly. To conduct a proper
    analysis, our techniques must take this dimension into account—that is, we must
    consider how the network is evolving over time. A few fraudulent nodes popping
    up in the network together might indicate the emergence of a new web of fraud;
    subgraphs with many fraudulent nodes likely indicate more well-established systems.
    Preventing the growth of new webs and the expansion of existing webs are important
    challenges that need to be addressed in fraud detection models.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前面给出的公式来确定图10.3中的网络是否是同质的。到目前为止，我们一直在观察社交网络的快照，但社交网络本质上是动态的，并且迅速演变。为了进行适当的分析，我们的技术必须考虑这个维度——也就是说，我们必须考虑网络随时间的变化。网络中同时出现几个欺诈节点可能表明新欺诈网络的产生；包含许多欺诈节点的子图可能表明更成熟的系统。防止新网络的成长和现有网络的扩张是欺诈检测模型中需要解决的重要挑战。
- en: '![CH10_F03_Negro](../Images/CH10_F03_Negro.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F03_Negro](../Images/CH10_F03_Negro.png)'
- en: Figure 10.3 A web of frauds
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.3 欺诈网络
- en: The relevance of social network analysis for fighting fraud is clear from the
    preceding discussion. Using the proper formula, we are capable of recognizing
    whether a social network exposes homophilic behavior. At this point, we can explore
    the SNA and CNA methods that are available to us.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的讨论中可以看出，社会网络分析在打击欺诈方面的相关性是明显的。使用适当的公式，我们能够识别社会网络是否表现出同质行为。在这个阶段，我们可以探索我们可用的SNA和CNA方法。
- en: Suppose that we have or can create a social network, which we verify to be a
    homophilic network, with some information about real or potential fraudsters.
    How can we use SNA to improve our fraud detection capabilities?
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们拥有或可以创建一个社会网络，我们验证它是一个同质网络，并有一些关于真实或潜在欺诈者的信息。我们如何使用SNA来提高我们的欺诈检测能力？
- en: 'Fraudsters are often linked because they attend the same events and activities,
    are involved in the same crimes, use the same sets of resources, or are one and
    the same person (as evidenced by shared personal information). Guilt-by-association
    methods combine the available weak signals to derive stronger ones and have been
    used extensively for anomaly detection and classification in numerous settings
    (accounting fraud, cybersecurity, credit card fraud, and so on). So we can look
    for evidence that fraudsters are exchanging knowledge about how to commit fraud
    by using the social structure. We can use two types of approaches and techniques:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈者通常因为参加相同的活动和事件、参与相同的犯罪、使用相同的资源集合或是一个人（如通过共享的个人信息的证据）而相互联系。基于关联的罪责方法结合可用的弱信号以推导出更强的信号，并在许多环境中被广泛用于异常检测和分类（如会计欺诈、网络安全、信用卡欺诈等）。因此，我们可以寻找欺诈者通过使用社会结构交换如何进行欺诈的知识。我们可以使用两种类型的方法和技术：
- en: '*Score-based*—We analyze the social network node by node, assigning a score
    to each node using metrics that take into account the direct neighbors and the
    role of the node in the network (such as how many shortest paths pass through
    it).'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*基于分数*——我们逐个分析社会网络节点，使用考虑直接邻居和节点在网络中角色的指标（例如，有多少最短路径通过它）为每个节点分配分数。'
- en: '*Cluster-based*—Considering the relationships, we split the social network
    into multiple clusters (community) of nodes trying to derive some knowledge from
    these groups.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*基于聚类*——考虑关系，我们将社会网络分割成多个节点集群（社区），试图从这些群体中推导出一些知识。'
- en: We’ll begin by examining the score-based methods.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先检查基于分数的方法。
- en: 10.2 Score-based methods
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.2 基于分数的方法
- en: Score-based SNA methods use metrics to measure the impact of the social environment
    on the nodes of interest. These metrics are assigned to each node, either alone
    or in combination, and analyzed to determine whether the unlabeled nodes are likely
    to be fraudulent. The resulting score indicates the probability or risk that a
    person (represented by a node in the social network) may be the target of a fraud
    or may be a fraudster. This idea of assigning a set of metrics to each node, as
    illustrated in figure 10.4, is called *featurization*.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 基于分数的社会网络分析（SNA）方法使用指标来衡量社会环境对感兴趣节点的影響。这些指标被分配给每个节点，可以是单独的，也可以是组合的，并进行分析以确定未标记的节点是否可能存在欺诈。得到的分数表示一个人（由社会网络中的节点表示）可能成为欺诈目标或可能成为欺诈者的概率或风险。如图10.4所示，将一组指标分配给每个节点的这种想法被称为*特征化*。
- en: '![CH10_F04_Negro](../Images/CH10_F04_Negro.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F04_Negro](../Images/CH10_F04_Negro.png)'
- en: Figure 10.4 Featurization
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.4 特征化
- en: 'Multiple types of metrics can be extracted from a network, some of them more
    relevant than others, depending on the circumstances. The network analysis techniques
    we use can be grouped into three main categories [Baesens et al., 2015]:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 可以从网络中提取多种类型的指标，其中一些比其他指标更相关，这取决于具体情况。我们使用的网络分析技术可以分为三大类[Baesens et al., 2015]：
- en: '*Neighborhood metrics*—Neighborhood metrics characterize nodes based on their
    direct connections, considering the n-order neighborhood around a node (which
    consists of the nodes that are n hops away from that node). Due to scalability
    issues, detection models often integrate features derived only from a node and
    its immediate contacts, known as the node’s *first-order neighborhood*.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*邻域指标*——邻域指标基于节点的直接连接来表征节点，考虑节点周围的n阶邻域（由距离该节点n跳的节点组成）。由于可扩展性问题，检测模型通常仅整合从节点及其直接联系人推导出的特征，称为节点的*一阶邻域*。'
- en: '*Centrality metrics*—Centrality metrics aim to quantify the importance of a
    node (here, an individual in a social network) [Boccaletti et al., 2006]. These
    metrics are typically based on a subgraph or the entire network structure.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*中心性度量*—中心性度量旨在量化节点（在此，社交网络中的个人）的重要性 [Boccaletti 等人，2006]。这些度量通常基于子图或整个网络结构。'
- en: '*Collective inference algorithms*—Given a network with known fraudulent nodes,
    collective inference algorithms attempt to determine the influence of these nodes
    on the unlabeled nodes in the network. The aim is to compute the probability that
    a node will be exposed to fraud and, thus, influenced by it (making the person
    identified by that node more likely to be a fraudster or the victim of fraud).'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*集体推理算法*—给定一个已知欺诈节点的网络，集体推理算法试图确定这些节点对网络中未标记节点的影响。目标是计算一个节点被暴露于欺诈并因此受到影响（使得该节点所标识的人更有可能成为欺诈者或欺诈的受害者）的概率。'
- en: 'To illustrate each of these approaches, we will use a real social network and
    the graph algorithms available in Neo4.j[²](#pgfId-1008620) For an in-depth look
    at these algorithms, see *Graph Algorithms: Practical Examples in Apache Spark
    and Neo4j*, by Mark Needham and Amy Hodler (O’Reilly, 2019).'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '为了说明这些方法中的每一个，我们将使用一个真实的社会网络和 Neo4j 中可用的图算法 [²](#pgfId-1008620)。要深入了解这些算法，请参阅
    Mark Needham 和 Amy Hodler 所著的 *Graph Algorithms: Practical Examples in Apache
    Spark and Neo4j*（O’Reilly，2019）。'
- en: Because (for obvious reasons) there are no publicly available fraudster social
    networks, we will use the GitHub social network[³](#pgfId-1008636) for our analysis.
    GitHub is a large social network of GitHub developers, collected from the public
    API in June 2019 [Rozemberczki et al., 2019]. Nodes are developers who have starred
    at least 10 GitHub repositories (clicking the star button in the interface to
    save or “favorite” them), and edges are mutual follower relationships. The nodes
    are labeled according to job title or description and are marked as web developer
    or machine learning practitioner. The metrics used here, the way in which they
    are computed, and the resulting scores are valid and applicable to a real scenario.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 由于（显然的原因）没有公开可用的欺诈者社交网络，我们将使用 GitHub 社交网络[³](#pgfId-1008636)进行分析。GitHub 是一个由
    GitHub 开发者组成的大型社交网络，于 2019 年 6 月从公共 API 中收集 [Rozemberczki 等人，2019]。节点是那些至少标记了
    10 个 GitHub 仓库（在界面中点击星号按钮以保存或“收藏”它们）的开发者，边是相互关注的关联。节点根据职位或描述进行标记，并标记为 Web 开发者或机器学习从业者。这里使用的度量、它们的计算方式以及产生的分数是有效且适用于真实场景的。
- en: For the purposes of this chapter, we need a social network in which two classes
    of users interact. We will consider machine learning practitioner to be the target
    class (playing the role of fraudsters). In this way, the discussion and the results
    can be applied directly to a fraudster social network.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 为了本章的目的，我们需要一个两个用户类别相互作用的社交网络。我们将把机器学习从业者视为目标类别（扮演欺诈者的角色）。这样，讨论和结果可以直接应用于欺诈者社交网络。
- en: Due to the dimensions, we don’t need to create a Python script for importing
    the dataset; we can use the LOAD CSV feature in Neo4j. First, we need to import
    the nodes as shown in the following queries (after moving the dataset into the
    import directory of your Neo4j installation).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 由于维度，我们不需要为导入数据集创建 Python 脚本；我们可以使用 Neo4j 中的 LOAD CSV 功能。首先，我们需要按照以下查询导入节点（在将数据集移动到
    Neo4j 安装目录的导入目录之后）。
- en: Listing 10.1 Creating the constraints
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.1 创建约束
- en: '[PRE0]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Listing 10.2 Importing nodes4
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.2 导入节点4
- en: '[PRE1]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Next, we have to import the relationships.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们必须导入关系。
- en: Listing 10.3 Importing relationships
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.3 导入关系
- en: '[PRE2]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In a few seconds (or minutes, depending on the power of your computer), the
    graph database will be ready. As I have mentioned several times already, one of
    the advantages of graphs is that they allow us to gain insight into the data through
    visual inspection. Therefore, before using the graph, we should mark the nodes
    (GitHub users) with specific labels—WebDeveloper and MLDeveloper—so we can recognize
    them visually. The following queries serve this purpose, allowing us to recognize
    the nodes easily and simplifying the following analysis.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 几秒钟（或几分钟，取决于你电脑的功率），图数据库就准备好了。正如我之前已经提到好几次的，图的一个优点是它们允许我们通过视觉检查来洞察数据。因此，在使用图之前，我们应该用特定的标签（GitHub
    用户）标记节点——WebDeveloper 和 MLDeveloper——这样我们就可以通过视觉来识别它们。以下查询用于此目的，使我们能够轻松识别节点，并简化以下分析。
- en: Listing 10.4 Marking the web developers
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.4 标记 Web 开发者
- en: '[PRE3]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Listing 10.5 Marking the machine learning developers
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.5 标记机器学习开发者
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The resulting graph is shown in figure 10.5\. The blue nodes represent the web
    developers, and the red nodes the machine learning developers.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 结果图如图10.5所示。蓝色节点代表网页开发者，红色节点代表机器学习开发者。
- en: '![CH10_F05_Negro](../Images/CH10_F05_Negro.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F05_Negro](../Images/CH10_F05_Negro.png)'
- en: Figure 10.5 The graph database after the import
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.5 导入后的图数据库
- en: The use of labels here, instead of the value of the machine_learning property,
    will improve the results of later queries, in which we have to distinguish between
    machine learning and web developers.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里使用标签，而不是机器学习属性的值，将提高后续查询的结果，在这些查询中，我们必须区分机器学习开发者和网页开发者。
- en: 'The selected social network seems to have the characteristics we need: machine
    learning developers (our target) are relatively infrequent in the graph and generally
    are connected to similar developers. Now we can compute the metrics we need.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 选定的社交网络似乎具有我们需要的特征：机器学习开发者（我们的目标）在图中相对较少，并且通常与类似开发者相连。现在我们可以计算我们需要的度量。
- en: 10.2.1 Neighborhood metrics
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.1 邻域度量
- en: Neighborhood metrics use direct connections and the n-hop neighborhood of a
    node to characterize the node itself. We can take different metrics into account,
    but in the context of fraud and for the purposes of this chapter, we will consider
    degree, triangles, and local cluster coefficient.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 邻域度量使用节点的直接连接和n跳邻域来表征节点本身。我们可以考虑不同的度量，但在欺诈的背景下，为了本章的目的，我们将考虑度数、三角形和局部聚类系数。
- en: The *degree* of a node is formally defined as the number of connections the
    node has. Degree on its own does not take into account the direction of the relationship,
    but the related indegree and outdegree metrics do. *Indegree* counts the connections
    coming in, and *outdegree* counts those going out. The degree of a node summarizes
    how many neighbors the node has. In the context of fraud detection, it is also
    useful to distinguish between the number of fraudulent and legitimate neighbors
    a node has. We can refer to these metrics as the *fraudulent degree* and *legitimate
    degree*. To clarify, consider a simple social network with and without the directions
    of the relationships indicated (figure 10.6). In this graph, the red nodes (D
    and G) are fraudulent.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 节点的*度数*正式定义为节点拥有的连接数。度数本身不考虑关系的方向，但相关的入度和出度度量则考虑。*入度*计算进入的连接数，*出度*计算出去的连接数。节点的度数总结了节点有多少邻居。在欺诈检测的背景下，区分节点拥有的欺诈邻居和合法邻居的数量也是有用的。我们可以将这些度量称为*欺诈度数*和*合法度数*。为了澄清，考虑一个带有和不带有关系方向的简单社交网络（图10.6）。在这个图中，红色节点（D和G）是欺诈的。
- en: '![CH10_F06a_Negro](../Images/CH10_F06a_Negro.png)![CH10_F06b_Negro](../Images/CH10_F06b_Negro.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F06a_Negro](../Images/CH10_F06a_Negro.png)![CH10_F06b_Negro](../Images/CH10_F06b_Negro.png)'
- en: Figure 10.6 Two sample graphs, one undirected (left) and one directed (right),
    with two fraudulent nodes (D and G)
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.6 两个示例图，一个无向（左）和一个有向（右），包含两个欺诈节点（D和G）
- en: The undirected graph on the left tells us that node B has a degree of 8, which
    is the highest degree in the network. If we consider the directions, we can see
    that node B has an indegree of 6 and an outdegree of 3.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 左侧的无向图告诉我们节点B的度数为8，这是网络中最大的度数。如果我们考虑方向，我们可以看到节点B的入度为6，出度为3。
- en: We can also analyze the connections between fraudulent and legitimate nodes
    in this graph. Nodes A and B each have a fraudulent degree of 2 (both G and D
    are connected to them) and thus are the nodes most highly influenced by fraud.
    The degrees of each node are listed in table 10.1.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以分析图中欺诈节点和合法节点之间的联系。节点A和B各自有2个欺诈度（G和D都与它们相连），因此是受欺诈影响最大的节点。每个节点的度数列在表10.1中。
- en: Table 10.1 Degrees of the nodes in figure 10.6 (considering that D and G are
    fraudulent)
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.1 图10.6中节点的度数（考虑到D和G是欺诈的）
- en: '| Node | Degree | Indegree | Outdegree | Fraudulent degree | Legitimate degree
    |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 节点 | 度数 | 入度 | 出度 | 欺诈度数 | 合法度数 |'
- en: '| A | 8 | 7 | 1 | 2 | 6 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| A | 8 | 7 | 1 | 2 | 6 |'
- en: '| B | 9 | 6 | 3 | 3 (node G counts twice) | 6 |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| B | 9 | 6 | 3 | 3（节点G计算了两次）| 6 |'
- en: '| C | 2 | 0 | 2 | 0 | 0 |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| C | 2 | 0 | 2 | 0 | 0 |'
- en: '| D | 3 | 1 | 2 | 0 | 3 |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| D | 3 | 1 | 2 | 0 | 3 |'
- en: '| E | 1 | 1 | 0 | 1 | 0 |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| E | 1 | 1 | 0 | 1 | 0 |'
- en: '| F | 2 | 1 | 1 | 0 | 2 |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| F | 2 | 1 | 1 | 0 | 2 |'
- en: '| G | 3 | 1 | 2 | 0 | 3 |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| G | 3 | 1 | 2 | 0 | 3 |'
- en: '| H | 1 | 0 | 1 | 0 | 1 |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| H | 1 | 0 | 1 | 0 | 1 |'
- en: '| I | 1 | 0 | 1 | 0 | 1 |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| I | 1 | 0 | 1 | 0 | 1 |'
- en: '| L | 2 | 0 | 2 | 0 | 2 |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| L | 2 | 0 | 2 | 0 | 2 |'
- en: '| O | 2 | 0 | 2 | 0 | 2 |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| O | 2 | 0 | 2 | 0 | 2 |'
- en: Let’s compute the same metrics for the real network by using queries. The following
    listing shows how to compute the degree of a node (here, the GitHub user amueller).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过查询来计算真实网络的相同指标。以下列表显示了如何计算节点的度（这里，GitHub用户amueller）。
- en: Listing 10.6 Computing the degree of a node
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.6 计算节点的度
- en: '[PRE5]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Note that we use -[:FOLLOWS]- without an arrow here (<- or ->) because we are
    not interested in the direction of the relationship for computing the degree.
    In the case of a directed network, we can distinguish between the indegree and
    the outdegree. The indegree specifies how many nodes are pointing toward the target
    of interest, and the outdegree describes the number of nodes that can be reached
    from the target of interest. The following queries show how to calculate these
    metrics.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们在计算度时没有使用带箭头的-[:FOLLOWS]-（<- 或 ->），因为我们不关心关系的方向。在有向网络中，我们可以区分入度和出度。入度指定了多少个节点指向感兴趣的靶点，而出度描述了可以从感兴趣的靶点到达的节点数量。以下查询显示了如何计算这些指标。
- en: Listing 10.7 Computing the indegree of a node
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.7 计算节点的入度
- en: '[PRE6]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Listing 10.8 Computing the outdegree of a node
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.8 计算节点的出度
- en: '[PRE7]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: We can easily compute the fraudulent (in our dataset, the connection with MLDeveloper)
    and legitimate (in our dataset, the connection WebDeveloper) degrees of a node
    (in our network, the meaning is slightly different, but the concepts hold) by
    using the following queries.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过以下查询轻松地计算一个节点的欺诈度（在我们的数据集中，与MLDeveloper的关联）和合法度（在我们的数据集中，与WebDeveloper的关联）。在（在我们的网络中，意义略有不同，但概念是相同的）。
- en: Listing 10.9 Computing the fraudulent (MLDeveloper) degree of a node
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.9 计算节点的欺诈（MLDeveloper）度
- en: '[PRE8]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Listing 10.10 Computing the legitimate (WebDeveloper) degree of a node
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.10 计算节点的合法（WebDeveloper）度
- en: '[PRE9]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'For this user, the fraudulent (MLDeveloper) degree is 305, and the legitimate
    (WebDeveloper) degree is 173\. This result is not surprising: the GitHub user
    amueller is one of the authors of *Introduction to Machine Learning with Python:
    A Guide for Data Scientists* (O’Reilly, 2016), so clearly, he is a machine learning
    developer, and we would expect him to be more connected to other machine learning
    developers than to web developers. We can easily check whether this rule holds
    in general via the following query.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个用户，欺诈度（MLDeveloper）为305，合法度（WebDeveloper）为173。这个结果并不令人惊讶：GitHub用户amueller是《Python机器学习入门：数据科学家指南》（O’Reilly，2016）的作者之一，因此很明显，他是一名机器学习开发者，我们预计他与其他机器学习开发者的联系会比与网络开发者的联系更多。我们可以通过以下查询轻松地检查这个规则是否普遍适用。
- en: Listing 10.11 Computing the degrees for all machine learning developers
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.11 计算所有机器学习开发者的度
- en: '[PRE10]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The results show that the same is true for all the machine learning developers
    in the network. So it seems that the dataset exhibits the features we described
    for the fraudulent social network.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，对于网络中的所有机器学习开发者也是如此。因此，似乎数据集表现出我们描述的欺诈社交网络的特征。
- en: 'The *degree distribution* of a network describes the probability distribution
    of the degrees in the network. In real-life networks, it generally follows a power
    law: that is, many nodes are connected with only a few other nodes, and only a
    few nodes in the network link to many other nodes. The next query allows us to
    compute the distribution of the degrees of the nodes.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 网络的**度分布**描述了网络中度的概率分布。在现实生活中的网络中，它通常遵循幂律：也就是说，许多节点只与其他少数节点相连，而网络中只有少数节点与其他许多节点相连。下一个查询允许我们计算节点度的分布。
- en: Listing 10.12 Computing the distribution of the degrees
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.12 计算节点度的分布
- en: '[PRE11]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The results can be downloaded as a CSV file and visualized, as in chapter 9\.
    Figure 10.7 shows what the distribution will look like. (The Excel file is available
    in the code repository as ch10/analysis/DegreeAnalysis.xlsx.)
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 结果可以下载为CSV文件并可视化，如第9章所述。图10.7显示了分布将看起来是什么样子。（Excel文件可在代码存储库的ch10/analysis/DegreeAnalysis.xlsx中找到。）
- en: '![CH10_F07_Negro](../Images/CH10_F07_Negro.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F07_Negro](../Images/CH10_F07_Negro.png)'
- en: Figure 10.7 Degree distribution on the network used in the examples
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.7 示例网络中的度分布
- en: As you can see, the majority of the nodes have a degree of less than 100\. Most
    of the values fall between 7 and 20.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，大多数节点的度小于100。大多数值介于7和20之间。
- en: Exercise
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 练习
- en: Explore the graph database you created by playing with listings 10.6 to 10.11
    and changing them to consider web developers instead of machine learning developers.
    Identify some interesting web developers to use for these experiments.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 通过调整列表10.6到10.11来探索你创建的图数据库，将它们改为考虑网页开发者而不是机器学习开发者。为这些实验识别一些有趣的网页开发者。
- en: 'The second neighborhood metric we will take into account is the *triangles
    count*: the number of fully connected subgraphs consisting of three nodes. Figure
    10.8 shows an example of a fully connected subgraph, or triangle.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要考虑的第二个邻域度量是*三角形数量*：由三个节点组成的完全连接子图的数量。图10.8展示了完全连接子图或三角形的例子。
- en: '![CH10_F08_Negro](../Images/CH10_F08_Negro.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F08_Negro](../Images/CH10_F08_Negro.png)'
- en: Figure 10.8 An example of a triangle
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.8 三角形的例子
- en: Looking at triangles is a way to investigate the influential effects of closely
    connected groups of people. It is related to the principle of *triadic closure*,
    which is a mechanism for making new connections [Rapoport, 1953]. In the context
    of social networks, it can be expressed as the idea that if two people have a
    friend in common, there’s an increased likelihood that those two people will become
    friends themselves in the future. The term comes from the fact that if we have
    a simple network like the one in figure 10.9, the D-B edge has the effect of closing
    the third side of this triangle (as shown in figure 10.8).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 观察三角形是研究紧密相连的人群群体影响力的方法之一。它与*三角闭合*原则相关，这是一种建立新联系[拉波波特，1953]的机制。在社会网络中，这可以表达为这样的观点：如果两个人有一个共同的朋友，那么这两个人将来成为朋友的可能性会增加。这个术语来源于这样一个事实，如果我们有一个像图10.9那样的简单网络，D-B边就具有闭合这个三角形第三边的效果（如图10.8所示）。
- en: '![CH10_F09_Negro](../Images/CH10_F09_Negro.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F09_Negro](../Images/CH10_F09_Negro.png)'
- en: Figure 10.9 A simple network with one side of the triangle open
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.9 一个三角形的一边是开放的简单网络
- en: If we look at a social network at two distinct points in time, we will generally
    find that a significant number of new edges have formed thanks to this triangle-closing
    operation at the later point, as connections are made among people with a common
    neighbor [Easley and Kleinberg, 2010].
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们在两个不同时间点观察一个社交网络，我们通常会发现在较晚的时间点，由于这种三角形闭合操作，形成了大量新的边，因为具有共同邻居的人之间建立了联系[艾斯利和克莱因伯格，2010]。
- en: Nodes that are part of a group are affected by the other members of that group.
    In a social network, this effect extends to the beliefs, interests, opinions,
    and so on of the other members of the group. So in a fraudster network, it makes
    sense that if a node is part of many triangles in which the other two nodes are
    fraudulent, that node has a high chance of being affected by fraud itself (that
    is, of participating in fraud or being a victim of fraud). To compute such risk,
    we can distinguish between legitimate triangles and fraudulent triangles. If both
    the two other nodes in the triangle are fraudulent, we say that the triangle is
    fraudulent. If both nodes are legitimate, we say that the triangle is legitimate.
    If only one of the two nodes is fraudulent, the triangle is semifraudulent. Consider
    the toy network in figure 10.10.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 属于一个群体的节点会受到该群体其他成员的影响。在社会网络中，这种影响扩展到群体的其他成员的信仰、兴趣、观点等。因此，在欺诈者网络中，如果一个节点是许多三角形的组成部分，而其他两个节点是欺诈的，那么这个节点有很高的可能性会受到欺诈本身的影响（即参与欺诈或成为欺诈的受害者）。为了计算这种风险，我们可以区分合法三角形和欺诈三角形。如果三角形中的另外两个节点都是欺诈的，我们说这个三角形是欺诈的。如果两个节点都是合法的，我们说这个三角形是合法的。如果只有其中一个节点是欺诈的，这个三角形就是半欺诈的。考虑图10.10中的玩具网络。
- en: '![CH10_F10_Negro](../Images/CH10_F10_Negro.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F10_Negro](../Images/CH10_F10_Negro.png)'
- en: Figure 10.10 Sample fraudster network
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.10 示例欺诈者网络
- en: Table 10.2 lists the triangle metrics for each node in this network that is
    part of at least one triangle.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.2列出了网络中每个至少属于一个三角形的节点的三角形度量。
- en: Table 10.2 Triangle metrics for the network in figure 10.10
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 表10.2 图10.10中网络的三角形度量
- en: '| Node | Triangle | Fraudulent triangles | Legitimate triangles | Semifraudulent
    triangles |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| 节点 | 三角形 | 欺诈三角形 | 合法三角形 | 半欺诈三角形 |'
- en: '| A | 6 | 1 | 3 | 2 |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| A | 6 | 1 | 3 | 2 |'
- en: '| B | 6 | 1 | 3 | 2 |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| B | 6 | 1 | 3 | 2 |'
- en: '| C | 1 | 0 | 1 | 0 |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| C | 1 | 0 | 1 | 0 |'
- en: '| D | 3 | 0 | 1 | 2 |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| D | 3 | 0 | 1 | 2 |'
- en: '| G | 3 | 0 | 1 | 2 |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| G | 3 | 0 | 1 | 2 |'
- en: '| L | 1 | 0 | 1 | 0 |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| L | 1 | 0 | 1 | 0 |'
- en: '| O | 1 | 0 | 1 | 0 |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| O | 1 | 0 | 1 | 0 |'
- en: Neo4j provides in its graph data science library an easy procedure for computing
    all the triangles in a graph or those related to a particular node. Appendix B
    explains how to install and configure it. The following query demonstrates how.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: Neo4j在其图数据科学库中提供了一个简单的计算图或特定节点相关所有三角形的程序。附录B解释了如何安装和配置它。以下查询演示了如何操作。
- en: Listing 10.13 Computing triangles for nodes
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.13 计算节点的三角形
- en: '[PRE12]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The basic role of triadic closure in social networks has motivated the formulation
    of simple social network measures to capture its prevalence. One of these measures
    is the *local clustering coefficient*. The clustering coefficient of a node A
    is defined as the probability that two randomly selected friends of A are friends
    with each other. In other words, the fraction of pairs of A’s friends are connected
    by edges. Let’s make this point clearer by again considering our toy network (figure
    10.11).
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 三元闭合在社会网络中的基本作用激发了简单社会网络度量的制定，以捕捉其普遍性。其中一种度量是*局部聚类系数*。节点A的聚类系数定义为随机选择A的两个朋友成为彼此朋友的可能性。换句话说，A的朋友对之间通过边的连接比例。让我们通过再次考虑我们的玩具网络（图10.11）来更清楚地说明这一点。
- en: '![CH10_F11_Negro](../Images/CH10_F11_Negro.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F11_Negro](../Images/CH10_F11_Negro.png)'
- en: Figure 10.11 Sample graph
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.11 示例图
- en: 'The clustering coefficient of node A is 2/6, or 0.333, because among the six
    possible pairs of friends (B-D, B-C, B-F, C-D, C-F, and D-F), there are edges
    between C-B and D-B. In general, the clustering coefficient of a node ranges from
    0 (when none of the node’s friends are friends with each other) to 1 (when all
    the node’s friends are friends with each other), and the more strongly triadic
    closure is operating in the neighborhood of the node, the higher the clustering
    coefficient will tend to be. In the fraud scenario, this metric is important because
    if a node has a low local clustering coefficient compared with the average clustering
    coefficient of the network, the node is connected to people who belong to independent
    groups. This anomalous condition can reveal a possible fraud risk, as the fraudster
    is joining groups of people to commit a crime. The formula for determining the
    local clustering coefficient of a node looks like this:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 节点A的聚类系数为2/6，或0.333，因为在六个可能的朋友对（B-D，B-C，B-F，C-D，C-F和D-F）中，C-B和D-B之间存在边。一般来说，节点的聚类系数范围从0（当节点的朋友之间没有一个是朋友时）到1（当节点的所有朋友都是朋友时），并且节点周围的三元闭合作用越强，聚类系数往往会越高。在欺诈场景中，这个度量很重要，因为如果一个节点的局部聚类系数与网络的平均聚类系数相比较低，那么这个节点连接到属于独立群体的人。这种异常情况可能揭示潜在的欺诈风险，因为欺诈者正在加入人群以实施犯罪。确定节点局部聚类系数的公式看起来像这样：
- en: '![CH10_F12_EQ01_Negro](../Images/CH10_F12_EQ01_Negro.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F12_EQ01_Negro](../Images/CH10_F12_EQ01_Negro.png)'
- en: The following query allows you to compute the clustering coefficients for each
    of the nodes in our network and store them as properties of the nodes.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 以下查询允许您计算我们网络中每个节点的聚类系数，并将它们存储为节点的属性。
- en: Listing 10.14 Computing clustering coefficient
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.14 计算聚类系数
- en: '[PRE13]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'As you’ll see from the result of this query when you run it, the average clustering
    coefficient is low: around 0.167.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 当您运行此查询并查看结果时，您会发现平均聚类系数较低：大约为0.167。
- en: Exercise
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 练习
- en: Explore the graph, checking the triangles of some nodes that have coefficient
    0 or 1\. You can use a query to find one or two such nodes and then use the Neo4j
    browser to navigate them. As a suggestion, I would create the query to avoid trivial
    nodes with only one or two followers.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 探索图，检查一些系数为0或1的节点的三角形。您可以使用查询来找到一两个这样的节点，然后使用Neo4j浏览器来导航它们。作为一个建议，我会创建查询以避免只有一两个追随者的平凡节点。
- en: 10.2.2 Centrality metrics
  id: totrans-154
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.2 中心性度量
- en: 'Centrality metrics reveal central nodes in a graph or subgraph—that is, nodes
    that might have a strong effect on other nodes—by assigning to each node a score
    indicating how central it is to the flow of communication through the graph [Fouss
    et al., 2016]. In a social network, centrality metrics help us answer questions
    like these:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 中心性度量揭示了图或子图中的中心节点——即可能对其他节点有强烈影响的节点——通过为每个节点分配一个分数来表示它在通过图进行通信中的中心程度[Fouss等人，2016]。在社会网络中，中心性度量帮助我们回答以下问题：
- en: What is the most representative node in a community?
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个社区中，哪个节点最具代表性？
- en: How critical is a given node with respect to the flow of information through
    the network?
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 给定节点在通过网络信息流动方面有多重要？
- en: Which nodes are the most peripheral?
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 哪些节点是最外围的？
- en: These metrics are useful in a fraud-fighting scenario; they can be used to prevent
    the expansion of future fraudulent activities by identifying the key actor in
    a web of frauds, who is likely to act as a central node and be heavily involved
    in communication regarding the organization of the frauds. Compared with neighborhood
    metrics, which take into account only the direct connections of a node to extract
    the value, these types of metrics consider the whole graph (or a large part of
    it). Hence, they take into account the role of the person in the entire network,
    not only in their ego network.[⁵](#pgfId-1008682)
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 这些指标在反欺诈场景中很有用；它们可以通过识别欺诈网络中的关键行动者来防止未来欺诈活动的扩展，该行动者可能作为中心节点并大量参与有关欺诈组织的沟通。与只考虑节点直接连接的邻里指标相比，这些类型的指标考虑了整个图（或其大部分）。因此，它们考虑了人在整个网络中的作用，而不仅仅是他们在自我网络中的作用。[⁵](#pgfId-1008682)
- en: The metrics we will consider include shortest path, closeness centrality, and
    betweenness centrality. For the purposes of demonstration, as with the neighborhood
    metrics, we’ll use the GitHub network as a proxy for our hypothetical fraudster
    social network.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将考虑的指标包括最短路径、接近中心性和中介中心性。为了演示目的，就像邻里指标一样，我们将使用GitHub网络作为我们假设的欺诈者社交网络的代理。
- en: 'The *shortest path* is the minimum number of hops (geodesic distance) needed
    to reach a node from a target node. While computing these distances, the algorithm
    can take into account the weight of each relationship, which is particularly useful
    when you are using this metric to find the best route to take from one location
    to another. In other scenarios, such as ours, each relationship has the same weight:
    1\. In this case, the shortest path is determined by counting how many nodes (or
    relationships) you have to pass through to reach a target node from a source node.
    Figure 10.12 shows an example, identifying the shortest paths from node A to nodes
    G, I, and L.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '**最短路径**是从目标节点到达节点所需的最小跳数（测地距离）。在计算这些距离时，算法可以考虑到每条关系的权重，这在您使用此指标寻找从一地到另一地的最佳路线时特别有用。在其他场景中，例如在我们的场景中，每条关系都有相同的权重：1。在这种情况下，最短路径是通过计算您需要通过多少节点（或关系）从源节点到达目标节点来确定的。图10.12展示了示例，识别了从节点A到节点G、I和L的最短路径。'
- en: '![CH10_F12_Negro](../Images/CH10_F12_Negro.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F12_Negro](../Images/CH10_F12_Negro.png)'
- en: Figure 10.12 Shortest-path example
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.12 最短路径示例
- en: 'In the fraud context, the geodesic distance of a potential target from a fraudster
    can reveal the risk of their becoming a victim. The closer a legitimate node is
    to a fraudulent node, the greater the likelihood is that it will become a target.
    It is also interesting to know how many paths exist between fraudulent nodes and
    legitimate nodes: the more paths there are, the higher the chances are that the
    fraudulent influence will eventually reach the target node. In other words, if
    a fraudulent node is in a potential target’s immediate subgraph (neighborhood),
    there is a better chance that it will be affected. Conversely, considering such
    distances can reveal the fraud potential of a specific fraudster: how easy it
    is for that person to reach different victims directly or indirectly. Suppose
    that in our sample network, certain nodes have been identified as fraudulent,
    as shown in figure 10.13.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在欺诈背景下，潜在目标与欺诈者之间的测地距离可以揭示他们成为受害者的风险。合法节点与欺诈节点越近，它成为目标的可能性就越大。了解欺诈节点与合法节点之间存在多少路径也很有趣：路径越多，欺诈影响最终到达目标节点的可能性就越高。换句话说，如果一个欺诈节点在一个潜在目标的直接子图（邻域）中，它被影响的可能性就更大。相反，考虑这些距离可以揭示特定欺诈者的欺诈潜力：那个人直接或间接地接触到不同受害者有多容易。假设在我们的样本网络中，某些节点已被识别为欺诈，如图10.13所示。
- en: '![CH10_F13_Negro](../Images/CH10_F13_Negro.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F13_Negro](../Images/CH10_F13_Negro.png)'
- en: Figure 10.13 Shortest-path example in fraud use case. Dark nodes are fraudulent.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.13 欺诈用例中的最短路径示例。深色节点是欺诈节点。
- en: Looking at this graph, we can extract the information in table 10.3 to analyze
    the risk level of the legitimate nodes in the network. To calculate the risk,
    we will consider the length of the shortest path to a fraudulent node (column
    2) as well as the n-hop paths that exist between that node and any fraudulent
    node—in other words, how many fraudulent nodes we can reach from the node in n
    hops. (The same fraudulent node is counted more than once if it is reachable by
    different paths.)
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 通过查看此图，我们可以提取表 10.3 中的信息来分析网络中合法节点的风险水平。为了计算风险，我们将考虑到欺诈节点的最短路径长度（列 2）以及该节点与任何欺诈节点之间的
    n 跳路径——换句话说，在 n 跳内我们可以从该节点到达多少个欺诈节点。（如果通过不同的路径可达，则同一欺诈节点会被计算多次。）
- en: Table 10.3 Summary of geodesic distance to fraudulent nodes
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.3 到欺诈节点的测地距离摘要
- en: '| Node | Geodetic path | 1-hop paths | 2-hop paths | 3-hop paths |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 节点 | 测地路径 | 1 跳路径 | 2 跳路径 | 3 跳路径 |'
- en: '| A | 1 | 1 | 2 | 5 |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| A | 1 | 1 | 2 | 5 |'
- en: '| B | 1 | 2 | 2 | 7 |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| B | 1 | 2 | 2 | 7 |'
- en: '| E | 1 | 2 | 4 | 7 |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| E | 1 | 2 | 4 | 7 |'
- en: '| F | 1 | 2 | 5 | 9 |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| F | 1 | 2 | 5 | 9 |'
- en: '| G | 1 | 1 | 4 | 7 |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| G | 1 | 1 | 4 | 7 |'
- en: '| I | 1 | 1 | 3 | 8 |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| I | 1 | 1 | 3 | 8 |'
- en: '| L | 1 | 1 | 4 | 7 |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| L | 1 | 1 | 4 | 7 |'
- en: Many algorithms and techniques can compute the shortest path between two nodes,
    but that topic is beyond the scope of this book. Neo4j provides many solutions
    out of the box, and various libraries provide superoptimized algorithms for such
    well-known tasks. The following query shows how to use the Neo4j graph algorithms
    library to compute the shortest path for the database we imported.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 许多算法和技术可以计算两个节点之间的最短路径，但这个主题超出了本书的范围。Neo4j 提供了许多开箱即用的解决方案，并且各种库提供了针对此类知名任务的超级优化算法。以下查询显示了如何使用
    Neo4j 图算法库计算导入数据库的最短路径。
- en: Listing 10.15 Finding the shortest path between two nodes
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 10.15 查找两个节点之间的最短路径
- en: '[PRE14]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: The results of this query are shown in figure 10.14\. The cost is the number
    of hops it takes to get from the start node (amueller) to a specific node.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 本查询的结果显示在图 10.14 中。成本是从起始节点 (amueller) 到特定节点所需跳数的数量。
- en: '![CH10_F14_Negro](../Images/CH10_F14_Negro.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F14_Negro](../Images/CH10_F14_Negro.png)'
- en: Figure 10.14 Results of listing 10.15
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.14 列表 10.15 的结果
- en: '*Closeness centrality* is determined by considering all the shortest-path lengths
    linking nodes. Formally, it is the inverse of the mean distance of a node from
    all the reachable nodes in the network. The closeness centrality of a node a—*cca*—in
    a network G with n nodes is computed as'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '*接近中心性* 是通过考虑连接节点的所有最短路径长度来确定的。形式上，它是节点从网络中所有可达节点到该节点的平均距离的倒数。网络 G 中具有 n 个节点的节点
    a 的接近中心性 cca 计算如下'
- en: '![CH10_F15_EQ01_Negro](../Images/CH10_F15_EQ01_Negro.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F15_EQ01_Negro](../Images/CH10_F15_EQ01_Negro.png)'
- en: where
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: d(b,a) is the geodesic distance between the node a and the node b.
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: d(b,a) 是节点 a 和节点 b 之间的测地距离。
- en: reachable(a,G) is the subgraph of G reachable from a.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: reachable(a,G) 是从节点 a 可达的 G 的子图。
- en: '|reachable(a,G)| is the number of nodes reachable by a.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '|reachable(a,G)| 是 a 可达的节点数。'
- en: 'The denominator is the average distance of the node a from all the nodes reachable
    from a. A high closeness centrality value indicates that the node can easily reach
    many other nodes in the network and thus has a strong impact on other nodes. We
    can see the logic of centrality this way: if a person is not central (has a low
    closeness centrality value), they have to rely on others to relay messages through
    the network for them or reach others. Conversely, a person who is central (has
    a high closeness centrality value) can easily spread a message across the network
    or reach others themselves without any (or few) intermediaries diluting their
    influence.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 分母是节点 a 从 a 可达的所有节点的平均距离。高接近中心性值表示该节点可以轻松地到达网络中的许多其他节点，因此对其他节点有很强的影响。我们可以这样理解中心性的逻辑：如果一个人不是中心人物（具有低接近中心性值），他们必须依赖他人通过网络为他们传递消息或到达其他人。相反，一个中心人物（具有高接近中心性值）可以轻松地在网络中传播消息或直接到达其他人，而无需（或很少）中间人稀释他们的影响力。
- en: In the fraud use case, if a fraudulent node in a (sub)graph has a high closeness
    centrality value, fraud might easily spread through the (sub)network and contaminate
    other nodes. Being able to reach a high number of other nodes independently extends
    that node’s reach. Furthermore, closeness centrality is useful beyond being a
    measure of the independence of a person in a social network. Researchers have
    also linked this metric with a person’s ability to access information in the network
    easily, with power and influence. All these aspects can play a critical role in
    a fraudster’s capacity to commit fraud.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在欺诈用例中，如果一个（子）图中的欺诈节点具有高接近中心性值，欺诈可能很容易通过（子）网络传播并污染其他节点。能够独立地接触到大量其他节点扩展了该节点的覆盖范围。此外，接近中心性在作为衡量一个人在社会网络中独立性的指标之外还有用。研究人员还将这个指标与一个人在网络中轻松获取信息的能力、权力和影响力联系起来。所有这些方面都可能在一个欺诈者的欺诈能力中发挥关键作用。
- en: We don’t have to worry about computing closeness centrality values ourselves,
    because Neo4j and other libraries offer support for that task. The following query
    shows how to compute closeness centrality for the whole graph and store the values
    in each node for further analysis.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不必担心自己计算接近中心性值，因为Neo4j和其他库提供了对该任务的支持。以下查询显示了如何计算整个图的接近中心性并将值存储在每个节点中，以供进一步分析。
- en: Listing 10.16 Computing and storing closeness centrality
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.16 计算和存储接近中心性
- en: '[PRE15]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: We can order the nodes by closeness centrality to find the machine learning
    developers with the highest values.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过接近中心性对节点进行排序，以找到具有最高值的机器学习开发者。
- en: Listing 10.17 Getting the top 20 ML developers with the highest closeness centrality
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.17 获取具有最高接近中心性的前20名ML开发者
- en: '[PRE16]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The results of this query are shown in figure 10.15.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这个查询的结果显示在图10.15中。
- en: '![CH10_F15_Negro](../Images/CH10_F15_Negro.png)'
  id: totrans-198
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F15_Negro](../Images/CH10_F15_Negro.png)'
- en: Figure 10.15 Results of listing 10.17
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.15 列表10.17的结果
- en: Looking at the results, you’ll notice that some users are prominent users who
    have a lot of followers and are working on highly relevant open source projects.
    But in our dataset, some of the top users would not be considered to be influential.
    The first one, WillemJan, has few followers but follows 33,000 GitHub users, bringing
    them to the top of the closeness centrality stack. This example shows that closeness
    centrality is biased by how many people you know (or how many you follow).
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 看到结果，你会注意到一些用户是杰出的用户，他们拥有很多粉丝，并且正在从事高度相关的开源项目。但在我们的数据集中，一些顶级用户可能不会被考虑为有影响力。第一个是WillemJan，他只有很少的粉丝，但关注了33,000个GitHub用户，这使得他在接近中心性堆栈中名列前茅。这个例子表明，接近中心性受到你知道多少人（或者你关注了多少人）的影响。
- en: '*Betweenness centrality* measures the extent to which a node lies on the shortest
    paths connecting any two nodes in the network. This metric can be interpreted
    as an indication of how much information passes through this node. A node with
    a high betweenness centrality may connect communities (subgraphs in the network).
    Consider the example shown in figure 10.16.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '*中介中心性*衡量一个节点在网络中连接任何两个节点最短路径的程度。这个指标可以解释为通过这个节点传递的信息量的一个指标。具有高中介中心性的节点可能连接社区（网络中的子图）。考虑图10.16中显示的例子。'
- en: In this figure, the central node B connects the almost-independent subgraphs.
    It’s worth noticing that the node has a low closeness centrality value; it is
    directly connected to few nodes in the graph, and to reach the others, it has
    to pass through long paths. But it has a high betweenness centrality value because
    it is in the greatest number of paths.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图中，中心节点B连接了几乎独立的子图。值得注意的是，该节点具有低接近中心性值；它直接连接到图中很少的节点，要到达其他节点，它必须通过长路径。但它具有高中介中心性值，因为它位于最多的路径中。
- en: This example is helpful for understanding the difference between these two concepts
    of centrality. Whereas closeness centrality measures how many people a person
    knows or how many people they can reach in few hops, betweenness centrality considers
    the position of the person in the entire network. In a communication network,
    betweenness centrality measures how much potential control a node has over the
    flow of communication.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子有助于理解这两个中心性概念之间的区别。而接近中心性衡量一个人知道多少人或他们能在几步之内接触到多少人，而中介中心性则考虑一个人在整个网络中的位置。在通信网络中，中介中心性衡量一个节点对通信流量的潜在控制程度。
- en: This example gives us an idea of the value of those metrics when analyzing a
    social network to fight fraud. If node B in figure 10.16 is infected by fraud
    from one community, the fraud can easily pass on to the other communities. To
    prevent this contamination from occurring, one option is to remove this node from
    the network.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子让我们了解到在分析社交网络以打击欺诈时这些指标的价值。如果图10.16中的节点B被一个社区感染了欺诈，欺诈可以轻易地传播到其他社区。为了防止这种污染发生，一个选择是将这个节点从网络中移除。
- en: '![CH10_F16_Negro](../Images/CH10_F16_Negro.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F16_Negro](../Images/CH10_F16_Negro.png)'
- en: Figure 10.16 Sample graph with three almost-distinct clusters connected via
    one central node
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.16 具有三个几乎不同的集群通过一个中心节点连接的示例图
- en: Betweenness centrality is a powerful measure in multiple domains. Perhaps a
    more intuitive example is the spread of disease. Within a large population, the
    nodes with high betweenness centrality have a high chance of transmitting the
    disease to a lot of people from different communities. By recognizing and isolating
    those nodes, it is possible to reduce the extent of the disease’s outbreak. Similarly,
    in a terrorist network, the nodes with the highest betweenness centrality are
    key people for passing information, money, weapons, and so on across multiple
    cells or clusters. By identifying them, it is possible to identify more clusters,
    and by blocking them, we can affect the capacity of the entire network to operate.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 介数中心性是多个领域中的一个强大度量。也许一个更直观的例子是疾病的传播。在一个大型人群中，具有高介数中心性的节点有很大可能性将疾病从不同的社区传播给很多人。通过识别和隔离这些节点，可以减少疾病爆发的范围。同样，在恐怖主义网络中，具有最高介数中心性的节点是传递信息、资金、武器等跨多个细胞或集群的关键人物。通过识别他们，可以识别更多的集群，通过阻断他们，我们可以影响整个网络运作的能力。
- en: The formula for computing the betweenness centrality of a node a takes into
    account for each pair of nodes the percentage of the shortest paths passing through
    a and sums all these percentages. Mathematically,
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 计算节点a的介数中心性的公式考虑了每对节点通过a的最短路径的百分比，并将所有这些百分比相加。数学上，
- en: '![CH10_F17_EQ02_Negro](../Images/CH10_F17_EQ02_Negro.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F17_EQ02_Negro](../Images/CH10_F17_EQ02_Negro.png)'
- en: where
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: where
- en: g[jk](a) is the number of shortest paths between *j* and k passing through a.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: g[jk](a) 是从 *j* 到 k 通过 a 的最短路径的数量。
- en: g[jk] is the total number of shortest paths between *j* and k.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: g[jk] 是从 *j* 到 k 的总最短路径数。
- en: Like closeness centrality, this metric is fully supported by Neo4j and many
    other libraries. In our database, we can easily compute betweenness centrality
    by using the following query.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 与接近度中心性一样，这个度量在Neo4j和许多其他库中得到了全面的支持。在我们的数据库中，我们可以通过以下查询轻松计算介数中心性。
- en: Listing 10.18 Computing the betweenness centrality of the nodes
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.18 计算节点的介数中心性
- en: '[PRE17]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Then we can order the nodes by betweenness centrality to find the machine learning
    developers with the highest values.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以根据介数中心性对节点进行排序，以找到具有最高值的机器学习开发者。
- en: Listing 10.19 Getting the top 20 ML developers with the highest betweenness
    centrality
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.19 获取具有最高介数中心性的前20个ML开发者
- en: '[PRE18]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The results of this query are much more significant. Almost all the people
    in the list are highly relevant: they are authors of prominent books, or they
    contribute to a lot of open source projects in the machine learning space. Betweenness
    centrality, in this case, is capable of capturing better than closeness centrality
    the significance of people in the network. It represents a person’s influence
    in the full network rather than in their circle of friends.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 这个查询的结果要重要得多。几乎列表中的所有人都是高度相关的：他们是著名书籍的作者，或者他们在机器学习领域贡献了很多开源项目。在这种情况下，介数中心性比接近度中心性更好地捕捉了人们在网络中的重要性。它代表了一个人在整个网络中的影响力，而不仅仅是他们的朋友圈。
- en: Exercise
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 练习
- en: In the preceding queries, we considered only machine learning developers to
    analyze their influence. Run the queries to search for the top web developers,
    considering betweenness and closeness centrality, and then look at their profiles
    on GitHub.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在先前的查询中，我们只考虑了机器学习开发者来分析他们的影响力。运行查询以搜索顶级网络开发者，考虑介数和接近度中心性，然后查看他们在GitHub上的个人资料。
- en: 10.2.3 Collective inference algorithms
  id: totrans-222
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2.3 集体推理算法
- en: In the scenario considered in this chapter, a collective inference procedure
    infers the probability that a node could be affected by fraud—either becoming
    a fraudster or becoming the victim of a fraud—by taking into account the fact
    that inferences about nodes can mutually affect one another and that the propagation
    of the effect of such inference is proportional to the importance of a node. We
    will focus on PageRank, a powerful collective inference algorithm that we have
    seen in action earlier in the book.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章所考虑的场景中，一种集体推理过程通过考虑节点之间可以相互影响的事实以及这种推理效果传播的比例与节点的重要性成正比，来推断一个节点可能受到欺诈的影响——要么成为欺诈者，要么成为欺诈的受害者。我们将重点关注PageRank，这是一种强大的集体推理算法，我们在本书早期已经看到其应用。
- en: PageRank [Page et al., 1998]—the basis of Google’s famous search engine algorithm
    for ranking web pages—is perhaps the most popular technique for prestige computation
    today. It assigns a prestige score to each node *j* in a graph. Intuitively, the
    prestige score of a node must be higher if the node is linked to many nodes that
    are themselves important. This “prestige” can be seen the other way around in
    the case of fraud, of course. If a node is linked to a lot of prestigious fraudsters
    (well-known fraudsters who are marked as such in our semilabeled network), the
    chance of that node becoming involved in fraud (either as a perpetrator or victim)
    is high.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: PageRank [Page et al., 1998]——谷歌著名搜索引擎算法排名网页的基础——可能是今天最流行的声望计算技术。它为图中的每个节点 *j*
    分配一个声望分数。直观地讲，如果一个节点连接到很多本身很重要的节点，那么这个节点的声望分数必须更高。当然，在欺诈的情况下，这种“声望”也可以从另一个角度来理解。如果一个节点连接到很多声望很高的欺诈者（在我们的半标记网络中被标记为这样的知名欺诈者），那么这个节点卷入欺诈（无论是作为实施者还是受害者）的可能性很高。
- en: Our starting point is a semilabeled network with a few labeled legitimate and
    fraudulent nodes and many unlabeled nodes. Figure 10.17 represents our toy fraudsters
    network. Looking at this figure, what can we infer about the probability that
    node A is either a fraudster or the victim of a fraud, supposing that G and D
    are fraudsters?
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的起点是一个半标记网络，其中包含一些标记为合法和欺诈的节点以及许多未标记的节点。图10.17代表我们的玩具欺诈者网络。观察这个图，如果我们假设G和D是欺诈者，我们能推断出节点A是欺诈者或欺诈受害者的概率是多少？
- en: '![CH10_F17_Negro](../Images/CH10_F17_Negro.png)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F17_Negro](../Images/CH10_F17_Negro.png)'
- en: Figure 10.17 A simple directed fraud network in which D and G are fraudsters
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.17 一个简单的有向欺诈网络，其中D和G是欺诈者
- en: Let’s start our analysis by considering the scenario PageRank was introduced
    for and ignore the labels, treating all the nodes as equals. Assume for now that
    the nodes are web pages and that a surfer can browse to pages only by following
    the links on the page they are currently viewing. The figure shows that web page
    A has seven incoming links. The probability that a surfer who is currently viewing
    web page B will visit web page A next is 1/3, or 33%, because web page B has three
    links to other web pages, one of which is web page A. Similarly, if a surfer is
    currently looking at web page C or D, there is a 50% probability in both cases
    that they will visit web page A next. The probability that a web page will be
    visited is called the *page rank* of that web page. To determine the page rank
    of web page A, we need to know the page ranks of web pages B, C, D, F, G, L, and
    O (the seven pages that link to A).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从PageRank最初被引入的场景开始分析，忽略标签，将所有节点视为平等。现在假设节点是网页，并且一个冲浪者只能通过查看他们当前正在查看的页面上的链接来浏览页面。图显示网页A有七个进入链接。一个正在查看网页B的冲浪者接下来访问网页A的概率是1/3，即33%，因为网页B有三个指向其他网页的链接，其中一个是网页A。同样，如果一个冲浪者正在查看网页C或D，那么在这两种情况下，他们接下来访问网页A的概率都是50%。一个网页被访问的概率被称为该网页的*页面排名*。为了确定网页A的页面排名，我们需要知道网页B、C、D、F、G、L和O（链接到A的七个页面）的页面排名。
- en: 'This process is collective inference: the ranking of one web page depends on
    the rankings of the other pages that link to it, and a change in the ranking of
    one of these pages might affect the rankings of all the others in a cascading
    fashion. Specifically, the main idea is that important web pages (pages that appear
    at the top of the search results) have many incoming links from other important
    web pages. Here’s the basic approach to page ranking for any given page:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程是集体推理：一个网页的排名取决于链接到它的其他网页的排名，其中一个网页排名的变化可能会以级联的方式影响所有其他网页的排名。具体来说，主要思想是重要的网页（出现在搜索结果顶部）来自其他重要网页的链接很多。以下是针对任何给定网页进行页面排名的基本方法：
- en: The rankings of the web pages pointing to that page
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指向该页面的网页的排名
- en: The outdegree of the pages that page is linked from
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从该页面链接出的页面的出度
- en: The initial page rank value of a node is set to the probability that a random
    surfer will start their navigation from that node—that is, 1/*<number of pages>*.
    Then it iterates until some stopping criterion is met, generally when the change
    in the ranking at each iteration becomes marginal or when some defined maximum
    number of iterations has been reached. Figure 10.18 summarizes the algorithm with
    a concrete example.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 节点的初始页面排名值设置为随机漫游者从该节点开始导航的概率——即，1/*<页面数量>*。然后它迭代直到满足某些停止标准，通常是在每次迭代的排名变化变得微不足道或达到定义的最大迭代次数时。图
    10.18 通过一个具体示例总结了该算法。
- en: '![CH10_F18_Negro](../Images/CH10_F18_Negro.png)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F18_Negro](../Images/CH10_F18_Negro.png)'
- en: Figure 10.18 PageRank initialization and iterations
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.18 PageRank 初始化和迭代
- en: At each iteration i, we can say that the page rank value of the node A, PR(i,A),
    is computed as
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在每次迭代 i 中，我们可以说节点 A 的页面排名值 PR(i,A) 是这样计算的
- en: '![CH10_F18_EQ03_Negro](../Images/CH10_F18_EQ03_Negro.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F18_EQ03_Negro](../Images/CH10_F18_EQ03_Negro.png)'
- en: where
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: PR(i -1,n) is the page rank value of the node n at the previous iteration.
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PR(i -1,n) 是节点 n 在前一次迭代的页面排名值。
- en: NA are all the neighbors of A.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NA 是节点 A 的所有邻居。
- en: 'PR(0,n) is the initial value for each node, representing the probability that
    a random surfer will start their navigation from that node. The assumption that
    a random surfer will visit pages only by following a random link on the web page
    they are viewing is not realistic, of course. Surfers’ behavior is more random:
    rather than follow links on a web page, they might randomly visit other pages.
    Therefore, a more sophisticated PageRank algorithm must include the random-surfer
    model, which assumes that surfers often get bored and jump arbitrarily to another
    web page.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: PR(0,n) 是每个节点的初始值，表示随机漫游者从该节点开始导航的概率。当然，随机漫游者只通过在当前查看的网页上随机跟随链接来访问页面这一假设并不现实。漫游者的行为更加随机：他们可能不会跟随网页上的链接，而是随机访问其他页面。因此，一个更复杂的PageRank算法必须包括随机漫游者模型，该模型假设漫游者经常感到无聊并随意跳转到另一个网页。
- en: Supposing that α is the probability that the surfer will follow a link on the
    web page they are currently viewing and (1 - α) is the probability that the surfer
    will visit a random other web page, a more advanced formula is
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 α 是漫游者跟随当前查看的网页上的链接的概率，而 (1 - α) 是漫游者访问随机其他网页的概率，一个更高级的公式是
- en: '![CH10_F19_EQ04_Negro](../Images/CH10_F19_EQ04_Negro.png)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F19_EQ04_Negro](../Images/CH10_F19_EQ04_Negro.png)'
- en: where (1 - α) is the *restart probability* and e[A] is the *restart value* for
    web page A, which is often uniformly distributed among all web pages.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 (1 - α) 是 *重启概率*，e[A] 是网页 A 的 *重启值*，通常在所有网页中均匀分布。
- en: Starting from this advanced version, Page et al. introduced an extension of
    the PageRank algorithm by personalizing the search to the user. This personalization
    is done by changing the restart value from a uniform distribution across all nodes
    to a version that is tailored to a user’s search interests. A higher restart value
    for a page X corresponds to the user’s having a higher interest in that page.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个高级版本开始，Page 等人通过个性化搜索扩展了 PageRank 算法。这种个性化是通过将重启值从所有节点的均匀分布更改为针对用户搜索兴趣量身定制的版本来实现的。页面
    X 的更高重启值对应于用户对该页面的更高兴趣。
- en: 'This last version is well suited to our final use case: inferring the effect
    of fraudsters on an unlabeled node (which means that we don’t know whether the
    person identified by that node is a fraudster or a victim of fraud). In this context,
    the PageRank algorithm can be seen as a propagation of node influence through
    a labeled network. (In our case, we know some of the nodes that are fraudulent.)
    We inject fraud into the network through the restart values in the following way:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 这个最后的版本非常适合我们的最终用例：推断欺诈者对未标记节点的影响（这意味着我们不知道该节点所标识的人是否是欺诈者或欺诈的受害者）。在这种情况下，PageRank算法可以被视为通过标记网络传播节点影响。
    （在我们的案例中，我们知道一些节点是欺诈的。）我们通过以下方式在网络中注入欺诈：
- en: '![CH10_F19_EQ05_Negro](../Images/CH10_F19_EQ05_Negro.png)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F19_EQ05_Negro](../Images/CH10_F19_EQ05_Negro.png)'
- en: At the end of the page rank computation, the top-ranked nodes are those most
    influenced by fraud. We can apply these ideas to our graph database. There are
    plenty of implementations of personalized page rank, and Neo4j has its own. The
    following query computes the personalized page rank for all the users, considering
    the machine learning developers as start values (specified here in the source
    nodes).
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在PageRank计算结束时，排名最高的节点是最受欺诈影响的节点。我们可以将这些想法应用到我们的图数据库中。有很多个性化的PageRank实现，Neo4j也有自己的实现。以下查询计算了所有用户的个性化PageRank，将机器学习开发者作为起始值（在此指定为源节点）。
- en: Listing 10.20 Computing personalized page rank for machine learning developers
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.20 为机器学习开发者计算个性化PageRank
- en: '[PRE19]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: In this query, the dampingFactor is our **α**, and sourceNodes are the nodes
    used for the restart vector. When the scores have been computed, we can order
    the web developers by page rank value from highest to lowest by using the following
    query.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个查询中，dampingFactor是我们的**α**，sourceNodes是用于重启向量的节点。当分数计算完成后，我们可以使用以下查询按PageRank值从高到低对网络开发者进行排序。
- en: Listing 10.21 Sorting by page rank to find the most heavily influenced users
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.21 按PageRank排序以找到受影响最严重的用户
- en: '[PRE20]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The top of the list returned by the previous query is occupied by the web developers
    who are most likely to be influenced by machine learning developers. If you would
    like to investigate further, you can use the following query to compute the sum
    of the page rank values of the followers of a particular machine learning developer.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 之前查询返回的列表顶部被最有可能受到机器学习开发者影响的网络开发者占据。如果您想进一步调查，可以使用以下查询来计算特定机器学习开发者关注者的PageRank值总和。
- en: Listing 10.22 Computing the sum of page rank for the followers of a developer
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.22 计算开发者的PageRank总和
- en: '[PRE21]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: The results of this query show that this user has 1,000 machine learning developers
    following them out of a total of more than 7,000 followers, but the sum of those
    developers’ PageRank values is higher than the sum of the web developers’ rankings.
    This result means that the influence of machine learning developers on this user
    is greater than that of web developers, proving that the PageRank algorithm can
    be used to determine the effect of the network on a subject. Coming back to our
    fraud scenario, then, the PageRank value can measure the probability that a node
    (person) will be affected by fraud (participating in it or being targeted as a
    victim).
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 这个查询的结果显示，这个用户有1,000名机器学习开发者关注他们，总共有超过7,000名关注者，但这些开发者的PageRank值总和高于网络开发者的排名总和。这个结果表明，机器学习开发者对这位用户的影响大于网络开发者，证明了PageRank算法可以用来确定网络对主题的影响。回到我们的欺诈场景，那么，PageRank值可以衡量一个节点（人）受到欺诈（参与其中或被作为受害者）影响的概率。
- en: Exercise
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 练习
- en: Run the last two queries again, inverting machine learning developers and web
    developers, and explore the results.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 再次运行最后两个查询，将机器学习开发者和网络开发者互换，并探索结果。
- en: 10.3 Cluster-based methods
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.3 基于聚类的算法
- en: Social networks are powerful tools for revealing the relationships among people
    by means of the links in the network. In section 10.2, our analysis focused on
    extracting or computing features node by node, in most cases considering the directly
    connected neighboring nodes or the paths passing through each node. In such types
    of analysis, each node is considered individually, focusing on the role that it
    has in the network and its set of close connections. The resulting metrics are
    useful, but to have a good understanding of the effects that a social network
    has on a node (or, conversely, the effects of a node on the network), it is important
    to consider the node as part of a group of nodes rather than alone. Because of
    the dynamics of the network, it stands to reason that communities (groups of nodes
    within a network) that behave the same way or share an opinion or belief are likely
    to have a greater effect on the network than a single person and more influence
    in terms of information exchange. In the fraud use case, a group of fraudsters
    working together are likely to have a greater reach than one operating on their
    own.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 社交网络是通过网络中的链接揭示人与人之间关系的强大工具。在第10.2节中，我们的分析侧重于逐个节点地提取或计算特征，在大多数情况下考虑直接连接的邻近节点或通过每个节点的路径。在这种类型的分析中，每个节点都是单独考虑的，关注它在网络中的作用及其紧密连接的集合。这些结果指标是有用的，但要全面理解社交网络对节点（或相反，节点对网络的影响），重要的是将节点视为节点组的一部分，而不是单独考虑。由于网络的动态性，可以合理地认为，行为相同或持有相同观点或信念的社区（网络内的节点组）对网络的影响可能比单个人更大，在信息交换方面具有更大的影响力。在欺诈用例中，一组共同工作的欺诈者可能比单独行动的欺诈者具有更大的影响力。
- en: In graph theory, a *community* is a subgraph or cluster in the network whose
    nodes are more strongly and densely connected than they are with the nodes in
    any other random subgraph in the network. All members of a community can be reached
    easily through other members of the same community (*connectedness*). At the same
    time, we expect nodes that belong to a community to have a higher probability
    of linking to the other members of that community than to nodes that do not belong
    to the same community (*local density*). So we can define a community more formally
    as a locally dense connected subgraph in a network [Barabási and Pósfai, 2016].
    The graph in figure 10.19, for example, can be divided into three communities,
    in each of which there are many connections between nodes in the community and
    none or few outside it.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在图论中，一个**社区**是网络中的一个子图或簇，其节点之间的连接比它们与网络中任何其他随机子图中的节点之间的连接更强、更密集。社区的所有成员都可以通过同一社区的其他成员轻松地到达（*连通性*）。同时，我们期望属于社区的节点与其他社区成员的链接概率高于不属于同一社区的节点（*局部密度*）。因此，我们可以更正式地将社区定义为网络中的一个局部密集连接子图
    [Barabási and Pósfai, 2016]。例如，图10.19中的图可以被划分为三个社区，在每个社区中，社区内的节点之间有许多连接，而社区外则没有或很少。
- en: '![CH10_F19_Negro](../Images/CH10_F19_Negro.png)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F19_Negro](../Images/CH10_F19_Negro.png)'
- en: Figure 10.19 A sample graph, clustered
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.19 一个示例图，已聚类
- en: Fraudsters often work together as a group, sharing, reinforcing, and offering
    complementary ideas about how to perpetrate a fraud. Moreover, belonging to a
    group of fraudsters affects people’s behavior, increasing the risk that they will
    also take part in a fraud (peer pressure at work). In this context, community
    mining aims to identify groups of fraudsters in the network to pinpoint subgraphs
    in which fraud is more likely to occur than in the rest of the graph. This information
    can help in the detection of hidden fraudulent structures. Bearing in mind that
    people are more likely to commit fraud if they are influenced by a whole community
    than by one fraudulent person, it can also be a useful way to identify people
    who are at risk of being drawn in to fraudulent activity and thus curtailing the
    growth of fraudulent groups [Baesens et al., 2015].
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈者通常以小组的形式合作，分享、强化和提出关于如何实施欺诈的互补想法。此外，成为欺诈者群体的一员会影响人们的行为，增加他们参与欺诈的风险（工作场所的同伴压力）。在这种情况下，社区挖掘旨在识别网络中的欺诈者群体，以确定欺诈比图的其他部分更可能发生的子图。这些信息有助于检测隐藏的欺诈结构。考虑到人们如果受到整个社区的影响而不是单个欺诈者的诱惑，更有可能进行欺诈，因此，这也是识别可能被卷入欺诈活动的人的有用方法，从而遏制欺诈群体的增长
    [Baesens et al., 2015]。
- en: Communities are powerful mechanisms for identifying common behavioral patterns,
    even when the nodes are not connected in a classic social network. Figure 10.20
    is a bipartite graph in which the nodes are stores and credit cards. The stores
    are connected to credit cards by fraudulent transactions.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 社区是识别常见行为模式的有力机制，即使节点在经典社交网络中没有连接。图10.20是一个二部图，其中的节点是商店和信用卡。商店通过欺诈交易与信用卡相连。
- en: '![CH10_F20_Negro](../Images/CH10_F20_Negro.png)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F20_Negro](../Images/CH10_F20_Negro.png)'
- en: Figure 10.20 A bipartite graph with shops and credit cards connected by fraudulent
    transactions
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.20 一个由欺诈交易连接的商店和信用卡的二部图
- en: As discussed in chapter 9, fraudsters tend to stick to the same behavioral patterns.
    They may use stolen credit cards in the same stores repeatedly, perhaps because
    staff at those stores are involved in the fraud or perhaps because previous attempts
    there have been successful. We can project[⁶](#pgfId-1008701) the previous bipartite
    graph into a stores graph where two nodes are connected if they are linked to
    the same credit card node in the bipartite representation. The result will look
    like figure 10.21.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 如第9章所述，欺诈者倾向于坚持相同的行为模式。他们可能会在相同的商店反复使用被盗的信用卡，可能是因为那些商店的员工参与了欺诈，或者可能是因为之前的尝试在那里是成功的。我们可以将先前的二部图投影到一个商店图中，如果两个节点在二部表示中连接到相同的信用卡节点，则它们之间相连。结果将类似于图10.21。
- en: '![CH10_F21_Negro](../Images/CH10_F21_Negro.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F21_Negro](../Images/CH10_F21_Negro.png)'
- en: Figure 10.21 Adding projection relationships to the bipartite graph
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.21 向二部图添加投影关系
- en: It is easy to see that a few suspicious communities of stores are commonly used
    by fraudsters (figure 10.22). Discovering such communities reveals that some stores
    are more susceptible to being victims of fraud than others, and is a signal that
    those stores might be involved in the fraud themselves or may need to beef up
    their security.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 很容易看出，一些可疑的商店社区通常被欺诈者使用（图10.22）。发现这样的社区表明，一些商店比其他商店更容易成为欺诈的受害者，这是一个信号，表明这些商店可能自己参与了欺诈，或者可能需要加强他们的安全措施。
- en: '![CH10_F22_Negro](../Images/CH10_F22_Negro.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F22_Negro](../Images/CH10_F22_Negro.png)'
- en: Figure 10.22 Clusters in the projection of the bipartite graph
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.22 二部图投影中的聚类
- en: A known pattern in credit card fraud is that the stolen card is used in many
    stores for small transactions. In this case, community mining exposes immediately
    which stores are often related to the same stolen credit cards—something that
    implementing fraud detection practices at the individual store level would not
    be able to reveal. The use of a card in more than one of these stores or multiple
    times in some of them can be used as a relevant signal that the card (detail)
    has been stolen. In many applications and contexts, the discovery of such communities
    through SNA can aid in the detection of fraudulent structures or the curtailment
    of fraud rings.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在信用卡欺诈中，一个已知的模式是被盗的卡在许多商店进行小额交易。在这种情况下，社区挖掘可以立即揭示哪些商店经常与同一被盗信用卡相关——这是在单个商店层面实施欺诈检测实践所无法揭示的。在这些商店中的多个商店使用一张卡，或者在其中的某些商店多次使用，可以用作相关信号，表明该卡（详情）已被盗。在许多应用和环境中，通过社会网络分析发现这样的社区可以帮助检测欺诈结构或遏制欺诈团伙。
- en: 'A common technique for community mining is *graph partitioning*, also referred
    to as *node clustering*. The aim is to split the graph into some predetermined
    number of clusters by optimizing the ratio between the intracommunity and intercommunity
    edges. Different algorithms can be used to determine the optimal way to divide
    the graph. Among them, I would like to mention two opposite approaches:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 社区挖掘的一个常见技术是*图分区*，也称为*节点聚类*。目的是通过优化社区内和社区间边的比率，将图分割成预定的若干个集群。可以使用不同的算法来确定分割图的最佳方式。其中，我想提到两种相反的方法：
- en: '*Top-down* or *divisive*—These methods, also called *partitioning* or *splitting*,
    start from an initial situation in which all the nodes are considered as a single
    cluster. This cluster is split iteratively into pieces, trying to minimize intercluster
    connectivity, until a stable point is reached at which it is not possible to get
    a significant improvement.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*自上而下*或*分裂*——这些方法也称为*分区*或*分割*，从一个所有节点都被视为一个单一集群的初始情况开始。这个集群通过迭代分割成小块，试图最小化集群间的连通性，直到达到一个稳定点，在这个点上无法获得显著的改进。'
- en: '*Bottom-up* or *agglomerative*—These methods operate in the opposite way: they
    start by considering each node as an independent cluster and then recursively
    try to merge the nodes that are most similar or highly interconnected into clusters.'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*自下而上*或*聚类*——这些方法以相反的方式进行操作：它们首先将每个节点视为一个独立的簇，然后递归地尝试将最相似或高度互联的节点合并到簇中。'
- en: For our purposes, we will consider the second type of approach, which is also
    useful for detecting dense (highly interconnected) regions. Specifically, the
    algorithm used in the next examples is the Louvain method, introduced by Blondel
    et al. [2008]. This method is typically used to detect communities in large networks.
    Per the Neo4j documentation,[⁷](#pgfId-1008716)
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的目的，我们将考虑第二种方法，这种方法也适用于检测密集（高度互联）的区域。具体来说，下一个示例中使用的算法是Blondel等人[2008]引入的Louvain方法。这种方法通常用于检测大型网络中的社区。根据Neo4j文档[⁷](#pgfId-1008716)
- en: '*It maximizes a modularity score for each community, where the modularity quantifies
    the quality of an assignment of nodes to communities. This means evaluating how
    much more densely connected the nodes within a community are, compared to how
    connected they would be in a random network. The Louvain algorithm is a hierarchical
    clustering algorithm, that recursively merges communities into a single node and
    executes the modularity clustering on the condensed graphs.*'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '*它最大化每个社区的模块度得分，其中模块度量化了将节点分配给社区的质量。这意味着评估社区内节点之间的连接密度与它们在随机网络中连接密度的差异。Louvain算法是一种层次聚类算法，它递归地将社区合并成一个节点，并在凝聚图上执行模块度聚类。*'
- en: For the sake of completeness, the implementation generally used is the parallel
    version introduced by Lu et al. [2015], which introduces some heuristics to break
    the inner sequential barrier.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完整性，通常使用的实现是Lu等人[2015]引入的并行版本，该版本引入了一些启发式方法来打破内部顺序屏障。
- en: You don’t need to worry about the implementation of this algorithm, unless you
    would particularly like to implement it by yourself, because it is available in
    Neo4j and other libraries. The following query will perform Louvain community
    detection on our example network.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 您不需要担心此算法的实现，除非您特别想自己实现它，因为Neo4j和其他库中都提供了此算法。以下查询将在我们的示例网络上执行Louvain社区检测。
- en: Listing 10.23 Executing Louvain community detection on the GitHub graph
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.23 在GitHub图上执行Louvain社区检测
- en: '[PRE22]'
  id: totrans-283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: As in the previous cases, the algorithm will store in each node a new property
    called community that contains the ID of the community the node belongs to. The
    following query will give you an idea of how Louvain splits our network into communities.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 与前述案例一样，算法将在每个节点中存储一个新的属性，称为社区，其中包含节点所属社区的ID。以下查询将给出Louvain如何将我们的网络分割成社区的想法。
- en: Listing 10.24 Retrieving the top 5 Louvain communities
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 列表10.24 获取前5个Louvain社区
- en: '[PRE23]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The result will look like figure 10.23.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将类似于图10.23。
- en: '![CH10_F23_Negro](../Images/CH10_F23_Negro.png)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![CH10_F23_Negro](../Images/CH10_F23_Negro.png)'
- en: Figure 10.23 Top five Louvain communities. (The results could be a bit different
    due to some random initialization.)
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.23 顶级五Louvain社区。（由于某些随机初始化，结果可能略有不同。）
- en: Take a look at the number of machine learning developers in the first two communities.
    The first group is clearly a web developers’ community (only 373 members are machine
    learning developers), and the second one is clearly a machine learning developers’
    community. The algorithm appears to have done a good job of recognizing groups
    of people with similar interests.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 看看前两个社区中机器学习开发者的数量。第一个群体显然是一个网络开发者社区（只有373名成员是机器学习开发者），第二个群体显然是一个机器学习开发者社区。算法似乎很好地识别了具有相似兴趣的人群组。
- en: 10.4 Advantages of graphs
  id: totrans-291
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 10.4 图的优势
- en: 'In this case, we can’t talk about the advantages of using graphs over some
    other approach, because the graph—specifically, the social network—is the core
    element of the approach described in this chapter. But we can recap the advantages
    of using a social network (and, thus, a graph approach) for fraud detection and
    prevention:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们无法讨论使用图相对于其他方法的优势，因为图——特别是社交网络——是本章描述的方法的核心元素。但我们可以回顾使用社交网络（因此，使用图方法）进行欺诈检测和预防的优势：
- en: Social networks provide an excellent source of knowledge for exploring and investigating
    frauds.
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社交网络为探索和调查欺诈提供了极好的知识来源。
- en: Graphs are the best way to represent social networks.
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图是表示社交网络的最佳方式。
- en: SNA, with different algorithms, offers a wide set of insights about the reach
    and influence of frauds and fraudsters.
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不同的算法，社会网络分析（SNA）提供了一系列关于欺诈和欺诈者影响范围和影响力的见解。
- en: Graph algorithms are an awesome toolset for extracting insights from a graph
    and performing deep analysis of a social network, enabling us to recognize key
    people, groups of people, or nodes in the network.
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图算法是提取图见解和进行社交网络深度分析的优秀工具集，使我们能够识别网络中的关键人物、人群或节点。
- en: Summary
  id: totrans-297
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Although much more could be said on the topic, this chapter completes our overview
    of fraud detection techniques that use a graph approach. Our focus here was on
    the role of social networks, and specifically SNA, in analyzing the behavior and
    influence of fraudsters within a network. In this chapter, you learned
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管关于这个主题还可以说很多，但本章完成了我们对使用图方法进行欺诈检测技术的概述。在这里，我们关注的是社交网络，特别是社会网络分析（SNA）在分析网络中欺诈者行为和影响中的作用。在本章中，你学习了
- en: How to create a social network from different types of data sources
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何从不同类型的数据源创建社交网络
- en: How to use SNA methods to explore a web of frauds and fraudsters’ influence
    within a network
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用SNA方法探索网络中欺诈和欺诈者影响力的网络
- en: How to assign a set of features related to the network structure to each node
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何将一组与网络结构相关的特征分配给每个节点
- en: How to use various graph algorithms to extract insights from a network (finding
    key influencers, computing clustering coefficients, counting triangles, and so
    on)
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用各种图算法从网络中提取见解（找到关键影响者，计算聚类系数，计数三角形等）
- en: How to group nodes into communities
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何将节点分组到社区中
- en: It’s worth mentioning that in this chapter, we were able to perform all our
    analyses by using only Neo4j and queries, using the available plugins without
    writing a single line of code. This fact demonstrates the power and flexibility
    of the graph approach and the libraries that exist today.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，在本章中，我们仅使用Neo4j和查询就完成了所有分析，使用可用的插件而没有编写任何代码。这一事实证明了图方法和现有库的强大功能和灵活性。
- en: References
  id: totrans-305
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[Baesens et al., 2015] Baesens, Bart, Veronique Van Vlasselaer, and Wouter
    Verbeke. *Fraud Analytics Using Descriptive, Predictive, and Social Network Techniques:
    A Guide to Data Science for Fraud Detection*. Hoboken, NJ: Wiley and SAS Business
    Series, 2015.'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '[Baesens et al., 2015] Baesens, Bart, Veronique Van Vlasselaer, 和 Wouter Verbeke.
    *使用描述性、预测性和社会网络技术进行欺诈分析：欺诈检测的数据科学指南*. 新泽西州霍布肯：Wiley和SAS商业系列，2015年。'
- en: '[Barabási and Pósfai, 2016] Barabási, Albert-László, and Mártin Pósfai. *Network
    Science*. Cambridge, UK: Cambridge University Press, 2016.'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '[Barabási and Pósfai, 2016] Barabási, Albert-László, 和 Mártin Pósfai. *网络科学*.
    剑桥，英国：剑桥大学出版社，2016年。'
- en: '[Barta and Stewart, 2008] Barta, Dan, and David Stewart. 2008\. “A Layered
    Approach to Fraud Detection and Prevention: Increasing Investigator Efficiency
    Using Network Analytics.” SAS Conclusions Paper.'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '[Barta and Stewart, 2008] Barta, Dan, 和 David Stewart. 2008. “欺诈检测与预防的分层方法：使用网络分析提高调查员效率.”
    SAS结论论文。'
- en: '[Blondel et al., 2008] Blondel, Vincent D., Jean-Loup Guillaume, Renaud Lambiotte,
    and Etienne Lefebvre. “Fast Unfolding of Communities in Large Networks.” *Journal
    of Statistical Mechanics: Theory and Experiment* (2008): P10008.'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '[Blondel et al., 2008] Blondel, Vincent D., Jean-Loup Guillaume, Renaud Lambiotte,
    和 Etienne Lefebvre. “大型网络中社区的快速展开.” *统计力学：理论与实验杂志* (2008): P10008.'
- en: '[Boccaletti et al., 2006] Boccaletti, Stefano, Vito Latora, Yamir Moreno, Mario
    Chavez, and Dong-Uk Hwang. “Complex Networks: Structure and Dynamics.” *Physics
    Reports* 424:4-5 (2006): 175-308.'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '[Boccaletti et al., 2006] Boccaletti, Stefano, Vito Latora, Yamir Moreno, Mario
    Chavez, 和 Dong-Uk Hwang. “复杂网络：结构与动力学.” *物理报告* 424:4-5 (2006): 175-308.'
- en: '[Easley and Kleinberg, 2010] Easley, David, and Jon Kleinberg. *Networks, Crowds,
    and Markets: Reasoning About a Highly Connected World*. New York: Cambridge University
    Press, 2010.'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '[Easley and Kleinberg, 2010] Easley, David, 和 Jon Kleinberg. *网络、群体与市场：高度连接世界的推理*.
    纽约：剑桥大学出版社，2010年。'
- en: '[Fouss et al., 2016] Fouss, François, Marco Saerens, and Masashi Shimbo. 2016\.
    *Algorithms and Models for Network Data and Link Analysis*. New York, Cambridge
    University Press, 2016.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '[Fouss et al., 2016] Fouss, François, Marco Saerens, 和 Masashi Shimbo. 2016.
    *网络数据与链接分析算法和模型*. 纽约，剑桥大学出版社，2016年。'
- en: '[Koutra et al., 2011] Koutra, Danai, Tai-You Ke, U. Kang, Duen Horng (Polo)
    Chau, Hsing-Kuo Kenneth Pao, and Christos Faloutsos. “Unifying Guilt-by-Association
    Approaches: Theorems and Fast Algorithms.” *Proceedings of the European Conference
    on Machine Learning and Knowledge Discovery in Databases* (2011): 245-260.'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '[库特拉等，2011] 库特拉，丹尼，泰-尤·凯，U. 康，杜恩·霍恩格（波洛）赵，辛格-库欧·肯尼思·赵，和克里斯托斯·法洛特索斯。 “统一关联归咎方法：定理和快速算法。”
    *欧洲机器学习与知识发现数据库会议论文集* (2011): 245-260.'
- en: '[Litan, 2012] Litan, Avivah. “Who’s Who and What’s What in the Enterprise Fraud
    and Misuse Management Market.” Gartner Resource ID G00230076 (2012).'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '[利坦，2012] 利坦，阿维瓦。 “企业欺诈和滥用管理市场中的谁是谁，什么是何。” Gartner资源ID G00230076 (2012)。'
- en: '[Lu et al., 2015] Lu, Hao, Mahantesh Halappanavar, and Ananth Kalyanaraman.
    “Parallel Heuristics for Scalable Community Detection.” *Parallel Computing* 47:
    19-37.'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '[卢等，2015] 卢，浩，马哈特什·哈拉帕纳瓦，和安南特·卡利扬拉曼。 “可扩展社区检测的并行启发式方法。” *并行计算* 47: 19-37.'
- en: '[Needham and Hodler, 2019] Needham, Mark, and Amy E. Hodler. *Graph Algorithms:
    Practical Examples in Apache Spark and Neo4j*. Sebastopol, CA: O’Reilly Media,
    2019.'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '[尼德汉姆和霍德勒，2019] 尼德汉姆，马克，和艾米·E·霍德勒。 *图算法：Apache Spark和Neo4j中的实用示例*。 塞巴斯蒂波利斯，CA：奥雷利媒体，2019。'
- en: '[Newman, 2010] Newman, Mark. *Networks: An Introduction*. New York: Oxford
    University Press, 2010.'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '[纽曼，2010] 纽曼，马克。 *网络：导论*。 纽约：牛津大学出版社，2010。'
- en: '[Page et al., 1998] Page, Larry, Sergey Brin, Rajeev Motwani, and Terry Winograd.
    “The PageRank Citation Ranking: Bringing Order to the Web.” *Stanford InfoLab
    Technical Report*.'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '[佩奇等，1998] 佩奇，拉里，谢尔盖·布林，拉杰夫·莫特瓦尼，和特里·温格拉德。 “PageRank引文排名：为网络带来秩序。” *斯坦福信息实验室技术报告*。'
- en: '[Rapoport, 1953] Rapoport, Anatol. “Spread of Information Through a Population
    with Socio-Structural Bias I: Assumption of Transitivity.” *The Bulletin of Mathematical
    Biophysics* 15:4 (1953): 523-533.'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '[拉波波特，1953] 拉波波特，阿纳托尔。 “通过具有社会结构偏差的群体的信息传播 I：传递性的假设。” *数学生物物理学通报* 15:4 (1953):
    523-533.'
- en: '[Rozemberczki et al., 2019] Rozemberczki, Benedek, Carl Allen, and Rik Sarkar.
    “Multi-Scale Attributed Node Embedding.” arXiv preprint arXiv:1909.13021 (2019).'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '[罗兹门奇克等，2019] 罗兹门奇克，本德克，卡尔·艾伦，和里克·萨卡尔。 “多尺度属性节点嵌入。” arXiv预印本 arXiv:1909.13021
    (2019).'
- en: '* * *'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^(1.)[https://www.gartner.com/en/documents/1912615](https://www.gartner.com/en/documents/1912615).
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: (1.)[https://www.gartner.com/en/documents/1912615](https://www.gartner.com/en/documents/1912615).
- en: ^(2.)[https://github.com/neo4j/graph-data-science](https://github.com/neo4j/graph-data-science).
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: (2.)[https://github.com/neo4j/graph-data-science](https://github.com/neo4j/graph-data-science).
- en: ^(3.)[https://snap.stanford.edu/data/github-social.html](https://snap.stanford.edu/data/github-social.html).
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: (3.)[https://snap.stanford.edu/data/github-social.html](https://snap.stanford.edu/data/github-social.html).
- en: ^(4.)If you are using Neo4j desktop or the community edition, you need to prefix
    :auto before USING (here and in the next query) because Neo4J desktop uses the
    explicit transaction handler, which causes conflict with the “periodic commit”
    statement. With :auto, you can force Neo4J desktop to use the autocommit option
    rather than an explicit transaction handler. The same applies to the next query.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: (4.)如果你使用Neo4j桌面版或社区版，你需要在USING（此处和下一个查询）之前加上：auto，因为Neo4j桌面版使用显式事务处理器，这会导致与“周期性提交”语句冲突。使用：auto，你可以强制Neo4J桌面版使用自动提交选项而不是显式事务处理器。下一个查询也适用。
- en: ^(5.)*Ego networks* are social networks comprised of a node (a person, the ego)
    and all the other nodes (people) to which it is directly connected.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: (5.)*自我网络*是由一个节点（一个人，自我）和所有与之直接相连的其他节点（人）组成的社会网络。
- en: ^(6.)Recall from chapter 5 that we can infer connections between nodes of the
    same type in a bipartite graph, creating a projection.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: (6.)回顾第5章，我们可以推断出二分图中相同类型节点之间的联系，从而创建一个投影。
- en: ^(7.)[http://mng.bz/XYy6](https://shortener.manning.com/XYy6).
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: (7.)[http://mng.bz/XYy6](https://shortener.manning.com/XYy6).
