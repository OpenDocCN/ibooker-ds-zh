- en: Appendix E. Installing GPG
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 E. 安装 GPG
- en: GNU Privacy Guard (GPG) is an open standards implementation of the proprietary
    Pretty Good Privacy (PGP) encryption scheme and is commonly used to encyrpt and
    decrypt emails and filesystem content. The combination of symmetric-key cryptography
    and public-key cryptography enables a rapid and secure method of exchanging messages.
    Users must first generate a public–private key pair using GPG tooling to enable
    the encryption and decryption of messages. The private key is used during the
    encryption process, while the public key is used at decryption time. Public keys
    are shared with anyone who needs to decrypt the encrypted message and can also
    be hosted on internet key servers to simplify how encrypted content is decrypted
    by a wider audience. The creation of the public–private key pair as well as encrypting
    and decrypting message is facilitated through the use of GPG tooling—specifically,
    the `gpg` command-line interface.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: GNU 隐私守护者 (GPG) 是一种开放标准的专有优秀隐私 (PGP) 加密方案的实现，通常用于加密和解密电子邮件和文件系统内容。对称密钥加密和公钥加密的结合提供了一种快速且安全的信息交换方法。用户必须首先使用
    GPG 工具生成一个公私钥对，以启用信息的加密和解密。私钥在加密过程中使用，而公钥在解密时使用。公钥可以与任何需要解密加密信息的人共享，也可以托管在互联网密钥服务器上，以简化更广泛受众解密加密内容的方式。通过使用
    GPG 工具——特别是 `gpg` 命令行界面——可以简化公私钥对的创建以及信息的加密和解密。
- en: E.1 Obtaining the GPG tools
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: E.1 获取 GPG 工具
- en: The GPG tools along with the `gpg` command-line interface can be installed on
    most major operating systems and are available either as a direct download or
    from a package manager, such as `apt`, `dnf`, or `brew`.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: GPG 工具以及 `gpg` 命令行界面可以安装在大多数主要操作系统上，并且可以通过直接下载或从包管理器（如 `apt`、`dnf` 或 `brew`）获取。
- en: 'On a Debian-based Linux operating system, execute the following command in
    a terminal:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于 Debian 的 Linux 操作系统上，请在终端中执行以下命令：
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'On an RPM-based operating system, such as Fedora or Red Hat Enterprise Linux,
    execute the following command in a terminal:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于 RPM 的操作系统上，例如 Fedora 或 Red Hat Enterprise Linux，请在终端中执行以下命令：
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'On an OSX operating system, execute the following command in a terminal:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于 OSX 的操作系统上，请在终端中执行以下命令：
- en: '[PRE2]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Confirm the `gpg` CLI was installed successfully by using the `--version` flag
    to assess the version of the tool.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 `--version` 标志来检查工具的版本，以确认 `gpg` 命令行界面是否成功安装。
- en: Listing E.1 Displaying the GPG Version
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 E.1 显示 GPG 版本
- en: '[PRE3]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: ① The directory containing GPG files
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ① 包含 GPG 文件的目录
- en: If a response similar to listing E.1 is displayed, the GPG tools were successfully
    installed.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果显示类似于列表 E.1 的响应，则表示 GPG 工具已成功安装。
- en: E.2 Generating a public–private key pair
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: E.2 生成公私钥对
- en: Prior to being able to encrypt content, a key pair must be generated. The process
    of generating a key pair was also discussed in chapter 3 but will be addressed
    here again for completeness.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在能够加密内容之前，必须生成密钥对。生成密钥对的过程在第 3 章中也有讨论，但此处将再次讨论以确保完整性。
- en: 'GPG keys can be created using the `gpg` CLI using one of the following flags:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用 `gpg` 命令行界面通过以下标志之一创建 GPG 密钥：
- en: '`--quick-generate-key`—Generates a key pair with the user providing a `USER-ID`
    along with expiration and algorithm details'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--quick-generate-key`——在用户提供 `USER-ID` 以及过期和算法详情的同时生成密钥对'
- en: '`--generate-key`—Generates a key pair while prompting for a real name and email
    details'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--generate-key`——在提示真实姓名和电子邮件详情的同时生成密钥对'
- en: '`--full-generate-key`—Dialogs for all of the possible key pair generation options'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--full-generate-key`——所有可能的密钥对生成选项的对话框'
- en: The option you choose depends on your own requirements. The `--generate-key`
    and `--full-generate-key` options support batch mode, which enables a noninteractive
    method for key pair creation.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 您选择的选项取决于您的个人需求。`--generate-key` 和 `--full-generate-key` 选项支持批处理模式，这允许通过非交互式方法创建密钥对。
- en: 'Create a new GPG key pair using the `--generate-key` flag:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `--generate-key` 标志创建一个新的 GPG 密钥对：
- en: '[PRE4]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: As soon as this command is executed, a home directory for GPG files is created
    within the .gnupg folder in your home directory. This location can be changed
    by specifying the `GNUPGHOME` environment variable.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦执行此命令，就会在您的家目录中的 `.gnupg` 文件夹内创建一个 GPG 文件的主目录。此位置可以通过指定 `GNUPGHOME` 环境变量来更改。
- en: Provide your name and email address at the prompts. You will then be asked to
    confirm the details. Press `O` to confirm the details.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在提示时提供您的姓名和电子邮件地址。然后您将被要求确认这些详情。按 `O` 确认详情。
- en: Then you are prompted to provide a passphrase to protect your key. The exercise
    in chapter 3 advised not to create one to promote simplicity in integrating each
    of the security tools that were being used. However, when creating GPG key pairs
    for other uses, it is recommended that a passphrase is provided. Once a passphrase
    has been provided, a new key pair will be generated, and details related to the
    key will be presented, as shown in the following listing.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，系统会提示您提供一个密码短语来保护您的密钥。第3章的练习建议不要创建密码短语，以简化整合所使用的每个安全工具。然而，在为其他用途创建GPG密钥对时，建议提供密码短语。一旦提供了密码短语，将生成一个新的密钥对，并显示与密钥相关的详细信息，如下所示列表。
- en: Listing E.2 Displaying the GPG version
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 列表E.2 显示GPG版本
- en: '[PRE5]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: You can confirm that the name and email were added correctly from the values
    provided, along with the algorithm, key size, and expiration. Now that the key
    pair has been generated, messages can be encrypted using the GPG set of tools.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过提供的值确认名称和电子邮件是否已正确添加，包括算法、密钥大小和过期时间。现在密钥对已生成，可以使用GPG工具集加密消息。
