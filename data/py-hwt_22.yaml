- en: Appendix B. Managing Python packages with pip
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 B. 使用 pip 管理Python包
- en: B.1 Installing pip on your computer
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: B.1 在您的计算机上安装 pip
- en: The popularity of Python is due mainly to its large collection of tools for
    various domains, data science, machine learning, web development, and so on. When
    I say “tools,” I mean modules, packages, libraries, and frameworks, which I differentiate
    in chapter 1\. To use these tools, you must download them to your computer. The
    most widely adopted way to install these tools is pip—the official Python package
    management tool.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Python 的流行主要归功于其庞大的各种领域工具集，包括数据科学、机器学习、Web 开发等。当我提到“工具”时，我指的是模块、包、库和框架，这些我在第一章中进行了区分。要使用这些工具，您必须将它们下载到您的计算机上。安装这些工具最广泛采用的方式是
    pip——官方的 Python 包管理工具。
- en: To centralize the management of Python packages, the Python Foundation created
    the Python Package Index (PyPI; [https://pypi.org/](https://pypi.org/)), a repository
    of software for Python. One important thing to note is that the package in the
    PyPI is a different concept from packages you create as a container for multiple
    modules. Instead, it’s a general concept that refers to a bundle of software to
    be installed together. To install packages using PyPI, you need to install pip
    on your computer. This section shows you how.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 为了集中管理 Python 包，Python 基金会创建了 Python 包索引（PyPI；[https://pypi.org/](https://pypi.org/)），这是一个
    Python 软件的仓库。需要注意的是，PyPI 中的包与您作为多个模块容器创建的包是不同的概念。相反，它是一个泛指，指的是要一起安装的软件包。要使用 PyPI
    安装包，您需要在您的计算机上安装 pip。本节将向您展示如何进行操作。
- en: 'Before you try to install pip on your computer, you can check whether it has
    been installed already, as it may have been installed during the process of installing
    Python:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在您尝试在您的计算机上安装 pip 之前，您可以检查它是否已经安装，因为它可能在安装 Python 的过程中已经安装：
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'If your computer has pip, running the command should show you its version.
    If the line can’t run, you can run the following line to get pip from the internet:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的计算机有 pip，运行该命令应该会显示其版本。如果该行无法运行，您可以运行以下行从互联网上获取 pip：
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Please note that depending on your operating system, you may need to search
    online to find the correct command if the preceding code doesn’t work for you.
    When installation is complete, you can run the command to check its version. If
    you still experience problems, see Python’s website for additional instructions
    ([http://mng.bz/aPaY](http://mng.bz/aPaY)).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，根据您的操作系统，如果前面的代码对您不起作用，您可能需要在网上搜索以找到正确的命令。安装完成后，您可以运行命令来检查其版本。如果您仍然遇到问题，请参阅
    Python 的网站以获取额外的说明（[http://mng.bz/aPaY](http://mng.bz/aPaY)）。
- en: B.2 Installing and updating individual packages
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: B.2 安装和更新单个包
- en: When you have pip installed on your computer, you can use it to install almost
    every Python package you can think of, as PyPI is the central repository of Python
    software where most Python developers share their projects publicly. This section
    shows how to install and update packages.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当您在您的计算机上安装了 pip，您可以使用它来安装您能想到的几乎每一个 Python 包，因为 PyPI 是 Python 软件的中央仓库，大多数 Python
    开发者都在这里公开分享他们的项目。本节将展示如何安装和更新包。
- en: Reminder Before you proceed, make sure that you want to create a virtual environment
    for installing packages (section 14.1).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 提醒 在您继续之前，请确保您想要为安装包创建虚拟环境（第 14.1 节）。
- en: 'Several times in this book, I’ve mentioned the pandas library, which is a popular
    Python package for data science. You can run the following code to install pandas
    on your computer or in the virtual environment, if you choose to do so:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我多次提到了 pandas 库，这是一个流行的数据科学 Python 包。您可以通过以下代码在您的计算机或虚拟环境中安装 pandas，如果您选择这样做的话：
- en: '[PRE2]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'This command installs the latest version of pandas on your computer. There
    are multiple versions of pandas, so some of your projects may require a specific
    version. To install a specific version, you can specify it as follows:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将在您的计算机上安装 pandas 的最新版本。pandas 有多个版本，因此您的某些项目可能需要特定版本。要安装特定版本，您可以如下指定：
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'You should be able to see the progress of installation, which usually takes
    a few minutes. To make a quick exam of the installed package, run the command
    pip show pandas, and you’ll see something like the following:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该能够看到安装的进度，这通常需要几分钟。为了快速检查已安装的包，运行命令 pip show pandas，您将看到如下类似的内容：
- en: '[PRE4]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: ❶ The packages that require pandas
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 需要 pandas 的包
- en: 'To take advantage of the features of the latest package, you may want to update
    your package with the following command:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为了利用最新包的功能，你可能想使用以下命令更新你的包：
- en: '[PRE5]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: B.3 Installing multiple packages
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: B.3 安装多个包
- en: It can be inconvenient to install multiple packages one by one, so it would
    be great to install multiple packages with one line of command. In this section,
    I’ll show how to install multiple packages.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 逐个安装多个包可能不方便，所以使用一行命令安装多个包会很好。在本节中，我将展示如何安装多个包。
- en: 'Suppose that you want to install pandas and seaborn, two packages that many
    data scientists use (the latter for data visualizations). On the command line,
    you can enter the following code:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想要安装 pandas 和 seaborn，这两个是许多数据科学家使用的包（后者用于数据可视化）。在命令行中，你可以输入以下代码：
- en: '[PRE6]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'This command installs both packages and their respective dependencies. If you
    want to install more packages, you can list them all. For each package, you can
    specify the version as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令安装了包及其相应的依赖项。如果你想安装更多包，你可以列出所有包。对于每个包，你可以指定版本如下：
- en: '[PRE7]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: As you may guess, it can still be inconvenient to install more packages. Suppose
    that your teammate is working on a project that depends on tens of packages, and
    you want to reproduce their work. Making things more complicated, these packages
    require specific versions. Can you enter the following text on a command line?
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所猜，安装更多包仍然可能不方便。假设你的队友正在做一个依赖于数十个包的项目，而你想要重现他们的工作。更复杂的是，这些包需要特定的版本。你能在命令行中输入以下文本吗？
- en: '[PRE8]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '(Note that this code is part of the dependencies for one of my projects; the
    full list is much longer.) Using the pip tool is a better way. Run the following
    command:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: （请注意，此代码是我项目依赖的一部分；完整的列表要长得多。）使用 pip 工具是更好的方法。运行以下命令：
- en: '[PRE9]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This command creates a text file named requirements.txt in the current directory.
    If you open this file, you’ll see that it lists all the dependencies, as follows
    (please note that I’m showing only part of the file due to space considerations):'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令在当前目录中创建一个名为 requirements.txt 的文本文件。如果你打开此文件，你会看到它列出了所有依赖项，如下（请注意，由于空间考虑，我只展示了文件的一部分）：
- en: '[PRE10]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Maintainability It’s a convention to name the file requirements.txt.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 可维护性 它是一个惯例，将文件命名为 requirements.txt。
- en: 'If you get such a requirement file from your teammate, you can run the following
    code, which installs all the dependencies specified in the file:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你从队友那里得到了这样的需求文件，你可以运行以下代码，它会安装文件中指定的所有依赖项：
- en: '[PRE11]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: More important, the installed packages use the same versions, so you can reproduce
    your teammate’s project. The command -r means that you want to use a text file
    that specifies the dependencies—in this case, the requirements.txt file.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 更重要的是，安装的包使用相同的版本，因此你可以重现你队友的项目。命令 -r 表示你想要使用一个指定依赖项的文本文件——在这个例子中，是 requirements.txt
    文件。
- en: B.4 Uninstalling packages
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: B.4 卸载包
- en: 'Because packages are essential code files that don’t occupy much memory, you
    rarely need to uninstall packages to make room. But it’s nice to know that you
    have the option to remove a package or multiple packages. To remove a specific
    package, use the following command:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 由于包是必要的代码文件，它们不占用太多内存，因此你很少需要卸载包来腾出空间。但了解你有选项删除一个或多个包是很好的。要删除特定的包，使用以下命令：
- en: '[PRE12]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'You’ll be asked whether you want to proceed with the uninstallation. If you’re
    sure that you want to uninstall the package without being prompted, you can add
    the -y command:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在卸载过程中，你会被询问是否继续卸载。如果你确定想要在不被提示的情况下卸载包，可以添加 -y 命令：
- en: '[PRE13]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'In section B.3, you learned how to use requirements.txt to install multiple
    packages. You can also use this file for uninstallations. That is, you specify
    all the dependencies you want to remove in the file and run the following command:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在 B.3 节中，你学习了如何使用 requirements.txt 安装多个包。你也可以用这个文件进行卸载。也就是说，你指定要删除的所有依赖项在文件中，并运行以下命令：
- en: '[PRE14]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You’ll be prompted to confirm whether to remove them all. In a similar fashion,
    if you want to skip the confirmation question, you can add the -y command:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在卸载时，你会被提示确认是否删除它们。以类似的方式，如果你想跳过确认问题，可以添加 -y 命令：
- en: '[PRE15]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Reminder Be sure that you do want to remove the packages if you use the -y command
    to skip confirmation.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 提示 确保你确实想要使用 -y 命令跳过确认来删除包。
