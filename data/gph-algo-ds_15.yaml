- en: 12 Constructing a graph using natural language processing techniques
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12 使用自然语言处理技术构建图
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: The information extraction pipeline
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息提取管道
- en: Coreference resolution
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共指消解
- en: Named entity recognition and linking
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 命名实体识别和链接
- en: Relation extraction
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关系提取
- en: Developing an information extraction pipeline
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开发一个信息提取管道
- en: The amount of text-based information available on the internet is astounding.
    It is hard to imagine the number of social media posts, blogs, and news articles
    published daily. However, despite the wealth of information available, much of
    it remains unstructured and difficult to extract valuable insights from. This
    is where natural language processing (NLP) comes into play. NLP is a rapidly growing
    field that has seen a significant increase in attention in recent years, especially
    since transformer models (Vaswani, 2017) and, more recently, the GPT-3 (Brown
    et al., 2020) and GPT-4 models (OpenAI, 2023) were introduced. One particularly
    important area of NLP is the field of information extraction, which focuses on
    the task of extracting structured information from unstructured text.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上可用的基于文本的信息量令人震惊。很难想象每天发布的社交媒体帖子、博客和新闻文章的数量。然而，尽管信息丰富，其中很大一部分仍然是未结构化的，难以从中提取有价值的见解。这就是自然语言处理（NLP）发挥作用的地方。NLP是一个快速发展的领域，近年来受到了越来越多的关注，特别是在变压器模型（Vaswani，2017）以及最近引入的GPT-3（Brown等人，2020）和GPT-4模型（OpenAI，2023）之后。NLP的一个特别重要的领域是信息提取领域，该领域专注于从非结构化文本中提取结构化信息。
- en: 'In the example provided in figure 12.1, the text describes the founding of
    a company and contains information such as the company name, the founders’ names,
    and the founding date. The information extraction process would involve identifying
    and extracting this information from the text. This output of the information
    extraction pipeline would be a set of triples. Each triple represents a piece
    of information and consists of a head, relation, and tail object. The triple object
    definition is identical to the previous chapter, where you implemented a knowledge
    graph completion pipeline. In the example in figure 12.1, the extracted information
    might be represented in the following triples:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在图12.1中提供的示例中，文本描述了公司的创立，并包含诸如公司名称、创始人姓名和创立日期等信息。信息提取过程将涉及从文本中识别和提取这些信息。信息提取管道的输出将是一组三元组。每个三元组代表一条信息，由头、关系和尾对象组成。三元组对象定义与上一章相同，其中你实现了知识图谱补全管道。在图12.1的示例中，提取的信息可能用以下三元组表示：
- en: '`Steve` `Jobs`, `FOUNDED`, `Apple`'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`史蒂夫·乔布斯`，`创立了`，`苹果`'
- en: '`Steve` `Wozniak`, `FOUNDED`, `Apple`'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`史蒂夫·沃兹尼亚克`，`创立了`，`苹果`'
- en: '`Apple`, `FOUNDED_ON`, `April` `1.` `1976`'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`苹果`，`成立于`，`1976年4月1日`'
- en: '![12-01](../../OEBPS/Images/12-01.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![12-01](../../OEBPS/Images/12-01.png)'
- en: Figure 12.1 Extracting structured information from text and using it to construct
    a graph
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.1 从文本中提取结构化信息并用于构建图
- en: Creating a graph based on given triples is a straightforward process. Each triple
    can be used to construct a graph, where the head of the triple is the starting
    node, the relation represents the relationship type, and the tail is the ending
    node. There are some exceptions for which you might want to store the triple as
    a node property in a labeled property graph model. For example, you could store
    the founding date of Apple as a node property. By connecting these nodes and relationships
    together, you can create a graph that represents the extracted information. This
    graph can be used for various purposes, such as data analysis, knowledge representation,
    and information retrieval.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 基于给定的三元组创建一个图是一个简单的过程。每个三元组都可以用来构建一个图，其中三元组的头是起始节点，关系代表关系类型，尾是结束节点。对于一些特殊情况，你可能希望将三元组作为节点属性存储在标记属性图模型中。例如，你可以将苹果的创立日期作为节点属性存储。通过连接这些节点和关系，你可以创建一个表示提取信息的图。这个图可以用于各种目的，例如数据分析、知识表示和信息检索。
- en: Suppose you are working as a data scientist at a venture capital firm. A venture
    capital firm needs to stay informed of the latest developments in the field. Given
    the vast amount of news produced daily in multiple languages, it is virtually
    impossible to manually read every article; therefore, you have been assigned to
    develop a system that automatically reads the news and extracts information about
    new companies being founded, mergers, and acquisitions. In this scenario, you
    present the idea of developing an information extraction pipeline to accomplish
    this goal. This pipeline would extract relevant data from text and store it as
    a graph.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在一家风险投资公司担任数据科学家。风险投资公司需要了解该领域的最新发展。鉴于每天产生的新闻量巨大，且涉及多种语言，手动阅读每一篇文章几乎是不可能的；因此，你被分配去开发一个系统，该系统能够自动阅读新闻并提取有关新成立公司、合并和收购的信息。在这种情况下，你提出了开发一个信息提取管道来实现这一目标的想法。这个管道将从文本中提取相关数据并将其存储为图。
- en: This approach would allow you to easily identify patterns of new companies being
    founded, merged, or acquired. Additionally, you would have the context of those
    events readily available. For example, you could retrieve who founded the companies,
    when they were founded, whether the founder is notable, and so on. With enough
    data processed, this approach would also allow exploration of the history or progression
    of various entities within the graph. Therefore, you could create a notification
    system when new relationships of a particular type appear in the graph. Additionally,
    the graph would also allow you to explore the context and history of entities
    involved in various corporate events. This will enable the venture capital firm
    to stay informed of the latest developments in the field and make informed investment
    decisions. You propose the design of the information extraction pipeline shown
    in figure 12.2.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法将使你能够轻松地识别新成立、合并或被收购的公司的模式。此外，你将能够轻松地获取这些事件的相关背景信息。例如，你可以检索谁创立了这些公司，它们是在何时创立的，创始人是否知名，等等。处理足够的数据后，这种方法还将允许探索图中各种实体的历史或发展进程。因此，当图中出现特定类型的新关系时，你可以创建一个通知系统。此外，该图还将允许你探索参与各种企业事件的实体的背景和历史。这将使风险投资公司能够了解该领域的最新发展，并做出明智的投资决策。你提出了图12.2所示的信息提取管道的设计。
- en: '![12-02](../../OEBPS/Images/12-02.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![12-02](../../OEBPS/Images/12-02.png)'
- en: Figure 12.2 Information extraction pipeline design
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.2 信息提取管道设计
- en: 'The proposed information extraction pipeline in figure 12.2 is a multistep
    process to extract structured information from unstructured text. The pipeline
    consists of several NLP techniques, such as *coreference resolution*, *named entity
    recognition* (NER), and *relation extraction* (RE):'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.2中提出的拟议信息提取管道是一个多步骤过程，用于从非结构化文本中提取结构化信息。该管道由几个自然语言处理（NLP）技术组成，例如*核心ference解析*、*命名实体识别*（NER）和*关系提取*（RE）：
- en: Coreference resolution models identify all the references to the same entity.
    In practice, the coreference resolution is most often represented as the task
    of replacing pronouns with referenced entities, although it could be a more complicated
    process than that. For example, in the text *He lives in Bahamas*, the pronoun
    *He* would be replaced with the referenced entity *Jon*.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 核心ference解析模型识别所有指向同一实体的引用。在实践中，核心ference解析通常表示为将代词替换为引用实体的任务，尽管这可能比这更复杂。例如，在文本*He
    lives in Bahamas*中，代词*He*将被替换为引用实体*Jon*。
- en: Next, the pipeline identifies entities and concepts in the text using NER models.
    In figure 12.2, the model identified `Jon`, `W3C`, and `Bahamas` as entities.
    The NER model can also be trained to detect types of entities like `Person`, `Organization`,
    and `Location`.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，该管道使用命名实体识别（NER）模型在文本中识别实体和概念。在图12.2中，该模型识别了`Jon`、`W3C`和`Bahamas`作为实体。NER模型还可以训练以检测实体类型，如`Person`（人物）、`Organization`（组织）和`Location`（地点）。
- en: 'The last NLP technique in the pipeline is relation extraction. It is used to
    extract various connections between recognized entities. In this example, the
    pipeline would extract the following two triples:'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管道中的最后一个NLP技术是关系提取。它用于提取识别出的实体之间的各种连接。在这个例子中，该管道将提取以下两个三元组：
- en: '`Jon`, `WORKS_AT`, `W3C`'
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Jon`, `WORKS_AT`, `W3C`'
- en: '`Jon`, `RESIDES`, `Bahamas`'
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Jon`, `RESIDES`, `Bahamas`'
- en: Using a graph database to store the relationships between entities extracted
    by the NLP process allows the information to be easily stored, queried, and visualized.
    Additionally, using a graph database allows for more complex queries, such as
    finding patterns and connections between entities, which can be difficult to perform
    using traditional database structures. As you have some experience with graph
    machine learning, you could also use the graph in node classification or link
    prediction workflows.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图数据库存储 NLP 过程中提取的实体之间的关系，可以轻松地存储、查询和可视化信息。此外，使用图数据库允许进行更复杂的查询，例如找到实体之间的模式和联系，这在使用传统数据库结构时可能很难执行。由于你有一些图机器学习的经验，你也可以在节点分类或链接预测工作流程中使用该图。
- en: 12.1 Coreference resolution
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.1 核实指代
- en: The first step in the pipeline is a coreference resolution model. *Coreference
    resolution* is the task of identifying all expressions in a text referring to
    the same entity.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 管道中的第一步是一个核实指代模型。*核实指代*是指识别文本中所有指向同一实体的表达式的任务。
- en: In the first sentence of the example in figure 12.3, *Google* and *they* refer
    to the same entity. The second sentence starts with a reference to a *company*.
    Interestingly, the *company* reference is a bit ambiguous, as it could refer to
    either *Google* or *YouTube* when no other information is present. This is only
    one example of a more challenging problem coreference resolution models must solve.
    However, if you knew that Eric Schmidt is the CEO of Google, it would be reasonably
    easy to resolve the reference of the *company* to Google. Sometimes, you are dealing
    with plural pronouns or references, as in the case of *both companies*. Therefore,
    the ideal output of a coreference resolution model would be a reference to both
    *Google* and *YouTube*.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在图 12.3 中的示例的第一句话中，*Google* 和 *they* 指向同一实体。第二句话以对 *公司* 的引用开始。有趣的是，*公司* 的引用有点含糊不清，因为没有其他信息时，它可能指的是
    *Google* 或 *YouTube*。这是核实指代模型必须解决的更具挑战性的问题的一个例子。然而，如果你知道 Eric Schmidt 是 Google
    的首席执行官，那么将 *公司* 的引用解析为 Google 就会相对容易。有时，你处理的是复数代词或引用，例如在 *两家公司* 的情况下。因此，核实指代模型的理想输出将是同时指向
    *Google* 和 *YouTube* 的引用。
- en: '![12-03](../../OEBPS/Images/12-03.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![12-03](../../OEBPS/Images/12-03.png)'
- en: Figure 12.3 Coreference resolution
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.3 核实指代
- en: 'Coreference resolution can be approached in two main ways:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 核实指代可以采用两种主要方法：
- en: Rule-based
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于规则
- en: Neural networks
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 神经网络
- en: Rule-based coreference resolution (Haghighi & Klein, 2009; Raghunathan et al.,
    2010) involves using a set of predefined rules and heuristics to identify and
    link coreferent expressions in a text. These rules can be based on syntactic,
    semantic, and contextual information, such as the gender or number agreement between
    expressions, the distance between expressions in the text, or the presence of
    certain keywords. However, rule-based systems have several limitations when applied
    to real-world applications, as it is virtually impossible to define the rules
    for each possible variation. On the other hand, neural coreference resolution
    (Clark & Manning, 2016; Lee et al., 2017) involves training a neural network to
    identify and link coreferent expressions in a text. The neural network learns
    to identify coreferent expressions by recognizing patterns and relationships in
    the data rather than relying on predefined rules.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 基于规则的核实指代（Haghighi & Klein, 2009; Raghunathan et al., 2010）涉及使用一组预定义的规则和启发式方法来识别和链接文本中的核实指代表达式。这些规则可以基于句法、语义和上下文信息，例如表达式的性别或数的一致性，文本中表达式的距离，或某些关键词的存在。然而，当应用于实际应用时，基于规则的系统存在一些局限性，因为几乎不可能为每种可能的变体定义规则。另一方面，神经核实指代（Clark
    & Manning, 2016; Lee et al., 2017）涉及训练一个神经网络来识别和链接文本中的核实指代表达式。神经网络通过识别数据中的模式和关系来学习识别核实指代表达式，而不是依赖于预定义的规则。
- en: Coreference resolution is a crucial component of most NLP pipelines. It is used
    as a preprocessing step of various NLP workflows, ranging from information extraction
    to text summarization and question-answering tasks (Singh, 2018).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 核实指代是大多数自然语言处理（NLP）管道的一个关键组件。它被用作各种 NLP 工作流程的预处理步骤，从信息提取到文本摘要和问答任务（Singh, 2018）。
- en: 12.2 Named entity recognition
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.2 命名实体识别
- en: Named entity recognition (NER) is a task that involves identifying and classifying
    named entities in a text into predefined categories. The named entities and categories
    depend heavily on the domain you are working with. For example, at a venture capital
    firm, you might want to identify people, organizations, and locations in the text.
    However, if you were at a biomedical company, the focus would be more on genes,
    proteins, diseases, drugs, and so on. In most cases, the NER models are fine-tuned
    for a specific domain. In the proposed information extraction pipeline, you want
    to identify people, organizations, locations, and dates.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 命名实体识别（NER）是一项任务，涉及将文本中的命名实体识别和分类到预定义的类别中。命名实体和类别在很大程度上取决于你正在处理的领域。例如，在一家风险投资公司，你可能想在文本中识别人、组织和地点。然而，如果你在一家生物医学公司，重点将更多地放在基因、蛋白质、疾病、药物等上。在大多数情况下，NER
    模型都是针对特定领域进行微调的。在提出的信息提取管道中，你希望识别人、组织、地点和日期。
- en: In the example in figure 12.4, the NER model identified the entities `Google`
    and `YouTube` as an organization and `Eric` `Schmidt` as a person. The extracted
    named entities are visualized with displaCy ([https://spacy.io/universe/project/displacy](https://spacy.io/universe/project/displacy)).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在图 12.4 的示例中，NER 模型将实体 `Google` 和 `YouTube` 识别为组织，将 `Eric Schmidt` 识别为个人。提取的命名实体使用
    displaCy 进行可视化（[https://spacy.io/universe/project/displacy](https://spacy.io/universe/project/displacy)）。
- en: '![12-04](../../OEBPS/Images/12-04.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![12-04](../../OEBPS/Images/12-04.png)'
- en: Figure 12.4 Named entity recognition
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.4 命名实体识别
- en: 12.2.1 Entity linking
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1 实体链接
- en: Frequently, disambiguating which entities are mentioned in the text can be challenging.
    For example, there is only one organization named *Google*, but there are probably
    multiple people named *Eric Schmidt*. Techniques like entity linking have been
    introduced to solve the problem of disambiguating named entities. *Entity linking*
    is the task of connecting named entities to their corresponding ID in a knowledge
    base. The target knowledge base depends on the use case domain. For example, entity
    linking is popular in biomedical domains, where it is used to connect identified
    genes, drugs, and other entities in the text to various biomedical knowledge bases.
    On the other hand, for the general purpose of disambiguating people and organizations,
    knowledge bases like *Wikipedia* or *DBpedia* are most frequently used.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，区分文本中提到的实体可能具有挑战性。例如，只有一个名为 *Google* 的组织，但可能有多个名为 *Eric Schmidt* 的人。为了解决区分命名实体的问题，已经引入了如实体链接等技术。**实体链接**是将命名实体与其在知识库中的对应
    ID 相连接的任务。目标知识库取决于用例领域。例如，实体链接在生物医学领域很受欢迎，它用于将文本中识别的基因、药物和其他实体连接到各种生物医学知识库。另一方面，为了区分人和组织的一般目的，像
    *Wikipedia* 或 *DBpedia* 这样的知识库最常被使用。
- en: Figure 12.5 shows an example of linking entities to Wikipedia. As you can see,
    Wikipedia URLs are used as unique identifiers of entities. Interestingly, even
    on Wikipedia, there are multiple entries for Eric Schmidt ([https://en.wikipedia.org/wiki/Eric_Schmidt_(disambiguation)](https://en.wikipedia.org/wiki/Eric_Schmidt_(disambiguation))).
    Picking the correct entity when there are multiple entries with the same name
    is a challenging task. Abbreviations and aliases of entities are some of the other
    challenges you face when performing entity linking.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.5 展示了将实体链接到 Wikipedia 的一个示例。正如你所见，Wikipedia 网址被用作实体的唯一标识符。有趣的是，即使在 Wikipedia
    上，也有多个关于 Eric Schmidt 的条目（[https://en.wikipedia.org/wiki/Eric_Schmidt_(disambiguation)](https://en.wikipedia.org/wiki/Eric_Schmidt_(disambiguation))）。当存在具有相同名称的多个条目时，选择正确的实体是一个具有挑战性的任务。实体的缩写和别名是在执行实体链接时面临的其他挑战之一。
- en: '![12-05](../../OEBPS/Images/12-05.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![12-05](../../OEBPS/Images/12-05.png)'
- en: Figure 12.5 Named entity linking
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.5 命名实体链接
- en: Most of the recently proposed entity linking models are based on a deep learning
    approach. Some models are so-called *end-to-end entity linking models*, which
    perform both named entity recognition and linking in a single step (Brank et al.,
    2017). Other models perform only entity linking and need to have the identified
    named entities provided along with the text (Barba et al., 2022).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 最近提出的许多实体链接模型都是基于深度学习方法。一些模型被称为所谓的**端到端实体链接模型**，它们在单一步骤中执行命名实体识别和链接（Brank 等人，2017
    年）。其他模型仅执行实体链接，并需要提供与文本一起识别的命名实体（Barba 等人，2022 年）。
- en: 12.3 Relation extraction
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.3 关系抽取
- en: As the name suggests, *relation extraction models* extract relationships between
    entities in the text. The proposed information extraction pipeline for the venture
    capital firm should focus on extracting relationships between companies and people.
    The most frequent output of relation extraction models is a list of triples. You
    have already used triples in the previous chapter. As the name suggests, triples
    contain three elements that specify the start node, end node, and relationship
    type.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，*关系提取模型*从文本中提取实体之间的关系。为风险投资公司提出的信息提取管道应专注于提取公司和人员之间的关系。关系提取模型最频繁的输出是一个三元组列表。你已经在上一章中使用了三元组。如其名所示，三元组包含三个元素，指定起始节点、结束节点和关系类型。
- en: There are several approaches to extracting relationships from text. You could
    take a rule-based approach and extract relationships by using a set of predefined
    heuristics. One example of a rule-based approach to extracting relation is to
    define rules based on part of speech and tagging and dependency parsing.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 从文本中提取关系有几种方法。你可以采用基于规则的方法，通过使用一组预定义的启发式规则来提取关系。提取关系的基于规则的一个例子是定义基于词性标注和依存句法分析的规则。
- en: Figure 12.6 visualizes the output of the part of speech and dependency parsing.
    For example, you can observe that each word is tagged according to its function
    in English. The tags signify whether the word is a noun, adjective, verb, and
    so on. On the other hand, the dependency parser calculates the dependencies between
    words. For example, *acquiring* is a verb. The verb refers to the object *YouTube*,
    while the subject points to *they*. In this case, *they* refers to *Google*. Therefore,
    a rule that would simply take the subject and objects of a verb and construct
    triples based on that could be defined. However, in practice, rules can get much
    more complicated. I found that rule-based approaches are used in domains like
    biomedicine (Rindflesch & Fiszman, 2003; Rindflesch et al., 2011).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.6可视化了词性标注和依存句法分析的结果。例如，你可以观察到每个单词都是根据其在英语中的功能进行标注的。这些标签表示该词是名词、形容词、动词等。另一方面，依存句法分析计算单词之间的依存关系。例如，“acquiring”是一个动词。该动词指的是宾语“YouTube”，而主语指向“they”。在这种情况下，“they”指的是“Google”。因此，可以定义一个简单的规则，该规则仅取动词的主语和宾语，并基于此构建三元组。然而，在实践中，规则可以变得更加复杂。我发现基于规则的方法在生物医学（Rindflesch
    & Fiszman, 2003; Rindflesch et al., 2011）等领域被使用。
- en: '![12-06](../../OEBPS/Images/12-06.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![12-06](../../OEBPS/Images/12-06.png)'
- en: Figure 12.6 Part of speech tagging and dependency tagging
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.6 词性标注和依存标注
- en: Another approach you could take is to train a deep learning model based on training
    data to identify and extract relationships. There is a lot of research based on
    neural network approaches to extracting relationships, as it offers a remarkable
    ability to extract relationships and achieve excellent performance. There are
    models trained to detect relationships within a single sentence (Zhou et al.,
    2016; Han et al., 2019) as well as document-level relationship extraction (Yao
    et al., 2019). In the end, you would want a model that would extract the following
    relationships from the example in figure 12.5.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以采取另一种方法，即基于训练数据训练一个深度学习模型来识别和提取关系。基于神经网络方法提取关系的研究有很多，因为它具有出色的提取关系和实现卓越性能的能力。有模型被训练来检测单个句子中的关系（Zhou
    et al., 2016; Han et al., 2019），以及文档级关系提取（Yao et al., 2019）。最终，你希望得到的模型能够从图12.5的示例中提取以下关系。
- en: Listing 12.1 Extracted triples from the example in figure 12.5
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.1 从图12.5的示例中提取的三元组
- en: '[PRE0]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 12.4 Implementation of information extraction pipeline
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.4 信息提取管道的实现
- en: Now that you have some theoretical knowledge about information extraction workflow,
    you will develop a pipeline that will identify organizations and people and the
    relevant relationships between them. You will use existing NLP models for the
    initial pipeline implementation, so you don’t need to worry about training any
    custom NLP models. The pipeline will be evaluated using the following text.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经对信息提取工作流程有了理论上的了解，你将开发一个管道来识别组织和人员以及他们之间的相关关系。你将使用现有的NLP模型进行初始管道实现，因此你不需要担心训练任何定制的NLP模型。该管道将使用以下文本进行评估。
- en: Listing 12.2 Text used to evaluate the information extraction pipeline
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.2 用于评估信息提取管道的文本
- en: '[PRE1]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The text in listing 12.2 was copied from Wikipedia ([https://en.wikipedia.org/wiki/Apple_Inc.](https://en.wikipedia.org/wiki/Apple_Inc.))
    and contains information about Apple Inc., its founders, and their first product.
    I added two sentences at the end that mention various acquisitions so that you
    can evaluate the model on how it processes information about company acquisitions.
    This text will be used to evaluate the coreference resolution model as well as
    the relationship extraction process. The implementation of the proposed information
    extraction pipeline is available as a Jupyter notebook on GitHub ([http://mng.bz/KeJ0](http://mng.bz/KeJ0)).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.2 中的文本是从维基百科 ([https://en.wikipedia.org/wiki/Apple_Inc.](https://en.wikipedia.org/wiki/Apple_Inc.))
    复制的，并包含有关苹果公司、其创始人及其首款产品的信息。我在结尾添加了两句话，提到了各种收购，以便您可以评估模型在处理公司收购信息方面的表现。此文本将用于评估核心词解析模型以及关系提取过程。所提出的信息提取管道的实现可在
    GitHub 上的 Jupyter notebook 中找到 ([http://mng.bz/KeJ0](http://mng.bz/KeJ0))。
- en: 12.4.1 SpaCy
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.1 SpaCy
- en: You will be using SpaCy to develop the information extraction pipeline. SpaCy
    is a free, open source Python library for NLP workflows. The advantage of SpaCy
    is that it offers a beginner-friendly interface to perform various NLP tasks and
    can also be used in production environments.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 您将使用 SpaCy 来开发信息提取管道。SpaCy 是一个免费的开源 Python 库，用于 NLP 工作流程。SpaCy 的优点是它提供了一个面向初学者的界面，可以执行各种
    NLP 任务，并且也可以在生产环境中使用。
- en: The following Python code installs the required Python libraries.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 以下 Python 代码安装所需的 Python 库。
- en: Listing 12.3 Installing the required Python libraries
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.3 安装所需的 Python 库
- en: '[PRE2]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The code in listing 12.3 installs SpaCy along with the `coreferee` and `transformers`
    libraries. The `coreferee` library ([https://github.com/explosion/coreferee](https://github.com/explosion/coreferee))
    is a SpaCy plugin that provides a coreference resolution model. The code in listing
    12.3 installs the `transformers` library that will be used for relation extraction.
    Next, you need to install the pretrained models `en_core_web_lg` and the `coreferee`
    with the following Python code.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.3 中的代码安装了 SpaCy 以及 `coreferee` 和 `transformers` 库。`coreferee` 库 ([https://github.com/explosion/coreferee](https://github.com/explosion/coreferee))
    是一个 SpaCy 插件，它提供了一个核心词解析模型。列表 12.3 中的代码安装了 `transformers` 库，该库将用于关系提取。接下来，您需要使用以下
    Python 代码安装预训练模型 `en_core_web_lg` 和 `coreferee`。
- en: Listing 12.4 Downloading NLP models
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.4 下载 NLP 模型
- en: '[PRE3]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 12.4.2 Corefence resolution
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.2 核心词解析
- en: As mentioned, you will use the `coreferee` plugin to perform coreference resolution.
    You can load the coreference model in SpaCy with the following code.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，您将使用 `coreferee` 插件来执行核心词解析。您可以使用以下代码在 SpaCy 中加载核心词解析模型。
- en: Listing 12.5 Loading the coreference model
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.5 加载核心词解析模型
- en: '[PRE4]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `coreferee` model does not provide a method that resolves the coreference
    text out of the box. Therefore, you need to define a function using the coreference
    resolution method to identify references and then replace references with referred
    entities in the text.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '`coreferee` 模型不提供直接解析核心词文本的方法。因此，您需要定义一个函数，使用核心词解析方法来识别引用，然后在文本中将引用替换为被引用实体。'
- en: Listing 12.6 Using the coreference model to resolve text references
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.6 使用核心词解析模型解析文本引用
- en: '[PRE5]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The `coref_text` function in listing 12.6 resolves entity coreferences and replaces
    them in the text accordingly. Without going into too much detail, the code checks
    if the resolved token `repres` is part of a named entity, and if it is, it replaces
    the reference with the named entity’s text instead of only the token’s text.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.6 中的 `coref_text` 函数解析实体核心词并在文本中相应地替换它们。不深入细节，代码检查解析的标记 `repres` 是否是命名实体的部分，如果是，则用命名实体的文本替换引用，而不仅仅是标记的文本。
- en: The code in listing 12.6 produces the following output.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.6 中的代码生成了以下输出。
- en: Listing 12.7 Coreference resolved text
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.7 核心词解析文本
- en: '[PRE6]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: At first sight of the output in listing 12.7, it seems the coreference model
    did a solid job. For example, you may notice that *They* in the second line was
    replaced with *Steve Jobs and Steve Wozniak and Ronald Wayne*, while the *company*
    was replaced with *Apple Inc*. However, the model is not perfect. On the fourth
    line, the model replaced both instances of *his* with *Ronald Wayne*. The results
    are wrong as Jobs sold his Volkswagen Bus, not Ronald Wayne’s. Additionally, you
    will likely notice that the resolved text does not bother with proper possessive
    nouns and articles, as generating grammatically correct text based on the coreference
    model output is a significant problem on its own. Also, the text on the last line
    of listing 12.7 is a bit ambiguous about which company bought Semetric. The model
    could choose between Apple Inc. and AlgoTrim. While you might know that Apple
    Inc. acquired Semetric, the coreference model went with AlgoTrim.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 从列表 12.7 的输出初看，核心指代模型做得相当不错。例如，你可能注意到第二行中的 *They* 被替换成了 *Steve Jobs, Steve Wozniak
    和 Ronald Wayne*，而 *company* 被替换成了 *Apple Inc*。然而，该模型并不完美。在第四行，模型将两个 *his* 的实例都替换成了
    *Ronald Wayne*。结果显然是错误的，因为 Jobs 卖掉了他的大众巴士，而不是 Ronald Wayne 的。此外，你可能会注意到，解析后的文本并没有考虑正确的所有格名词和冠词，因为根据核心指代模型输出生成语法正确的文本本身就是一个大问题。同样，列表
    12.7 的最后一行关于哪家公司购买了 Semetric 的描述有些含糊不清。模型可以在 Apple Inc. 和 AlgoTrim 之间选择。虽然你可能知道
    Apple Inc. 收购了 Semetric，但核心指代模型选择了 AlgoTrim。
- en: 12.4.3 End-to-end relation extraction
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.3 端到端关系抽取
- en: You will use the REBEL model (Huguet Cabot & Navigli, 2021) for the relation
    extraction step in the pipeline. The REBEL model is an end-to-end relation extraction
    model, which means it detects both entities and relationships in a single model.
    The model has state-of-the-art performance on various datasets, as indicated on
    its GitHub repository ([https://github.com/Babelscape/rebel](https://github.com/Babelscape/rebel)).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你将在管道中的关系抽取步骤中使用 REBEL 模型（Huguet Cabot & Navigli, 2021）。REBEL 模型是一个端到端的关系抽取模型，这意味着它在一个模型中同时检测实体和关系。该模型在各种数据集上表现出最先进的性能，如其在
    GitHub 仓库中所示（[https://github.com/Babelscape/rebel](https://github.com/Babelscape/rebel)）。
- en: Note Large language models, such as GPT-4 from OpenAI (2023), have been a game-changing
    advancement in the world of NLP. Their ability to understand human-like text has
    presented remarkable opportunities in the field of information extraction. With
    a model trained on diverse internet text, they can sift through massive amounts
    of data, understand the context, and pull out relevant details, making the information
    extraction pipelines more accessible. Their ability to generalize allows them
    to be applied to a variety of domains, from academic research to business analytics,
    extracting valuable insights from unstructured data (Li et al., 2023; Wei et al.,
    2023).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：大型语言模型，如 OpenAI 的 GPT-4（2023），在自然语言处理领域带来了颠覆性的进步。它们理解类似人类文本的能力为信息提取领域提供了显著的机会。通过在多样化的互联网文本上训练的模型，它们可以筛选大量数据，理解上下文，并提取相关细节，使信息提取管道更加易于访问。它们的泛化能力使它们能够应用于各种领域，从学术研究到商业分析，从非结构化数据中提取有价值的见解（Li
    et al., 2023; Wei et al., 2023）。
- en: The model can be used directly with the `transformers` library or as a SpaCy
    component. You will use the SpaCy variant. Unlike the `coreferee` model that can
    be installed using pip, you must copy the SpaCy component definition from the
    repository ([http://mng.bz/VR8G](http://mng.bz/VR8G)). The SpaCy component definition
    is too long to include in the book; however, you can copy the code without changing
    anything. The SpaCy component definition is also included in the accompanying
    Jupyter notebook.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型可以直接使用 `transformers` 库或作为 SpaCy 组件使用。你将使用 SpaCy 变体。与可以使用 pip 安装的 `coreferee`
    模型不同，你必须从仓库中复制 SpaCy 组件定义（[http://mng.bz/VR8G](http://mng.bz/VR8G)）。SpaCy 组件定义太长，无法包含在本书中；然而，你可以复制代码而不做任何更改。SpaCy
    组件定义也包含在配套的 Jupyter 笔记本中。
- en: Next, you load the REBEL model in SpaCy with the following code.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你使用以下代码在 SpaCy 中加载 REBEL 模型。
- en: Listing 12.8 Loading the REBEL model
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.8 加载 REBEL 模型
- en: '[PRE7]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Once the model is loaded, the code to extract the relationships is trivial.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦模型加载完成，提取关系的代码就非常简单了。
- en: Listing 12.9 Extracting relationships from text
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 12.9 从文本中提取关系
- en: '[PRE8]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The Python code in listing 12.9 processes the `ctext`, and the REBEL component
    results can be retrieved with the `doc._.rel.items()` method. The code in listing
    12.9 produces the following output.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.9中的Python代码处理`ctext`，REBEL组件的结果可以通过`doc._.rel.items()`方法检索。列表12.9中的代码产生以下输出。
- en: Listing 12.10 Results of the relation extraction step
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.10 关系提取步骤的结果
- en: '[PRE9]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The extracted relationships in listing 12.10 look satisfactory. The REBEL model
    identified that Apple was founded by Steve Jobs, Steve Wozniak, and Ronald Wayne.
    In turn, it parsed that they are also employed by Apple. Unfortunately, the model
    can *hallucinate* some results. A hallucination is a result that cannot be found
    in the text. For example, the model identified that Steve Wozniak founded the
    Homebrew Computer Club. While the fact is true, it cannot be verified through
    the text; therefore the model hallucinated that fact. The acquisitions are identified
    with the `parent` `organization` and `subsidiary` relationships. The model extracted
    both relationships from the text. The last relationship is incorrect; that is
    not a problem of the REBEL model but, rather, of the coreference resolution step.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.10中提取的关系看起来令人满意。REBEL模型确定苹果公司是由史蒂夫·乔布斯、史蒂夫·沃兹尼亚克和罗纳德·韦恩共同创立的。反过来，它解析出他们也是苹果公司的雇员。不幸的是，该模型可以*产生幻觉*一些结果。幻觉是指无法在文本中找到的结果。例如，该模型确定史蒂夫·沃兹尼亚克创立了Homebrew计算机俱乐部。虽然这个事实是真实的，但无法通过文本进行验证；因此，该模型产生了这个事实的幻觉。收购被识别为`parent`
    `organization`和`subsidiary`关系。该模型从文本中提取了这两种关系。最后一个关系是不正确的；这不是REBEL模型的问题，而是核心词消歧步骤的问题。
- en: Exercise 12.1
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 练习12.1
- en: Construct a graph in Neo4j using the relationships extracted from listing 12.10\.
    Since you don’t have information about node types, you can use a generic `Entity`
    label for all nodes.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 使用列表12.10中提取的关系在Neo4j中构建一个图。由于您没有关于节点类型的信息，您可以使用通用的`Entity`标签为所有节点。
- en: Figure 12.7 presents a visual representation of the output of the information
    extraction pipelines. Entities are represented as nodes, while the relations are
    represented with relationships.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.7展示了信息提取管道输出的可视化表示。实体用节点表示，而关系用关系表示。
- en: '![12-07](../../OEBPS/Images/12-07.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![12-07](../../OEBPS/Images/12-07.png)'
- en: Figure 12.7 Information extraction pipeline results
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.7 信息提取管道结果
- en: Exercise 12.2
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 练习12.2
- en: Search for news articles about business foundations or acquisitions, and then
    run them through the implemented information extraction pipeline. You can experiment
    with including or excluding the coreference resolution step and evaluate how it
    affects the output.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 搜索关于商业基础或收购的新闻文章，然后通过实现的信息提取管道进行处理。您可以尝试包括或排除核心词消歧步骤，并评估它对输出的影响。
- en: 12.4.4 Entity linking
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.4 实体链接
- en: The final step in our information extraction process is linking entities to
    their corresponding WikiData IDs. As a part of the Wikipedia ecosystem, WikiData
    serves as a repository for structured data across all Wikipedia projects. To gain
    a better understanding of the available data, you can visit the page dedicated
    to Steve Jobs ([https://www.wikidata.org/wiki/Q19837](https://www.wikidata.org/wiki/Q19837))
    on WikiData. The WikiData ID, which can be found at the end of the URL, for Steve
    Jobs is Q19837\. For the initial version, there won’t be any advanced entity disambiguation.
    You will simply use the WikiData API to search for entities and choose the first
    result from the list. Later, you can implement more advanced entity linking, including
    entity disambiguation using the sentence context (Barba et al., 2022).
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 我们信息提取过程的最后一步是将实体与其对应的WikiData ID进行链接。作为维基百科生态系统的一部分，WikiData充当所有维基百科项目结构化数据的存储库。为了更好地了解可用的数据，您可以访问专门介绍史蒂夫·乔布斯（[https://www.wikidata.org/wiki/Q19837](https://www.wikidata.org/wiki/Q19837)）的WikiData页面。史蒂夫·乔布斯的WikiData
    ID位于URL末尾，为Q19837。对于初始版本，将不会有任何高级实体消歧。您将直接使用WikiData API搜索实体，并从列表中选择第一个结果。稍后，您可以实现更高级的实体链接，包括使用句子上下文进行实体消歧（Barba等，2022年）。
- en: The code in listing 12.11 searches WikiData for given entities and returns the
    URL and the description of the first entity of the list.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.11中的代码在WikiData上搜索给定的实体，并返回列表中第一个实体的URL和描述。
- en: Listing 12.11 Defining a function that searches for entities on WikiData
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.11 定义一个在WikiData上搜索实体的函数
- en: '[PRE10]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: You can now use the function defined in listing 12.11 to match the entities
    from the information extraction pipeline to WikiData IDs.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在可以使用列表12.11中定义的函数将信息提取管道中的实体与WikiData ID进行匹配。
- en: Listing 12.12 A basic entity linking workflow
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.12 基本的实体链接工作流程
- en: '[PRE11]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The code in listing 12.12 outputs the following results.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.12中的代码输出了以下结果。
- en: Listing 12.13 Results of entity linking
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.13 实体链接结果
- en: '[PRE12]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Overall, the entity linking results in listing 12.13 appear satisfactory. Luckily,
    there are no ambiguous entity references where, for example, there were two different
    persons with the same name mentioned, and you would need to determine which one
    is intended. For example, imagine Eric Schmidt was mentioned in the text. You
    would need to identify whether this was Eric Schmidt the American businessman
    or Eric Schmidt the American footballer who played for the 2001 North Dakota Fighting
    Sioux team. Additionally, it should be noted that not all entities can be linked
    to WikiData. For example, AlgoTrim and Semetric have no entry in the WikiData
    knowledge base. Interestingly, both the `mark` `of` `the` `beast` and `666.66`
    are linked to entities representing albums. Having `mark` `of` `the` `beast` and
    `666.66` linking results is a consequence of completely ignoring text context.
    The process of information extraction can be extremely valuable yet equally challenging,
    requiring precise techniques to achieve reliable results.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，列表12.13中的实体链接结果令人满意。幸运的是，没有出现歧义性的实体引用，例如，没有提到两个同名的人，你需要确定指的是哪一个。例如，想象一下文本中提到了埃里克·施密特。你需要确定这是美国商人埃里克·施密特还是为2001年北达科他州战斗雄狮队效力的美国足球运动员埃里克·施密特。此外，需要注意的是，并非所有实体都能链接到WikiData。例如，AlgoTrim和Semetric在WikiData知识库中没有条目。有趣的是，`兽的印记`和`666.66`都链接到了代表专辑的实体。`兽的印记`和`666.66`的链接结果是完全忽略文本上下文的结果。信息提取的过程可能极其有价值，但也同样具有挑战性，需要精确的技术来实现可靠的结果。
- en: 12.4.5 External data enrichment
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4.5 外部数据丰富
- en: While the implemented WikiData linking method offers little help with entity
    disambiguation, it opens up the options for external data enrichment. WikiData
    offers a plethora of information. For example, WikiData offers various data about
    Apple Inc., ranging from its board members to subsidiaries and more ([https://www.wikidata.org/wiki/Q312](https://www.wikidata.org/wiki/Q312)).
    Since the REBEL model does not provide entity types, you could use WikiData to
    fetch linked entity types. However, retrieving information from WikiData is beyond
    the scope of this book, as it requires some basic knowledge of SPARQL. Nonetheless,
    I wanted to give you some hints about how you could enrich your venture capital
    firm graph with various external data sources.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然实施的WikiData链接方法在实体消歧方面提供的帮助有限，但它为外部数据丰富提供了选择。WikiData提供了大量的信息。例如，WikiData提供了关于苹果公司（Apple
    Inc.）的各种数据，从董事会成员到子公司等更多内容（[https://www.wikidata.org/wiki/Q312](https://www.wikidata.org/wiki/Q312)）。由于REBEL模型不提供实体类型，你可以使用WikiData来获取链接的实体类型。然而，从WikiData检索信息超出了本书的范围，因为它需要一些基本的SPARQL知识。尽管如此，我还是想给你一些提示，告诉你如何使用各种外部数据源丰富你的风险投资公司图。
- en: Congratulations! You have successfully implemented an information extraction
    pipeline to extract information about organizations and people from unstructured
    text.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！你已经成功实现了信息提取管道，从非结构化文本中提取关于组织和人物的信息。
- en: 12.5 Solutions to exercises
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 12.5 练习解答
- en: The solution to exercise 12.1 is as follows.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 练习12.1的解答如下。
- en: Listing 12.14 Cypher statement to import the extracted relationships into Neo4j
    database
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 列表12.14 将提取的关联导入Neo4j数据库的Cypher语句
- en: '[PRE13]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Plain Cypher syntax does not support importing relationships with dynamic types.
    You can use the `apoc.merge.relationship` procedure, as shown in listing 12.14,
    to avoid having to import each relationship type separately. You can learn more
    about the procedure in the documentation ([http://mng.bz/xjrX](http://mng.bz/xjrX)).
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 简单的Cypher语法不支持导入具有动态类型的关联。你可以使用如列表12.14所示的`apoc.merge.relationship`过程来避免必须单独导入每种关系类型。你可以在文档中了解更多关于该过程的信息（[http://mng.bz/xjrX](http://mng.bz/xjrX)）。
- en: Summary
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Information extraction is a natural language task that extracts structured information
    from unstructured text.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息提取是一种自然语言任务，它从非结构化文本中提取结构化信息。
- en: Coreference resolution is used to identify all the references to the same entity
    within the text.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共指消解用于识别文本中所有对同一实体的引用。
- en: Named entity recognition identifies various entities within the text along with
    their type.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 命名实体识别在文本中识别各种实体及其类型。
- en: Entity linking is a process of linking entities to a target knowledge base (WikiData,
    MeSH, etc.).
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实体链接是将实体链接到目标知识库（如WikiData、MeSH等）的过程。
- en: The entity linking process opens up options for additional external data enrichment,
    as you can identify entities with a unique ID.
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实体链接过程为您提供了额外的外部数据丰富选项，因为您可以识别具有唯一ID的实体。
- en: Entity linking models use the context of the sentence or a paragraph to disambiguate
    entities.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实体链接模型使用句子或段落上下文来消除实体歧义。
- en: Relation extraction models extract relationships between entities.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关系抽取模型提取实体之间的关系。
- en: 'There are two types of relation extraction models: rule-based and deep-learning
    approaches.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关系抽取模型有两种类型：基于规则和深度学习方法。
- en: The named entity recognition and relation extraction models are heavily dependent
    on the use case domain.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 命名实体识别和关系抽取模型高度依赖于用例领域。
- en: Relation extraction models produce a list of triples that can be used to construct
    a graph.
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关系抽取模型生成一个三元组列表，这些三元组可以用来构建图。
- en: The triples can be used to construct a graph representation of the information.
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三元组可以用来构建信息的图表示。
- en: An end-to-end relation extraction model like REBEL performs both named entity
    recognition and relation extraction in a single step.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类似于REBEL的端到端关系抽取模型可以在单步中执行命名实体识别和关系抽取。
- en: Mapping entities to target knowledge bases like WikiData allows you to use the
    information in from these knowledge bases to enrich your graph.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将实体映射到目标知识库（如WikiData）允许您使用这些知识库中的信息来丰富您的图。
