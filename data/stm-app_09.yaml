- en: Afterword
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 后记
- en: Congratulations, you’ve made it to the end of the book. Where do you go from
    here? The answer depends on how you got here. If you read the book from start
    to end, we suggest implementing your own topologies while referring back to various
    chapters until you feel like you’re “getting the hang of Storm.” We hesitate to
    say “mastering Storm” as we’re not sure you’ll ever feel like you’re mastering
    Storm. It’s a powerful and complicated beast, and mastery is a tricky thing.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜你，你已经读到了这本书的结尾。接下来你该去哪里？答案取决于你是如何到达这里的。如果你从头到尾阅读了这本书，我们建议你在参考各个章节的同时实施自己的拓扑结构，直到你觉得自己“掌握了Storm”。我们犹豫着说“掌握Storm”，因为我们不确定你是否会觉得自己掌握了Storm。它是一个强大而复杂的野兽，掌握是一个棘手的事情。
- en: If you took a more iterative approach to the book, working through it slowly
    and gaining expertise as you went along, then everything else that follows in
    this afterword is for you. Don’t worry if you took the start-to-end approach;
    this afterword will be waiting for you once you feel like you’re getting the hang
    of Storm. Here are all the things we want you to know as you set off on the rest
    of your Storm journey without us.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你采取了更迭代的阅读方法，慢慢地工作并通过前进获得专业知识，那么后记中接下来的所有内容都是为你准备的。如果你采取了从头到尾的方法，不要担心；一旦你觉得自己掌握了Storm，后记就会等着你。以下是我们希望你在我们离开后继续Storm之旅时知道的所有事情。
- en: You’re right, you don’t know that
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 你是对的，你不知道这一点
- en: We’ve been using Storm in production for quite a while now, and we’re still
    learning new things all the time. Don’t worry if you feel like you don’t know
    everything. Use what you know to get what you need done. You’ll learn more as
    you go. Analysis paralysis can be a real thing with Storm.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在生产中使用Storm有一段时间了，我们仍然在不断地学习新事物。如果你觉得自己不知道一切，不要担心。利用你所知道的知识来完成你需要完成的事情。随着你的进步，你会学到更多。分析瘫痪在Storm中可能是一个真实的事情。
- en: There’s so much to know
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 有很多知识需要了解
- en: 'We haven’t covered every last nook and cranny of Storm. Dig into the official
    documentation, join the IRC channel, and join the mailing list. Storm is an evolving
    project. At the time this book is going to press, it hasn’t even reached version
    1.0. If you’re using Storm for business-critical processes, make sure you know
    how to stay up to date. Here are a couple of things we think you should keep an
    eye on:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们并没有涵盖Storm的每一个角落和缝隙。深入研究官方文档，加入IRC频道，并加入邮件列表。Storm是一个不断发展的项目。在本书即将付印的时候，它甚至还没有达到1.0版本。如果你正在使用Storm进行业务关键流程，确保你知道如何保持最新。以下是我们认为你应该关注的一些事情：
- en: Storm on Yarn
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yarn上的风暴
- en: Storm on Mesos
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mesos上的Storm
- en: What’s Yarn? What’s Mesos? That’s really a book unto itself. For now, let’s
    just say they’re cluster resource managers that can allow you to share Storm cluster
    resources with other technologies such as Hadoop. That’s a gross simplification.
    We strongly advise you to check out Yarn and Mesos if you are planning on running
    a large Storm cluster in production. There’s a lot of exciting stuff going on
    in those projects.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是Yarn？什么是Mesos？这实际上是一本完整的书。现在，我们只需说它们是集群资源管理器，可以让你与其他技术如Hadoop共享Storm集群资源。这是一个粗略的简化。我们强烈建议你在计划在生产中运行大型Storm集群时检查Yarn和Mesos。这些项目中正在进行许多令人兴奋的事情。
- en: Metrics and reporting
  id: totrans-10
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 指标和报告
- en: The metrics support in Storm is pretty young. We suspect it will grow a lot
    more robust over time. Additionally, the most recent version of Storm introduced
    a REST API that allows you to access the information from the Storm UI in a programmatic
    fashion. That’s not particularly exciting outside of a couple of automation or
    monitoring scenarios. But it creates a path for exposing more information about
    what’s going on inside Storm to the outside world in an easily accessible fashion.
    We wouldn’t be surprised at all if some really cool things were built by exposing
    still more info via that API.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Storm的指标支持相当年轻。我们怀疑随着时间的推移它会变得更加健壮。此外，Storm的最新版本引入了一个REST API，允许你以编程方式访问Storm
    UI中的信息。这在外部自动化或监控场景中并不特别令人兴奋。但它为以易于访问的方式向外界暴露Storm内部发生的事情的更多信息开辟了一条途径。如果通过该API公开更多信息来构建一些真正酷的东西，我们一点也不感到惊讶。
- en: Trident is quite a beast
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Trident相当强大
- en: We spent one chapter on Trident. A lot of debate went into how much we should
    cover Trident. This ranged from nothing to several chapters. We settled on a single
    chapter to get you going with Trident. Why? Well, we considered not covering Trident
    at all. You can happily use Storm without ever needing to touch Trident. We don’t
    consider it a core part of Storm, but one of many abstractions you can build on
    top of Storm (more on that later). Even if that’s true, we were disabused of the
    notion that we couldn’t cover it at all based on feedback where every early reviewer
    brought up Trident as a must-cover topic.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们用一章介绍了 Trident。我们花了很多时间讨论我们应该涵盖多少关于 Trident 的内容。这从什么都不涵盖到几章不等。我们决定用一章来让你开始使用
    Trident。为什么？好吧，我们考虑过完全不介绍 Trident。你可以快乐地使用 Storm 而永远不需要接触 Trident。我们不认为它是 Storm
    的核心部分，而是你可以在其上构建的许多抽象之一（更多内容将在后面讨论）。即使如此，基于反馈，我们意识到我们不能完全不介绍它，因为每个早期审稿人都将 Trident
    提出为必须涵盖的主题。
- en: We considered spending three chapters on Trident much like we had three chapters
    on core Storm ([chapters 2](kindle_split_010.html#ch02) to [4](kindle_split_012.html#ch04))
    and introducing it in the same fashion. If we were writing a book on Trident,
    we would have taken that approach, but large portions of those chapters would
    have mirrored the content in [chapters 2](kindle_split_010.html#ch02) to [4](kindle_split_012.html#ch04).
    Trident is, after all, an abstraction on top of Storm. We settled on a single
    chapter intro to Trident because we felt that as long as you understood the basics
    of Trident, everything else would flow from there. There are many more Trident
    operations we didn’t cover, but they all operate in the same fashion as the ones
    we did cover. If Trident seems like a better approach than core Storm for your
    problems, we feel we’ve given you what you need to dig in and start solving with
    Trident.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑过用三章来介绍 Trident，就像我们用三章介绍了核心 Storm ([第 2 章](kindle_split_010.html#ch02)到[第
    4 章](kindle_split_012.html#ch04))，并以同样的方式介绍它。如果我们写一本关于 Trident 的书，我们会采取那种方法，但那些章节的大部分内容将与[第
    2 章](kindle_split_010.html#ch02)到[第 4 章](kindle_split_012.html#ch04)中的内容相似。毕竟，Trident
    是在 Storm 之上的一个抽象。我们决定用一章来介绍 Trident，因为我们觉得只要你能理解 Trident 的基础知识，其他一切都会顺理成章。我们没有涵盖许多
    Trident 操作，但它们都以我们已涵盖的方式操作。如果你认为 Trident 对于你的问题比核心 Storm 更好，我们认为我们已经给了你足够的信息去深入研究和使用
    Trident。
- en: When should I use Trident?
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 我什么时候应该使用 Trident？
- en: Use Trident only when you need to. Trident adds a lot of complexity compared
    to core Storm. It’s easier to debug problems with core Storm because there are
    fewer layers of abstraction to get through. Core Storm is also considerably faster
    than Trident. If you are really concerned about speed, favor core Storm. Why might
    you need to use Trident?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 仅在你需要时使用 Trident。与核心 Storm 相比，Trident 增加了大量的复杂性。由于抽象层较少，因此使用核心 Storm 调试问题更容易。核心
    Storm 也比 Trident 快得多。如果你真的关心速度，那么优先考虑核心 Storm。你为什么可能需要使用 Trident？
- en: “What” not “how” is very important to you.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “是什么”而不是“如何”对你来说非常重要。
- en: The important algorithmic details of your computation are hard to follow using
    core Storm but are very clear using Trident. If your process is all about the
    algorithm, and it’s hard to see what’s going on with core Storm, maintenance is
    going to be difficult.
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用核心 Storm 难以追踪你计算的重要算法细节，但使用 Trident 则非常清晰。如果你的流程完全是关于算法的，而且在核心 Storm 中难以看到发生了什么，维护将会很困难。
- en: You need exactly once processing.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你需要精确一次处理。
- en: As we discussed in [chapter 4](kindle_split_012.html#ch04), exactly once processing
    is very hard to achieve; some would say it’s impossible. We won’t go that far.
    We will say that there are scenarios where it’s impossible. Even when it is possible,
    getting it right can be hard. Trident can help you build an exactly once processing
    system. You can do that with core Storm as well but there’s more work involved
    on your part.
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如我们在[第 4 章](kindle_split_012.html#ch04)中讨论的那样，精确一次处理非常难以实现；有些人甚至认为这是不可能的。我们不会走那么远。我们只能说，在某些情况下，这是不可能的。即使可能，正确实现它也可能很困难。Trident
    可以帮助你构建一个精确一次处理系统。你也可以用核心 Storm 做到这一点，但你需要做更多的工作。
- en: You need to maintain state.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你需要维护状态。
- en: Again, you can do this with core Storm, but Trident is good at maintaining state,
    and DRPC provides a nice way to get at that state. If your workload is less about
    data pipelines (transforming input to output and feeding that output into another
    data pipeline) and more about creating queryable pools of data, then Trident state
    with DRPC can help you get there.
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 再次强调，你可以使用 Storm 的核心功能来完成这项工作，但 Trident 在维护状态方面表现良好，而 DRPC 提供了一种获取该状态的好方法。如果你的工作负载更侧重于创建可查询的数据池，而不是数据管道（将输入转换为输出并将该输出馈送到另一个数据管道），那么
    Trident 状态与 DRPC 结合可以帮助你实现这一目标。
- en: Abstractions! Abstractions everywhere!
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 抽象！到处都是抽象！
- en: Trident isn’t the only abstraction that runs on Storm. We’ve seen numerous projects
    come and go in GitHub that try to build on top of Storm. Honestly, most of them
    weren’t that interesting. If you do the same type of work in topology after topology,
    perhaps you too will create your own abstraction over Storm to make that particular
    workflow easier. The most interesting abstraction over Storm that currently exists
    is Algebird ([https://github.com/twitter/algebird](https://github.com/twitter/algebird))
    from Twitter.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Trident 并不是在 Storm 上运行的唯一抽象。我们在 GitHub 上看到了许多项目来来去去，试图在 Storm 的基础上构建。说实话，其中大多数并不那么有趣。如果你在拓扑结构中重复进行相同类型的工作，也许你也会创建自己的
    Storm 抽象来简化特定的流程。目前最有趣的 Storm 抽象是来自 Twitter 的 Algebird ([https://github.com/twitter/algebird](https://github.com/twitter/algebird))。
- en: Algebird is a Scala library that allows you to write abstract algebra code that
    can be “compiled” to run on either Storm or Hadoop. Why is that interesting? You
    can code up various algorithms and then reuse them in both batch and streaming
    contexts. That’s pretty damn cool if you ask us. Even if you don’t need to write
    reusable algebras, we suggest you check out the project if you’re interested in
    building abstractions on top of Storm; you can learn a lot from it.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Algebird 是一个 Scala 库，它允许你编写可以“编译”并在 Storm 或 Hadoop 上运行的抽象代数代码。这有什么有趣之处呢？你可以编写各种算法，然后在批处理和流式处理环境中重用它们。如果你问我们，这真的很酷。即使你不需要编写可重用的代数，如果你对在
    Storm 上构建抽象感兴趣，我们也建议你查看这个项目；你可以从中学到很多东西。
- en: And that really is it from us. Good luck; we’re rooting for you! Sean, Matt,
    and Peter out.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们所能提供的全部内容。祝你好运；我们支持你！Sean，Matt 和 Peter 敬上。
