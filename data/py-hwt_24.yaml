- en: Appendix D. Integrating version control into your project
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 D. 将版本控制集成到你的项目中
- en: D.1 The brief rationale for using version controlling
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: D.1 使用版本控制简短的理由
- en: When you write things in Microsoft Word or any other document-editing software,
    you may use the Undo action, such as by removing errant typing, or undoing a deletion
    or style setting. In most cases, there is a limit to how many times you can undo
    actions. Sometimes, you may find that even after undoing everything, you still
    can’t recover the document version you want. Have you ever had this experience?
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在 Microsoft Word 或其他文档编辑软件中编写内容时，你可能使用撤销操作，例如通过删除错误输入，或者撤销删除或样式设置。在大多数情况下，你可以撤销操作的次数是有限的。有时，你可能发现即使撤销了所有操作，你仍然无法恢复你想要的文档版本。你有过这样的经历吗？
- en: The same thing can happen in your coding projects. You never know when you’ll
    need to go back to an earlier version. Thus, it’s important to integrate *version
    control* (VC) into your project. VC tracks the versions of your project, allowing
    you to restore a previous version when you need to. In this section, I’ll show
    you the key concepts of VC, which is about more than recovering earlier versions.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的编码项目中也可能发生同样的事情。你永远不知道何时需要回到早期版本。因此，将 *版本控制*（VC）集成到你的项目中非常重要。VC 跟踪你的项目版本，在你需要时允许你恢复到之前的版本。在本节中，我将向你展示
    VC 的关键概念，它不仅仅是恢复早期版本。
- en: D.2 The typical workflow of a project
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: D.2 项目的典型工作流程
- en: Before I show how VC works, I’ll quickly review the typical workflow of a project.
    Please be mindful that I’m not talking about tiny projects like the challenges
    in the book or gigantic projects like Microsoft Word. Suppose that you are working
    on a project with two other developers, and each of you are assigned to work on
    a distinct component. Figure D.1 shows the progress of the three components.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在我展示 VC 的工作原理之前，我会快速回顾一下项目的典型工作流程。请注意，我并不是在谈论书中的挑战或像 Microsoft Word 那样巨大的项目。假设你正在与另外两名开发者合作进行一个项目，你们每个人都被分配去工作一个不同的组件。图
    D.1 展示了三个组件的进度。
- en: '![APPD_F01_Cui](../Images/APPD_F01_Cui.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F01_Cui](../Images/APPD_F01_Cui.png)'
- en: Figure D.1 The progress of individual components in a project
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.1 项目中各个组件的进度
- en: 'Figure D.1, however, is an incomplete diagram in two aspects: there are no
    connections between components, which is unlikely to happen in a real project,
    and the components don’t form an entity (the project, which could serve as the
    hub that allows each component to access others). Taking these factors into account,
    figure D.2 shows a more realistic diagram of the project’s progress.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，图 D.1 在两个方面是不完整的：组件之间没有连接，这在实际项目中不太可能发生，而且组件没有形成一个实体（项目，它可以作为中心，允许每个组件访问其他组件）。考虑到这些因素，图
    D.2 展示了项目进度的更现实图。
- en: '![APPD_F02_Cui](../Images/APPD_F02_Cui.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F02_Cui](../Images/APPD_F02_Cui.png)'
- en: Figure D.2 Interconnections between the individual components and the main project.
    Each component has its own progress line, and at specific milestones, these components
    are bundled into the main project.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.2 各个组件与主要项目之间的互连。每个组件都有自己的进度线，在特定的里程碑时，这些组件被组合到主要项目中。
- en: As shown in figure D.2, each developer can work on their own components to meet
    their respective milestones. In the meantime, all three developers meet now and
    then to put their individual components together and update the main project.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 如图 D.2 所示，每个开发者可以独立工作在自己的组件上以满足各自的里程碑。同时，所有三名开发者时不时地聚在一起，将他们的独立组件组合起来并更新主要项目。
- en: D.3 Facilitating the collaborative work with a version control system
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: D.3 使用版本控制系统促进协作工作
- en: As you can imagine, when developers meet to discuss how to bundle the separate
    components, there can be lots of hassles. First, they need to find a time when
    everyone can show up. Another problem is that some developers may be behind schedule,
    and their components won’t be ready. To facilitate collaborative work, most projects
    need a version control system (VCS).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所想象，当开发者们聚在一起讨论如何组合独立组件时，可能会有很多麻烦。首先，他们需要找到一个所有人都能够出席的时间。另一个问题是，一些开发者可能落后于进度，他们的组件还没有准备好。为了促进协作工作，大多数项目需要一个版本控制系统（VCS）。
- en: There are a few variations of VCS, and it would be unrealistic to cover them
    all. If you’ve ever written any code, you’ve probably heard of Git or GitHub,
    the latter being an online VCS service provider. This VCS is known as a *distributed
    VCS*, in which your teammates share a main repository (the source codebase) and
    each person can have their own repository on their local computer. You work on
    your own repository as the source codebase on your computer. When you make good
    progress, you can submit the progress to the local repository via a process called
    *commit*. When you think you can update the online repository—the main one shared
    by all the team members—you can push it to the main repository. Figure D.3 illustrates
    a distributed VCS.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: VCS（版本控制系统）有几种变体，全面涵盖它们是不切实际的。如果你曾经编写过任何代码，你可能已经听说过Git或GitHub，后者是一个在线VCS服务提供商。这种VCS被称为*分布式VCS*，其中你的队友共享一个主仓库（源代码库），每个人都可以在自己的本地计算机上拥有自己的仓库。你在自己的仓库上工作，作为你计算机上的源代码库。当你取得良好的进展时，你可以通过称为*提交*的过程将进展提交到本地仓库。当你认为可以更新在线仓库——所有团队成员共享的主仓库时，你可以将其推送到主仓库。图D.3展示了分布式VCS。
- en: '![APPD_F03_Cui](../Images/APPD_F03_Cui.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F03_Cui](../Images/APPD_F03_Cui.png)'
- en: Figure D.3 The workflow of a distributed VCS. A shared repository is hosted
    in the cloud. Each team member has their own individual repository locally. You
    use a working copy, and when you make some progress, you can commit to the individual
    repository and push to the online one if necessary. Going in the other direction,
    you can pull the latest version from the shared repository and update the working
    copy.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图D.3 分布式VCS的工作流程。共享仓库托管在云端。每个团队成员都有自己的本地个人仓库。你使用工作副本，当你取得一些进展时，你可以将其提交到个人仓库，并在必要时将其推送到在线仓库。从另一个方向来看，你可以从共享仓库中拉取最新版本并更新工作副本。
- en: 'As shown in figure D.3, besides the commit and push actions, which direct the
    updates from your working copy to the individual local repository and then to
    the shared online repository, you see another direction of action: pull and update.
    That is, you can get the latest repository from the server and update your working
    copy.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 如图D.3所示，除了将更新从你的工作副本直接指向个人本地仓库，然后到共享在线仓库的提交和推送操作外，你还可以看到另一个操作方向：拉取和更新。也就是说，你可以从服务器获取最新仓库并更新你的工作副本。
- en: 'You can derive several notable benefits from the workflow of the distributed
    VCS:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从分布式VCS的工作流程中衍生出几个显著的好处：
- en: Each developer is working on their own copy, so others don’t interfere with
    your work; you have your independence.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个开发者都在自己的副本上工作，因此其他人不会干扰你的工作；你有你的独立性。
- en: You’re also sharing the online repository, so you have access to others’ work.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还在共享在线仓库，因此你可以访问他人的工作。
- en: Each developer’s work can be synchronized. You might commit and push, and others
    might pull and update. You and your teammates always have the latest repository.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个开发者的工作都可以同步。你可能提交和推送，而其他人可能拉取和更新。你和你的队友总是拥有最新的仓库。
- en: These repositories are backed up by a database. You can view the history of
    the changes and track the versions, which allows you to restore a previous version
    easily.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这些仓库由数据库备份。你可以查看变更的历史记录并跟踪版本，这允许你轻松地恢复以前的版本。
- en: Because changes are tracked, when multiple people make conflicting changes,
    you’ll be prompted to resolve the conflicts, making your codebase coherent.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于变更被跟踪，当多个人做出冲突性变更时，你会被提示解决冲突，使代码库保持一致。
- en: If the server fails, resulting in the loss of the repository, you can restore
    it with little loss from a distributed copy, increasing the overall disaster-recovery
    capability of the codebase.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果服务器失败，导致仓库丢失，你可以从分布式副本中几乎无损地恢复它，从而提高代码库的整体灾难恢复能力。
- en: D.4 Highlighting the key terminologies
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: D.4 突出显示关键术语
- en: 'As I mentioned earlier, the most notable representation of the distributed
    VCS is known as Git. A theoretical discussion like this one helps you understand
    the big picture, but it takes lots of practice to master Git-related operations.
    As a primer, I’ll list some key terms in alphabetical order, and you can use the
    list as a cornerstone for your Git knowledge-building:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如我之前所述，分布式VCS最显著的表现形式是Git。像这样的理论讨论有助于你理解大局，但要掌握Git相关操作需要大量的实践。作为一个入门，我将按字母顺序列出一些关键术语，你可以将此列表作为你Git知识构建的基石：
- en: '*Branch* —A branch is a specific version of the repository. You can have multiple
    branches for a repository. Remember to name the branch sensibly.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*分支* —分支是仓库的特定版本。你可以为仓库拥有多个分支。请记住要合理命名分支。'
- en: '*Clone* —You create a copy of a repository so that you can work on the copied
    version on your computer.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*克隆* —你创建一个仓库的副本，这样你就可以在你的电脑上工作在复制的版本上。'
- en: '*Fork* —You create a copy of a repository on the server, such as on GitHub.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Fork* —你在服务器上创建一个仓库的副本，例如在GitHub上。'
- en: '*Master* —You create a repository, which results in a default branch. We refer
    to this default branch as the master. The master is also the main branch of a
    repository.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*主分支* —你创建一个仓库，这将导致一个默认分支。我们称这个默认分支为主分支。主分支也是仓库的主要分支。'
- en: '*Merge* —When you merge, you combine branches so that you can get the updates
    from these branches and remove them if necessary.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*合并* —当你合并时，你合并分支，以便你可以从这些分支获取更新，并在必要时删除它们。'
- en: '*Origin* —The origin is the online repository from which your repository was
    created.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*源* —源是创建你的仓库的在线仓库。'
- en: '*Pull* —You pull to get data from the online repository to your own working
    repository.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*拉取* —你拉取以从在线仓库获取数据到你的工作仓库。'
- en: '*Push* —You push to upload your local repository to the online repository.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*推送* —你推送以将本地仓库上传到在线仓库。'
- en: '*Rebase* —You rebase to combine a sequence of commits to a new base commit.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*变基* —你变基以将一系列提交组合到一个新的基础提交。'
- en: '*Remote* —The remote is the online repository that I’ve been talking about.
    Because it’s usually hosted on a cloud server, it’s remote from your computer.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*远程* —远程是我在谈论的在线仓库。因为它通常托管在云服务器上，所以它离你的电脑是远程的。'
- en: '*Repository* —Repository is a comprehensive concept that refers to the collection
    of the files as well as their metadata, including the history of the changes.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*仓库* —仓库是一个综合概念，指的是文件的集合以及它们的元数据，包括变更的历史。'
- en: '*Revert* —When you revert some commits, you’re going back to an earlier version.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*回滚* —当你回滚一些提交时，你正在回到一个更早的版本。'
