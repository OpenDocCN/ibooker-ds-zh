- en: Appendix A. Using kubectl with multiple clusters
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: 附录A. 使用kubectl管理多个集群
- en: A.1\. Switching between Minikube and Google Kubernetes Engine
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: A.1\. 在Minikube和Google Kubernetes Engine之间切换
- en: The examples in this book can either be run in a cluster created with Minikube,
    or one created with Google Kubernetes Engine (GKE). If you plan on using both,
    you need to know how to switch between them. A detailed explanation of how to
    use `kubectl` with multiple clusters is described in the next section. Here we
    look at how to switch between Minikube and GKE.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的示例可以在使用Minikube创建的集群中运行，也可以在使用Google Kubernetes Engine (GKE)创建的集群中运行。如果你计划使用两者，你需要知道如何在它们之间切换。如何在多个集群中使用`kubectl`的详细说明将在下一节中描述。这里我们来看看如何切换Minikube和GKE。
- en: Switching to Minikube
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 切换到Minikube
- en: 'Luckily, every time you start up a Minikube cluster with `minikube start`,
    it also reconfigures `kubectl` to use it:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，每次你使用`minikube start`启动Minikube集群时，它也会重新配置`kubectl`以使用它：
- en: '`$ minikube start` `Starting local Kubernetes cluster... ... Setting up kubeconfig...`
    `1` `Kubectl is now configured to use the cluster.` `1`'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ minikube start` `启动本地Kubernetes集群... ... 设置kubeconfig...` `1` `Kubectl现在已配置为使用该集群。`
    `1`'
- en: 1 Minikube sets up kubectl every time you start the cluster.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 Minikube每次启动集群时都会设置kubectl。
- en: After switching from Minikube to GKE, you can switch back by stopping Minikube
    and starting it up again. `kubectl` will then be re-configured to use the Minikube
    cluster again.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 从Minikube切换到GKE后，可以通过停止Minikube并重新启动它来切换回来。此时，`kubectl`将重新配置以再次使用Minikube集群。
- en: Switching to GKE
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 切换到GKE
- en: 'To switch to using the GKE cluster, you can use the following command:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 要切换到使用GKE集群，可以使用以下命令：
- en: '`$ gcloud container clusters get-credentials my-gke-cluster`'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ gcloud container clusters get-credentials my-gke-cluster`'
- en: This will configure `kubectl` to use the GKE cluster called `my-gke-cluster`.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这将配置`kubectl`以使用名为`my-gke-cluster`的GKE集群。
- en: Going further
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 进一步了解
- en: These two methods should be enough to get you started quickly, but to understand
    the complete picture of using `kubectl` with multiple clusters, study the next
    section.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种方法应该足以让你快速入门，但要了解使用`kubectl`管理多个集群的完整情况，请学习下一节。
- en: A.2\. Using kubectl with multiple clusters or namespaces
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: A.2\. 使用kubectl管理多个集群或命名空间
- en: If you need to switch between different Kubernetes clusters, or if you want
    to work in a different namespace than the default and don’t want to specify the
    `--namespace` option every time you run `kubectl`, here’s how to do it.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要在不同Kubernetes集群之间切换，或者如果你想在默认命名空间之外工作，并且不想每次运行`kubectl`时都指定`--namespace`选项，以下是操作方法。
- en: A.2.1\. Configuring the location of the kubeconfig file
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.1\. 配置kubeconfig文件的位置
- en: The config used by `kubectl` is usually stored in the ~/.kube/config file. If
    it’s stored somewhere else, the `KUBECONFIG` environment variable needs to point
    to its location.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '`kubectl`使用的配置通常存储在`~/.kube/config`文件中。如果它存储在其他位置，则`KUBECONFIG`环境变量需要指向其位置。'
- en: '|  |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use multiple config files and have `kubectl` use them all at once by
    specifying all of them in the `KUBECONFIG` environment variable (separate them
    with a colon).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用多个配置文件，并通过在`KUBECONFIG`环境变量中指定所有这些文件来让`kubectl`一次性使用它们（用冒号分隔）。
- en: '|  |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: A.2.2\. Understanding the contents of the kubeconfig file
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.2\. 理解kubeconfig文件的内容
- en: An example config file is shown in the following listing.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列出的是一个示例配置文件。
- en: Listing A.1\. Example kubeconfig file
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 列表A.1\. 示例kubeconfig文件
- en: '`apiVersion: v1 clusters: - cluster:` `1` `certificate-authority: /home/luksa/.minikube/ca.crt`
    `1` `server: https://192.168.99.100:8443` `1` `name: minikube` `1` `contexts:
    - context:` `2` `cluster: minikube` `2` `user: minikube` `2` `namespace: default`
    `2` `name: minikube` `2` `current-context: minikube` `3` `kind: Config preferences:
    {} users: - name: minikube` `4` `user:` `4` `client-certificate: /home/luksa/.minikube/apiserver.crt`
    `4` `client-key: /home/luksa/.minikube/apiserver.key` `4`'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '`apiVersion: v1 clusters: - cluster:` `1` `certificate-authority: /home/luksa/.minikube/ca.crt`
    `1` `server: https://192.168.99.100:8443` `1` `name: minikube` `1` `contexts:
    - context:` `2` `cluster: minikube` `2` `user: minikube` `2` `namespace: default`
    `2` `name: minikube` `2` `current-context: minikube` `3` `kind: Config preferences:
    {} users: - name: minikube` `4` `user:` `4` `client-certificate: /home/luksa/.minikube/apiserver.crt`
    `4` `client-key: /home/luksa/.minikube/apiserver.key` `4`'
- en: 1 Contains information about a Kubernetes cluster
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 包含有关Kubernetes集群的信息
- en: 2 Defines a kubectl context
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 2 定义kubectl上下文
- en: 3 The current context kubectl uses
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3 `kubectl`当前使用的上下文
- en: 4 Contains a user’s credentials
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 包含用户的凭据
- en: 'The kubeconfig file consists of four sections:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: kubeconfig文件包含四个部分：
- en: A list of clusters
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 簇列表
- en: A list of users
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户列表
- en: A list of contexts
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上下文名称列表
- en: The name of the current context
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当前上下文名称
- en: Each cluster, user, and context has a name. The name is used to refer to the
    context, user, or cluster.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 每个集群、用户和上下文都有一个名称。该名称用于引用上下文、用户或集群。
- en: Clusters
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 集群
- en: A cluster entry represents a Kubernetes cluster and contains the URL of the
    API server, the certificate authority (CA) file, and possibly a few other configuration
    options related to communication with the API server. The CA certificate can be
    stored in a separate file and referenced in the kubeconfig file, or it can be
    included in it directly in the `certificate-authority-data` field.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 集群条目表示一个 Kubernetes 集群，包含 API 服务器 URL、证书颁发机构（CA）文件，以及可能与 API 服务器通信相关的其他一些配置选项。CA
    证书可以存储在单独的文件中并在 kubeconfig 文件中引用，或者可以直接包含在 `certificate-authority-data` 字段中。
- en: Users
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 用户
- en: Each user defines the credentials to use when talking to an API server. This
    can be a username and password pair, an authentication token, or a client key
    and certificate. The certificate and key can be included in the kubeconfig file
    (through the `client-certificate-data` and `client-key-data` properties) or stored
    in separate files and referenced in the config file, as shown in [listing A.1](#filepos1724793).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 每个用户定义在访问 API 服务器时使用的凭证。这可以是一对用户名和密码，一个身份验证令牌，或者一个客户端密钥和证书。证书和密钥可以包含在 kubeconfig
    文件中（通过 `client-certificate-data` 和 `client-key-data` 属性），或者存储在单独的文件中并在配置文件中引用，如[列表
    A.1](#filepos1724793)所示。
- en: Contexts
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 上下文
- en: A context ties together a cluster, a user, and the default namespace `kubectl`
    should use when performing commands. Multiple contexts can point to the same user
    or cluster.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 上下文将一个集群、一个用户和 `kubectl` 在执行命令时应使用的默认命名空间 `kubectl` 连接起来。多个上下文可以指向同一个用户或集群。
- en: The current context
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 当前上下文
- en: While there can be multiple contexts defined in the kubeconfig file, at any
    given time only one of them is the current context. Later we’ll see how the current
    context can be changed.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然可以在 kubeconfig 文件中定义多个上下文，但在任何给定时间只有一个上下文是当前上下文。稍后我们将看到如何更改当前上下文。
- en: A.2.3\. Listing, adding, and modifying kube config entries
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.3\. 列出、添加和修改 kube 配置条目
- en: You can edit the file manually to add, modify, and remove clusters, users, or
    contexts, but you can also do it through one of the `kubectl config` commands.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以手动编辑文件以添加、修改和删除集群、用户或上下文，但您也可以通过 `kubectl config` 命令之一来完成此操作。
- en: Adding or modifying a cluster
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 添加或修改集群
- en: 'To add another cluster, use the `kubectl config set-cluster` command:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加另一个集群，使用 `kubectl config set-cluster` 命令：
- en: '`$ kubectl config set-cluster my-other-cluster`![](images/00006.jpg)`--server=https://k8s.example.com:6443`![](images/00006.jpg)`--certificate-authority=path/to/the/cafile`'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config set-cluster my-other-cluster`![](images/00006.jpg)`--server=https://k8s.example.com:6443`![](images/00006.jpg)`--certificate-authority=path/to/the/cafile`'
- en: This will add a cluster called `my-other-cluster` with the API server located
    at https://k8s.example.com:6443\. To see additional options you can pass to the
    command, run `kubectl config set-cluster` to have it print out usage examples.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这将添加一个名为 `my-other-cluster` 的集群，API 服务器位于 https://k8s.example.com:6443。要查看可以向命令传递的附加选项，请运行
    `kubectl config set-cluster` 以打印用法示例。
- en: If a cluster by that name already exists, the `set-cluster` command will overwrite
    its configuration options.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如果已存在同名集群，则 `set-cluster` 命令将覆盖其配置选项。
- en: Adding or modifying user credentials
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 添加或修改用户凭证
- en: 'Adding and modifying users is similar to adding or modifying a cluster. To
    add a user that authenticates with the API server using a username and password,
    run the following command:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 添加和修改用户与添加或修改集群类似。要添加一个使用用户名和密码通过 API 服务器进行身份验证的用户，运行以下命令：
- en: '`$ kubectl config set-credentials foo --username=foo --password=pass`'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config set-credentials foo --username=foo --password=pass`'
- en: 'To use token-based authentication, run the following instead:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用基于令牌的认证，运行以下命令代替：
- en: '`$ kubectl config set-credentials foo --token=mysecrettokenXFDJIQ1234`'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config set-credentials foo --token=mysecrettokenXFDJIQ1234`'
- en: Both these examples store user credentials under the name `foo`. If you use
    the same credentials for authenticating against different clusters, you can define
    a single user and use it with both clusters.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个示例都将用户凭证存储在名称为 `foo` 下。如果您使用相同的凭证对不同的集群进行身份验证，您可以定义一个单独的用户并使用它与两个集群一起使用。
- en: Tying clusters and user credentials together
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 将集群和用户凭证关联起来
- en: A context defines which user to use with which cluster, but can also define
    the namespace that `kubectl` should use, when you don’t specify the namespace
    explicitly with the `--namespace` or `-n` option.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 上下文定义了与哪个集群使用哪个用户，但也可以定义`kubectl`在未使用`--namespace`或`-n`选项显式指定命名空间时应使用的命名空间。
- en: 'The following command is used to create a new context that ties together the
    cluster and the user you created:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令用于创建一个新的上下文，该上下文将您创建的集群和用户关联起来：
- en: '`$ kubectl config set-context some-context --cluster=my-other-cluster`![](images/00006.jpg)`--user=foo
    --namespace=bar`'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config set-context some-context --cluster=my-other-cluster`![](images/00006.jpg)`--user=foo
    --namespace=bar`'
- en: This creates a context called `some-context` that uses the `my-other-cluster`
    cluster and the `foo` user credentials. The default namespace in this context
    is set to `bar`.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这创建了一个名为`some-context`的上下文，它使用`my-other-cluster`集群和`foo`用户凭据。在此上下文中，默认命名空间设置为`bar`。
- en: 'You can also use the same command to change the namespace of your current context,
    for example. You can get the name of the current context like so:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用相同的命令更改当前上下文的命名空间，例如。您可以通过以下方式获取当前上下文名称：
- en: '`$ kubectl config current-context` `minikube`'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config current-context` `minikube`'
- en: 'You then change the namespace like this:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 然后您可以通过以下方式更改命名空间：
- en: '`$ kubectl config set-context minikube --namespace=another-namespace`'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config set-context minikube --namespace=another-namespace`'
- en: Running this simple command once is much more user-friendly compared to having
    to include the `--namespace` option every time you run `kubectl`.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 只运行一次这个简单的命令，比每次运行`kubectl`时都要包含`--namespace`选项要用户友好得多。
- en: '|  |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: 'To easily switch between namespaces, define an alias like this: `alias kcd=''kubectl
    config set-context $(kubectl config current-context) --namespace ''`. You can
    then switch between namespaces with `kcd some-namespace`.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 要轻松地在命名空间之间切换，可以定义一个别名，例如：`alias kcd='kubectl config set-context $(kubectl config
    current-context) --namespace '`。然后您可以使用`kcd some-namespace`在命名空间之间切换。
- en: '|  |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: A.2.4\. Using kubectl with different clusters, users, and contexts
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.4\. 使用kubectl与不同的集群、用户和上下文
- en: 'When you run `kubectl` commands, the cluster, user, and namespace defined in
    the kubeconfig’s current context are used, but you can override them using the
    following command-line options:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 当您运行`kubectl`命令时，将使用kubeconfig当前上下文中定义的集群、用户和命名空间，但您可以使用以下命令行选项来覆盖它们：
- en: '`--user` to use a different user from the kubeconfig file.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--user` 用于使用kubeconfig文件中的不同用户。'
- en: '`--username` and `--password` to use a different username and/or password (they
    don’t need to be specified in the config file). If using other types of authentication,
    you can use `--client-key` and `--client-certificate` or `--token`.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--username` 和 `--password` 用于使用不同的用户名和/或密码（它们不需要在配置文件中指定）。如果使用其他类型的身份验证，可以使用`--client-key`
    和 `--client-certificate` 或 `--token`。'
- en: '`--cluster` to use a different cluster (must be defined in the config file).'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--cluster` 用于使用不同的集群（必须在配置文件中定义）。'
- en: '`--server` to specify the URL of a different server (which isn’t in the config
    file).'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--server` 用于指定不同服务器的URL（该服务器不在配置文件中）。'
- en: '`--namespace` to use a different namespace.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--namespace` 用于使用不同的命名空间。'
- en: A.2.5\. Switching between contexts
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.5\. 在上下文之间切换
- en: Instead of modifying the current context as in one of the previous examples,
    you can also use the `set-context` command to create an additional context and
    then switch between contexts. This is handy when working with multiple clusters
    (use `set-cluster` to create cluster entries for them).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前示例中修改当前上下文不同，您还可以使用`set-context`命令创建一个额外的上下文，然后在这些上下文之间切换。当与多个集群一起工作时，这非常有用（使用`set-cluster`为它们创建集群条目）。
- en: 'Once you have multiple contexts set up, switching between them is trivial:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置了多个上下文，切换它们就变得非常简单：
- en: '`$ kubectl config use-context my-other-context`'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config use-context my-other-context`'
- en: This switches the current context to `my-other-context`.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这会将当前上下文切换到`my-other-context`。
- en: A.2.6\. Listing contexts and clusters
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.6\. 列出上下文和集群
- en: 'To list all the contexts defined in your kubeconfig file, run the following
    command:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 要列出在您的kubeconfig文件中定义的所有上下文，请运行以下命令：
- en: '`$ kubectl config get-contexts` `CURRENT   NAME          CLUSTER       AUTHINFO           
    NAMESPACE *         minikube      minikube      minikube            default          
    rpi-cluster   rpi-cluster   admin/rpi-cluster           rpi-foo       rpi-cluster  
    admin/rpi-cluster   foo`'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config get-contexts` `CURRENT   NAME          CLUSTER       AUTHINFO           
    NAMESPACE *         minikube      minikube      minikube            default          
    rpi-cluster   rpi-cluster   admin/rpi-cluster           rpi-foo       rpi-cluster  
    admin/rpi-cluster   foo`'
- en: As you can see, I’m using three different contexts. The `rpi-cluster` and the
    `rpi-foo` contexts use the same cluster and credentials, but default to different
    namespaces.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，我正在使用三个不同的上下文。`rpi-cluster`和`rpi-foo`上下文使用相同的集群和凭据，但默认使用不同的命名空间。
- en: 'Listing clusters is similar:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 列出集群的方式类似：
- en: '`$ kubectl config get-clusters` `NAME rpi-cluster minikube`'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config get-clusters` `名称 rpi-cluster minikube`'
- en: Credentials can’t be listed for security reasons.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 由于安全原因，无法列出凭据。
- en: A.2.7\. Deleting contexts and clusters
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: A.2.7. 删除上下文和集群
- en: 'To clean up the list of contexts or clusters, you can either delete the entries
    from the kubeconfig file manually or use the following two commands:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要清理上下文或集群列表，您可以手动从kubeconfig文件中删除条目，或者使用以下两个命令：
- en: '`$ kubectl config delete-context my-unused-context`'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config delete-context my-unused-context`'
- en: and
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 和
- en: '`$ kubectl config delete-cluster my-old-cluster`'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '`$ kubectl config delete-cluster my-old-cluster`'
