- en: 2 Differential privacy for machine learning
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2 机器学习的差分隐私
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章节涵盖
- en: What differential privacy is
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 差分隐私是什么
- en: Using differential privacy mechanisms in algorithms and applications
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在算法和应用中使用差分隐私机制
- en: Implementing properties of differential privacy
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现差分隐私的性质
- en: In the previous chapter, we investigated various privacy-related threats and
    vulnerabilities in machine learning (ML) and concepts behind privacy-enhancing
    technologies. From now on, we will focus on the details of essential and popular
    privacy-enhancing technologies. The one we will discuss in this chapter and the
    next is *differential privacy* (DP).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们探讨了机器学习（ML）中各种与隐私相关的威胁和漏洞以及隐私增强技术的概念。从现在开始，我们将关注一些基本且流行的隐私增强技术的细节。在本章和下一章中，我们将讨论的是*差分隐私*（DP）。
- en: Differential privacy is one of the most popular and influential privacy protection
    schemes used in applications today. It is based on the concept of making a dataset
    robust enough that any single substitution in the dataset will not reveal any
    private information. This is typically achieved by calculating the patterns of
    groups within the dataset, which we call *complex statistics*, while withholding
    information about individuals in the dataset.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 差分隐私是目前在应用中使用的最受欢迎且最有影响力的隐私保护方案之一。它基于使数据集足够健壮的概念，以至于数据集中任何单个替换都不会泄露任何私人信息。这通常是通过计算数据集中组别的模式来实现的，我们称之为*复杂统计学*，同时保留数据集中个人的信息。
- en: For instance, we can consider an ML model to be complex statistics describing
    the distribution of its training data. Thus, differential privacy allows us to
    quantify the degree of privacy protection provided by an algorithm on the (private)
    dataset it operates on. In this chapter, we’ll look at what differential privacy
    is and how it has been widely adopted in practical applications. You’ll also learn
    about its various essential properties.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们可以将一个机器学习模型视为描述其训练数据分布的复杂统计学描述。因此，差分隐私使我们能够量化算法在其操作的（私有）数据集上提供的隐私保护程度。在本章中，我们将探讨差分隐私是什么以及它如何在实际应用中得到广泛采用。你还将了解其各种基本性质。
- en: '![CH02_00_UN01_Zhuang](../../OEBPS/Images/CH02_00_UN01_Zhuang.png)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_00_UN01_Zhuang](../../OEBPS/Images/CH02_00_UN01_Zhuang.png)'
- en: 2.1 What is differential privacy?
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.1 什么是差分隐私？
- en: Many modern applications generate a pile of personal data belonging to different
    individuals and organizations, and there are serious privacy concerns when this
    data leaves the hands of the data owners. For instance, the AOL search engine
    log data leak [1] and Netflix recommendation contest privacy lawsuit [2] show
    the threats and the need for rigorous privacy-enhancing techniques for ML algorithms.
    To address these challenges, differential privacy (DP) has evolved as a promising
    privacy-enhancing technique that provides a rigorous definition of privacy [3],
    [4].
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 许多现代应用生成了一堆属于不同个人和组织的个人数据，当这些数据离开数据所有者的控制时，会引发严重的隐私担忧。例如，AOL搜索引擎日志数据泄露[1]和Netflix推荐竞赛隐私诉讼[2]展示了威胁以及对于机器学习算法严格隐私增强技术的需求。为了应对这些挑战，差分隐私（DP）作为一种有前景的隐私增强技术已经发展起来，它提供了一个严格的隐私定义[3]，[4]。
- en: 2.1.1 The concept of differential privacy
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.1 差分隐私的概念
- en: Before introducing the definition of differential privacy, let’s look at an
    example, which is illustrated in figure 2.1.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在介绍差分隐私的定义之前，让我们来看一个例子，如图2.1所示。
- en: '![CH02_F01_Zhuang](../../OEBPS/Images/CH02_F01_Zhuang.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F01_Zhuang](../../OEBPS/Images/CH02_F01_Zhuang.png)'
- en: Figure 2.1 The problem of personal information leakage
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 个人信息泄露问题
- en: Suppose Alice and Bob are news reporters from different news agencies who wanted
    to report on the average salary of a private company. This company has a database
    containing the personal information of all its employees (such as position, wages,
    and contacts). Since the database includes personal data subject to privacy concerns,
    direct access to the database is restricted. Alice and Bob were required to demonstrate
    that they planned to follow the company’s protocols for handling personal data
    by undergoing confidentiality training and signing data use agreements proscribing
    the use and disclosure of personal information obtained from the database. The
    company granted Alice and Bob access to query certain aggregated statistics from
    the company’s database, including the total number of employees and the average
    salaries, but not to access any personal information, such as name or age.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 假设 Alice 和 Bob 是来自不同新闻机构的新闻记者，他们想要报道一家私营公司的平均薪水。这家公司有一个包含所有员工个人信息（如职位、工资和联系方式）的数据库。由于数据库包含受隐私关注的数据，直接访问数据库受到限制。Alice
    和 Bob 被要求通过接受保密培训和签署数据使用协议（禁止使用和披露从数据库中获得的个人信息的用途和披露）来证明他们计划遵循公司处理个人数据的协议。公司授予
    Alice 和 Bob 访问查询公司数据库中某些汇总统计数据的权限，包括员工总数和平均薪水，但不能访问任何个人信息，如姓名或年龄。
- en: In January 2020, Alice wrote an article based on the information obtained from
    that database, reporting that the private company has 100 employees, and the average
    salary is $55,000\. In February 2020, Bob wrote an article based on the information
    he obtained from the database in the same way, reporting that the private company
    has 101 employees, and the average salary is $56,000\. The only difference is
    that Alice accessed the database in January, whereas Bob accessed it in February.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 2020 年 1 月，Alice 基于从数据库中获得的信息撰写了一篇文章，报道称该私营公司有 100 名员工，平均薪水为 55,000 美元。2020
    年 2 月，Bob 基于他从同一数据库中获得的信息撰写了一篇文章，报道称该私营公司有 101 名员工，平均薪水为 56,000 美元。唯一的区别是 Alice
    在 1 月访问了数据库，而 Bob 在 2 月访问了数据库。
- en: Eve is a news reporter working at a third news agency. After reading the articles
    by Alice and Bob, Eve concluded that one new employee joined the company between
    January and February, and that their salary is $156,000 (i.e., $56,000 × 101 −
    $55,000 × 100). Eve interviewed employees of the company incognito, and someone
    told Eve that Mallory joined the company during that period. Eve then wrote an
    article reporting that Mallory joined the private company and earns $156,000 a
    year, which is much higher than the company’s average salary.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Eve 是一家第三家新闻机构的新闻记者。在阅读了 Alice 和 Bob 的文章后，Eve 得出结论，认为在 1 月到 2 月之间公司新加入了一名员工，他们的薪水是
    156,000 美元（即 $56,000 × 101 − $55,000 × 100）。Eve 匿名地采访了公司的员工，有人告诉 Eve Mallory 在那个时期加入了公司。随后，Eve
    写了一篇报道，称 Mallory 加入了一家私营公司，年薪为 156,000 美元，这比公司的平均薪水要高得多。
- en: Mallory’s private information (her salary) has been compromised, so she complained
    to the relevant authorities and planned to sue the company and the reporters.
    However, Alice and Bob did nothing against the policies—they just reported the
    aggregated information, which does not contain any personal information.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Mallory 的私人信息（她的薪水）已经泄露，因此她向相关当局投诉，并计划起诉该公司和记者。然而，Alice 和 Bob 并没有违反政策——他们只是报道了汇总信息，这些信息不包含任何个人信息。
- en: This example illustrates a typical privacy leakage scenario. Even though the
    study, analysis, or computation only releases aggregated statistical information
    from a dataset, that information can still lead to meaningful but sensitive conclusions
    about individuals. How can we take care of these problems in a straightforward
    but rigorous way? Here comes differential privacy.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子说明了典型的隐私泄露场景。即使研究、分析或计算只从数据集中发布汇总统计信息，这些信息仍然可以导致关于个人的有意义的但敏感的结论。我们如何以简单但严谨的方式处理这些问题？这就是差分隐私的用武之地。
- en: Differential privacy quantifies the information leakage of an algorithm from
    the computation over an underlying dataset, and it has attracted lots of attention
    in the privacy research community. Let’s consider the example in figure 2.2\.
    In the general setting of DP, a trusted data curator gathers data from multiple
    data owners to form a dataset. In our previous example, the private company was
    the data curator, and the data owners were the employees of that company. The
    goal of DP is to perform some computation or analysis on this collected dataset,
    such as finding a mean value (e.g., the average salary) so that data users can
    access this information, without disclosing the private information of the data
    owners.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 差分隐私量化了算法从对底层数据集的计算中泄露的信息，在隐私研究领域引起了广泛关注。让我们考虑图2.2中的例子。在差分隐私的一般设置中，一个受信任的数据管理员从多个数据所有者那里收集数据以形成一个数据集。在我们之前的例子中，私有公司是数据管理员，数据所有者是该公司的员工。差分隐私的目标是对收集到的数据集进行某些计算或分析，例如找到平均值（例如，平均工资），以便数据用户可以访问这些信息，而不会泄露数据所有者的私人信息。
- en: '![CH02_F02_Zhuang](../../OEBPS/Images/CH02_F02_Zhuang.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F02_Zhuang](../../OEBPS/Images/CH02_F02_Zhuang.png)'
- en: Figure 2.2 Differential privacy framework
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2 差分隐私框架
- en: The beauty of DP is that it aims to strengthen the privacy protection by releasing
    aggregated or statistical information from a database or dataset without revealing
    the presence of any individual in that database. As discussed in the previous
    example, we can consider that the databases in January and February are identical
    to each other, except that the February database contains Mallory’s information.
    DP ensures that no matter which database the analysis is conducted on, the probabilities
    of getting the same aggregated or statistical information or of reaching a specific
    conclusion are the same (as shown in figure 2.3).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 差分隐私的美丽之处在于，它旨在通过发布数据库或数据集的汇总或统计信息来加强隐私保护，而不透露该数据库中任何个人的存在。正如前一个例子中讨论的，我们可以认为一月份和二月份的数据库彼此相同，除了二月份的数据库包含Mallory的信息。差分隐私确保无论分析是在哪个数据库上进行的，得到相同汇总或统计信息或得出特定结论的概率都是相同的（如图2.3所示）。
- en: '![CH02_F03_Zhuang](../../OEBPS/Images/CH02_F03_Zhuang.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F03_Zhuang](../../OEBPS/Images/CH02_F03_Zhuang.png)'
- en: Figure 2.3 Using DP to protect personal data
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3 使用差分隐私保护个人数据
- en: If an individual data owner’s private data won’t significantly affect the calculation
    of certain aggregated statistical information, data owners should be less worried
    about sharing their data in the database, since the analysis results will not
    distinguish them. In a nutshell, differential privacy is about *differences*—a
    system is differentially private if it hardly makes any difference whether your
    data is in the system or not. This difference is why we use the word *differential*
    in the term *differential privacy*.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果某个数据所有者的私人数据不会显著影响某些汇总统计信息的计算，数据所有者应该对在数据库中共享他们的数据不太担心，因为分析结果不会区分他们。简而言之，差分隐私是关于*差异*的——如果一个系统几乎不会因为你的数据是否在系统中而有所不同，那么这个系统就是差分隐私的。这就是我们在“差分隐私”这个术语中使用“差分”一词的原因。
- en: So far we’ve only discussed the general concepts of DP. Next, we’ll look at
    how DP works in real-world scenarios.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们只讨论了差分隐私的一般概念。接下来，我们将探讨差分隐私在现实场景中的工作方式。
- en: 2.1.2 How differential privacy works
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.2 差分隐私是如何工作的
- en: As shown in figure 2.2, the data curator adds random noise (via a DP sanitizer)
    to the computation result so that the released results will not change if an individual’s
    information in the underlying data changes. Since no single individual’s information
    can significantly affect the distribution, adversaries cannot confidently infer
    that any information corresponds to any individual.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如图2.2所示，数据管理员通过差分隐私净化器向计算结果添加随机噪声，使得即使底层数据中的个人信息发生变化，发布的结果也不会改变。由于没有单个个人的信息可以显著影响分布，对手无法自信地推断任何信息对应于任何个人。
- en: Let’s look at what would have happened if our example private company had added
    random noise to the query results (i.e., to the total number of employees and
    the average salaries) before sending them to the news reporters Alice and Bob,
    as illustrated in figure 2.3.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如果我们的例子中的私有公司在将查询结果（即员工总数和平均工资的总数）发送给新闻记者Alice和Bob之前添加了随机噪声（如图2.3所示）会发生什么。
- en: In January, Alice would have written an article based on information obtained
    from the database (accessed in January), reporting that the private company has
    103 employees (where 100 is the actual number and 3 is the added noise) and the
    average salary is $55,500 (where $55,000 is the real value and $500 is the added
    noise).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在一月，爱丽丝会基于从数据库（一月访问）获得的信息撰写文章，报告称私人公司有103名员工（其中100是实际数字，3是添加的噪声）和平均工资为55,500美元（其中55,000美元是真实值，$500是添加的噪声）。
- en: In February, Bob would have written an article in the same way (but using data
    accessed in February), reporting that the private company has 99 employees (where
    101 is the actual number and -2 is the added noise) and the average salary is
    $55,600 (where $56,000 is the real value and −$400 is the added noise).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在二月，鲍勃会用同样的方式（但使用二月获取的数据）撰写文章，报告称这家私人公司有99名员工（其中101是实际数字，-2是添加的噪声）和平均工资为55,600美元（其中56,000美元是真实值，-$400是添加的噪声）。
- en: The noisy versions of the number of employees and average salary don’t have
    much effect on the private company’s information appearing in the news articles
    (the number of employees is around 100, and the average salary is around $55,000-$56,000).
    However, these results would prevent Eve from concluding that one new employee
    joined the private company between January and February (since 99 - 104 = −5)
    and from figuring out their salary, thus reducing the risk of Mallory’s personal
    information being revealed.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 员工数量和平均工资的噪声版本对新闻文章中出现的私人公司信息（员工数量约为100，平均工资约为55,000-56,000美元）的影响不大。然而，这些结果将阻止伊芙得出结论，即一月份到二月份之间私人公司增加了一名新员工（因为99
    - 104 = -5），并确定他们的工资，从而降低莫利个人隐私信息泄露的风险。
- en: This example shows how DP works by adding random noise to the aggregated data
    before publishing it. The next question is, how much noise should be added for
    each DP application? To answer this question, we’ll introduce the concepts of
    *sensitivity* and *privacy budget* within DP applications.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子展示了DP是如何通过在发布之前向汇总数据添加随机噪声来工作的。接下来要问的问题是，每个DP应用应该添加多少噪声？为了回答这个问题，我们将在DP应用中介绍*敏感性*和*隐私预算*的概念。
- en: The sensitivity of DP applications
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: DP应用的敏感性
- en: One of the core technical problems in DP is to determine the amount of random
    noise to be added to the aggregated data before publishing it. The random noise
    cannot come from an arbitrary random variable.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: DP中的一个核心技术问题是在发布之前确定要添加到汇总数据中的随机噪声量。随机噪声不能来自任意随机变量。
- en: If the random noise is too small, it cannot provide enough protection for each
    individual’s private information. For example, if Alice reported that the company
    has 100.1 employees (i.e., +0.1 noise) and the average salary is $55,000.10 (i.e.,
    +$0.10 noise), while in February Bob reported that the private company has 101.2
    employees (i.e., +0.2 noise) and the average salary is $55,999.90 (i.e., −$0.10
    noise), Eve could still infer that one new employee had likely joined the company,
    and that their salary was around $155,979.90, which is virtually identical to
    $156,000.00, the actual value.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果随机噪声太小，它无法为每个个体的隐私信息提供足够的保护。例如，如果爱丽丝报告称公司有100.1名员工（即+0.1噪声）和平均工资为55,000.10美元（即+$0.10噪声），而鲍勃在二月报告称这家私人公司有101.2名员工（即+0.2噪声）和平均工资为55,999.90美元（即-$0.10噪声），那么伊芙仍然可以推断出可能有一名新员工加入了公司，他们的工资大约是155,979.90美元，这几乎与实际值156,000.00美元相同。
- en: Similarly, the published aggregated data would be distorted and meaningless
    if the random noise were too large; it would provide no utility. For instance,
    if Alice reported that the private company has 200 employees (i.e., +100 noise)
    and the average salary is $65,000 (i.e., +$10,000 noise), while Bob reported that
    the company has 51 employees (i.e., −50 noise) and the average salary is $50,000
    (i.e., -$6,000 noise), nearly none of the employees’ private information would
    be revealed, but the reports would not provide any meaningful information about
    the real situation.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，如果随机噪声太大，发布的汇总数据将会失真且没有意义；它将无法提供任何效用。例如，如果爱丽丝报告称私人公司有200名员工（即+100噪声）和平均工资为65,000美元（即+$10,000噪声），而鲍勃报告称公司有51名员工（即-50噪声）和平均工资为50,000美元（即-$6,000噪声），几乎不会泄露任何员工的隐私信息，但报告不会提供关于真实情况的任何有意义的信息。
- en: How can we possibly decide on the amount of random noise to be added to the
    aggregated data, in a meaningful and scientific way? Roughly speaking, if you
    have an application or analysis that needs to publish aggregated data from a dataset,
    the amount of random noise to be added should be proportional to the largest possible
    difference that one individual’s private information (e.g., one row within a database
    table) could make to that aggregated data. In DP, we call “the largest possible
    difference that one individual’s private information could make” the *sensitivity*
    of the DP application. The sensitivity usually measures the maximum possible effect
    that each individual’s information can have on the output of the analysis.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们如何可能以一种有意义和科学的方式决定添加到聚合数据中的随机噪声的数量？粗略地说，如果你有一个需要从数据集中发布聚合数据的应用或分析，那么需要添加的随机噪声的数量应该与单个个体的私人信息（例如，数据库表中的一行）对聚合数据可能造成最大差异成比例。在差分隐私（DP）中，我们将“单个个体的私人信息可能造成的最大差异”称为DP应用的**敏感性**。敏感性通常衡量每个个体的信息对分析输出可能产生的最大影响。
- en: 'For example, in our private company scenario, we have two aggregated datasets
    to be published: the total number of employees and the average salary. Since an
    old employee leaving or a new employee joining the company could at most make
    a +1 or −1 difference to the total number of employees, its sensitivity is 1\.
    For the average salary, since different employees (having different salaries)
    leaving or joining the company could have different influences on the average
    salary, the largest possible difference would come from the employee who has the
    highest possible salary. Thus, the sensitivity of the average salary should be
    proportional to the highest salary.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在我们的私人公司场景中，我们有两个要发布的聚合数据集：员工总数和平均工资。由于老员工离职或新员工加入公司最多只会对员工总数造成+1或-1的差异，其敏感性为1。对于平均工资，由于不同工资的员工（具有不同的工资）离职或加入公司可能会对平均工资产生不同的影响，最大可能差异将来自具有最高可能工资的员工。因此，平均工资的敏感性应该与最高工资成比例。
- en: It is usually difficult to calculate the exact sensitivity for an arbitrary
    application, and we need to estimate some sensitivities. We will discuss the mathematical
    definitions and sensitivity calculations for more complex scenarios in section
    2.2.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任意应用，通常很难计算确切的敏感性，我们需要估计一些敏感性。我们将在第2.2节中讨论更复杂场景的数学定义和敏感性计算。
- en: 'There’s no free lunch for DP: The privacy budget of dp'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 对于差分隐私（DP）来说，没有免费的午餐：dp的隐私预算
- en: As you’ve seen, it is essential to determine the appropriate amount of random
    noise to add when applying DP. The random noise should be proportional to the
    sensitivity of the applications (mean estimation, frequency estimation, regression,
    classification, etc.). But “proportional” is a fuzzy word that could refer to
    a small proportion or a large proportion. What else should we consider when determining
    the amount of random noise to be added?
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，确定在应用DP时添加的随机噪声的适当数量是至关重要的。随机噪声应该与应用的敏感性（均值估计、频率估计、回归、分类等）成比例。但“成比例”这个词是模糊的，可能指小比例或大比例。在确定添加的随机噪声数量时，我们还应该考虑什么其他因素？
- en: Let’s first revisit our private company scenario, where random noise is added
    to the query results from the database (before and after Mallory joins the company).
    Ideally, when applying DP, the estimation of the average salary should remain
    the same regardless of whether an employee, like Mallory, leaves or joins the
    company. However, ensuring that the estimate is “exactly the same” would require
    the total salary to exclude Mallory’s information for this study. However, we
    could continue with the same argument and exclude the personal information of
    every employee in the company’s database. But if the estimated average salary
    cannot rely on any employee’s information, it would be not very meaningful.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先回顾一下我们的私人公司场景，在这个场景中，随机噪声被添加到数据库的查询结果中（在Mallory加入公司之前和之后）。理想情况下，在应用DP时，平均工资的估计应该保持不变，无论像Mallory这样的员工是离开还是加入公司。然而，确保估计“完全相同”需要排除Mallory的信息来进行这项研究。然而，我们可以继续使用相同的论点，并排除公司数据库中每位员工的个人信息。但如果估计的平均工资不能依赖于任何员工的信息，那么它将没有太多意义。
- en: To avoid this dilemma, DP requires that the output of the analysis remain “approximately
    the same” but not “exactly the same” both with and without Mallory’s information.
    In other words, DP permits a slight deviation between the output of the analyses
    with or without any individual’s information. The permitted deviation is referred
    to as the *privacy budget* for DP. If you can tolerate more permitted deviation
    when you include or exclude an individual’s data, you can tolerate more privacy
    leakage, and you thus have more privacy budget to spend.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免这种困境，DP要求分析结果的输出在有无Mallory信息的情况下都保持“大致相同”，而不是“完全相同”。换句话说，DP允许在有无任何个人信息的分析输出之间存在轻微的偏差。这种允许的偏差被称为DP的*隐私预算*。如果你在包含或排除个人数据时可以容忍更大的允许偏差，那么你可以容忍更多的隐私泄露，因此你有更多的隐私预算可以花费。
- en: The Greek letter ϵ (epsilon) is utilized to represent this privacy budget when
    quantifying the extent of the permitted deviation. The privacy budget ϵ is usually
    set by the data owners to tune the level of privacy protection required. A smaller
    value of ϵ results in a smaller permitted deviation (less privacy budget) and
    thus is associated with more robust privacy protection but less accuracy for utility.
    There is no free lunch with DP. For instance, we can set ϵ to 0, which permits
    zero privacy budget and provides perfect privacy protection meaning no privacy
    leakage under the definition of DP. The analysis output would always be the same
    no matter whose information has been added or removed. However, as we discussed
    previously, this also requires ignoring all the information available and thus
    would not provide any meaningful results. What if we set ϵ to 0.1, a small number
    but larger than zero? The permitted deviation with or without any individual’s
    information would be slight, providing more robust privacy protection and enabling
    data users (such as news reporters) to learn something meaningful.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 希腊字母ϵ（epsilon）用于表示这种隐私预算，在量化允许偏差的程度时。隐私预算ϵ通常由数据所有者设置，以调整所需的隐私保护水平。较小的ϵ值会导致较小的允许偏差（更少的隐私预算），因此与更强的隐私保护但更低的效用准确性相关。在DP中没有免费的午餐。例如，我们可以将ϵ设置为0，这允许零隐私预算并提供完美的隐私保护，即在DP的定义下没有隐私泄露。分析输出将始终相同，无论是否添加或删除了信息。然而，正如我们之前讨论的，这也需要忽略所有可用的信息，因此不会提供任何有意义的成果。如果我们把ϵ设置为0.1，一个很小的数但大于零呢？有无任何个人信息的允许偏差将会很小，提供更强的隐私保护，并使数据用户（如新闻记者）能够了解一些有意义的成果。
- en: In practice, ϵ is usually a small number. For statistical analysis tasks such
    as mean or frequency estimation, ϵ is generally set between 0.001 and 1.0\. For
    ML or deep learning tasks, ϵis usually set somewhere between 0.1 and 10.0.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，ϵ通常是一个很小的数。对于如均值或频率估计之类的统计分析任务，ϵ通常设置在0.001和1.0之间。对于机器学习或深度学习任务，ϵ通常设置在0.1和10.0之间。
- en: Formulating a DP solution for our private company scenario
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 为我们的私有公司场景制定DP解决方案
- en: You probably now have a general understanding of DP and how to derive the random
    noise based on the sensitivity of the application and the data owner’s privacy
    budget. Let’s see how we can apply these techniques to our previous private company
    example mathematically.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能现在对DP（差分隐私）以及如何根据应用的敏感性和数据所有者的隐私预算推导随机噪声有一个大致的了解。让我们看看我们如何将这些技术应用到我们之前的私有公司示例中，从数学上进行阐述。
- en: 'In figure 2.4, the private company’s January database (before Mallory joined
    the company) is on the left, and that’s what Alice queries. On the right side
    is the private company’s February database (after Mallory joins the company),
    and it’s what Bob queries. We want to derive differentially private solutions
    so the private company can share two aggregated values with the public (Alice
    and Bob): the total number of employees and the average salary.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在图2.4中，私有公司的一月数据库（在Mallory加入公司之前）位于左侧，这是Alice查询的内容。右侧是私有公司二月的数据库（在Mallory加入公司之后），这是Bob查询的内容。我们想要推导出差分隐私解决方案，以便私有公司可以与公众（Alice和Bob）共享两个汇总值：员工总数和平均工资。
- en: '![CH02_F04_Zhuang](../../OEBPS/Images/CH02_F04_Zhuang.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F04_Zhuang](../../OEBPS/Images/CH02_F04_Zhuang.png)'
- en: Figure 2.4 An excerpt from our private company’s database
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4 我们私有公司数据库的摘录
- en: Let’s start with the easier task, publishing the total number of employees.
    First, we’ll derive the sensitivity. As we’ve explained, it does not matter whether
    an employee is leaving or joining the company; the influence on the total number
    of employees is 1, so the sensitivity of this task is 1\. Second, we need to design
    the random noise that will be added to the total number of employees before publishing
    it. As discussed previously, the amount of noise should be positively correlated
    to the sensitivity and negatively correlated to the privacy budget (since less
    privacy budget means stronger privacy protection, thus requiring more noise).
    The random noise should be proportional to △f/ϵ, where△f is the sensitivity and
    ϵ is the privacy budget.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从更容易的任务开始，发布员工总数。首先，我们将推导出敏感性。正如我们之前解释的，无论员工是离职还是加入公司，对员工总数的总影响都是1，因此这个任务的敏感性是1。其次，我们需要设计在发布之前添加到员工总数中的随机噪声。如前所述，噪声的量应该与敏感性正相关，与隐私预算负相关（因为更少的隐私预算意味着更强的隐私保护，因此需要更多的噪声）。随机噪声应该与△f/ϵ成正比，其中△f是敏感性，ϵ是隐私预算。
- en: In this example, we could draw our random noise from the zero-mean Laplace distribution,
    which is a “double-sided” exponential distribution, illustrated in figure 2.5.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在本例中，我们可以从零均值拉普拉斯分布中抽取我们的随机噪声，这是一种“双边”指数分布，如图2.5所示。
- en: The Laplace distribution
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 拉普拉斯分布
- en: The Laplace distribution (centered at μ; usually we use μ = 0) with scale b
    is defined by the probability density function as
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 以尺度b为中心的拉普拉斯分布（通常我们使用μ = 0）由概率密度函数定义为
- en: '![CH02_F04_zhuang-ch2-eqs-1x](../../OEBPS/Images/CH02_F04_zhuang-ch2-eqs-1x.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F04_zhuang-ch2-eqs-1x](../../OEBPS/Images/CH02_F04_zhuang-ch2-eqs-1x.png)'
- en: where the variance is σ² = 2b². We can also consider the Laplace distribution
    as a symmetric version of the exponential distribution.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 其中方差为σ² = 2b²。我们还可以将拉普拉斯分布视为指数分布的对称版本。
- en: '![CH02_F05_Zhuang](../../OEBPS/Images/CH02_F05_Zhuang.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F05_Zhuang](../../OEBPS/Images/CH02_F05_Zhuang.png)'
- en: Figure 2.5 The Laplace distribution
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.5 拉普拉斯分布
- en: With that, we can calculate b = △f/ϵ and draw random noise from Lap (x|△f/ϵ)
    to be added to the total number of employees. Figure 2.6 illustrates the published
    total number of employees for January and February while applying different privacy
    budgets (i.e., ϵ). Based on the definition of DP, better privacy protection usually
    means the numbers of employees published in January and February are closer to
    each other with a higher probability. In other words, the results have a lower
    probability of revealing Mallory’s information to anyone seeing those two published
    values. The utility performance usually refers to the accuracy of the computations
    of certain aggregated data or statistics. In this case, it refers to the difference
    between the published perturbed value and its real value, with a lower difference
    meaning better utility performance. There is usually a tradeoff between privacy
    protection and utility performance for any data anonymization algorithm, including
    DP. For instance, as ϵ decreases, more noise will be added, and the difference
    between the two published values will be closer to each other, thus leading to
    stronger privacy protection. In contrast, specifying a larger value for ϵ could
    provide better utility but less privacy protection.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个，我们可以计算出b = △f/ϵ，并从拉普拉斯分布（x|△f/ϵ）中抽取随机噪声添加到员工总数中。图2.6展示了在应用不同的隐私预算（即ϵ）的情况下，1月和2月发布的员工总数。根据差分隐私（DP）的定义，更好的隐私保护通常意味着1月和2月发布的员工人数更有可能接近。换句话说，结果有更低的概率向看到这两个发布值的人泄露Mallory的信息。效用性能通常指的是某些聚合数据或统计计算的准确性。在这种情况下，它指的是发布扰动值与其真实值之间的差异，差异越小意味着效用性能越好。对于任何数据匿名化算法，包括DP，通常在隐私保护和效用性能之间有一个权衡。例如，当ϵ减小时，将添加更多的噪声，两个发布值之间的差异将更接近，从而提供更强的隐私保护。相反，指定较大的ϵ值可以提供更好的效用但较少的隐私保护。
- en: '![CH02_F06_Zhuang](../../OEBPS/Images/CH02_F06_Zhuang.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F06_Zhuang](../../OEBPS/Images/CH02_F06_Zhuang.png)'
- en: Figure 2.6 The tradeoff between privacy and utility
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.6 隐私与效用之间的权衡
- en: Now let’s consider the case of publishing the differentially private average
    salary. Regardless of whether any individual employee leaves or joins the company,
    the largest possible difference should come from the employee with the highest
    possible salary (in this case the CEO, Jack, who makes $290,000). For instance,
    in the extreme situation where there is only one employee in the database, and
    that happens to be the CEO, Jack, who has the highest possible salary, $290,000,
    his leaving would result in the largest possible difference to the company’s average
    salary. Hence, the sensitivity should be $290,000\. We can now follow the same
    procedure as we did for the total number of employees, adding random noise drawn
    from Lap (x|△f/ϵ).
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们考虑发布差异隐私平均工资的情况。无论任何个别员工是否离职或加入公司，最大的可能差异应来自可能最高工资的员工（在这种情况下是CEO杰克，他年薪290,000美元）。例如，在极端情况下，数据库中只有一名员工，而且恰好是CEO杰克，他有最高的可能工资，290,000美元，他的离职将导致公司平均工资的最大可能差异。因此，敏感性应为290,000美元。现在我们可以遵循与总员工数相同的程序，添加从Lap（x|△f/ϵ）抽取的随机噪声。
- en: We’ll look at the details of applying random noise drawn from the Laplace distribution
    in the next section. For more information regarding the mathematics and formal
    definition of DP, refer to section A.1 of the appendix.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在下一节中详细探讨从拉普拉斯分布中抽取随机噪声的应用。有关DP的数学和正式定义的更多信息，请参阅附录A.1节。
- en: 2.2 Mechanisms of differential privacy
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.2 差分隐私机制
- en: In the last section we introduced the definition and usage of DP. In this section
    we’ll discuss some of the most popular mechanisms in DP, which will also become
    building blocks for many DP ML algorithms that we’ll introduce in this book. You
    can also use these mechanisms in your own design and development.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们介绍了DP的定义和用法。在本节中，我们将讨论DP中最受欢迎的一些机制，这些机制也将成为我们将在本书中介绍的许多DP ML算法的构建块。您也可以将这些机制用于您自己的设计和开发。
- en: We’ll start with an old but simple DP mechanism—binary mechanism (randomized
    response).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从一种古老但简单的DP机制——二进制机制（随机响应）开始。
- en: 2.2.1 Binary mechanism (randomized response)
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2.1 二进制机制（随机响应）
- en: Binary mechanism (randomized response) [5] is an approach that has long been
    utilized by social scientists in social science studies (since the 1970s), and
    it is much older than the formulation of DP. Although the randomized response
    is simple, it satisfies all the requirements of a DP mechanism.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 二进制机制（随机响应）[5]是一种长期以来被社会科学家在社会科学研究中使用的方法（自20世纪70年代以来），它比DP公式的制定要早得多。尽管随机响应很简单，但它满足了DP机制的所有要求。
- en: Let’s assume that we need to survey of a group of 100 people on whether they
    have used marijuana in the last 6 months. The answer collected from each individual
    will be either yes or no, which is considered a *binary response*. We can give
    the value 1 to each “yes” answer and 0 to each “no” answer. Thus, we can obtain
    the percentage of marijuana usage in the survey group by counting the number of
    1s.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们需要对100人进行调查，了解他们在过去6个月内是否使用过大麻。从每个人那里收集到的答案将是是或否，这被视为*二元响应*。我们可以将每个“是”答案赋予值1，每个“否”答案赋予值0。因此，我们可以通过计算1的数量来获得调查组中大麻使用率的百分比。
- en: 'To protect the privacy of each individual, we could apply a small amount of
    noise to each real answer before the submitted answer is collected. Of course,
    we are also hoping that the added noise will not alter the final survey results.
    To design a differentially private solution to collect the survey data, we could
    use a balanced coin (i.e., p = 0.5) for the randomized response mechanism, which
    proceeds as follows and is depicted in figure 2.7:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保护每个个体的隐私，我们可以在收集提交答案之前对每个真实答案应用少量噪声。当然，我们也希望添加的噪声不会改变最终的调查结果。为了设计一个差异隐私解决方案来收集调查数据，我们可以使用平衡硬币（即，p
    = 0.5）作为随机响应机制，其过程如下，并在图2.7中展示：
- en: Flip a balanced coin.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 抛一个公平的硬币。
- en: If it comes up heads, the submitted answer is the same as the real answer (0
    or 1).
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果硬币正面朝上，提交的答案与真实答案相同（0或1）。
- en: If the coin comes up tails, flip the balanced coin one more time, and answer
    1 if it comes up heads and 0 if tails.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果硬币反面朝上，再抛一次公平的硬币，如果正面朝上则回答1，如果反面朝上则回答0。
- en: '![CH02_F07_Zhuang](../../OEBPS/Images/CH02_F07_Zhuang.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_Zhuang](../../OEBPS/Images/CH02_F07_Zhuang.png)'
- en: Figure 2.7 How the binary mechanism (randomized response) works
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.7 二进制机制（随机响应）的工作原理
- en: The randomization in this algorithm comes from the two coin flips. This randomization
    creates uncertainty about the true answer, which provides the source of privacy.
    In this case, each data owner has a 3/4 probability of submitting the real answer
    and 1/4 chance of submitting the wrong answer. For a single data owner, their
    privacy will be preserved, since we will never be sure whether they are telling
    the truth. But the data user that conducts the survey will still get the desired
    answers, since 3/4 of the participants are expected to tell the truth.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 该算法中的随机化来自两次抛硬币。这种随机化产生了关于真实答案的不确定性，这为隐私提供了来源。在这种情况下，每个数据所有者有 3/4 的概率提交真实答案，有
    1/4 的机会提交错误答案。对于单个数据所有者，他们的隐私将得到保护，因为我们永远无法确定他们是否在说真话。但进行调查的数据用户仍然会得到期望的答案，因为预计有
    3/4 的参与者会说出真相。
- en: Let’s revisit the definition of ϵ-DP (a more detailed and formal definition
    of DP can be found in section A.1). Let’s say we have a simple randomized response
    mechanism, which we’ll call *M* for now. This *M* satisfies ϵ-DP for every two
    neighboring databases or datasets, *x*, *y*, and for every subset *S* ⊆ *Range*(*M*),
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下 ϵ-DP 的定义（更详细和正式的 DP 定义可以在 A.1 节找到）。假设我们有一个简单的随机响应机制，我们暂时将其称为 *M*。这个
    *M* 对于每对相邻数据库或数据集 *x*、*y* 以及对于每个子集 *S* ⊆ *Range*(*M*)，都满足 ϵ-DP。
- en: '![CH02_F07_zhuang-ch2-eqs-5x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-5x.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-5x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-5x.png)'
- en: 'In our example with the two coin flips, the data is either 1 or 0, and the
    output of M is also either 1 or 0\. Hence, we have the following:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的两个抛硬币的例子中，数据要么是 1 要么是 0，M 的输出也是要么是 1 要么是 0。因此，我们有以下结果：
- en: '![CH02_F07_zhuang-ch2-eqs-6x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-6x.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-6x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-6x.png)'
- en: We can deduce that our simple randomized response mechanism M satisfies ln(3)-DP,
    where ln(3) is the privacy budget (ln(3) ≈ 1.099).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以推断出我们的简单随机响应机制 M 满足 ln(3)-DP，其中 ln(3) 是隐私预算（ln(3) ≈ 1.099）。
- en: The basic idea of randomized response is that, while answering a binary question,
    one can tell the truth with higher probability and give the false answer with
    lower probability. The utility can be maintained by the somewhat higher probability
    of telling the truth, while privacy is theoretically protected by randomizing
    one’s response. In the previous example, we assumed that the coin is balanced.
    If we used an unbalanced coin, we could formulate a randomized response mechanism
    that satisfies other DP privacy budgets.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 随机响应的基本思想是，在回答一个二元问题时，一个人可以以更高的概率说出真相，以更低的概率给出错误答案。可以通过稍微提高说出真相的概率来维持效用，而隐私则通过随机化个人的回答在理论上得到保护。在先前的例子中，我们假设硬币是平衡的。如果我们使用一个不平衡的硬币，我们可以制定一个满足其他差分隐私预算的随机响应机制。
- en: 'Based on the mechanism in figure 2.7, let’s assume the coin will come up heads
    with probability p and come up tails with probability (1 − p), where p > 1/2:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 基于图 2.7 中的机制，假设硬币以概率 p 出现正面，以概率 (1 − p) 出现反面，其中 p > 1/2：
- en: Given an arbitrary survey participant, their answer will be either 0 or 1, depending
    on whether the participant answered truthfully with a “no” or “yes.”
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于任意一个调查参与者，他们的答案将是 0 或 1，这取决于参与者是否以“否”或“是”的方式诚实地回答。
- en: The output of our randomized response mechanism M can also be either 0 or 1.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们随机响应机制 M 的输出也可以是 0 或 1。
- en: Based on the definition of DP, we have
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 根据DP的定义，我们有
- en: '![CH02_F07_zhuang-ch2-eqs-8x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-8x.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-8x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-8x.png)'
- en: '![CH02_F07_zhuang-ch2-eqs-9x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-9x.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-9x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-9x.png)'
- en: Then we have
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们有
- en: '![CH02_F07_zhuang-ch2-eqs-10x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-10x.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-10x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-10x.png)'
- en: Since we assume p > 1/2, we have
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们假设 p > 1/2，因此我们有
- en: '![CH02_F07_zhuang-ch2-eqs-11x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-11x.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-11x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-11x.png)'
- en: Therefore, the privacy budget of using an unbalanced coin is
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，使用不平衡硬币的隐私预算为
- en: '![CH02_F07_zhuang-ch2-eqs-12x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-12x.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-12x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-12x.png)'
- en: That is the general formulation for calculating the privacy budget for the randomized
    response mechanism.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是计算随机响应机制隐私预算的一般公式。
- en: 'Now let’s try to formulate the concept with pseudocode, where x indicates the
    true value, and it can be either 0 or 1:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们尝试用伪代码来表述这个概念，其中 x 表示真实值，可以是 0 或 1：
- en: '[PRE0]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Let’s take a closer look at the privacy budget of our binary mechanism while
    using different values for p (i.e., the probability of the coin coming up heads).
    Based on the preceding analysis, if p = 0.8, the privacy budget of our binary
    mechanism would be ln(1 + 0.8/(0.2 × 0.2)), leading to ln(21), which is 3.04\.
    We can compare this to the earlier p = 0.5 example, whose privacy budget was ln(3)
    = 1.099.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更仔细地看看我们二进制机制在不同 p 值（即硬币出现正面的概率）下的隐私预算。根据前面的分析，如果 p = 0.8，我们二进制机制的隐私预算将是
    ln(1 + 0.8/(0.2 × 0.2))，即 ln(21)，大约是 3.04。我们可以将其与之前的 p = 0.5 的例子进行比较，其隐私预算是 ln(3)
    = 1.099。
- en: As we discussed in the previous section, the privacy budget can be considered
    a measure of tolerance to privacy leakage. In this example, a higher p value means
    less noise is added (since it will generate the true answer with a higher probability),
    leading to more privacy leakage and a higher privacy budget. In essence, with
    this binary mechanism, the users can adjust the p value to accommodate their own
    privacy budget.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，隐私预算可以被视为对隐私泄露容忍度的度量。在这个例子中，更高的 p 值意味着添加的噪声更少（因为它更有可能生成正确答案），导致更多的隐私泄露和更高的隐私预算。本质上，通过这个二进制机制，用户可以调整
    p 值以适应他们自己的隐私预算。
- en: 2.2.2 Laplace mechanism
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2.2 拉普拉斯机制
- en: In the binary mechanism, the privacy budget was determined by the probability
    of flipping a coin. In contrast, the Laplace mechanism achieves DP by adding random
    noise drawn from a Laplace distribution to the target queries or functions [6].
    We already touched on the Laplace mechanism in the solution to our private company
    scenario. In this section we’ll introduce the Laplace mechanism in a more systematic
    way and walk through some examples.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在二进制机制中，隐私预算由抛硬币的概率决定。相比之下，拉普拉斯机制通过向目标查询或函数添加来自拉普拉斯分布的随机噪声来实现 DP [6]。我们已经在私有公司场景的解决方案中提到了拉普拉斯机制。在本节中，我们将更系统地介绍拉普拉斯机制，并通过一些例子进行说明。
- en: Let’s go back to our private company scenario. To design a differentially private
    solution using the Laplace mechanism, we simply perturbed the output of the query
    function f (e.g., the total number of employees or the average salary) with random
    noise drawn from a Laplace distribution whose scale was correlated to the sensitivity
    of the query function f (divided by the privacy budget ϵ).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到我们的私有公司场景。要设计一个使用拉普拉斯机制的不同隐私解决方案，我们只需用来自拉普拉斯分布的随机噪声扰动查询函数 f 的输出（例如，员工总数或平均工资），其尺度与查询函数
    f 的敏感性相关（除以隐私预算 ϵ）。
- en: According to the design of the Laplace mechanism, given a query function f(x)
    that returns a numerical value, the following perturbed function satisfies ϵ-DP,
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 根据拉普拉斯机制的设计，给定一个返回数值的查询函数 f(x)，以下扰动函数满足 ϵ-DP，
- en: '![CH02_F07_zhuang-ch2-eqs-CR-14x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-CR-14x.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_zhuang-ch2-eqs-CR-14x](../../OEBPS/Images/CH02_F07_zhuang-ch2-eqs-CR-14x.png)'
- en: where △f is the sensitivity of query function f(x), and Lap (△f/ϵ) denotes the
    random noise drawn from the Laplace distribution with center 0 and scale △f/ϵ.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 △f 是查询函数 f(x) 的敏感性，Lap (△f/ϵ) 表示从以 0 为中心、尺度为 △f/ϵ 的拉普拉斯分布中抽取的随机噪声。
- en: We established the concept of *sensitivity* in the previous section, but let’s
    do a refresh! Intuitively, the sensitivity of a function provides an upper bound
    on how much we have to perturb its output to preserve the individual’s privacy.
    For instance, in our previous example, where the database contains all employees’
    salaries and the query function aims to calculate the average salary of all employees,
    the sensitivity of the query function should be determined by the highest salary
    in the database (e.g., the CEO’s salary). That’s because the higher the specific
    employee’s salary, the more influence it will have on the query’s output (i.e.,
    the average salary) in the database. If we can protect the privacy of the employee
    with the highest salary, the privacy of the other employees is guaranteed. That’s
    why it is important to identify the sensitivity when designing a differentially
    private algorithm.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在上一个章节中建立了 *敏感性* 的概念，但让我们来回顾一下！直观地说，一个函数的敏感性提供了对其输出进行扰动以保护个体隐私的上限。例如，在我们之前的例子中，数据库包含所有员工的薪水，查询函数旨在计算所有员工的平均薪水，查询函数的敏感性应由数据库中的最高薪水（例如，CEO
    的薪水）决定。这是因为特定员工的薪水越高，它对数据库中查询输出（即平均薪水）的影响就越大。如果我们能够保护最高薪水的员工的隐私，其他员工的隐私就得到了保障。这就是为什么在设计差分隐私算法时识别敏感性很重要的原因。
- en: 'Now let’s explore some pseudocode that applies the Laplace mechanism:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们探索一些应用拉普拉斯机制的伪代码：
- en: '[PRE1]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: DP is typically designed and used in applications to answer specific queries.
    Before we go into any further detail, let’s explore some query examples that could
    apply the Laplace mechanism.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: DP 通常被设计和用于应用程序中以回答特定的查询。在我们深入探讨更多细节之前，让我们探索一些可能应用拉普拉斯机制的查询示例。
- en: 'Example 1: Differentially private counting queries'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 示例 1：差分隐私计数查询
- en: Counting queries are queries of the form “How many elements in the database
    satisfy a given property P ?” Many problems can be considered counting queries.
    Let’s first consider a counting query regarding census data without applying DP.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 计数查询是形式为“数据库中有多少元素满足给定的属性 P？”的查询。许多问题都可以被视为计数查询。让我们首先考虑一个未应用 DP 的关于人口普查数据的计数查询。
- en: In the following listing, we are calculating the number of individuals in the
    dataset who are more than 50 years old.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的列表中，我们正在计算数据集中年龄超过 50 岁的个体数量。
- en: Listing 2.1 Counting query
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.1 计数查询
- en: '[PRE2]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: ❶ How many individuals in the census dataset are more than 50 years old?
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 人口普查数据集中有多少个体年龄超过 50 岁？
- en: The output will be 6,460.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将为 6,460。
- en: 'Now let’s look at ways to apply DP to this kind of counting query. To apply
    DP on this query, we first need to determine the sensitivity of the query task,
    which is querying the number of individuals more than 50 years old. Since any
    single individual leaving or joining the census dataset could change the count
    at most by 1, the sensitivity of this counting query task is 1\. Based on our
    previous description of the Laplace mechanism, we can add noise drawn from Lap(1/ϵ)
    to each counting query before publishing it, where ϵ is the privacy specified
    by the data owners. We can implement the DP version of this counting query by
    using NumPy’s random.laplace, as follows (using ϵ = 0.1, loc=0 for center 0):'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看如何将 DP 应用到这种计数查询。要应用 DP 到这个查询，我们首先需要确定查询任务（查询超过 50 岁的个体数量）的敏感性。由于任何单个个体离开或加入人口普查数据集最多只能改变计数
    1，因此这种计数查询任务的敏感性为 1。根据我们之前对拉普拉斯机制的描述，我们可以在发布之前向每个计数查询添加从拉普(1/ϵ)抽取的噪声，其中 ϵ 是数据所有者指定的隐私。我们可以通过使用
    NumPy 的 random.laplace 来实现这种计数查询的 DP 版本，如下所示（使用 ϵ= 0.1，loc=0 作为中心）：
- en: '[PRE3]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output is 6,472.024,453,709,334\. As you can see, the result of the differentially
    private counting query is still close to the real value of 6,460 while using ϵ=
    0.1\. Let’s try it with a much smaller ϵ(which means it will add more noise),
    ϵ= 0.001:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 输出为 6,472.024,453,709,334。如您所见，使用 ϵ= 0.1 时，差分隐私计数查询的结果仍然接近真实值 6,460。让我们尝试使用一个更小的
    ϵ（这意味着将添加更多噪声），ϵ= 0.001：
- en: '[PRE4]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The output is 7,142.911,556,855,243\. As you can see, when we use ϵ = 0.001,
    the result has more noise added to the real value (6,460).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 输出为 7,142.911,556,855,243。如您所见，当我们使用 ϵ= 0.001 时，结果与真实值（6,460）相比增加了更多噪声。
- en: 'Example 2: Differentially private histogram queries'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 示例 2：差分隐私直方图查询
- en: We can consider a histogram query to be a special case of a counting query,
    where the data is partitioned into disjoint cells and the query asks how many
    database elements lie in each of the cells. For example, suppose a data user would
    like to query the histogram of ages from the census data. How could we design
    a differentially private histogram query to study the distribution of ages without
    compromising the privacy of a single individual?
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将直方图查询视为计数查询的一种特殊情况，其中数据被划分为不相交的单元格，查询询问每个单元格中有多少数据库元素。例如，假设一个数据用户想要查询人口普查数据中的年龄直方图。我们如何设计一个差分隐私直方图查询来研究年龄分布而不损害单个个体的隐私？
- en: First, let’s first explore a histogram query of ages on the census data without
    DP.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们先探索在无DP的情况下对人口普查数据中年龄的直方图查询。
- en: Listing 2.2 Histogram query without DP
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.2 无DP的直方图查询
- en: '[PRE5]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: We will get output similar to figure 2.8.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将得到类似于图2.8的输出。
- en: '![CH02_F08_Zhuang](../../OEBPS/Images/CH02_F08_Zhuang.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F08_Zhuang](../../OEBPS/Images/CH02_F08_Zhuang.png)'
- en: Figure 2.8 Output of the histogram query without DP
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.8 无DP的直方图查询输出
- en: To apply DP on this histogram query, we first need to calculate the sensitivity.
    Since the sensitivity of a histogram query is 1 (adding or deleting the information
    of a single individual can change the number of elements in a cell by at most
    1), the sensitivity of the histogram query task is 1\. Next, we need to add noise
    drawn from Lap (1/ϵ) to each of the histogram cells before publishing it, where
    ϵ is the privacy budget specified by the data owners.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 要应用DP于这个直方图查询，我们首先需要计算敏感性。由于直方图查询的敏感性为1（添加或删除单个个体的信息最多可以改变单元格中的元素数量1个），因此直方图查询任务的敏感性为1。接下来，我们需要在发布之前向每个直方图单元格添加从Lap(1/ϵ)抽取的噪声，其中ϵ是数据所有者指定的隐私预算。
- en: We could easily implement the DP version of this histogram query using NumPy’s
    random.laplace, as in our previous example. Here we will explore an implementation
    using IBM’s Differential Privacy Library, diffprivlib.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以很容易地使用NumPy的random.laplace实现这个直方图查询的DP版本，就像我们之前的例子一样。在这里，我们将探索使用IBM的差分隐私库diffprivlib的实现。
- en: 'First, install diffprivlib and import diffprivlib.mechanisms.Laplace:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，安装diffprivlib并导入diffprivlib.mechanisms.Laplace：
- en: '[PRE6]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now we can implement the DP version of the histogram query using diffprivlib
    .mechanisms.Laplace.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以使用diffprivlib .mechanisms.Laplace实现直方图查询的DP版本。
- en: Listing 2.3 DP version of the histogram query
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.3 直方图查询的DP版本
- en: '[PRE7]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then the differentially private histogram query works as follows (ϵ = 0.01):'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，差分隐私直方图查询的工作方式如下（ϵ = 0.01）：
- en: '[PRE8]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The output will look like the right side of figure 2.9\. Can you see the difference
    between the histogram queries before and after applying DP? Even after applying
    DP, the shape of the distribution is still essentially the same, isn’t it?
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将类似于图2.9的右侧。你能看到在应用DP前后直方图查询之间的差异吗？即使应用了DP，分布的形状仍然基本上是相同的，不是吗？
- en: '![CH02_F09_Zhuang](../../OEBPS/Images/CH02_F09_Zhuang.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F09_Zhuang](../../OEBPS/Images/CH02_F09_Zhuang.png)'
- en: Figure 2.9 Comparing the histogram queries before and after applying DP
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9 比较应用DP前后的直方图查询
- en: The preceding two examples demonstrate that the most important step when applying
    the Laplace mechanism is to derive the appropriate sensitivity for a given application.
    Let’s go through some exercises to learn how to determine the sensitivity of the
    Laplace mechanism in different situations.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个例子表明，在应用拉普拉斯机制时，最重要的步骤是为给定的应用推导出适当的敏感性。让我们通过一些练习来学习如何在不同情况下确定拉普拉斯机制的敏感性。
- en: 'Exercise 1: Differentially private frequency estimation'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 练习1：差分隐私频率估计
- en: Suppose we have a class of students, some of whom like to play football, while
    others do not (see table 2.1). The teacher wants to know which of the two groups
    has the greatest number of students. This question can be considered a special
    case of the histogram query. What’s the sensitivity of this application?
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个学生班级，其中一些学生喜欢踢足球，而另一些则不喜欢（见表2.1）。老师想知道哪一组学生人数最多。这个问题可以被视为直方图查询的特殊情况。这个应用的敏感性是多少？
- en: Table 2.1 Students who do and don’t like football
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 表2.1 爱踢足球和不踢足球的学生
- en: '| Student name | Likes football |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| 学生姓名 | 是否喜欢足球 |'
- en: '| Alice | Yes |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| Alice | 是 |'
- en: '| Bob | No |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| Bob | 否 |'
- en: '| Eve | Yes |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| Eve | 是 |'
- en: '| ... | ... |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| ... | ... |'
- en: 'Hint: Every student in the class can either like football or not, so the sensitivity
    is 1\. Based on our description of the Laplace mechanism, we can simultaneously
    calculate the frequency of students who like football or not by adding noise drawn
    from *Lap*(1/ϵ) to each frequency, where ϵ is the privacy budget specified by
    the students. You may base your solution on the following pseudocode implementation:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 提示：班上的每个学生要么喜欢足球，要么不喜欢，所以敏感性是1。根据我们对拉普拉斯机制的描述，我们可以通过向每个频率添加从*Lap*(1/ϵ)抽取的噪声来同时计算喜欢或不喜欢的学生的频率，其中ϵ是学生指定的隐私预算。你可以基于以下伪代码实现来构建你的解决方案：
- en: '[PRE9]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Exercise 2: Most common medical condition for COVID-19'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 练习2：COVID-19最常见的医疗状况
- en: 'Suppose we wish to know which condition (among different symptoms) is approximately
    the most common for COVID-19 in the medical histories of a set of patients (table
    2.2):'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们希望知道在患者（如表2.2所示）的医疗历史中，哪种状况（在多种症状中）大约是最常见的：
- en: What’s the sensitivity of this application?
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个应用的敏感性是多少？
- en: If we want to generate a histogram of the medical conditions for COVID-19, what
    should the sensitivity be?
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们想生成COVID-19医疗状况的直方图，敏感性应该是多少？
- en: Table 2.2 Symptoms of COVID-19 patients
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 表2.2 COVID-19患者的症状
- en: '| Patient | Fever | Cough | Shortness of breath | Fatigue | Headache | Sore
    throat | Diarrhea |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| 患者 | 发热 | 咳嗽 | 呼吸困难 | 疲劳 | 头痛 | 喉咙痛 | 腹泻 |'
- en: '| Alice | X | X | X |  |  |  |  |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '| 艾丽斯 | X | X | X |  |  |  |  |'
- en: '| Bob | X | X | X |  | X |  | X |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| 鲍勃 | X | X | X |  | X |  | X |'
- en: '| Eve | X | X |  | X |  | X |  |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
  zh: '| 伊芙 | X | X |  | X |  | X |  |'
- en: '| Mallory | X |  | X | X |  | X | X |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '| 马洛里 | X |  | X | X |  | X | X |'
- en: '| ... | ... | ... | ... | ... | ... | ... | ... |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '| ... | ... | ... | ... | ... | ... | ... | ... |'
- en: 'Hints:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 提示：
- en: Since individuals can experience many conditions, the sensitivity of this set
    of questions can be high. However, if we only report the most common medical condition,
    each individual at most results in a 1 number difference. Thus, the sensitivity
    of the most common medical condition is still 1\. We could get the ϵ-differentially
    private result by adding noise drawn from *Lap* (1/ϵ) to each output of the most
    common medical condition.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于个人可能会经历许多状况，这一系列问题的敏感性可能很高。然而，如果我们只报告最常见的医疗状况，每个人最多只会导致1个数字的差异。因此，最常见的医疗状况的敏感性仍然是1。我们可以通过向最常见的医疗状况的每个输出添加从*Lap*（1/ϵ）抽取的噪声来获得ϵ-差分隐私结果。
- en: What if we want to generate a histogram of the medical conditions for COVID-19?
    What should the sensitivity be? Since each individual could experience multiple
    conditions (and at most could have all the conditions), the sensitivity is much
    more than 1—it could be the total number of different medical conditions reported
    for COVID-19\. Therefore, the sensitivity of the histogram of the medical conditions
    for COVID-19 should equal to the total number of medical conditions, which is
    7, as shown in table 2.2.
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们想生成COVID-19医疗状况的直方图，敏感性应该是多少？由于每个人可能会经历多种状况（最多可能经历所有状况），敏感性远大于1——它可能是报告的COVID-19不同医疗状况的总数。因此，COVID-19医疗状况直方图的敏感性应该等于医疗状况的总数，即7，如表2.2所示。
- en: 2.2.3 Exponential mechanism
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2.3 指数机制
- en: The Laplace mechanism works well for most query functions that result in numerical
    outputs and where adding noise to the outputs will not destroy the overall utility
    of the query functions. However, in certain scenarios, where the output of a query
    function is categorical or discrete, or where directly adding noise to the outputs
    would result in meaningless outcomes, the Laplace mechanism runs out of its magical
    power.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 拉普拉斯机制对于大多数产生数值输出的查询函数效果良好，并且向输出添加噪声不会破坏查询函数的整体效用。然而，在特定场景中，如果查询函数的输出是分类的或离散的，或者直接向输出添加噪声会导致无意义的结果，拉普拉斯机制就会失去其神奇的力量。
- en: For example, given a query function that returns the gender of a passenger (male
    or female, which is categorical data), adding noise drawn from the Laplace mechanism
    would produce meaningless results. There are many such examples, such as the value
    of a bid in an auction [4], where the purpose is to optimize revenue. Even though
    the auction prices are real values, adding even a small amount of positive noise
    to the price (to protect the privacy of a bid) could destroy an evaluation of
    the resulting revenue.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，给定一个返回乘客性别（男性或女性，这是分类数据）的查询函数，添加来自拉普拉斯机制的噪声会产生无意义的结果。有许多这样的例子，例如拍卖中的出价价值[4]，其目的是优化收入。即使拍卖价格是实数，即使添加少量正噪声到价格（以保护出价的隐私）也可能破坏对结果的评估。
- en: The exponential mechanism [7] was designed for scenarios where the goal is to
    select the “best” response but where adding noise directly to the output of the
    query function would destroy the utility. As such, the exponential mechanism is
    the natural solution for selecting one element from a set (numerical or categorical)
    using DP.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 指数机制[7]是为那些目标是为了选择“最佳”响应，但直接向查询函数的输出添加噪声会破坏效用的场景而设计的。因此，指数机制是使用 DP 从集合（数值或分类）中选择一个元素的自然解决方案。
- en: 'Let’s see how we can use the exponential mechanism to provide ϵ-DP for a query
    function f. Here are the steps:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何使用指数机制为查询函数 f 提供ϵ-DP。以下是步骤：
- en: The analyst should define a set A of all possible outputs of the query function
    f.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分析师应该定义查询函数 f 的所有可能输出的集合 A。
- en: The analyst should design a *utility function* (a.k.a. a *score function*) H,
    whose input is data x and the potential output of f(x), denoted as a ∈ A. The
    output of H is a real number. △H denotes the sensitivity of H.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分析师应该设计一个效用函数 H（也称为得分函数），其输入是数据 x 和 f(x) 的潜在输出，表示为 a ∈ A。H 的输出是一个实数。△H 表示 H
    的敏感性。
- en: Given data x, the exponential mechanism outputs the element a ∈ A with probability
    proportional to exp(ϵ ⋅H(x, a)/(2ΔH)).
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给定数据 x，指数机制以 exp(ϵ ⋅H(x, a)/(2ΔH)) 为比例输出 A 中的元素 a。
- en: Let’s explore some examples that could apply the exponential mechanism, so you
    can see how to define the utility functions and derive the sensitivities.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们探索一些可以应用指数机制的示例，这样您可以看到如何定义效用函数并推导出敏感性。
- en: 'Example 3: Differentially private most common marital status'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 示例 3：差分隐私中最常见的婚姻状况
- en: Suppose a data user wants to know the most common marital status in the census
    dataset. If you load the dataset and quickly go through the “marital-status” column,
    you will notice that the records include seven different categories (married-civ-spouse,
    divorced, never-married, separated, widowed, married-spouse-absent, married-AF-spouse).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个数据用户想知道人口普查数据集中最常见的婚姻状况。如果您加载数据集并快速浏览“婚姻状况”列，您将注意到记录包括七个不同的类别（已婚-civ-spouse、离婚、未婚、分居、丧偶、已婚配偶缺席、已婚-AF-配偶）。
- en: Let’s first take a look at the number of people in each category in the dataset.
    Before proceeding with listing 2.4, you will need to download the adult.csv file
    from the book’s code repository found at [https://github.com/nogrady/PPML/](https://github.com/nogrady/PPML/).
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先看看数据集中每个类别的数据人数。在继续列出 2.4 之前，您需要从书籍代码仓库下载 adult.csv 文件，该仓库位于 [https://github.com/nogrady/PPML/](https://github.com/nogrady/PPML/)。
- en: Listing 2.4 Number of people in each marital status group
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.4 每个婚姻状况组的人数
- en: '[PRE10]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The result will look like the following:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将如下所示：
- en: '[PRE11]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: As you can see, Married-civ-spouse is the most common marital status in this
    census dataset.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，已婚-civ-spouse 是这个人口普查数据集中最常见的婚姻状况。
- en: 'To use the exponential mechanism, we first need to design the utility function.
    We could design it as H(x, a), which is proportional to the number of people of
    each marital status x, where x is one of the seven marital categories and a is
    the most common marital status. Thus, a marital status that includes a greater
    number of people should have better utility. We could implement this utility function
    as shown in the following code snippet:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用指数机制，我们首先需要设计效用函数。我们可以将其设计为 H(x, a)，它与每种婚姻状况 x 的人数成正比，其中 x 是七个婚姻类别之一，a 是最常见的婚姻状况。因此，包含更多人数的婚姻状况应该有更好的效用。我们可以将此效用函数实现如下代码片段所示：
- en: '[PRE12]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: With that, we can move into designing a differentially private most common marital
    status query function using the exponential mechanism.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在此基础上，我们可以设计一个使用指数机制的差分隐私中最常见的婚姻状况查询函数。
- en: Listing 2.5 Number of people in each marital status group, with exponential
    mechanism
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.5 使用指数机制每个婚姻状况组的成员数
- en: '[PRE13]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: ❶ Calculate the utility for each element of A.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 计算A中每个元素的效用。
- en: ❷ Calculate the probability for each element, based on its utility.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 根据每个元素的效用计算其概率。
- en: ❸ Normalize the probabilities so they sum to 1.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 将概率标准化，使它们的总和为1。
- en: ❹ Choose an element from A based on the probabilities.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: ❹ 根据概率从A中选择一个元素。
- en: 'Before using this query, we need to determine the sensitivity and the privacy
    budget. For the sensitivity, since adding or deleting the information of a single
    individual can change the utility score of any marital status by at most 1, the
    sensitivity should be 1\. For the privacy budget, let’s try ϵ = 1.0 first:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用此查询之前，我们需要确定敏感度和隐私预算。对于灵敏度，由于添加或删除单个个人的信息最多可以改变任何婚姻状况的效用分数1分，灵敏度应为1。对于隐私预算，让我们先尝试ϵ
    = 1.0：
- en: '[PRE14]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'As you can see, the output is Married-civ-spouse. To better illustrate the
    performance of most_common_marital_exponential, let’s check the result after querying
    it 10,000 times:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，输出结果是已婚-civ-spouse。为了更好地说明most_common_marital_exponential的性能，让我们检查查询10,000次后的结果：
- en: '[PRE15]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'You will get output similar to the following:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 您将得到类似以下输出的结果：
- en: '[PRE16]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: According to these results, most_common_marital_exponential could randomize
    the output of the most common marital status to provide privacy protection. However,
    it also produces the actual result (Married-civ-spouse) with the highest probability
    of providing utility.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些结果，most_common_marital_exponential可以通过随机化最常见的婚姻状况的输出来提供隐私保护。然而，它也产生了提供最高效用概率的实际结果（已婚-civ-spouse）。
- en: You can also check these results by using different privacy budgets. You’ll
    observe that with a higher privacy budget, it is more likely to result in Married-civ-spouse,
    which is the true answer.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以通过使用不同的隐私预算来检查这些结果。您会观察到，随着隐私预算的提高，更有可能得到真正的答案已婚-civ-spouse。
- en: 'Exercise 3: Differentially private choice from a finite set'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 练习3：从有限集合中选择差分隐私选择
- en: Suppose the people in a city want to vote to decide what kind of sports competition
    they want in the summer. Since the city’s budget is limited, only one competition
    from four choices (football, volleyball, basketball, and swimming) is possible,
    as shown in table 2.3\. The mayor wants to make the voting differentially private,
    and each person has one vote. How can we publish the voting results in a differentially
    private way by using the exponential mechanism?
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个城市里的人们想要投票决定他们在夏天想要哪种体育比赛。由于城市的预算有限，只能从四个选择（足球、排球、篮球和游泳）中选一个，如表2.3所示。市长希望使投票具有差分隐私性，每个人有一票。我们如何通过使用指数机制以差分隐私的方式发布投票结果？
- en: Table 2.3 Votes for different sports
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 表2.3 不同体育项目的投票
- en: '| Sport | Number of votes |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| 体育项目 | 投票数 |'
- en: '| Football | 49 |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| 足球 | 49 |'
- en: '| Volleyball | 25 |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| 排球 | 25 |'
- en: '| Basketball | 6 |'
  id: totrans-209
  prefs: []
  type: TYPE_TB
  zh: '| 篮球 | 6 |'
- en: '| Swimming | 2 |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| 游泳 | 2 |'
- en: 'Hint: To use the exponential mechanism, we should first decide on the utility
    function. We could design the utility function as *H*(*x*, *a*), which is proportional
    to the number of votes for each category *x*, where x is one of the four sports,
    and *a* is the sport that has the highest vote. Thus, the sport that has a higher
    number of votes should have better utility. Then we could apply the exponential
    mechanism to the voting results to achieve ϵ-DP.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 提示：要使用指数机制，我们首先需要确定效用函数。我们可以设计效用函数为*H*(*x*, *a*)，它与每个类别*x*的投票数成正比，其中*x*是四种体育中的一种，而*a*是获得最高投票的体育。因此，投票数更多的体育应该有更好的效用。然后，我们可以将指数机制应用于投票结果以实现ϵ-DP。
- en: 'The pseudocode for the utility function could be defined as follows:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 效用函数的伪代码可能定义如下：
- en: '[PRE17]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: We can then implement the differentially private votes query function using
    the exponential mechanism with the following pseudocode.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以使用以下伪代码实现使用指数机制的差分隐私投票查询函数。
- en: Listing 2.6 Differentially private votes query
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.6 差分隐私投票查询
- en: '[PRE18]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: ❶ Calculate the utility for each element of A.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 计算A中每个元素的效用。
- en: ❷ Calculate the probability for each element, based on its utility.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 根据每个元素的效用计算其概率。
- en: ❸ Normalize the probabilities so they sum to 1.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 将概率标准化，使它们的总和为1。
- en: ❹ Choose an element from A based on the probabilities.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: ❹ 根据概率从A中选择一个元素。
- en: As with any mechanism, we need to determine the sensitivity and the privacy
    budget before using this query. For the sensitivity, since each voter can only
    vote for one type of sport, each individual can change the utility score of any
    sport by at most 1\. Hence, the sensitivity should be 1\. For the privacy budget,
    let’s try ϵ = 1.0 first.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 与任何机制一样，在使用此查询之前，我们需要确定敏感度和隐私预算。对于敏感性，由于每个投票者只能为一种类型的运动投票，每个个人最多可以改变任何运动的效用分数1分。因此，敏感性应该是1。对于隐私预算，我们首先尝试ϵ
    = 1.0。
- en: 'We could call the DP query function as shown in the following pseudocode:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将DP查询函数称为以下伪代码所示：
- en: '[PRE19]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Given this implementation, your results should be similar to example 3, with
    it outputting football (the sport with the highest votes) with a higher probability.
    When you use a higher privacy budget, it will be more likely to select football
    correctly.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 给定这种实现，你的结果应该与示例3相似，它以更高的概率输出足球（得票最高的运动）。当你使用更高的隐私预算时，正确选择足球的可能性会更大。
- en: In this section we’ve introduced the three most popular mechanisms in DP in
    use today, and they are the building blocks for many differentially private ML
    algorithms. Section A.2 of the appendix lists some more advanced mechanisms that
    can be utilized in special scenarios, some of which are variations on the Laplace
    and exponential mechanisms.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们介绍了DP中目前最流行的三种机制，它们是许多差分隐私机器学习算法的构建块。附录A.2列出了一些在特殊场景中可以使用的更高级机制，其中一些是拉普拉斯和指数机制的变体。
- en: So far, with our private company example, we’ve designed solutions for tasks
    (the total number of employees, and the average salary) that will satisfy DP individually.
    However, these tasks are not independent of each other. Conducting both tasks
    at the same time (sharing both the total number of employees and the average salary)
    requires further analysis in terms of the DP properties. That’s what we’ll do
    next.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，在我们的私有公司示例中，我们已经为满足DP的任务（员工总数和平均工资）设计了解决方案。然而，这些任务并不是相互独立的。同时进行这两项任务（共享员工总数和平均工资）需要在DP属性方面进行进一步的分析。这就是我们接下来要做的。
- en: 2.3 Properties of differential privacy
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.3 差分隐私的属性
- en: Thus far, you have learned the definition of DP and seen how to design a differentially
    private solution for a simple scenario. DP also has many valuable properties that
    make it a flexible and complete framework for enabling privacy-preserving data
    analysis on sensitive personal information. In this section we’ll introduce three
    of the most important and commonly utilized properties for applying DP.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经学习了DP的定义，并看到了如何为简单场景设计差分隐私解决方案。DP还具有许多有价值的属性，使其成为在敏感个人信息上实现隐私保护数据分析的灵活且完整的框架。在本节中，我们将介绍应用DP的三个最重要且最常用的属性。
- en: 2.3.1 Postprocessing property of differential privacy
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3.1 差分隐私的后处理属性
- en: In most data analysis and ML tasks, it takes several processing steps (data
    collection, preprocessing, data compression, data analysis, etc.) to accomplish
    the whole task. When we want our data analysis and ML tasks to be differentially
    private, we can design our solutions within any of the processing steps. The steps
    that come after applying the DP mechanisms are called *postprocessing* steps.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数数据分析与机器学习任务中，需要经过几个处理步骤（数据收集、预处理、数据压缩、数据分析等）才能完成整个任务。当我们希望我们的数据分析与机器学习任务具有差分隐私时，我们可以在任何处理步骤中设计我们的解决方案。在应用DP机制之后的步骤被称为*后处理*步骤。
- en: Figure 2.10 illustrates a typical differentially private data analysis and ML
    scenario. First, the private data (D[1]) is stored in a secure database controlled
    by the data owner. Before publishing any information (such as a sum, count, or
    model) regarding the private data, the data owner will apply the DP sanitizer
    (DP mechanisms that add random noise) to produce the differentially private data
    (D[2]). The data owner could directly publish D[2] or conduct postprocessing steps
    to get D[3] and publish D[3] to the data user.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.10展示了典型的差分隐私数据分析与机器学习场景。首先，私有数据（D[1]）存储在由数据所有者控制的安全数据库中。在发布任何关于私有数据的信息（如总和、计数或模型）之前，数据所有者将应用DP净化器（添加随机噪声的DP机制）以生成差分隐私数据（D[2]）。数据所有者可以直接发布D[2]或进行后处理步骤以获得D[3]，然后将D[3]发布给数据使用者。
- en: '![CH02_F10_Zhuang](../../OEBPS/Images/CH02_F10_Zhuang.png)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F10_Zhuang](../../OEBPS/Images/CH02_F10_Zhuang.png)'
- en: Figure 2.10 Postprocessing property of differential privacy
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.10 差分隐私的后处理属性
- en: It is noteworthy that the postprocessing steps could actually reduce the amount
    of random noise added by the DP sanitizer to the private data. Let’s continue
    to use our private company scenario as a concrete example.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，后处理步骤实际上可以减少 DP 清洗器添加到私有数据中的随机噪声量。让我们继续使用我们的私有公司场景作为一个具体的例子。
- en: As you saw earlier, the private company designed a differentially private solution
    for publishing its total number of employees and average salary by adding random
    noise drawn from Laplace distributions scaled to △f/ϵ, where △f is the sensitivity
    and ϵ is the privacy budget. This solution perfectly satisfies the concept of
    DP. However, directly publishing the data after adding the random noise could
    lead to potential problems, since the noise drawn from the zero-mean Laplace distribution
    is a real number and could also be negative real numbers (with 50% probabilities).
    For instance, adding Laplace random noise to the total number of employees could
    result in non-integer numbers, such as 100 −> 100.5 (+0.5 noise), and negative
    numbers, such as 5 −> −1 (−6 noise), which is meaningless.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 如您之前所见，这家私有公司通过添加从拉普拉斯分布中抽取的随机噪声（该分布按 △f/ϵ 缩放，其中 △f 是敏感性，ϵ 是隐私预算）为发布其员工总数和平均工资设计了差分隐私解决方案。这个解决方案完美地满足了
    DP 的概念。然而，在添加随机噪声后直接发布数据可能会导致潜在问题，因为从零均值的拉普拉斯分布中抽取的噪声是一个实数，也可能是负实数（概率为 50%）。例如，将拉普拉斯随机噪声添加到员工总数可能会导致非整数，如
    100 → 100.5（+0.5 噪声），以及负数，如 5 → -1（-6 噪声），这是没有意义的。
- en: 'A simple and natural solution to this problem involves postprocessing by rounding
    negative values up to zero, and values that are larger than *n* can be rounded
    down to *n* (the next integer): 100.5 −> 100 (round down real value to the next
    integer), −1 −> 0 (round up negative value to zero).'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这个问题的简单自然的方法是通过后处理将负值向上取整到零，并将大于 *n* 的值向下取整到 *n*（下一个整数）：100.5 → 100（将实值向下取整到下一个整数），-1
    → 0（将负值向上取整到零）。
- en: As you can see, this postprocessing step solves the problem, but it could also
    reduce the amount of noise added to the private data as compared to when postprocessing
    was not being done. For instance, suppose y is the private data and ȳ is the perturbed
    data, where ȳ = y + Lap(Δf/ϵ), and y' is the rounded up perturbed data. If y is
    positive due to the addition of Laplacian noise, ȳ is negative. By rounding ȳ
    up to zero (i.e., ŷ' = 0), we can clearly see that it becomes closer to the true
    answer so that the amount of noise added has been reduced. The same conclusion
    could also be reached for the case where ȳ is a real number but greater than y.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，这个后处理步骤解决了问题，但与未进行后处理相比，它也可能减少添加到私有数据中的噪声量。例如，假设 y 是私有数据，而 ȳ 是扰动数据，其中 ȳ
    = y + Lap(Δf/ϵ)，y' 是向上取整的扰动数据。如果 y 由于添加拉普拉斯噪声而为正，则 ȳ 为负。通过将 ȳ 向上取整到零（即，ŷ' = 0），我们可以清楚地看到它变得更接近真实答案，因此添加的噪声量已经减少。对于
    ȳ 是实数但大于 y 的情况，也可以得出相同的结论。
- en: 'At this point, a question could be raised: will this solution remain differentially
    private even after we perform the previously described postprocessing step? The
    short answer is yes. DP is immune to postprocessing [3], [4]. The postprocessing
    property guarantees that given the output of a differentially private algorithm
    (one that satisfies ϵ-DP), any other data analyst, without additional knowledge
    about the original private database or dataset, cannot come up with any postprocessing
    mechanism or algorithm to make the output less differentially private. To summarize:
    If an algorithm M(x) satisfies ϵ-DP, then for any (deterministic or randomized)
    function F(⋅), F(M(x)) satisfies ϵ-DP.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，可能会有人提出一个问题：在执行之前描述的后处理步骤之后，这个解决方案是否仍然保持差分隐私？简短的答案是肯定的。DP 对后处理具有免疫力 [3]，[4]。后处理属性保证，给定一个差分隐私算法的输出（满足
    ϵ-DP 的算法），任何其他数据分析师，没有关于原始私有数据库或数据集的额外知识，都不能提出任何后处理机制或算法来使输出变得不那么差分隐私。总结一下：如果一个算法
    M(x) 满足 ϵ-DP，那么对于任何（确定性的或随机的）函数 F(⋅)，F(M(x)) 满足 ϵ-DP。
- en: Based on the postprocessing property of DP, once the sensitive data of an individual
    is claimed to be protected by a randomized algorithm, no other data analyst can
    increase its privacy loss. We can consider postprocessing techniques to be any
    de-noising, aggregation, data analysis, and even ML operations on the DP private
    data that do not directly involve the original private data.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 基于DP的后处理属性，一旦个人的敏感数据被声明由随机算法保护，其他数据分析师就无法增加其隐私损失。我们可以将后处理技术视为任何对DP私有数据进行去噪、聚合、数据分析甚至ML操作的技术，这些操作不直接涉及原始私有数据。
- en: 2.3.2 Group privacy property of differential privacy
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3.2 差分隐私的组隐私属性
- en: In our previous examples, we only discussed privacy protection or leakage for
    a single individual. Let’s now look at an example of privacy protection or leakage
    that could involve a group of people.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们之前的例子中，我们只讨论了单个个体的隐私保护或泄露。现在让我们看看一个可能涉及一组人的隐私保护或泄露的例子。
- en: Figure 2.11 shows a scenario where there are k scientists who collaboratively
    conduct a research study by sharing their results with each other. A real-world
    example would be the case of different cancer research institutions collaboratively
    working on a research study to discover a new drug. They cannot share patients’
    records or the formula due to privacy concerns, but they can share the sanitized
    results.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.11展示了这样一个场景，其中k位科学家通过相互分享结果来共同进行一项研究。一个现实世界的例子是不同癌症研究机构合作开展一项研究以发现新药。由于隐私问题，他们不能共享患者的记录或公式，但他们可以共享清洗后的结果。
- en: '![CH02_F11_Zhuang](../../OEBPS/Images/CH02_F11_Zhuang.png)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F11_Zhuang](../../OEBPS/Images/CH02_F11_Zhuang.png)'
- en: Figure 2.11 The group privacy property of differential privacy
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.11 差分隐私的组隐私属性
- en: Now assume that news reporter Alice would like to report on the study’s highlights
    without revealing the secrets of the study by interviewing each of the k scientists.
    To ensure none of the scientists reveal secrets about their research study, the
    scientists designed a protocol to follow while each of them is interviewed by
    the reporter, such that whatever information is exchanged about the research study
    should be sanitized by an ϵ-DP randomized mechanism.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 现在假设新闻记者爱丽丝想通过采访每位k位科学家来报道研究的亮点，而不泄露研究的秘密。为了确保没有科学家泄露关于他们研究的信息，科学家们设计了一个协议，在记者采访每位科学家时遵循，以确保关于研究的任何交换信息都应由ϵ-DP随机机制进行清洗。
- en: Alice conducted the interviews with each of the k scientists and published her
    report. However, more recently, it was found that Eve, a competitor scientist,
    learned the details about the research study beyond what was exchanged with Alice
    just based on Alice’s report. What could have happened?
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 爱丽丝对每位k位科学家进行了访谈并发表了她的报告。然而，最近发现，一位竞争对手科学家伊芙仅基于爱丽丝的报告就了解了关于研究细节的信息，超出了与爱丽丝交换的内容。可能发生了什么？
- en: Recall from the definition of DP that ϵ is the privacy budget that controls
    how much the output of a randomized mechanism can differ from the real-world scenario.
    It can be shown that the difference between the output of the ϵ-differentially
    private randomized mechanism from the k scientists and the real-world scenario
    grows to at most a privacy budget of k ⋅ ϵ. Therefore, even though interviewing
    each scientist only cost a privacy budget of ϵ, since the k scientists share the
    same secret, interviewing all of them actually costs a privacy budget of k ⋅ ϵ.
    As such, the privacy guarantee degrades moderately as the size of the group increases.
    If k is large enough, Eve could learn everything about the research study, even
    though each of the k scientists follows an ϵ-differentially private randomized
    mechanism when answering during the interviews. A meaningful privacy guarantee
    can be provided to groups of individuals up to a size of about k ≈ 1/ϵ. However,
    almost no protection is guaranteed to groups of k ≈ 100/ ϵ.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 从DP的定义回顾，ϵ是控制随机机制输出与真实世界场景差异的隐私预算。可以证明，k位科学家输出的ϵ-差分隐私随机机制与真实世界场景之间的差异增长到最多k
    ⋅ ϵ的隐私预算。因此，尽管对每位科学家进行访谈只花费了ϵ的隐私预算，但由于k位科学家共享相同的秘密，对全部科学家进行访谈实际上花费了k ⋅ ϵ的隐私预算。因此，随着群体规模的增加，隐私保证适度下降。如果k足够大，伊芙就能了解关于研究的所有信息，尽管每位k位科学家在访谈时都遵循了ϵ-差分隐私随机机制。可以为大小约为k
    ≈ 1/ϵ的个人群体提供有意义的隐私保证。然而，对于k ≈ 100/ ϵ的群体几乎没有任何保护保证。
- en: 'The *k* scientists example illustrates the group property of DP, where sometimes
    a group of members (such as families or employees of a company) would like to
    join an analytical study together, and the sensitive data might therefore have
    something to do with all the group members. To summarize: If algorithm M(x) satisfies
    ϵ-DP, applying M(x) to a group of k correlated individuals satisfies k ⋅ ϵ-DP.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '*k* 科学家示例说明了DP（差分隐私）的群体属性，其中有时一组成员（如家庭或公司的员工）会希望一起加入一个分析研究，因此敏感数据可能与所有群体成员有关。总结来说：如果算法M(x)满足ϵ-DP，则将M(x)应用于k个相关个体满足k
    ⋅ ϵ-DP。'
- en: The group privacy property of DP enables researchers and developers to design
    efficient and useful DP algorithms for a group of individuals. For instance, consider
    a scenario of federated learning (i.e., collaborative learning). In general, federated
    learning enables decentralized data owners to collaboratively learn a shared model
    while keeping all the training data local. In essence, the idea is to perform
    ML without the need to share training data. At this point, it is important to
    protect the privacy of each data owner who owns a group of data samples, but not
    each sample itself, where DP can play a big role.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: DP（差分隐私）的群体隐私性质使研究人员和开发者能够为个体群体设计高效且有用的DP算法。例如，考虑联邦学习（即协作学习）的场景。一般来说，联邦学习允许数据所有者以去中心化的方式协作学习共享模型，同时保持所有训练数据本地化。本质上，这个想法是在不需要共享训练数据的情况下执行机器学习。在这个阶段，保护拥有数据样本群体的每个数据所有者的隐私非常重要，而不是每个样本本身，此时DP可以发挥重要作用。
- en: 2.3.3 Composition properties of differential privacy
  id: totrans-250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3.3 差分隐私的组合性质
- en: Another very important and useful property of DP is its composition theorems.
    The rigorous mathematical design of DP enables the analysis and control of cumulative
    privacy loss over multiple differentially private computations. Understanding
    these composition properties will enable you to better design and analyze more
    complex DP algorithms based on simpler building blocks. There are two main composition
    properties, and we’ll explore them next.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: DP（差分隐私）的另一个非常重要且有用的性质是其组合定理。DP的严谨数学设计使得可以分析和控制多个不同差分隐私计算累积的隐私损失。理解这些组合性质将使您能够更好地设计和分析基于更简单构建块的更复杂DP算法。主要有两个组合性质，我们将在下面探讨。
- en: Sequential composition
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 顺序组合
- en: In data analysis and ML, the same information (statistics, aggregated data,
    ML models, etc.) is usually queried multiple times. For instance, in our previous
    private company scenario, the total number of employees and the average salary
    could be queried by different people (such as Alice and Bob) multiple times. Even
    though random noise is added to the queried results each time, more queries will
    cost more privacy budget and potentially result in more privacy leakage. For instance,
    if Alice or Bob could gather enough noisy query results from the current (static)
    database, they could cancel the noise simply by calculating the average of those
    noisy query results, since the random noise is always drawn from the same zero
    mean Laplace distribution. Therefore, we should be careful when designing a differentially
    private solution for private data that requires multiple sequential queries.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据分析与机器学习中，相同的信息（统计数据、汇总数据、机器学习模型等）通常会被多次查询。例如，在我们之前的私有公司场景中，员工总数和平均工资可能会被不同的人（如Alice和Bob）多次查询。尽管每次查询的结果都会添加随机噪声，但更多的查询将消耗更多的隐私预算，并可能导致更多的隐私泄露。例如，如果Alice或Bob能够从当前的（静态）数据库中收集足够的噪声查询结果，他们可以通过计算这些噪声查询结果的平均值来消除噪声，因为随机噪声始终来自相同的零均值拉普拉斯分布。因此，在设计需要多次顺序查询的私有数据差分隐私解决方案时，我们应该谨慎行事。
- en: To illustrate the sequential composition property of DP, let’s consider another
    scenario. Suppose Mallory’s personal information (her salary) is contained in
    the private company’s employee information database that is used by a potential
    business analyzer in two separate differentially private queries. The first query
    might be about the average salary of the company, while the second query might
    be about the number of people who have a salary higher than $50,000\. Mallory
    is concerned about these two queries, because when the two results are compared
    (or combined), they could reveal the salaries of individuals.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明 DP 的顺序组合属性，让我们考虑另一个场景。假设 Mallory 的个人信息（她的薪水）包含在私人公司使用的员工信息数据库中，该数据库被潜在的商业分析师在两个不同的差分隐私查询中使用。第一个查询可能是关于公司平均薪水的，而第二个查询可能是关于有多少人的薪水高于
    50,000 美元。Mallory 担心这两个查询，因为当两个结果进行比较（或合并）时，它们可能会泄露个人的薪水。
- en: 'The sequential composition property of DP confirms that the cumulative privacy
    leakage from multiple queries on data is always higher than the single query leakage.
    For example, if the first query’s DP analysis is performed with a privacy budget
    of ϵ[1] = 0.1, and the second has a privacy budget of ϵ[2] = 0.2, the two analyses
    can be viewed as a single analysis with a privacy loss parameter that is potentially
    larger than ϵ[1] or ϵ[2] but at most ϵ[3] = ϵ[1] + ϵ[2] = 0.3\. To summarize:
    If algorithm F[1](x) satisfies ϵ[1]-DP, and F[2](x) satisfies ϵ[2]-DP, the sequential
    composition of F[1](x) and F[2](x) satisfies (ϵ[1] + ϵ[2])-DP.'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: DP 的顺序组合属性证实了从数据上的多个查询中累积的隐私泄露总是高于单个查询的泄露。例如，如果第一个查询的 DP 分析是在隐私预算 ϵ[1] = 0.1
    下进行的，而第二个查询的隐私预算为 ϵ[2] = 0.2，那么这两个分析可以被视为一个具有可能大于 ϵ[1] 或 ϵ[2] 但最多为 ϵ[3] = ϵ[1]
    + ϵ[2] = 0.3 的隐私损失参数的单个分析。总结一下：如果算法 F[1](x) 满足 ϵ[1]-DP，并且 F[2](x) 满足 ϵ[2]-DP，那么
    F[1](x) 和 F[2](x) 的顺序组合满足 (ϵ[1] + ϵ[2])-DP。
- en: Now let’s explore an example that demonstrates the sequential composition property
    of DP.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们探索一个示例，该示例演示了 DP 的顺序组合属性。
- en: 'Example 4: Sequential composition of differentially private counting queries'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 示例 4：差分隐私计数查询的顺序组合
- en: Let’s reconsider the scenario shown in example 1, where we wanted to determine
    how many individuals in the census dataset were more than 50 years old. The difference
    is that now we have two DP functions with different privacy budgets. Let’s see
    what will happen after applying different DP functions sequentially.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们重新考虑示例 1 中的场景，其中我们想要确定人口普查数据集中有多少人年龄超过 50 岁。不同的是，现在我们有两个具有不同隐私预算的 DP 函数。让我们看看在依次应用不同的
    DP 函数后会发生什么。
- en: In the following listing, we define four DP functions, where F[1] satisfies
    0.1-DP (ϵ[1] = 0.1), F[2] satisfies 0.2-DP (ϵ[2] = 0.2), F[3] satisfies 0.3-DP
    (ϵ[3] = ϵ[1] + ϵ[2]), and F[seq] is the sequential composition of F[1] and F[2].
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的列表中，我们定义了四个 DP 函数，其中 F[1] 满足 0.1-DP（ϵ[1] = 0.1），F[2] 满足 0.2-DP（ϵ[2] = 0.2），F[3]
    满足 0.3-DP（ϵ[3] = ϵ[1] + ϵ[2]），而 F[seq] 是 F[1] 和 F[2] 的顺序组合。
- en: Listing 2.7 Applying sequential composition
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.7 应用顺序组合
- en: '[PRE20]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: ❶ Satisfies 0.1-DP
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 满足 0.1-DP
- en: ❷ Satisfies 0.2-DP
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 满足 0.2-DP
- en: ❸ Satisfies 0.3-DP
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 满足 0.3-DP
- en: ❹ The sequential composition of F1 and F2
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: ❹ F1 和 F2 的顺序组合
- en: 'Now, given that x is the real value of “how many individuals in the census
    dataset are more than 50 years old?” let’s compare the output of F[1], F[2], and
    F[3]:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，假设 x 是“人口普查数据集中有多少人年龄超过 50 岁？”的实数值，让我们比较 F[1]、F[2] 和 F[3] 的输出：
- en: '[PRE21]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: ❶ Plot F1
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 图 F1
- en: ❷ Plot F2 (should look the same)
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 图 F2（应该看起来相同）
- en: ❸ Plot F3 (should look the same)
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 图 F3（应该看起来相同）
- en: In figure 2.12 you can see that the distribution of outputs from F[3] looks
    “sharper” than that of F[1] and F[2] because F[3] has a higher privacy budget
    (ϵ) that indicates more privacy leakage and thus a higher probability of outputting
    results close to the true answer (6,460).
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在图 2.12 中，你可以看到 F[3] 的输出分布看起来比 F[1] 和 F[2] 的“更尖锐”，因为 F[3] 具有更高的隐私预算（ϵ），这表明更多的隐私泄露，因此有更高的概率输出接近真实答案（6,460）的结果。
- en: '![CH02_F12_Zhuang](../../OEBPS/Images/CH02_F12_Zhuang.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F12_Zhuang](../../OEBPS/Images/CH02_F12_Zhuang.png)'
- en: Figure 2.12 Output of sequential composition of differentially private counting
    queries
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.12 不同差分隐私计数查询的顺序组合输出
- en: 'Now let’s compare the output of F[3] and F[seq], as shown in the following
    code snippet:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们比较 F[3] 和 F[seq] 的输出，如下面的代码片段所示：
- en: '[PRE22]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: ❶ Plot F_seq
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 图 F_seq
- en: ❷ Plot F3
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 图 F3
- en: As you can see in figure 2.13, the output of F[3] and F[seq] are about the same,
    which demonstrates the sequential composition property of DP. But it is noteworthy
    that the sequential composition only defines an upper bound on the total ϵ of
    the sequential composition of several DP functions (i.e., the worst-case privacy
    leakage). The actual cumulative effect on the privacy might be lower. For more
    information regarding the mathematical theory of the sequential composition of
    DP, see section A.3.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 如图 2.13 所示，F[3] 和 F[seq] 的输出大致相同，这证明了 DP 的顺序组合属性。但值得注意的是，顺序组合仅定义了几个 DP 函数顺序组合的总
    ϵ 的上界（即最坏情况的隐私泄露）。对隐私的实际累积影响可能更低。有关 DP 顺序组合的数学理论更多信息，请参阅章节 A.3。
- en: '![CH02_F13_Zhuang](../../OEBPS/Images/CH02_F13_Zhuang.png)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F13_Zhuang](../../OEBPS/Images/CH02_F13_Zhuang.png)'
- en: Figure 2.13 Comparing the distribution of outputs F[3] and F[seq]
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.13 比较输出 F[3] 和 F[seq] 的分布
- en: Parallel composition
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 并行组合
- en: At this point, an obvious question is what will happen if someone combines several
    different DP algorithms in parallel. To illustrate the parallel composition property
    of DP, consider the following scenario.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，一个明显的问题是，如果有人将几个不同的 DP 算法并行组合会发生什么。为了说明 DP 的并行组合属性，考虑以下场景。
- en: Suppose company A maintains a database of its employees’ salary information.
    Alice wants to learn the number of employees at company A whose salaries are higher
    than $150,000, while Bob would like to study the number of employees at company
    A whose salaries are less than $20,000\. To meet the company’s privacy protection
    requirements, Alice is asked to use ϵ[1]-DP mechanisms to access the database,
    while Bob is required to apply ϵ[2]-DP mechanisms to get the information from
    the same database. What’s the total privacy leakage from Alice’s and Bob’s access
    to the database?
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 假设公司 A 维护着其员工薪资信息的数据库。Alice 想要了解公司 A 中薪资高于 $150,000 的员工数量，而 Bob 则想研究公司 A 中薪资低于
    $20,000 的员工数量。为了满足公司的隐私保护要求，Alice 被要求使用 ϵ[1]-DP 机制访问数据库，而 Bob 则需要应用 ϵ[2]-DP 机制从同一数据库中获取信息。Alice
    和 Bob 访问数据库的总隐私泄露是多少？
- en: Since the employees whose salaries are higher than $150,000 and the employees
    whose salaries are less than $20,000 are two disjoint sets of individuals, releasing
    both sets of information will not cause any privacy leakage for the same employee
    twice. For instance, if ϵ[1] = 0.1 and ϵ[2] = 0.2, per the parallel composition
    property of DP, Alice’s and Bob’s accesses to the database utilize a total of
    ϵ[3] = max(ϵ[1], ϵ[2]) = 0.2 privacy budget.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 由于高于 $150,000 的薪资和低于 $20,000 的薪资的员工是两个不相交的个体集合，因此同时发布这两组信息不会导致同一员工两次隐私泄露。例如，如果
    ϵ[1] = 0.1 且 ϵ[2] = 0.2，根据 DP 的并行组合属性，Alice 和 Bob 访问数据库所使用的总隐私预算为 ϵ[3] = max(ϵ[1],
    ϵ[2]) = 0.2。
- en: 'To summarize: If algorithm F[1](x[1]) satisfies ϵ[1]-DP, and F[2](x[2]) satisfies
    ϵ[2]-DP, where (x[1], x[2]) is a nonoverlapping partition of the whole dataset
    x, the parallel composition of F[1](x[1]) and F[2](x[2]) satisfies max(ϵ[1],ϵ[2])-DP.
    max(ϵ[1],ϵ[2]) defines an upper bound on the total ϵ of parallel composition of
    several DP functions (i.e., the worst-case privacy leakage); the actual cumulative
    effect on the privacy might be lower. For more information regarding the mathematical
    theory behind parallel composition of DP, see section A.4.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 总结：如果算法 F[1](x[1]) 满足 ϵ[1]-DP，且 F[2](x[2]) 满足 ϵ[2]-DP，其中 (x[1], x[2]) 是整个数据集
    x 的非重叠划分，那么 F[1](x[1]) 和 F[2](x[2]) 的并行组合满足 max(ϵ[1], ϵ[2])-DP。max(ϵ[1], ϵ[2])
    定义了几个 DP 函数并行组合的总 ϵ 的上界（即最坏情况的隐私泄露）；对隐私的实际累积影响可能更低。有关 DP 并行组合背后的数学理论更多信息，请参阅章节
    A.4。
- en: The sequential and parallel composition properties of DP are considered inherent
    properties of DP, where the data aggregator does not need to make any special
    effort to calculate the privacy bound while composing multiple DP algorithms.
    Such composition properties of DP enable researchers and developers to focus more
    on the design of simpler differentially private building blocks (i.e., mechanisms),
    and a combination of those simpler building blocks can be used directly to solve
    much more complex problems.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: DP 的顺序和并行组合属性被认为是 DP 的固有属性，其中数据聚合者不需要在组合多个 DP 算法时进行任何特殊计算以确定隐私界限。DP 的这种组合属性使得研究人员和开发者可以更多地关注更简单的差分隐私构建块（即机制）的设计，而这些简单的构建块可以直接组合起来解决更复杂的问题。
- en: Summary
  id: totrans-287
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: DP is a promising and popular privacy-enhancing technique that provides a rigorous
    definition of privacy.
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP是一种有前途且流行的隐私增强技术，它为隐私提供了一个严格的定义。
- en: DP aims to strengthen privacy protection by releasing the aggregated or statistical
    information of a database or dataset without revealing the presence of any individual
    in that database.
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP旨在通过发布数据库或数据集的汇总或统计信息来加强隐私保护，同时不透露该数据库中任何个人的存在。
- en: The sensitivity usually measures the maximum possible effect of each individual’s
    information on the output of the analysis.
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 敏感性通常衡量每个个体信息对分析输出可能产生的最大影响。
- en: The privacy budget ϵ is usually set by the data owners to tune the level of
    privacy protection required.
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私预算 ϵ 通常由数据所有者设置，以调整所需的隐私保护级别。
- en: DP can be implemented by perturbing the aggregation or statistics of the sensitive
    information using different DP mechanisms.
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP可以通过使用不同的DP机制扰动敏感信息的汇总或统计来实现。
- en: In the binary mechanism, randomization comes from the binary response (the coin
    flip), which helps to perturb the results.
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在二元机制中，随机化来源于二元响应（抛硬币），这有助于扰动结果。
- en: The Laplace mechanism achieves DP by adding random noise drawn from a Laplace
    distribution to the target queries or functions.
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拉普拉斯机制通过向目标查询或函数添加从拉普拉斯分布中抽取的随机噪声来实现DP。
- en: The exponential mechanism helps cater for scenarios where the utility is to
    select the best response but where adding noise directly to the output of the
    query function would fully destroy the utility.
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指数机制有助于应对那些需要选择最佳响应但直接向查询函数的输出添加噪声会完全破坏效用的情况。
- en: 'DP is immune to postprocessing: once the sensitive data of an individual’s
    DP is claimed to be protected by a randomized algorithm, no other data analyst
    can increase its privacy loss without involving information about the original
    sensitive data.'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP对后处理免疫：一旦个人的DP敏感数据声称被随机化算法保护，没有其他数据分析师可以在不涉及原始敏感数据信息的情况下增加其隐私损失。
- en: DP can be applied to analyze and control the privacy loss coming from groups,
    such as families and organizations.
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP可以应用于分析和控制来自群体（如家庭和组织）的隐私损失。
- en: DP also has sequential and parallel composition properties that enable the design
    and analysis of complex differentially private algorithms from simpler differentially
    private building blocks.
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DP还具有顺序和并行组合属性，这使得可以从更简单的差分隐私构建块设计和分析复杂的差分隐私算法。
