- en: appendix D. Representing graphs
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 D. 表示图
- en: 'There are two standard ways of representing a graph G = (V, E) in a suitable
    way to be processed: as a collection of adjacency lists or as an adjacency matrix.
    Each way can be applied to directed, undirected, and unweighted graphs [Cormen
    et al., 2009].'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在合适的方式下表示图 G = (V, E) 的两种标准方法：作为邻接表的集合或作为邻接矩阵。每种方法都可以应用于有向、无向和非加权图 [Cormen 等人，2009]。
- en: The *adjacency list* representation of a graph G = (V, E) consists of an array
    Adj of lists, one for each vertex in V. For each vertex u in V, the adjacency
    list Adj[u] contains all the vertices v for which there exists an edge E[uv] between
    u and v in E. In other words, Adj[u] consists of all the vertices adjacent to
    u in G.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 图 G = (V, E) 的邻接表表示由一个数组 Adj 的列表组成，每个列表对应 V 中的一个顶点。对于 V 中的每个顶点 u，邻接表 Adj[u]
    包含所有存在边 E[uv] 连接 u 和 v 的顶点 v。换句话说，Adj[u] 包含 G 中与 u 相邻的所有顶点。
- en: Figure D.1(b) is an adjacency list representation of the undirected graph in
    figure D.1(a). Vertex 1 has two neighbors, 2 and 5, so Adj[1] is the list [2,5].
    Vertex 2 has three neighbors, 1, 4, and 5, so Adj[2] is [1,4,5]. The other lists
    are created in the same way. It is worth noting that because there is no order
    in the relationships, there is no specific order in the lists; hence, Adj[1] could
    be [2,5] as well as [5, 2].
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.1(b) 是图 D.1(a) 中无向图的邻接表表示。顶点 1 有两个邻居，2 和 5，因此 Adj[1] 是列表 [2,5]。顶点 2 有三个邻居，1、4
    和 5，因此 Adj[2] 是 [1,4,5]。其他列表以相同的方式创建。值得注意的是，由于关系没有顺序，列表中也没有特定的顺序；因此，Adj[1] 可以是
    [2,5] 也可以是 [5, 2]。
- en: '![APPD_F01_Negro](../Images/APPD_F01_Negro.png)'
  id: totrans-4
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F01_Negro](../Images/APPD_F01_Negro.png)'
- en: Figure D.1 An undirected graph (a) and the related representation as an adjacency
    list (b)
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.1 一个无向图 (a) 和相关的邻接表表示 (b)
- en: Similarly, figure D.2(b) is an adjacency list representation of the directed
    graph in figure D.2(a). Such a list is visualized as a linked list in which each
    entry contains a reference to the next one. In the adjacency list for node 1,
    we have the first element as node 2; it also has a reference to the next one,
    the element for node 5\. This approach is one of the most common for storing adjacency
    lists, because it makes elements such as addition and deletion efficient. In this
    case, we consider only the outgoing relationships, but we can do the same with
    the ingoing relationships; what is important is to choose a direction and keep
    it consistent during adjacency list creation. Here, vertex 1 has only one outgoing
    relationship, with vertex 2, so Adj[1] will be [2]. Vertex 2 has two outgoing
    relationships, with 4 and 5, so Adj[2] is [4,5]. Vertex 4 has no outgoing relationships,
    so Adj[4] is empty ([]).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，图 D.2(b) 是图 D.2(a) 中有向图的邻接表表示。这种列表被可视化为一个链表，其中每个条目都包含对下一个条目的引用。在节点 1 的邻接表中，第一个元素是节点
    2；它也包含对下一个元素的引用，即节点 5 的元素。这种方法是存储邻接表中最常见的方法之一，因为它使得添加和删除等操作变得高效。在这种情况下，我们只考虑出边关系，但我们可以用入边关系做同样的处理；重要的是在创建邻接表时选择一个方向并保持一致性。在这里，顶点
    1 只有一个出边关系，与顶点 2，因此 Adj[1] 将是 [2]。顶点 2 有两个出边关系，与 4 和 5，因此 Adj[2] 是 [4,5]。顶点 4
    没有出边关系，因此 Adj[4] 是空的 ([]).
- en: '![APPD_F02_Negro](../Images/APPD_F02_Negro.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F02_Negro](../Images/APPD_F02_Negro.png)'
- en: Figure D.2 A directed graph (a) and the related representation as an adjacency
    list (b)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.2 一个有向图 (a) 和相关的邻接表表示 (b)
- en: If G is a directed graph, the sum of the lengths of all the adjacency lists
    is |E |. Because every edge can be traversed in a single direction, E[u]v will
    appear only in Adj[u]. If G is an undirected graph, the sum of the lengths of
    all the adjacency lists is 2 × |E | because if E[uv] is an undirected edge, E[uv]
    appears in Adj[u] and Adj[v]. The memory required by an adjacency list representation
    of a directed or undirected graph is directly proportional to |V | + |E |.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 G 是一个有向图，所有邻接表长度的总和是 |E |。因为每条边只能沿一个方向遍历，所以 E[u]v 只会出现在 Adj[u] 中。如果 G 是一个无向图，所有邻接表长度的总和是
    2 × |E |，因为如果 E[uv] 是无向边，E[uv] 会出现在 Adj[u] 和 Adj[v] 中。有向或无向图的邻接表表示所需的内存与 |V |
    + |E | 成正比。
- en: Adjacency lists can be easily adapted to represent weighted graphs by storing
    the weight w of the edge E[uv] in Adj[u]. The adjacency list representation can
    be similarly modified to support many other graph variants too.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 邻接表可以通过在 Adj[u] 中存储边 E[uv] 的权重 w 来轻松地适应表示加权图。邻接表表示也可以类似地修改以支持许多其他图变体。
- en: A disadvantage of this representation is that it provides no faster way to determine
    whether a given edge E[uv] is present in the graph than to search for v in the
    adjacency list Adj[u]. An adjacency matrix representation of the graph remedies
    this disadvantage, but at the cost of using asymptotically more memory.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这种表示方法的一个缺点是，它没有提供比在邻接表 Adj[u] 中搜索 v 更快的方法来确定给定的边 E[uv] 是否存在于图中。图的邻接矩阵表示法可以弥补这一缺点，但代价是使用渐增更多的内存。
- en: For the adjacency matrix representation of a graph G = (V, E), we assume that
    the vertices are numbered 1,2,...,|V | in some arbitrary manner and that these
    numbers are kept consistent during the life of the adjacency matrix. Then the
    adjacency matrix representation of a graph G consists of a |V | × |V | matrix
    A = (a[uv]) such that a[uv] = 1 if E[uv] exists in the graph, and otherwise a[uv]
    = 0.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 对于图 G = (V, E) 的邻接矩阵表示，我们假设顶点以某种任意方式编号为 1,2,...,|V|，并且在邻接矩阵的生命周期内保持这些编号的一致性。那么，图
    G 的邻接矩阵表示由一个 |V| × |V| 矩阵 A = (a[uv]) 组成，其中 a[uv] = 1 如果 E[uv] 在图中存在，否则 a[uv]
    = 0。
- en: Figure D.3(b) is the adjacency matrix representation of the undirected graph
    represented in figure D.3(a). The first line, for example, is related to vertex
    1\. This row in the matrix has 1 in columns 2 and 5 because they represent the
    vertices to which vertex 1 is connected. All the other values are 0\. The second
    row, related to vertex 2, has 1 in columns 1, 4, and 5 because those vertices
    are the connected vertices.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.3(b) 是图 D.3(a) 中表示的无向图的邻接矩阵表示。例如，第一行与顶点 1 相关。矩阵中的这一行在第 2 列和第 5 列有 1，因为它们代表与顶点
    1 相连的顶点。所有其他值都是 0。与顶点 2 相关的第二行在第 1 列、第 4 列和第 5 列有 1，因为这些顶点是连接顶点。
- en: '![APPD_F03_Negro](../Images/APPD_F03_Negro.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F03_Negro](../Images/APPD_F03_Negro.png)'
- en: Figure D.3 An undirected graph (a) and the related representation as an adjacency
    matrix (b)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.3 一个无向图（a）及其作为邻接矩阵的相关表示（b）
- en: 'Figure D.4(b) is the adjacency matrix representation of the directed graph
    represented in figure D.4(a). As for the adjacency list, it is necessary to choose
    one direction and use it during matrix creation. In this case, the first row in
    the matrix has 1 in column 2 because vertex 1 has one outgoing relationship, to
    vertex 2; all the other values are 0\. An interesting feature of the matrix representation
    is that by looking at the columns, it is possible to see the inbound relationships.
    Column 4, for example, shows that vertex 4 has two inbound connections: from vertices
    2 and 3.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.4(b) 是图 D.4(a) 中表示的有向图的邻接矩阵表示。至于邻接表，在创建矩阵时必须选择一个方向并使用它。在这种情况下，矩阵的第一行在第 2
    列有 1，因为顶点 1 与顶点 2 有一个出边关系；所有其他值都是 0。矩阵表示的一个有趣特点是，通过查看列，可以查看入边关系。例如，第 4 列显示顶点 4
    有两个入边连接：来自顶点 2 和 3。
- en: '![APPD_F04_Negro](../Images/APPD_F04_Negro.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![APPD_F04_Negro](../Images/APPD_F04_Negro.png)'
- en: Figure D.4 A directed graph (a) and the related representation as an adjacency
    matrix (b)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图 D.4 一个有向图（a）及其作为邻接矩阵的相关表示（b）
- en: The adjacency matrix of a graph requires memory directly proportional to |V
    | × |V |, independent of the number of edges in the graph. In an undirected graph,
    the resulting matrix is symmetric along the main diagonal. In such cases, it is
    possible to store only half of the matrix, cutting the memory needed to store
    the graph almost in half.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图的邻接矩阵所需的内存与 |V| × |V| 成正比，与图中边的数量无关。在一个无向图中，得到的矩阵沿主对角线是对称的。在这种情况下，可以只存储矩阵的一半，将存储图所需的内存几乎减半。
- en: Like the adjacency list representation of a graph, an adjacency matrix can represent
    a weighted graph. If G = (V, E ) is a weighted graph, and w is the weight of the
    edge, E[uv], a[uv] will be set to w instead of 1.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 与图的邻接表表示法一样，邻接矩阵可以表示加权图。如果 G = (V, E) 是一个加权图，并且 w 是边 E[uv] 的权重，则 a[uv] 将被设置为
    w 而不是 1。
- en: 'Although the adjacency list representation is asymptotically at least as space
    efficient as the adjacency matrix representation, adjacency matrices are simpler,
    so you may prefer them when graphs are reasonably small. Moreover, adjacency matrices
    carry a further advantage for unweighted graphs: they require only one bit per
    entry. Because the adjacency list representation provides a compact way to represent
    *sparse* graphs—those for which the number of edges is less than the number of
    vertices—it is usually the method of choice. But you may prefer an adjacency matrix
    representation when the graph is dense—when |E | is close to |V | × |V |—or when
    you need to be able to tell quickly whether an edge is connecting two given vertices.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管邻接表表示在空间效率上至少与邻接矩阵表示相当，但邻接矩阵更简单，因此当图相对较小时，你可能更倾向于使用它们。此外，对于无权图，邻接矩阵还有一个额外的优势：每个条目只需要一个比特。因为邻接表表示提供了一种紧凑的方式来表示*稀疏*图——即边数少于顶点数的图——所以它通常是首选的方法。但是，当图是密集的——即|E|接近|V|
    × |V|时——或者当你需要快速判断两个给定顶点之间是否存在边时，你可能更喜欢邻接矩阵表示。
- en: References
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[Cormen et al., 2009] Cormen, Thomas H., Charles E. Leiserson, Ronald L. Rivest,
    and Clifford Stein. *Introduction to Algorithms*. 3rd ed. Boston, MA: MIT Press,
    2009.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[Cormen et al., 2009] Cormen, Thomas H., Charles E. Leiserson, Ronald L. Rivest,
    and Clifford Stein. *算法导论*. 第3版. 波士顿，马萨诸塞州：麻省理工学院出版社，2009。'
