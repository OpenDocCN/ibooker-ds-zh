- en: Appendix A. Installing and configuring the Julia environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 A. 安装和配置 Julia 环境
- en: This appendix covers downloading and installing Julia on Linux, macOS, and Windows.
    I will also cover how to configure your Julia environment to improve your efficiency.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录涵盖了在 Linux、macOS 和 Windows 上下载和安装 Julia，我还会介绍如何配置您的 Julia 环境以提高效率。
- en: 'The instructions in this appendix rely on understanding concepts such as the
    path for command utilities as well as knowing how to set it; these instructions
    will vary depending on operating system. For Unix-like systems such as macOS and
    Linux, you configure the search path by editing configuration files such as .zshrc,
    .profile, or .config/fish/config.fish. In these files, you can set environment
    variables such as PATH, EDITOR, and JULIA_EDITOR. If you are unfamiliar with the
    Unix command line, here are some resources from my Substack *Erik Explores*:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录中的说明依赖于理解诸如命令工具的路径等概念，以及知道如何设置它；这些说明将根据操作系统而有所不同。对于类似于 macOS 和 Linux 的类 Unix
    系统，您通过编辑配置文件（如 .zshrc、.profile 或 .config/fish/config.fish）来配置搜索路径。在这些文件中，您可以设置环境变量，如
    PATH、EDITOR 和 JULIA_EDITOR。如果您不熟悉 Unix 命令行，以下是我 Substack 的 *Erik Explores* 提供的一些资源：
- en: “Unix Command Line Crash Course” ([https://erikexplores.substack.com/p/unix-crash-course](https://erikexplores.substack.com/p/unix-crash-course))
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “Unix 命令行快速入门” ([https://erikexplores.substack.com/p/unix-crash-course](https://erikexplores.substack.com/p/unix-crash-course))
- en: “Unix Commands, Pipes, and Processes” ([https://erikexplores.substack.com/p/unix-pipes](https://erikexplores.substack.com/p/unix-pipes))
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “Unix 命令、管道和进程” ([https://erikexplores.substack.com/p/unix-pipes](https://erikexplores.substack.com/p/unix-pipes))
- en: “Unix Shells and Terminals” ([https://erikexplores.substack.com/p/unix-shells-and-terminals](https://erikexplores.substack.com/p/unix-shells-and-terminals))
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “Unix Shell 和终端” ([https://erikexplores.substack.com/p/unix-shells-and-terminals](https://erikexplores.substack.com/p/unix-shells-and-terminals))
- en: A.1 Downloading Julia
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.1 下载 Julia
- en: 'Navigate to the Julia downloads webpage (figure A.1): [https://julialang.org/downloads](https://julialang.org/downloads).'
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 Julia 下载网页（图 A.1）：[https://julialang.org/downloads](https://julialang.org/downloads)。
- en: Select the correct Julia version for your operating system. I recommend installing
    Julia 1.7 or higher.
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适合您操作系统的正确 Julia 版本。我建议安装 Julia 1.7 或更高版本。
- en: '![A-01](../Images/A-01.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![A-01](../Images/A-01.png)'
- en: Figure A.1 The Julia homepage
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.1 Julia 主页
- en: A.2 Installing Julia
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.2 安装 Julia
- en: Read through the installation instructions for the operating system you use.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读您使用的操作系统的安装说明。
- en: Note Some shell commands are prefixed with sudo, which gives the command you
    are running superuser privileges. These privileges are needed to modify files
    or directories not owned by the logged-in user.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：一些 shell 命令以 sudo 前缀开头，这会给您正在运行的命令超级用户权限。这些权限是修改不属于登录用户的文件或目录所需的。
- en: A.3 On Linux
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.3 在 Linux 上
- en: There are many different Linux distributions, but in the instructions here,
    I am assuming there is a Downloads directory where you store downloaded files.
    Adjust command given based on where you store downloads on your Linux machine.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 发行版有很多种，但在这里的说明中，我假设有一个下载目录，您在其中存储下载的文件。根据您在 Linux 机器上存储下载的位置调整给出的命令。
- en: Unpack the .tar.gz file with a name similar to julia-1.7.3-linux-x86_64.tar.gz.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用类似 julia-1.7.3-linux-x86_64.tar.gz 的名称解压 .tar.gz 文件。
- en: 'Move the unpacked directory to /opt. If /opt does not exist, create it. Create
    an /opt/bin directory as well, as it will be needed later:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将解压后的目录移动到 /opt。如果 /opt 不存在，则创建它。同时创建一个 /opt/bin 目录，因为稍后需要它：
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Next, to run Julia from the terminal easily, make a symbolic link:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，为了方便地从终端运行 Julia，创建一个符号链接：
- en: '[PRE1]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: ❶ Remove any old link.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 删除任何旧的链接。
- en: A.3.1 On macOS
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.3.1 在 macOS 上
- en: Open your downloaded .dmg file named something like julia-1.7.3-mac64.dmg.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开名为 julia-1.7.3-mac64.dmg 的下载的 .dmg 文件。
- en: Drag and drop the Julia application bundle to your /Applications folder.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Julia 应用程序包拖放到您的 /Applications 文件夹中。
- en: This completes the installation. It’s that easy!
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成。就这么简单！
- en: 'The next step is optional but convenient. Take the following steps if you would
    like to launch Julia by simply typing julia in the terminal rather than having
    to click the Julia application icon:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个步骤是可选的但很方便。如果您想通过在终端中简单地键入 julia 来启动 Julia，而不是必须点击 Julia 应用程序图标，请执行以下步骤：
- en: Open the Terminal.app console application.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 Terminal.app 控制台应用程序。
- en: Create a symbolic link from the installation location to a directory in your
    path, such as /usr/local/bin.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从安装位置创建一个符号链接到您的路径中的一个目录，例如 /usr/local/bin。
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: A.3.2 On Windows
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.3.2 在 Windows 上
- en: Download the .exe file, which is a self-contained Julia installer. Double-click
    and follow the prompts to install Julia. The installation process is similar to
    installing most other Windows software.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 下载 .exe 文件，这是一个自包含的 Julia 安装程序。双击并按照提示安装 Julia。安装过程与其他大多数 Windows 软件类似。
- en: A.4 Configuring Julia
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.4 配置 Julia
- en: Let’s configure Julia to make it more convenient to use. Linux and macOS have
    very similar configurations, as they are both Unix-like operating systems.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们配置 Julia，使其使用更加方便。Linux 和 macOS 的配置非常相似，因为它们都是类 Unix 操作系统。
- en: A.4.1 On Linux and macOS
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.4.1 在 Linux 和 macOS 上
- en: To make it easy to run Julia from the terminal, it is useful to configure your
    shell environment for Julia. If your shell is the Z shell (zsh), you need to edit
    the .zshrc file in your home directory. If you use Bourne Again SHell, bash, you
    need to edit the .profile file instead. Z shell is currently the standard on macOS.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要使从终端运行 Julia 更加方便，配置您的 shell 环境对 Julia 是有用的。如果您的 shell 是 Z shell (zsh)，您需要编辑您主目录中的
    .zshrc 文件。如果您使用 Bourne Again SHell，bash，您需要编辑 .profile 文件。Z shell 目前是 macOS 的标准。
- en: 'Here is an example of configuring Julia for use with the bash shell on Linux,
    where Sublime Text (see [https://www.sublimetext.com](https://www.sublimetext.com)),
    subl, is used as the text editor for Julia code:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在 Linux 上使用 bash shell 配置 Julia 的示例，其中 Sublime Text (见 [https://www.sublimetext.com](https://www.sublimetext.com))，subl，被用作
    Julia 代码的文本编辑器：
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'You may use a custom shell. For instance, I use the fish shell, which is a
    modern, user-friendly shell for all Unix-like systems. In this case, you would
    edit the .config/fish/config.fish in your home directory. In the following code,
    I am configuring my Mac to use the VS Code editor, which is launched with the
    code command:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用自定义 shell。例如，我使用 fish shell，这是一个适用于所有类 Unix 系统的现代、用户友好的 shell。在这种情况下，您需要编辑您主目录中的
    .config/fish/config.fish 文件。在以下代码中，我正在配置我的 Mac 使用 VS Code 编辑器，该编辑器通过 code 命令启动：
- en: '[PRE4]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: A.4.2 On Windows
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.4.2 在 Windows 上
- en: 'On Windows, environment variables are configured through the GUI shown in figure
    A.2\. The steps for opening this dialog depend on your windows version. For Windows
    8 and newer, follow these steps:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，环境变量通过图 A.2 所示的 GUI 进行配置。打开此对话框的步骤取决于您的 Windows 版本。对于 Windows 8
    及更高版本，请按照以下步骤操作：
- en: In Search, search for and then select System (Control Panel).
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索中，搜索并选择系统（控制面板）。
- en: Click the Advanced System Settings link.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击高级系统设置链接。
- en: '![A-02](../Images/A-02.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![A-02](../Images/A-02.png)'
- en: Figure A.2 Dialog for configuring the Windows binary search path
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A.2 配置 Windows 二进制搜索路径的对话框
- en: 'For Windows Vista and Windows 7, follow these steps:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows Vista 和 Windows 7，请按照以下步骤操作：
- en: From the desktop, right-click the Computer icon.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从桌面右键单击计算机图标。
- en: Choose Properties from the context menu.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从上下文菜单中选择属性。
- en: Click the Advanced System Settings link.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击高级系统设置链接。
- en: You don’t need to set the JULIA_EDITOR environment variable on Windows, as the
    operating system will open a dialog and ask you what editor to use when needed.
    Windows will then associate an application with .jl files.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，您不需要设置 JULIA_EDITOR 环境变量，因为操作系统在需要时会打开一个对话框并询问您要使用哪个编辑器。Windows
    将随后将一个应用程序与 .jl 文件关联起来。
- en: Configuring the shell environment is likely less needed on Windows than on Linux/macOS
    because command-line interfaces are not as frequently used by Windows developers.
    Developers interested in the command line on Windows may prefer to use the Window
    Subsystem for Linux (WSL; [https://docs.microsoft.com/en-us/windows/wsl/about](https://docs.microsoft.com/en-us/windows/wsl/about)).
    If you use WSL, then follow the Linux installation and configuration steps instead.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上配置 shell 环境可能比在 Linux/macOS 上更不必要，因为命令行界面不像 Windows 开发者那样经常使用。对 Windows
    上的命令行感兴趣的开发者可能更喜欢使用 Windows 子系统 for Linux (WSL; [https://docs.microsoft.com/en-us/windows/wsl/about](https://docs.microsoft.com/en-us/windows/wsl/about))。如果您使用
    WSL，那么请遵循 Linux 安装和配置步骤。
- en: A.5 Running Julia
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.5 运行 Julia
- en: Now that Julia is installed and configured, you can try running it. Either click
    on the Julia application icon or open a terminal window, type julia, and then
    press Enter.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在 Julia 已安装并配置，您可以尝试运行它。要么点击 Julia 应用程序图标，要么打开一个终端窗口，输入 julia，然后按 Enter。
- en: 'When the Julia program is launched, it enters what is called the *Julia REPL*
    (read-evaluate-print-loop). The Julia REPL is a program that accepts Julia code,
    evaluates it, and then prints the result of evaluating that code:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 当 Julia 程序启动时，它会进入被称为 *Julia REPL*（读取-评估-打印循环）的状态。Julia REPL 是一个接受 Julia 代码、评估它并打印该代码评估结果的程序：
- en: '[PRE5]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Each line of code is usually referred to as an *expression*. (Many other languages
    distinguish between statements and expressions.) After pressing Enter, evaluate
    the expression, and Julia will show what value the expression evaluates to.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，每一行代码被称为一个 *表达式*。（许多其他语言区分语句和表达式。）按下 Enter 后，评估表达式，Julia 将显示该表达式评估的结果。
- en: How do you exit Julia? You can interrupt anything you are doing in Julia by
    holding down the Ctrl key and pressing C. We write this as Ctrl-C. To exit Julia,
    hold down Ctrl-D or type exit().
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如何退出 Julia？您可以通过按住 Ctrl 键并按 C 键来中断 Julia 中的任何操作。我们将其写作 Ctrl-C。要退出 Julia，请按住
    Ctrl-D 或输入 exit()。
- en: Ctrl-C is commonly used to stop execution of Julia code that has gotten stuck.
    For instance, you may want to stop execution if you are executing an infinite
    loop.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Ctrl-C 通常用于停止执行陷入僵局的 Julia 代码。例如，如果您正在执行一个无限循环，您可能想要停止执行。
- en: A.6 Julia REPL Modes
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.6 Julia REPL 模式
- en: 'The Julia REPL can be in different modes indicated by the prompt currently
    showing. A green prompt with the name julia> means you are in the standard Julia
    mode. Here are the other modes you will see in code examples:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Julia REPL 可以处于不同的模式，这由当前显示的提示符指示。一个带有名称 julia> 的绿色提示符表示您处于标准 Julia 模式。以下是在代码示例中您将看到的其他模式：
- en: help?>—Look up help about a function or type. Enter help mode by pressing ?.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: help?>—查找有关函数或类型的帮助信息。通过按 ? 键进入帮助模式。
- en: pkg>—Package mode is intended for installing and removing packages. Enter package
    mode by pressing ].
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pkg>—Package 模式用于安装和删除包。通过按 ] 键进入包模式。
- en: shell>—Shell mode allows you to issue Unix shell commands, such as ls, cp, and
    cat. Enter shell mode by pressing ;.
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: shell>—Shell 模式允许您发出 Unix shell 命令，例如 ls、cp 和 cat。通过按 ; 键进入 shell 模式。
- en: You can exit a mode by going to the start of the line and pressing backspace.
    That will take you back to Julia mode.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过将光标移至行首并按退格键来退出模式。这将带您回到 Julia 模式。
- en: 'While reading this book, look at the prompt to determine which mode we are
    in. If you don’t put the REPL in the correct mode, the commands you issue will
    not work. The following is an example of being in help mode. The prompt will be
    yellow:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读这本书时，请查看提示符以确定我们处于哪种模式。如果您没有将 REPL 设置为正确的模式，您发出的命令将不会生效。以下是在帮助模式下的一个示例。提示符将是黄色：
- en: '[PRE6]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: REPL modes are covered in greater detail in chapters 5, 16, and 17\.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: REPL 模式在第五章、第十六章和第十七章中进行了更详细的介绍。
- en: A.7 Installing third-party packages
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A.7 安装第三方包
- en: There are several third-party packages that, while not necessary, can improve
    your workflow. Packages are covered in greater detail in chapter 16.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 有几个第三方包，虽然不是必需的，但可以改善您的 workflow。包在第十六章中进行了更详细的介绍。
- en: 'Enter package mode to install packages. We will install the packages OhMyREPL,
    Revise, and Debugger here:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 进入包模式以安装包。我们将在此安装 OhMyREPL、Revise 和 Debugger 包：
- en: '[PRE7]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Load the package into the Julia environment with the using keyword. Multiple
    packages can be loaded by separating them with a comma.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 using 关键字将包加载到 Julia 环境中。可以通过逗号分隔来加载多个包。
- en: '[PRE8]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The OhMyREPL package provides syntax highlighting and a better search history
    in the REPL. Debugger allows you to step through code with the @enter macro. For
    instance, the following code will step into the execution of the titlecase function.
    Step by pressing N, and exit by pressing Ctrl-D:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: OhMyREPL 包提供了语法高亮和更好的搜索历史记录。Debugger 允许您使用 @enter 宏逐步执行代码。例如，以下代码将进入 titlecase
    函数的执行。通过按 N 键进行步骤，通过按 Ctrl-D 键退出：
- en: '[PRE9]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The most interesting and useful package is Revise, which allows you to monitor
    code changes. Normally, you load the code of a single file into the Julia REPL
    with the include function. If you use the includet function from the Revise package
    instead, the code in the file will be monitored. Say you create a file named hello.jl
    with the following code:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 最有趣和有用的包是 Revise，它允许您监控代码更改。通常，您使用 include 函数将单个文件的代码加载到 Julia REPL 中。如果您使用
    Revise 包中的 includet 函数，文件中的代码将被监控。假设您创建了一个名为 hello.jl 的文件，其中包含以下代码：
- en: '[PRE10]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'You could load this file in the Julia REPL using Revise:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 Revise 在 Julia REPL 中加载此文件：
- en: '[PRE11]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'You could modify the source code file to say "hello Mars", and this change
    would be picked up without needing to explicitly load the file again:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将源代码文件修改为“hello Mars”，并且这个更改将自动生效，无需再次显式加载文件：
- en: '[PRE12]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
