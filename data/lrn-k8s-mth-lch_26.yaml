- en: 22 Never the end
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 22 永不结束
- en: Books in the *Month of Lunches* series traditionally finish with a chapter called
    “Never the end,” to highlight that there’s always more to learn. I think that’s
    truer of Kubernetes than any other technology; this book turned out to be about
    25% bigger than I originally intended, and still I didn’t even mention every topic.
    I’ve tried to cover everything I consider important for you to have an authentic
    experience of using Kubernetes, and in this chapter, I’ll highlight some things
    I didn’t have time for so you can go on to explore further. I’ve also got some
    guidance on choosing a Kubernetes platform and an introduction to the community.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在*午餐月*系列书中，传统上以一个名为“永不结束”的章节结束，以强调总有更多东西可以学习。我认为这一点在Kubernetes上比任何其他技术都更真实；这本书最终比最初计划的要大25%，而且我甚至没有提到每个主题。我尽力涵盖了您使用Kubernetes时可能认为重要的所有内容，并在本章中，我将突出一些我没有时间涉及的内容，以便您可以继续探索。我还提供了一些关于选择Kubernetes平台和社区简介的指导。
- en: 22.1 Further reading by chapter
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 22.1 按章节进一步阅读
- en: 'The main sources of further reading are the official Kubernetes website ([https://kubernetes.io](https://kubernetes.io)),
    which contains documentation and guides, and the API Reference ([https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/)),
    which has detailed descriptions of all the resources and their specifications.
    Those are good places to fill in some gaps from this book—and they’re also the
    only resources you can use during the exams if you go for Kubernetes certification.
    As I planned each chapter, I found a topic or two that I didn’t have room to include,
    and if you’re looking to go further, here are some of the things we skipped:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 进一步阅读的主要来源是官方Kubernetes网站([https://kubernetes.io](https://kubernetes.io))，其中包含文档和指南，以及API参考([https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/))，其中详细描述了所有资源和它们的规范。这些是填补本书中一些空白的好地方——而且它们也是如果您参加Kubernetes认证考试时可以使用的唯一资源。在我规划每一章时，我发现了一些我没有空间包含的主题，如果您想进一步学习，以下是我们跳过的一些内容：
- en: Chapter 2 introduced the YAML spec we used in every other chapter, but I didn’t
    cover *Kustomize*. That’s a tool that simplifies YAML specs. You can have a base
    set of specs and a set of overlays, which vary the configuration for different
    environments. It’s powerful but simpler than the full templating experience in
    Helm.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二章介绍了我们在其他所有章节中使用的YAML规范，但没有涵盖*Kustomize*。这是一个简化YAML规范的工具。您可以有一个基础规范集和一组覆盖规范，它们为不同的环境提供不同的配置。它功能强大但比Helm中的完整模板体验简单。
- en: Chapter 3 introduced networking and the Service resource. A new extension called
    *Service Topolog*y gives you much finer control over load balancing between Pods.
    You can specify that a network connection should use a Pod on the same node as
    the client, or a node in the same region, to reduce network latency.
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三章介绍了网络和Service资源。一个新的扩展名为*Service Topology*，它为您提供了对Pod之间负载均衡的更精细控制。您可以指定网络连接应使用与客户端在同一节点上的Pod，或同一区域中的节点，以减少网络延迟。
- en: Chapter 4 covered configuration in pretty exhaustive detail, but I skipped *projected
    volumes*, which are a useful way of surfacing multiple ConfigMaps and Secrets
    into one directory in the container filesystem—good if you want to store configuration
    items independently for an app that needs to see them all in the same place.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第四章详细介绍了配置，但跳过了*投影卷*，这是一种将多个ConfigMaps和Secrets暴露到容器文件系统中的一个目录中的有用方法——如果你希望为需要在一个地方看到所有配置项的应用独立存储配置项，这会很有用。
- en: Chapter 5 missed out on all the platform-specific volume types, which are the
    ones you really need to understand in production. The concepts are the same—you
    create a PVC and bind your Pod to it—but the underlying storage system makes a
    big difference. As an example, the Azure Kubernetes Service supports volumes using
    Azure Files or Azure Disks. Files are easier to share between nodes, but Disks
    offer better performance.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第五章没有涵盖所有平台特定的卷类型，这些是在生产中您真正需要理解的内容。概念是相同的——您创建一个PVC并将其绑定到Pod上——但底层存储系统有很大差异。例如，Azure
    Kubernetes Service支持使用Azure Files或Azure Disks的卷。文件更容易在节点之间共享，但磁盘提供了更好的性能。
- en: Chapter 6 showed how scaling works for Deployments and DaemonSets, running many
    replicas of the same Pod spec. Scaling up means running more Pods, which go into
    the pending state to be allocated to a node by the scheduler. You can use the
    affinity and antiaffinity rules you learned in chapter 19 to control replica placement.
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第6章展示了Deployments和DaemonSets的扩展工作原理，运行相同Pod规范的多个副本。扩展意味着运行更多的Pods，它们进入挂起状态，等待调度器分配给节点。您可以使用第19章中学到的亲和性和反亲和性规则来控制副本的位置。
- en: Chapter 7 introduced multicontainer Pods. There’s a new type called *ephemeral
    containers*, which is especially useful for debugging; it lets you run a temporary
    container inside an existing Pod. Ephemeral containers share the network space
    of the Pod and can share volumes and processes so they’re great for investigating
    problems, particularly if your app container uses a minimal Docker image without
    tools like `curl` (which it should).
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第7章介绍了多容器Pods。有一种新的类型称为*临时容器*，这对于调试特别有用；它允许您在现有的Pod内运行一个临时容器。临时容器共享Pod的网络空间，可以共享卷和进程，因此非常适合调查问题，尤其是如果您的应用程序容器使用没有工具如`curl`（它应该有）的最小Docker镜像。
- en: Chapter 8 looked at creating a stable environment for apps with StatefulSets.
    In some cases, you’ll want consistent Pod naming without the startup order guarantee,
    so Pods can start in parallel. The *Pod management policy* in the spec allows
    for that.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第8章探讨了使用StatefulSets为应用程序创建稳定环境。在某些情况下，您可能希望Pod命名一致，而不保证启动顺序，这样Pod可以并行启动。规范中的*Pod管理策略*允许这样做。
- en: Chapter 9 walked through rollouts and rollbacks, but you’ll also want to understand
    *Pod disruption budgets* (PDBs). Those are separate objects that ensure a minimum
    number of Pods are kept available, which is an important safety control for cluster
    or deployment issues. PDBs take precedence over other actions, so you can’t drain
    a node if removing its Pods would violate a PDB.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第9章介绍了部署和回滚，但您还希望了解*Pod中断预算*（PDBs）。这些是独立的对象，确保保持一定数量的Pod可用，这对于集群或部署问题是一个重要的安全控制。PDBs优先于其他操作，因此您不能排空节点，如果移除其Pod会违反PDB。
- en: Chapter 10 gave you an introduction to Helm with the main features covered,
    but an awful lot was left out. The templating language in Helm supports control
    flow with if and else statements and loops. You can create named templates and
    segments and use them multiple times in your charts, which makes complex app designs
    or deployment options simpler to manage.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第10章为您介绍了Helm，并涵盖了主要功能，但省略了很多内容。Helm的模板语言支持使用if和else语句和循环进行控制流。您可以在图表中创建命名模板和段，并多次使用它们，这使得复杂的应用程序设计或部署选项更容易管理。
- en: Chapter 11 introduced some CI/CD patterns in Kubernetes but didn’t mention *GitOps*,
    which is an attractive new approach where the cluster watches Git repositories
    to check for application releases. When a release is created, the cluster deploys
    it automatically, so instead of an administrator having access to the cluster
    for app management, the cluster updates apps itself. Argo CD is the CNCF project
    for GitOps.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第11章介绍了Kubernetes中的一些CI/CD模式，但没有提到*GitOps*，这是一种吸引人的新方法，其中集群监视Git存储库以检查应用程序发布。当创建发布时，集群会自动部署它，因此，管理员不需要访问集群进行应用程序管理，集群会自行更新应用程序。Argo
    CD是GitOps的CNCF项目。
- en: Chapter 12 covered self-healing apps and resource limits but didn’t get to *Quality
    of Service classes*, which is how Kubernetes provides service guarantees to Pods
    based on their resource specs. The classes are BestEffort, Burstable, and Guaranteed,
    and you should understand how they work because they affect Pod eviction.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第12章涵盖了自我修复应用程序和资源限制，但没有涉及到*服务质量类别*，这是Kubernetes根据Pod的资源规范提供服务保证的方式。类别包括BestEffort、Burstable和Guaranteed，您应该了解它们的工作原理，因为它们会影响Pod驱逐。
- en: Chapter 13 showed you how to collect, forward, and store log entries from Pods.
    That includes Kubernetes components that run in Pods, like the API server and
    DNS plugin, but you’ll also want to collect logs from the kubelet and the container
    runtime. How to do that is platform-dependent, but it’s important get those logs
    into your centralized logging system too.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第13章向您展示了如何从Pods中收集、转发和存储日志条目。这包括在Pods中运行的Kubernetes组件，如API服务器和DNS插件，但您还希望收集kubelet和容器运行时的日志。如何做到这一点取决于平台，但将日志放入您的集中式日志系统也很重要。
- en: Chapter 14 introduced Prometheus with a quick tour of exporters and client libraries.
    The Prometheus deployment was a simple one, and you should take the time to understand
    the *Prometheus Operator*. It’s a production-grade deployment, which adds CRDs
    for Prometheus and Alertmanager instances and for scrape targets and alerting
    rules.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第14章通过快速浏览导出器和客户端库介绍了Prometheus。Prometheus的部署很简单，你应该花时间了解*Prometheus Operator*。它是一个生产级别的部署，为Prometheus和Alertmanager实例以及抓取目标和警报规则添加了自定义资源定义（CRDs）。
- en: Chapter 15 used Nginx and Traefik as examples of ingress controllers. You should
    add *Contour* to your list if you’re evaluating options. It’s a CNCF project that
    uses Envoy as the underlying proxy—a very fast and feature-rich technology.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第15章以Nginx和Traefik为例介绍了入口控制器。如果你正在评估选项，你应该将*Contour*添加到你的列表中。它是一个CNCF项目，使用Envoy作为底层代理——这是一个非常快速且功能丰富的技术。
- en: Chapter 16 looked at lots of security options but didn’t include the *PodSecurityPolicy*
    resource, which lets you define rules Pods must adhere to before the cluster will
    run them. PodSecurityPolicies use an admission controller to block Pods that don’t
    meet the policies you define, and they’re a powerful security control, but it’s
    a new feature and isn’t available in every platform.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第16章探讨了大量的安全选项，但没有包括*PodSecurityPolicy*资源，它允许你定义Pod在集群运行之前必须遵守的规则。PodSecurityPolicies使用准入控制器来阻止不符合你定义的策略的Pod，它们是一种强大的安全控制，但这是一个新特性，并不是每个平台都提供。
- en: Chapter 17 on RBAC didn’t cover *service account projection*, which is a way
    for Pod specs to request a custom token with a stated expiration time and audience
    for the JWT. If you need a token only for an init container, you can request one
    that will expire after initialization. You’ll also want to understand how the
    Kubernetes API server audits requests, and there’s a useful tool on GitHub called
    *audit2rbac*, which can generate RBAC rules from an audit log.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第17章关于RBAC的内容没有涵盖*服务账户投影*，这是一种Pod规范请求带有声明性过期时间和JWT受众的定制令牌的方式。如果你只为初始化容器需要令牌，你可以请求一个在初始化后过期的令牌。你还需要了解Kubernetes
    API服务器如何审计请求，GitHub上有一个名为*audit2rbac*的有用工具，可以从审计日志生成RBAC规则。
- en: Chapter 18 gave you a flavor of installing and managing your own multinode cluster,
    but there is much more to understand if you plan to do that for real. *Rancher
    Kubernetes Engine* (RKE) is an open source product from Rancher that simplifies
    the installation and management of on-premises clusters. If you’re looking at
    a hybrid environment, you can have your on-premises clusters managed in the cloud
    using services like Azure Arc.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第18章为你提供了安装和管理自己的多节点集群的体验，但如果你真的打算这样做，还有很多东西需要了解。*Rancher Kubernetes Engine*（RKE）是Rancher的一个开源产品，它简化了本地集群的安装和管理。如果你正在考虑混合环境，你可以使用Azure
    Arc等服务在云中管理你的本地集群。
- en: Chapter 19 introduced the HorizontalPodAutoscaler, but there are two other types
    of auto-scale. The *VerticalPodAutoscaler* is an add-on from the Kubernetes project
    that manages resources requests and limits based on actual usage, so Pods scale
    up or down, and the cluster has an accurate resource view. *Cluster autoscaling*
    monitors the scheduler. If there are not enough compute resources to run pending
    Pods, it adds a new node in the cluster. Cloud providers typically provide cluster
    autoscaling.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第19章介绍了HorizontalPodAutoscaler，但还有两种其他类型的自动扩展。*VerticalPodAutoscaler*是Kubernetes项目的一个附加组件，它根据实际使用情况管理资源请求和限制，因此Pod可以向上或向下扩展，并且集群有一个准确资源视图。*集群自动扩展*监控调度器。如果没有足够的计算资源来运行挂起的Pod，它将在集群中添加一个新的节点。云提供商通常提供集群自动扩展服务。
- en: Chapter 20 missed an alternative option for extending Kubernetes—API *aggregation*.
    CRDs add new resource types to the standard API, but the aggregation layer lets
    you plug whole new types of functionality into the API server. It’s not commonly
    used, but it lets you add new capabilities to your cluster, which are authenticated
    by Kubernetes.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第20章遗漏了扩展Kubernetes的另一种选择——API*聚合*。CRDs向标准API添加了新的资源类型，但聚合层允许你将全新的功能类型插入到API服务器中。它并不常用，但它让你能够向你的集群添加新的功能，这些功能由Kubernetes进行认证。
- en: Chapter 21 introduced lots of serverless platform options, but there’s another
    take on serverless—scaling down to zero when there’s no work to be done. A CNCF
    project called *KEDA* (Kubernetes Event-Driven Autoscaling) covers that. It monitors
    event sources like message queues or Prometheus metrics and scales existing applications
    up or down based on incoming load. It’s a nice alternative to full serverless
    if you want the automatic management with your existing workflow.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第 21 章介绍了许多无服务器平台选项，但还有一种关于无服务器的看法——当没有工作要做时缩小到零。一个名为 *KEDA*（Kubernetes 事件驱动自动扩展）的
    CNCF 项目涵盖了这一点。它监控事件源，如消息队列或 Prometheus 指标，并根据传入的负载自动扩展或缩小现有应用程序。如果你想要与现有工作流程的自动管理，这是一个很好的无服务器替代方案。
- en: And I didn’t mention the Kubernetes *Dashboard*. That’s a web UI you run in
    the cluster that shows you a graphical view of your workloads and their health.
    You can also deploy applications and edit existing resources with the Dashboard,
    so if you use it, you need to be mindful of your RBAC rules and who has access
    to the UI.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我还没有提到 Kubernetes 的 *仪表板*。这是一个在集群中运行的 Web UI，它显示你工作负载的图形视图及其健康状况。你还可以使用仪表板部署应用程序和编辑现有资源，所以如果你使用它，你需要注意你的
    RBAC 规则以及谁可以访问 UI。
- en: It’s up to you how much more you feel you need to dig into those additional
    topics. They don’t feature in the book because they’re not core to your Kubernetes
    experience, or they use new features that don’t have widespread adoption. However
    far you decide to go, your next real task is to understand which Kubernetes platform
    you’re going to use.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以根据自己的需要决定对那些额外主题进行深入挖掘的程度。这些主题没有出现在书中，因为它们不是你 Kubernetes 经验的核心，或者它们使用了尚未得到广泛应用的全新功能。无论你决定走多远，你的下一个真正任务是了解你将使用哪个
    Kubernetes 平台。
- en: 22.2 Choosing a Kubernetes platform
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 22.2 选择 Kubernetes 平台
- en: 'Kubernetes has a certification process for distributions and hosted platforms.
    If you’re evaluating a platform, you should start with the certified list, which
    you can find on the CNCF landscape website ([https://landscape.cncf.io/](https://landscape.cncf.io/)).
    Kubernetes is particularly well suited to cloud environments where you can spin
    up a cluster in minutes that is nicely integrated with other services from the
    provider. At a minimum, you should expect the following feature set, which you’ll
    find in all the major clouds:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes 为发行版和托管平台提供了一个认证流程。如果你正在评估一个平台，你应该从认证列表开始，你可以在 CNCF 景观网站上找到这个列表（[https://landscape.cncf.io/](https://landscape.cncf.io/)）。Kubernetes
    特别适合云环境，你可以在几分钟内启动一个集群，并且这个集群可以很好地与其他服务提供商的服务集成。至少，你应该期待以下功能集，你将在所有主要云服务中找到这些功能：
- en: Integration with LoadBalancer Services, so they’re provisioned with a cloud
    load balancer, which spans the cluster nodes and a public IP address
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与负载均衡器服务的集成，这样它们就会与云负载均衡器一起提供，该负载均衡器跨越集群节点和公共 IP 地址
- en: Multiple storage classes with options like SMB and SSD, so you can choose between
    IO performance and availability in your PersistentVolumeClaims
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多种存储类，例如 SMB 和 SSD，这样你可以在你的 PersistentVolumeClaims 中在 I/O 性能和可用性之间进行选择
- en: Secret storage, so Secrets deployed to the cluster are actually created in a
    secure encrypted service, but are still accessible with the usual Secrets API
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 密钥存储，因此部署到集群中的密钥实际上是在一个安全的加密服务中创建的，但仍然可以通过常规的密钥 API 访问
- en: Cluster autoscaling, so you can set minimum and maximum cluster sizes and have
    nodes added or removed to meet demand as your Pods scale
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集群自动扩展，这样你可以设置最小和最大集群大小，并根据你的 Pods 规模需求添加或删除节点
- en: Multiple authentication options, so end users can access the cluster using their
    cloud credentials but you can also provision access for automation systems
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多种身份验证选项，因此最终用户可以使用他们的云凭证访问集群，但你也可以为自动化系统提供访问权限
- en: Your choice of cloud provider will probably be made for you if your organization
    has an existing relationship with one of the providers. Azure Kubernetes Service,
    Amazon’s Elastic Kubernetes Service, and Google Kubernetes Engine are all great
    options. If you do have a choice, you should also consider how quickly the platform
    rolls out new Kubernetes versions and just how managed the service is—are the
    nodes fully managed, or do you need to roll out operating system patches?
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的组织与某个提供商有现有关系，你的云提供商选择可能已经被决定了。Azure Kubernetes 服务、Amazon 的 Elastic Kubernetes
    服务和 Google Kubernetes Engine 都是很好的选择。如果你确实有选择，你也应该考虑平台推出新 Kubernetes 版本的速度以及服务的管理程度——节点是否完全由平台管理，或者你是否需要推出操作系统补丁？
- en: When you settle on a hosted platform, you’re going to need to spend some time
    learning how the rest of the cloud features are integrated with Kubernetes. Annotations
    in object metadata are often used as a bridge to include configuration settings
    for the cloud service that are outside the standard Kubernetes model. It’s a useful
    way of configuring your deployments so you get exactly what you want, but you
    need to be aware that any customizations reduce the portability of your apps.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当你确定了一个托管平台，你需要花一些时间学习云的其他功能是如何与 Kubernetes 集成的。对象元数据中的注释通常用作桥梁，以包含标准 Kubernetes
    模型之外的云服务配置设置。这是一种有用的配置部署的方式，以便你得到你想要的确切结果，但你需要意识到任何定制都会降低你应用程序的可移植性。
- en: The situation is slightly different for on-premises deployments. You still have
    the certification process, and many products deliver a stock Kubernetes cluster
    with a bespoke management experience and a support team. Others wrap Kubernetes
    in their own tooling and modeling—OpenShift does that in a big way, using its
    own resource definitions for runtime and network abstractions and even using an
    alternative CLI. A wrapped distribution may offer features or processes you prefer
    to vanilla Kubernetes, which could make it a good choice as long as you’re aware
    that it isn’t just Kubernetes, and it may be difficult to move your apps to another
    platform.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本地部署的情况，情况略有不同。你仍然有认证流程，许多产品提供带有定制管理体验和支持团队的标准 Kubernetes 集群。其他产品将 Kubernetes
    包装在自己的工具和模型中——OpenShift 就是以这种方式做的，它使用自己的资源定义进行运行时和网络抽象，甚至使用替代的 CLI。包装后的发行版可能提供你更喜欢于标准
    Kubernetes 的功能或流程，只要你知道这不仅仅是一个 Kubernetes，而且可能很难将你的应用程序迁移到另一个平台。
- en: Running your own open source Kubernetes cluster is definitely an option, one
    that is favored by startups or organizations with a large data center estate.
    If you’re considering that route, you need to understand just how much you’re
    taking on. Get everyone in your ops team a copy of this book, and then ask them
    to go on to study and pass the Certified Kubernetes Administrator exam. If they’re
    still keen on running a cluster, go for it, but be aware that their roles are
    likely to transition to full-time Kubernetes administrators. It’s not just a case
    of administering the cluster but also keeping up with the Kubernetes project itself.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 运行自己的开源 Kubernetes 集群绝对是一个选择，这是初创公司或拥有大量数据中心资产的组织的首选。如果你正在考虑这条路线，你需要了解你将要承担多少责任。给你的运维团队每个人都发一本这本书，然后让他们去学习和通过认证
    Kubernetes 管理员考试。如果他们仍然热衷于运行集群，那就去做吧，但要注意，他们的角色可能会转变为全职 Kubernetes 管理员。这不仅仅是管理集群，还要跟上
    Kubernetes 项目本身的发展。
- en: 22.3 Understanding how Kubernetes is built
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 22.3 理解 Kubernetes 的构建方式
- en: Kubernetes has a quarterly release schedule, so every three months, new features
    are available, beta features graduate to general availability, and old features
    are deprecated. These are minor version updates—say, from 1.17 to 1.18\. The major
    version is still 1, and there are no plans to jump to version 2 anytime soon.
    The three most recent minor versions are supported by the project, which means
    you should plan to upgrade your cluster at least twice a year. Patch releases
    occur whenever critical bugs or security issues require them; as an example, the
    1.18.6 release fixed an issue where containers could fill a node’s disk without
    triggering eviction.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes 有季度发布计划，因此每三个月就会推出新功能，beta 功能升级为通用可用性，旧功能被弃用。这些都是小版本更新——比如说，从 1.17
    升级到 1.18。主版本仍然是 1，而且没有计划在不久的将来跳转到版本 2。项目支持最近的三个小版本，这意味着你应该计划至少每年升级你的集群两次。补丁发布会在出现关键错误或安全问题时进行；例如，1.18.6
    版本的发布修复了一个问题，即容器可能会在没有触发驱逐的情况下填满节点的磁盘。
- en: Releases are all on GitHub in the `kubernetes/kubernetes` repository, and every
    release comes with an extensive change log. Whether you’re running your own cluster
    or using a hosted platform, you need to know what’s coming in a release before
    you upgrade because there are sometimes breaking changes. As features move through
    alpha and beta stages, the API version in the spec changes, and eventually old
    versions are not supported. If you have Deployment specs that use the `apps/v1beta2`
    API versions, you can’t deploy them on Kubernetes from 1.16—you need to change
    the spec to use the `apps/v1` version.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 所有发布都在 GitHub 的 `kubernetes/kubernetes` 仓库中，每个发布都附带详尽的变更日志。无论你是运行自己的集群还是使用托管平台，在升级之前，你需要了解发布中有什么内容，因为有时会有破坏性的更改。随着功能通过
    alpha 和 beta 阶段，规范中的 API 版本会发生变化，最终旧版本将不再受支持。如果你有使用 `apps/v1beta2` API 版本的 Deployment
    规范，你无法从 1.16 版本的 Kubernetes 上部署它们——你需要更改规范以使用 `apps/v1` 版本。
- en: Special interest groups (SIGs) own different aspects of the Kubernetes project
    covering releases, technical topics, and process—everything from authentication
    to contributor experience and Windows workloads. SIGs are public; they have regular
    online meetings that anyone can drop into, they have dedicated Slack channels,
    and all of their decisions are documented on GitHub. A technical SIG covers a
    wide area and is split into subprojects, which own the design and delivery of
    one component of Kubernetes. Overall, the Steering Committee owns the governance
    of the project, and committee members are elected for a two-year term.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 特别兴趣小组（SIGs）拥有 Kubernetes 项目的不同方面，包括发布、技术主题和流程——从身份验证到贡献者体验和 Windows 工作负载的一切。SIGs
    是公开的；他们有定期的在线会议，任何人都可以加入，他们有专门的 Slack 频道，并且所有决定都在 GitHub 上有记录。一个技术 SIG 覆盖广泛的领域，并分为子项目，这些子项目负责
    Kubernetes 一个组件的设计和交付。总体而言，指导委员会负责项目的治理，委员会成员将当选为期两年的任期。
- en: The open structure of Kubernetes drives innovation and quality. The governance
    model ensures individual organizations don’t have an unfair representation so
    they can’t steer road maps in directions that suit their products. Ultimately,
    Kubernetes itself is stewarded by the CNCF, which is chartered to promote the
    technology, protect the brand, and serve the community.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes 的开放结构推动了创新和质量。治理模型确保个别组织不会有不公平的代表性，因此它们不能将路线图引导到适合其产品的方向。最终，Kubernetes
    本身由 CNCF 管理员负责，CNCF 被授权促进技术、保护品牌并为社区服务。
- en: 22.4 Joining the community
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 22.4 加入社区
- en: That community includes you and me. If you want to see how the project evolves,
    the best way to start is by joining Slack at kubernetes.slack.com (you’ll find
    me there). Every SIG has its own channel so you can follow the areas you’re interested
    in, and general channels exist for release announcements, users, and novices.
    There are meetup groups all over the world with regular events, and the combined
    KubeCon and CloudNativeCon conferences are regional in Europe, America, and Asia.
    All of the Kubernetes code and documentation is open source, and you can contribute
    on GitHub.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这个社区包括你和我在内。如果你想了解项目的发展情况，最好的开始方式是加入 Slack，网址是 kubernetes.slack.com（你可以在那里找到我）。每个
    SIG 都有自己的频道，因此你可以关注你感兴趣的区域，同时存在一些通用频道，用于发布版本公告、用户和初学者。世界各地都有定期的聚会小组，KubeCon 和
    CloudNativeCon 大会分别在欧洲、美洲和亚洲举行。所有的 Kubernetes 代码和文档都是开源的，你可以在 GitHub 上进行贡献。
- en: And that’s all from me. Thank you for reading this book, and I hope it’s helped
    you to become comfortable and confident with Kubernetes. It can be a career-changing
    technology, and I hope everything you’ve learned here will help you on your journey.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 就这些了。感谢你阅读这本书，希望它帮助你变得对 Kubernetes 舒适和自信。它可能是一项改变职业生涯的技术，我希望你在这里学到的所有东西都能帮助你走上旅程。
