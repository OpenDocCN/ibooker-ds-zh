- en: 1 What is a machine learning engineer?
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1 什么是机器学习工程师？
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: The scope of knowledge and skills for machine learning engineers
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习工程师的知识和技能范围
- en: The six fundamental aspects of applied machine learning project work
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用机器学习项目工作的六个基本方面
- en: The functional purpose of machine learning engineers
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习工程师的功能性目的
- en: Machine learning (ML) is exciting. It’s fun, challenging, creative, and intellectually
    stimulating. It also makes money for companies, autonomously tackles overwhelmingly
    large tasks, and removes the burdensome task of monotonous work from people who
    would rather be doing something else.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习（ML）令人兴奋。它很有趣，具有挑战性、创造性，并且富有智力刺激。它还为公司赚钱，自主处理压倒性的大任务，并从那些更愿意做其他事情的人那里移除了单调乏味的工作负担。
- en: ML is also ludicrously complex. From thousands of algorithms, hundreds of open
    source packages, and a profession of practitioners required to have a diverse
    skill set ranging from data engineering (DE) to advanced statistical analysis
    and visualization, the work required of a professional practitioner of ML is truly
    intimidating. Adding to that complexity is the need to be able to work cross-functionally
    with a wide array of specialists, subject-matter experts (SMEs), and business
    unit groups—communicating and collaborating on both the nature of the problem
    being solved and the output of the ML-backed solution.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习也非常复杂。从数千种算法、数百个开源包，以及需要从数据工程（DE）到高级统计分析与可视化的多种技能集的从业者职业，专业机器学习从业者所需完成的工作确实令人畏惧。再加上需要能够与广泛的跨职能专家、领域专家（SMEs）和业务单元团队合作——在解决问题的性质和机器学习支持的解决方案的输出上进行沟通和协作，增加了这种复杂性。
- en: ML engineering applies a *system* around this staggering level of complexity.
    It uses a set of standards, tools, processes, and methodology that aims to minimize
    the chances of abandoned, misguided, or irrelevant work being done in an effort
    to solve a business problem or need. It, in essence, is the road map to creating
    ML-based systems that can be not only deployed to production, but also maintained
    and updated for years in the future, allowing businesses to reap the rewards in
    efficiency, profitability, and accuracy that ML in general has proven to provide
    (when done correctly).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工程应用了一套*系统*来处理这种令人敬畏的复杂性。它使用一系列标准、工具、流程和方法，旨在最大限度地减少在解决商业问题或需求时进行废弃、误导或不相关工作的可能性。本质上，它是创建可以部署到生产中、未来几年内可以维护和更新的基于机器学习的系统的路线图，使企业能够获得机器学习在效率、盈利能力和准确性方面证明可以提供的收益（当正确执行时）。
- en: This book is, at its essence, that very road map. It’s a guide to help you navigate
    the path of developing production-capable ML solutions. Figure 1.1 shows the major
    elements of ML project work covered throughout this book. We’ll move through these
    proven sets of processes (mostly a “lessons learned” from things I’ve screwed
    up in my career) to give a framework for solving business problems through the
    application of ML.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书本质上就是那条路线图。它是一份指南，帮助你导航开发具有生产能力的机器学习解决方案的路径。图1.1显示了本书涵盖的机器学习项目工作的主要元素。我们将通过这些经过验证的过程集（主要是从我的职业生涯中犯过的错误中吸取的教训）来提供一个框架，通过应用机器学习来解决商业问题。
- en: '![01-01](../Images/01-01.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![01-01](../Images/01-01.png)'
- en: Figure 1.1 The ML engineering road map for project work
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1 项目工作的机器学习工程路线图
- en: This path for project work is not meant to focus solely on the tasks that should
    be done at each phase. Rather, it is the methodology within each stage (the “why
    are we doing this” element) that enables successful project work.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目工作路径并不是要专注于每个阶段应该完成的任务。相反，它是每个阶段内的方法论（即“我们为什么要这样做”的元素），这使得项目工作能够成功。
- en: The end goal of ML work is, after all, about solving a problem. The most effective
    way to solve those business problems that we’re all tasked with as data science
    (DS) practitioners is to follow a process designed around preventing rework, confusion,
    and complexity. By embracing the concepts of ML engineering and following the
    road of effective project work, the end goal of getting a useful modeling solution
    can be shorter, far cheaper, and have a much higher probability of succeeding
    than if you just wing it and hope for the best.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工作的最终目标毕竟是为了解决问题。作为数据科学（DS）从业者，解决我们所有人都要面对的业务问题的最有效方式是遵循一个旨在防止返工、混乱和复杂性的流程。通过拥抱机器学习工程的概念并遵循有效项目工作的道路，获得有用建模解决方案的最终目标可以更短，成本更低，成功的可能性也更高，而不是仅仅碰运气，寄希望于最好的结果。
- en: 1.1 Why ML engineering?
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.1 为什么是机器学习工程？
- en: To put it most simply, ML is *hard*. It’s even harder to do correctly in the
    sense of serving relevant predictions, at scale, with reliable frequency. With
    so many specialties existing in the field—such as natural language processing
    (NLP), forecasting, deep learning, and traditional linear and tree-based modeling—an
    enormous focus on active research, and so many algorithms that have been built
    to solve specific problems, it’s remarkably challenging to learn even slightly
    more than an insignificant fraction of all there is to learn about the field.
    Understanding the theoretical and practical aspects of applied ML is challenging
    and time-consuming.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，机器学习是*困难的*。在正确地以可靠频率大规模提供相关预测的意义上，它甚至更难。考虑到该领域存在许多专业领域——如自然语言处理（NLP）、预测、深度学习和传统的基于线性树建模——以及大量为解决特定问题而构建的算法，学习该领域所有知识的一小部分都极具挑战性。理解应用机器学习的理论和实践方面是具有挑战性和耗时的工作。
- en: However, none of that knowledge helps in building interfaces between the model
    solution and the outside world. Nor does it help inform development patterns that
    ensure maintainable and extensible solutions.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这些知识在构建模型解决方案与外部世界之间的接口方面没有帮助。它也没有帮助告知确保可维护和可扩展解决方案的开发模式。
- en: Data scientists are also expected to be familiar with additional realms of competency.
    From mid-level DE skills (you have to get your data for your data science from
    somewhere, right?), software development skills, project management skills, visualization
    skills, and presentation skills, the list grows ever longer, and the volumes of
    experience that need to be gained become rather daunting. It’s not much of a surprise,
    considering all of this, that “just figuring it out” in reference to all the required
    skills to create production-grade ML solutions is untenable.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学家还应该熟悉其他领域的专业技能。从中级数据工程技能（你总得从某处获取你的数据科学数据，对吧？），软件开发技能，项目管理技能，可视化技能，到演示技能，这个列表越来越长，需要积累的经验量也变得相当令人畏惧。考虑到所有这些，对于创建生产级机器学习解决方案所需的所有技能“只是弄清楚”来说，这并不令人惊讶。
- en: The aim of ML engineering is not to iterate through the lists of skills just
    mentioned and require that a data scientist (DS) master each of them. Instead,
    ML engineering collects certain aspects of those skills, carefully crafted to
    be relevant to data scientists, all with the goal of increasing the chances of
    *getting an ML project into production* and making sure that it’s not a solution
    that needs constant maintenance and intervention to keep running.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工程的目标不是迭代上述技能列表，并要求数据科学家（DS）掌握每一项技能。相反，机器学习工程收集了这些技能的某些方面，精心设计以与数据科学家相关，所有这些都有助于增加将机器学习项目投入生产的可能性，并确保它不是一个需要不断维护和干预才能运行的解决方案。
- en: ML engineers, after all, don’t need to be able to create applications and software
    frameworks for generic algorithmic use cases. They’re also not likely to be writing
    their own large-scale streaming ingestion extract, transform, and load (ETL) pipelines.
    They similarly don’t need to be able to create detailed and animated frontend
    visualizations in JavaScript.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，机器学习工程师不需要能够为通用算法用例创建应用程序和软件框架。他们也不太可能编写自己的大规模流式处理提取、转换和加载（ETL）管道。他们同样不需要能够使用JavaScript创建详细和动态的前端可视化。
- en: ML engineers need to know *just enough software development skills* to be able
    to write modular code and implement unit tests. The don’t need to know about the
    intricacies of non-blocking asynchronous messaging brokering. They need *just
    enough data engineering skills* to build (and schedule the ETL for) feature datasets
    for their models, but not to construct a petabyte-scale streaming ingestion framework.
    They need *just enough visualization skills* to create plots and charts that communicate
    clearly what their research and models are doing, but not to develop dynamic web
    apps that have complex user-experience (UX) components. They also need *just enough
    project management experience* to know how to properly define, scope, and control
    a project to solve a problem, but need not go through a Project Management Professional
    (PMP) certification.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工程师需要掌握“足够”的软件开发技能，以便能够编写模块化代码和实现单元测试。他们不需要了解非阻塞异步消息代理的复杂性。他们需要“足够”的数据工程技能来构建（并为模型调度ETL）特征数据集，但不需要构建PB级流式摄取框架。他们需要“足够”的可视化技能来创建能够清晰传达其研究和模型所做工作的图表，但不需要开发具有复杂用户体验（UX）组件的动态Web应用程序。他们还需要“足够”的项目管理经验，知道如何正确定义、范围和控制在解决问题时项目，但不需要通过项目管理专业（PMP）认证。
- en: A giant elephant remains in the room when it comes to ML. Specifically, *why*—with
    so many companies going all in on ML, hiring massive teams of highly compensated
    data scientists, and devoting enormous amounts of financial and temporal resources
    to projects—do so many endeavors end up failing? Figure 1.2 depicts rough estimates
    of what I’ve come to see as the six primary reasons projects fail (and the rates
    of these failures in any given industry, from my experience, are truly surprising).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在机器学习领域，有一个巨大的问题仍然存在。具体来说，为什么——随着许多公司全力投入机器学习，雇佣大量高薪数据科学家，并投入大量财务和时间资源到项目中——这么多努力最终都以失败告终？图1.2描绘了我所看到的六个主要项目失败原因的粗略估计（并且根据我的经验，任何特定行业的这些失败率确实令人惊讶）。
- en: '![01-02](../Images/01-02.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![01-02](../Images/01-02.png)'
- en: Figure 1.2 My estimation of why ML projects fail, from the hundreds I’ve worked
    on and advised others on
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.2：我对为什么机器学习项目失败的原因估计，基于我所参与和指导的数百个项目
- en: Throughout this first part of the book, we’ll discuss how to identify the reasons
    so many projects fail, are abandoned, or take far longer than they should to reach
    production. We’ll also discuss the solutions to each of these common failures
    and cover the processes that can significantly lower the chances of these factors
    derailing your projects.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的第一部分，我们将讨论如何识别导致许多项目失败、被放弃或远远超出预期时间才达到生产阶段的原因。我们还将讨论解决这些常见失败的方法，并介绍可以显著降低这些因素导致项目受阻的流程。
- en: Generally, these failures happen because the DS team is either inexperienced
    with solving a problem of the scale required (a technological or process-driven
    failure) or hasn’t fully understood the desired outcome from the business (a communication-driven
    failure). I’ve never seen this happen because of malicious intent. Rather, most
    ML projects are incredibly challenging, complex, and composed of algorithmic software
    tooling that is hard to explain to a layperson—hence the breakdowns in communication
    with business units that most projects endure.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，这些失败发生是因为数据科学团队要么缺乏解决所需规模问题（技术或流程驱动型失败）的经验，要么没有完全理解业务所期望的结果（沟通驱动型失败）。我从未见过这种情况是由于恶意意图造成的。相反，大多数机器学习项目极其具有挑战性、复杂，并且由难以向非专业人士解释的算法软件工具组成——这就是为什么大多数项目在业务部门之间沟通出现破裂的原因。
- en: 'Adding to the complexity of ML projects are two other critical elements that
    are not shared by (most) traditional software development projects: a frequent
    lack of detail in project expectations and the relative industry immaturity in
    tooling. Both aspects are no different from the state of software engineering
    in the early 1990s. Businesses then were unsure of how to best leverage new aspects
    of technological capability, tooling was woefully underdeveloped, and many projects
    failed to meet the expectations of those who were commissioning engineering teams
    to build them. ML work is (from my biased view of working with only so many companies)
    at the same place now in the second decade of the 21st century that software engineering
    was 30 years ago.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习项目的复杂性还增加了两个其他关键元素，这些元素（大多数）传统软件开发项目并不具备：项目期望的细节经常不足，以及工具的相对行业不成熟。这两个方面与20世纪90年代初的软件工程状态并无不同。当时的企业不确定如何最好地利用技术能力的新方面，工具发展严重不足，许多项目未能满足那些委托工程团队为其建设的人的期望。从我的偏见来看，机器学习工作（仅与为数不多的公司合作）在21世纪的第二个十年处于与30年前软件工程相同的位置。
- en: This book isn’t a doom-riddled treatise on the challenges of ML; rather, it’s
    meant to show how these elements can be a risk for projects. The intent is to
    teach the processes and tools that help minimize this failure risk. Figure 1.3
    shows an overview of the detours that can arise in the execution of a project;
    each brings a different element of risk to a project’s successful execution.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书并不是关于机器学习挑战的末日预言论文；相反，它的目的是展示这些元素如何成为项目的风险。目的是教授那些有助于最小化失败风险的流程和工具。图1.3展示了在项目执行过程中可能出现的各种绕行；每一项都会给项目成功的执行带来不同的风险元素。
- en: '![01-03](../Images/01-03.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![01-03](../Images/01-03.png)'
- en: Figure 1.3 ML project detours that lead to project failure
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 导致项目失败的机器学习项目绕行
- en: The framework used in ML engineering is exactly dedicated to address each of
    these primary failure modes. Eliminating these chances of failure is at the heart
    of this methodology. It is done by providing the processes to make better decisions,
    ease communication with internal customers, eliminate rework during the experimentation
    and development phases, create code bases that can be easily maintained, and bring
    a best-practices approach to any project that is heavily influenced by DS work.
    Just as software engineers decades ago refined their processes from large-scale
    waterfall implementations to a more flexible and productive Agile process, ML
    engineering seeks to define a new set of practices and tools that will optimize
    the wholly unique realm of software development for data scientists.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习工程中使用的框架正是专门用来解决这些主要失败模式的。消除这些失败的可能性是这个方法的核心。这是通过提供更好的决策流程、简化与内部客户的沟通、在实验和开发阶段消除返工、创建易于维护的代码库，并将最佳实践方法应用于任何受数据科学工作严重影响的项目来实现的。正如几十年前的软件工程师从大规模瀑布式实施中提炼出更灵活、更高效的敏捷流程一样，机器学习工程寻求定义一套新的实践和工具，以优化数据科学家完全独特的软件开发领域。
- en: 1.2 The core tenets of ML engineering
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.2 机器学习工程的核心原则
- en: Now that you have a general idea of what ML engineering is, we can focus in
    a bit on the key elements that make up those incredibly broad categories from
    figure 1.2\. Each of these topics is the focus of entire chapter-length in-depth
    discussions later in this book, but for now we’re going to look at them in a holistic
    sense by way of potentially painfully familiar scenarios to elucidate why they’re
    so important.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 既然你对机器学习工程有了大致的了解，我们现在可以稍微关注一下构成图1.2中那些极其广泛的类别的主要元素。这些主题中的每一个都将在本书后面的章节中进行深入讨论，但就目前而言，我们将通过可能令人痛苦熟悉的情况来全面审视它们，以阐明它们为什么如此重要。
- en: 1.2.1 Planning
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.1 规划
- en: '*Nothing is more demoralizing than building an ML solution that solves the
    wrong problem.*'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '*构建一个解决错误问题的机器学习解决方案是最令人沮丧的事情。*'
- en: By far the largest cause of project failures, failing to plan out a project
    thoroughly, is one of the most demoralizing ways for a project to be cancelled.
    Imagine for a moment that you’re the first-hired DS for a company. On your first
    week, an executive from marketing approaches you, explaining (in their terms)
    a serious business issue that they are having. They need to figure out an efficient
    means of communicating to customers through email to let them know of upcoming
    sales that they might be interested in. With very little additional detail provided
    to you, the executive merely says, “I want to see the click and open rates go
    up on our emails.”
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，项目失败的最大原因之一是未能彻底规划项目，这是项目被取消最令人沮丧的方式之一。想象一下，你是一家公司第一位雇佣的数据科学家。在你第一周的时候，营销部门的负责人来找你，用他们的术语解释他们正在面临的一个严重的业务问题。他们需要找出一种高效的方法通过电子邮件与客户沟通，让他们知道即将到来的促销活动。给你提供的额外细节非常少，高管只是说：“我想看到我们的电子邮件的点击率和打开率上升。”
- en: If this is the only information supplied, and repeated queries to members of
    the marketing team simply state the same end goal of increasing the clicking and
    opening rate, the number of avenues to pursue seems limitless. Left to your own
    devices, do you
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这是唯一提供的信息，并且对营销团队成员的重复查询只是陈述相同的最终目标——提高点击率和打开率，那么可以追求的途径似乎是无尽的。如果完全由你自己决定，你会
- en: Focus on content recommendation and craft custom emails for each user?
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专注于内容推荐并为每个用户定制电子邮件吗？
- en: Provide predictions with an NLP-backed system that will craft relevant subject
    lines for each user?
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供一个基于NLP系统的预测，为每个用户定制相关的主题行吗？
- en: Attempt to predict a list of products most relevant to the customer base to
    put on sale each day?
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 试图预测每天对客户群最相关的产品列表以进行销售吗？
- en: With so many options of varying complexity and approaches, and little guidance,
    creating a solution that is aligned with the expectations of the executive is
    highly unlikely. Instead, if a proper planning discussion delved into the correct
    amount of detail, avoiding the complexity of the ML side of things, the true expectation
    might be revealed. You’d then know that the only expectation is a prediction for
    when each user would most likely be open to reading email. The executive simply
    wants to know when someone is most likely to not be at work, commuting, or sleeping
    so that the company can send batches of emails throughout the day to different
    cohorts of customers.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在如此多的不同复杂性和方法的选择中，且缺乏指导，创建一个符合高管期望的解决方案几乎是不可能的。相反，如果进行适当的规划讨论，深入探讨正确的细节程度，避免ML方面的复杂性，真正的期望可能会被揭示。那时你就会知道，唯一的期望是预测每个用户最有可能打开邮件的时间。高管只想知道某人最有可能不在工作、通勤或睡觉的时间，这样公司就可以在一天中向不同的客户群体发送批量的电子邮件。
- en: The sad reality is that many ML projects start off in this way. Frequently,
    little communication occurs with regards to project initiation, and the general
    expectation is that the DS team *will just figure it out*. However, without the
    proper guidance on what needs to be built, how it needs to function, and what
    the end goal of the predictions is, the project is almost certainly doomed to
    failure.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 令人悲哀的现实是，许多ML项目都是以这种方式开始的。通常，在项目启动时很少进行沟通，普遍的期望是DS团队“只需弄清楚”。然而，如果没有关于需要构建什么、如何运行以及预测的最终目标等方面的适当指导，项目几乎注定会失败。
- en: After all, what would have happened if an entire content recommendation system
    were built for that use case, with months of development and effort wasted, when
    a simple analytics query based on IP address geolocation was what was really needed?
    The project would not only be cancelled, but many questions would likely come
    from on high as to why this system was built and why its development costed so
    much.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 毕竟，如果为这种情况构建了一个整个内容推荐系统，投入了数月的时间和精力，而实际上只需要基于IP地址地理位置的简单分析查询，那么这个项目不仅会被取消，而且很可能会从高层提出许多问题，询问为什么建立这个系统以及为什么其开发成本如此之高。
- en: 'Let’s look at the simplified planning discussion illustrated in figure 1.4\.
    Even at the initial phase of discussion, we can see how just a few careful questions
    and clear answers can provide the one thing every data scientist should be looking
    for in this situation (especially as the first DS at a company working on the
    first problem): a quick win.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看图1.4中展示的简化规划讨论。即使在讨论的初期阶段，我们也能看到仅仅几个精心设计的问题和清晰的答案就能提供每个数据科学家在这种情况下都应该寻找的东西（尤其是作为公司第一个解决第一个问题的DS）：快速胜利。
- en: '![01-04](../Images/01-04.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![01-04](../Images/01-04.png)'
- en: Figure 1.4 A simplified planning discussion diagram
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.4 简化规划讨论图
- en: As you can see from the DS’s internal monologue shown at the right, the problem
    at hand is not at all in the list of original assumptions that were made. There
    is no talk of email content, relevancy to the subject line, or the items in the
    email. It’s a simple analytical query to figure out which time zone customers
    are in and to analyze historic opening in local times for each customer. By taking
    a few minutes to plan and understand the use case fully, weeks (if not months)
    of wasted effort, time, and money were saved.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如您从右侧展示的DS内部独白中可以看到，当前的问题根本不在最初假设的列表中。没有关于电子邮件内容、与主题行相关性的讨论，也没有关于电子邮件中条目的讨论。这是一个简单的分析查询，旨在确定客户所在的时区，并分析每个客户在本地时间的历史开启情况。通过花几分钟时间规划和全面理解用例，节省了数周（如果不是数月）的无效努力、时间和金钱。
- en: By focusing on *what will be built* and *why it needs to be built*, both the
    DS team and the business are able to guide the discussion more fruitfully. Eschewing
    a conversation focused on *how it will be built* keeps the DS members of the group
    focused on the problem. Ignoring *when it will be built by* helps the business
    keep its focus aligned on the needs of the project.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 通过关注**将要建设的内容**和**为什么需要建设它**，DS团队和业务部门都能够更有效地引导讨论。避免讨论**如何建设**的问题，可以使DS团队成员专注于问题本身。忽略**由谁在何时完成**的问题，有助于业务部门保持对项目需求的关注。
- en: Avoiding discussing implementation details at this stage of the project is not
    merely critical for the team to focus on the problem. Keeping the esoteric details
    of algorithms and solution design out of discussions with the larger team keeps
    the business unit members engaged. After all, they really don’t care how many
    eggs go into the mix, what color the eggs are, or even what species laid the eggs;
    they just want to eat the cake when it’s done. We will cover the processes of
    planning, having project expectation discussions with internal business customers,
    and general communications about ML work with a nontechnical audience at length
    and in much greater depth throughout the remainder of part 1.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在项目这个阶段避免讨论实施细节，不仅对团队专注于问题至关重要。将算法和解决方案设计的神秘细节排除在更大团队的讨论之外，可以保持业务单元成员的参与度。毕竟，他们真正关心的不是混合了多少个鸡蛋，鸡蛋是什么颜色，甚至是什么物种下的蛋；他们只想在完成时吃到蛋糕。在第一部分的剩余部分，我们将详细讨论规划过程、与内部业务客户进行项目期望讨论以及与非技术受众进行关于机器学习工作的通用沟通。
- en: 1.2.2 Scoping and research
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.2 范围和调研
- en: '*If you switch your approach halfway through development, you’ll face a hard
    conversation with the business to explain that the project’s delays are due to
    you not doing your homework.*'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果在开发过程中半途改变方法，你将不得不面对与业务部门的艰难对话，解释项目延误是由于你没有做好作业。*'
- en: 'After all, there are only two questions that your internal customers (the business
    unit) have about the project:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，内部客户（业务单元）对项目只有两个问题：
- en: Is this going to solve my problem?
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这能解决我的问题吗？
- en: How long is this going to take?
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这需要多长时间？
- en: Let’s take a look at another potentially familiar scenario to discuss polar
    opposite ways that this stage of ML project development can go awry. Say we have
    two DS teams at a company, each being pitted against the other to develop a solution
    to an escalating incidence of fraud being conducted with the company’s billing
    system. Team A’s research and scoping process is illustrated in figure 1.5.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看另一个可能熟悉的场景，以讨论ML项目开发这个阶段可能出现的两种截然不同的错误方式。假设我们有一家公司的两个DS团队，每个团队都被置于对立面，以开发解决公司账单系统中日益严重的欺诈行为的解决方案。团队A的调研和范围过程如图1.5所示。
- en: '![01-05](../Images/01-05.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![01-05](../Images/01-05.png)'
- en: Figure 1.5 Research and scoping of a fraud-detection problem for a junior team
    of well-intentioned but inexperienced data scientists
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5 初级团队的数据科学家（有良好意图但缺乏经验）对欺诈检测问题的调研和范围
- en: Team A comprises mostly junior data scientists, all of whom entered the workforce
    without an extensive period in academia. Their actions, upon getting the details
    of the project and the expectations of them, is to immediately go to blog posts.
    They search the internet for “detecting payment fraud” and “fraud algorithms,”
    finding hundreds of results from consultancy companies, a few extremely high-level
    blog posts from similar junior data scientists who have likely never put a model
    into production, and some rudimentary open source data examples.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: A 团队主要由初级数据科学家组成，他们中的所有人进入职场时都没有在学术界度过一段长时间。在获得项目细节和他们的期望后，他们的行动是立即查阅博客文章。他们在互联网上搜索“检测支付欺诈”和“欺诈算法”，找到了来自咨询公司的数百个结果，几篇来自类似初级数据科学家的极高层次的博客文章，这些初级数据科学家可能从未将模型投入生产，以及一些基本的开源数据示例。
- en: Team B, in contrast, is filled with a group of PhD academic researchers. Their
    research and scoping is shown in figure 1.6.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 与此相反，B 团队由一群博士级别的学术研究人员组成。他们的研究和范围界定如图 1.6 所示。
- en: '![01-06](../Images/01-06.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![01-06](../Images/01-06.png)'
- en: Figure 1.6 Research and scoping for an academia-focused group of researchers
    for the fraud-detection problem
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 针对学术研究团队针对欺诈检测问题的研究和范围界定
- en: With Team B’s studious approach to research and vetting of ideas, the first
    actions are to dig into published papers on the topic of fraud modeling. Spending
    several days reading through journals and papers, these team members are now armed
    with a large collection of theory encompassing some of the most cutting-edge research
    being done on detecting fraudulent activity.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: B 团队对研究和想法的严谨态度，首先的行动是深入研究关于欺诈建模主题的已发表论文。经过几天阅读期刊和论文，这些团队成员现在掌握了一大堆理论，涵盖了检测欺诈活动的一些最前沿的研究。
- en: If we were to ask either team to estimate the level of effort required to produce
    a solution, we would get wildly divergent answers. Team A would likely estimate
    about two weeks to build its XGBoost binary classification model, while team B
    would tell a vastly different tale. Those team members would estimate several
    months for implementing, training, and evaluating the novel deep learning structure
    that they found in a highly regarded whitepaper whose proven accuracy for the
    research was significantly better than any Perforce-implemented algorithm for
    this use case.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们要求任何一队估算出产生解决方案所需的工作量，我们会得到截然不同的答案。A 团队可能会估计大约需要两周时间来构建其 XGBoost 二分类模型，而
    B 团队则会讲述一个截然不同的故事。这些团队成员会估计需要几个月时间来实现、训练和评估他们在一份备受推崇的论文中发现的创新深度学习结构，该论文的研究证明其准确性显著优于任何
    Perforce 实现的算法。
- en: The problem here with scoping and research is that these two polar opposites
    would both have their projects fail for two completely different reasons. Team
    A would fail because the solution to the problem is *significantly more complex
    than the example shown in the blog post* (the class imbalance issue alone is too
    challenging of a topic to effectively document in the short space of a blog).
    Team B, even though its solution would likely be extremely accurate, would *never
    be allocated resources to build the risky solution* as an initial fraud-detection
    service at the company.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在范围界定和研究方面的问题在于，这两个截然不同的方面都可能导致项目失败，原因完全不同。A 团队可能会失败，因为问题的解决方案比博客文章中展示的例子**要复杂得多**（仅平衡类别问题就是一个过于复杂的话题，难以在博客的简短篇幅中有效记录）。尽管
    B 团队的解决方案可能非常准确，但公司作为初始的欺诈检测服务，**永远不会分配资源来构建风险解决方案**。
- en: Project scoping for ML is incredibly challenging. Even for the most seasoned
    of ML veterans, conjecturing how long a project will take, which approach is going
    to be most successful, and the amount of resources required is a futile and frustrating
    exercise. The risk associated with making erroneous claims is fairly high, but
    structuring proper scoping and solution research can help minimize the chances
    of being wildly off on estimation.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 对于机器学习项目来说，范围界定极具挑战性。即使是经验丰富的机器学习老手，预测一个项目需要多长时间，哪种方法最可能成功，以及需要多少资源，都是一项徒劳且令人沮丧的练习。做出错误断言的风险相当高，但合理地构建范围界定和解决方案研究可以帮助最小化估计失误的可能性。
- en: Most companies have a mix of the types of people in this hyperbolic scenario.
    Some are academics whose sole goal is to further the advancement of knowledge
    and research into algorithms, paving the way for future discoveries from within
    the industry. Others are “applications of ML” engineers who just want to use ML
    as a tool to solve a business problem. It’s important to embrace and balance both
    aspects of these philosophies toward ML work, strike a compromise during the research
    and scoping phase of a project, and know that the middle ground here is the best
    path to trod upon to ensure that a project actually makes it to production.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数公司都拥有这种夸张场景中的人的类型混合。有些人是为了进一步推进算法的知识和研究进步，为行业内的未来发现铺平道路的学者。其他人则是“机器学习应用”工程师，他们只想将机器学习作为解决业务问题的工具。在ML工作中，重要的是要接受并平衡这些哲学观点的各个方面，在项目的研究和规划阶段达成妥协，并知道这里的中间地带是确保项目真正投入生产的最佳途径。
- en: 1.2.3 Experimentation
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.3 实验
- en: '*Testing approaches is a Goldilocks activity; if you don’t test enough options,
    you’re probably not finding the best solution, while testing too many things wastes
    precious time. Find the middle ground.*'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*测试方法是一种金发姑娘活动；如果你测试的选项不够多，你很可能找不到最佳解决方案，而测试太多东西则浪费宝贵的时间。找到中间地带。*'
- en: In the experimentation phase, the largest causes of project failure are either
    the experimentation taking too long (testing too many things or spending too long
    fine-tuning an approach) or an underdeveloped prototype that is so abysmally bad
    that the business decides to move on to something else.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在实验阶段，项目失败的最大原因要么是实验时间过长（测试太多东西或花费太多时间微调方法），要么是原型开发不足，糟糕到业务决定转向其他事情。
- en: Let’s use a similar example from section 1.2.2 to illustrate how these two approaches
    might play out at a company that is looking to build an image classifier for detecting
    products on retail store shelves. The experimentation paths that the two groups
    take (showing the extreme opposites of experimentation) are shown in figures 1.7
    and 1.8.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用一个类似的例子来阐述，说明这两家公司如何在一个试图为检测零售店货架上的产品构建图像分类器的公司中发挥作用。这两个小组采取的实验路径（显示了实验的极端对立面）如图1.7和1.8所示。
- en: '![01-07](../Images/01-07.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![01-07](../Images/01-07.png)'
- en: Figure 1.7 A rushed experimentation phase by a team of inexperienced data scientists
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.7 不经验丰富的数据科学家团队匆忙的实验阶段
- en: Team A embodies the example of wholly inadequate research and experimentation
    in the early phases of a project. A project that glosses over these critical stages
    of solution development runs the risk, as shown in figure 1.7, of having a result
    that is so woefully underdeveloped that it becomes irrelevant to the business.
    Projects like these erode the business’s faith in the DS team, waste money, and
    needlessly expend precious resources of several groups.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 团队A体现了在项目早期阶段完全不足的研究和实验的例子。一个在解决方案开发的关键阶段草草了事的项目，如图1.7所示，面临着结果严重不成熟，以至于与业务无关的风险。这样的项目会削弱业务对DS团队的信心，浪费金钱，并无谓地消耗多个团队的宝贵资源。
- en: These inexperienced DS team members, performing only the most cursory of research,
    adapt a basic demo from a blog post. While their basic testing shows promise,
    they fail to thoroughly research the implementation details required for employing
    the model on their data. By retraining the pretrained model on only a few hundred
    images of two of the many thousands of products from their corpus of images, their
    misleading results hide the problem with their approach.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这些缺乏经验的数据科学团队成员只进行最肤浅的研究，从博客文章中改编了一个基本的演示。虽然他们的基本测试显示出希望，但他们未能彻底研究在他们的数据上应用模型所需的实现细节。通过仅在他们图像库中的成千上万种产品中的两种产品上重新训练预训练模型，他们误导的结果掩盖了他们方法中的问题。
- en: This is the exact opposite situation to that of the other team. Team B’s approach
    to this problem is shown in figure 1.8.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 这与另一支队伍的情况正好相反。团队B处理这个问题的方法如图1.8所示。
- en: '![01-08](../Images/01-08.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![01-08](../Images/01-08.png)'
- en: Figure 1.8 A case of too much testing in the experimentation phase of a project
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.8 项目实验阶段过度测试的案例
- en: Team B’s approach to solving this problem is to spend weeks searching through
    cutting-edge papers, reading journals, and understanding the theory involved in
    various convolutional neural network (CNN) and generative adversarial network
    (GAN) approaches. They settle on three broad potential solutions, each consisting
    of several tests that need to run and be evaluated against the entire collection
    of their training image dataset.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: B团队解决这个问题的方法是在数周内搜索最新的论文、阅读期刊，并理解涉及各种卷积神经网络（CNN）和生成对抗网络（GAN）方法的原理。他们确定了三种广泛的潜在解决方案，每个解决方案都包含需要运行和评估其整个训练图像数据集的多个测试。
- en: It isn’t the depth of research that fails them in this case, as it does for
    the other group. Team B’s research is appropriate for this use case. The team
    members have an issue with their minimum viable product (MVP) because they are
    trying too many things in too much depth. Varying the structure and depth of a
    custom-built CNN requires dozens (if not hundreds) of iterations to get right
    for the use case that they’re trying to solve. This work should be scoped into
    the development stage of the project, not during evaluation, after a single approach
    is selected based on early results.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，失败并不是因为研究的深度，就像其他团队一样。B团队的问题在于他们的最小可行产品（MVP），因为他们试图在深度上尝试太多事情。为了解决他们试图解决的问题，调整自定义构建的CNN的结构和深度需要数十次（如果不是数百次）迭代才能正确。这项工作应该纳入项目的开发阶段，而不是在评估阶段，在基于早期结果选择了一种方法之后。
- en: While not the leading cause of project failure, an incorrectly implemented experimentation
    phase can stall or cancel an otherwise great project. Neither of these two extreme
    examples is appropriate, and the best course of action is a moderate approach
    between the two.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然不是项目失败的主要原因，但实验阶段的不正确实施可能会阻碍或取消本应很棒的项目。这两个极端例子都不合适，最好的做法是在两者之间采取适度的方法。
- en: 1.2.4 Development
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.4 开发
- en: '*No one thinks that code quality matters until it’s 4 a.m. on a Saturday, you’re
    18 hours into debugging a failure, and you still haven’t fixed the bug.*'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '*没有人会在周六凌晨4点，已经调试失败18个小时，仍然没有修复错误时认为代码质量很重要。*'
- en: Having a poor development practice for ML projects can manifest itself in a
    multitude of ways that can completely kill a project. Though usually not as directly
    visible as some of the other leading causes, having a fragile and poorly designed
    code base and poor development practices can make a project harder to work on,
    easier to break in production, and far harder to improve as time goes on.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 对于机器学习项目来说，不良的开发实践可能会以多种方式表现出来，这些方式可能会完全摧毁一个项目。尽管通常不像其他一些主要原因那样直接可见，但脆弱且设计不良的代码库以及不良的开发实践会使项目更难工作，更容易在生产中崩溃，并且随着时间的推移，改进起来也更加困难。
- en: 'For instance, let’s look at a rather simple and frequent modification situation
    that comes up during the development of a modeling solution: changes to the feature
    engineering. In figure 1.9, we see two data scientists attempting to make a set
    of changes in a monolithic code base. In this development paradigm, all the logic
    for the entire job is written in a single notebook through scripted variable declarations
    and functions.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，让我们看看在建模解决方案开发过程中经常出现的一种相对简单且常见的修改情况：特征工程的变更。在图1.9中，我们看到两位数据科学家试图在一个单体代码库中做出一系列修改。在这种开发模式中，整个工作的所有逻辑都通过脚本变量声明和函数写在一个单独的笔记本中。
- en: Julie, in the monolithic code base, will likely have a lot of searching and
    scrolling to do, finding each individual location where the feature vector is
    defined and adding her new fields to collections. Her encoding work will need
    to be correct and carried throughout the script in the correct places as well.
    It’s a daunting amount of work for any sufficiently complex ML code base (as the
    number of code lines for feature engineering and modeling combined can reach to
    the thousands if developed in a scripting paradigm) and is prone to frustrating
    errors in the form of omissions, typos, and other transcription mistakes.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 朱莉在单体代码库中可能需要进行大量的搜索和滚动，找到特征向量定义的每个单独位置，并将她的新字段添加到集合中。她的编码工作必须正确，并且需要在脚本中的正确位置进行。对于任何足够复杂的机器学习代码库来说，这是一项艰巨的工作（因为特征工程和建模的代码行数总和可以达到数千行，如果以脚本方式开发的话），并且容易发生遗漏、打字错误和其他转录错误等令人沮丧的错误。
- en: Joe, meanwhile, has far fewer edits to do. But he is still subject to the act
    of searching through the long code base and relying on editing the hardcoded values
    correctly.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 与此同时，Joe需要做的编辑要少得多。但他仍然需要搜索长代码库并正确地编辑硬编码的值。
- en: The real problem with the monolithic approach comes when they try to incorporate
    each of their changes into a single copy of the script. As they have mutual dependencies
    on each other’s work, both will have to update their code and select one of their
    copies to serve as a master for the project, copying in the changes from the other’s
    work. This long and arduous process wastes precious development time and likely
    will require a great deal of debugging to get correct.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 单体方法真正的问题在于他们试图将每个更改合并到单个脚本副本中时。由于他们相互依赖对方的工作，他们都必须更新他们的代码，并选择其中一个副本作为项目的master，将另一个人的工作更改复制进来。这个过程既长又辛苦，浪费了宝贵的发展时间，并且可能需要大量的调试才能正确完成。
- en: Figure 1.10 shows a different approach to maintaining an ML project’s code base.
    This time, a modularized code architecture separates the tight coupling that is
    present within the large script from figure 1.9.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.10展示了维护ML项目代码库的另一种方法。这次，模块化的代码架构将图1.9中大型脚本内存在的紧密耦合分离出来。
- en: '![01-09](../Images/01-09.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![01-09](../Images/01-09.png)'
- en: Figure 1.9 Editing a monolithic code base (a script) for ML project work
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.9 编辑用于ML项目工作的单体代码库（脚本）
- en: This modularized code base is written in an integrated development environment
    (IDE). While the changes being made by the two DSs are identical in their nature
    to those being made in figure 1.9 (Julie is adding a few fields to the feature
    vector and updating encodings for these new fields, while Joe is updating the
    scaler used on the feature vector), the amount of effort and time spent getting
    these changes working in concert with one another is dramatically different.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这个模块化代码库是在集成开发环境（IDE）中编写的。虽然两个数据科学家（DS）所做的更改在本质上与图1.9中的更改相同（Julie正在向特征向量添加一些字段并更新这些新字段的编码，而Joe正在更新用于特征向量的缩放器），但将这些更改协同工作所花费的努力和时间却大不相同。
- en: '![01-10](../Images/01-10.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![01-10](../Images/01-10.png)'
- en: Figure 1.10 Updating a modular ML code base to prevent rework and merge conflicts
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.10 更新模块化ML代码库以防止返工和合并冲突
- en: With a fully modularized code base registered in Git, each of them can check
    out a feature branch from the master, make small edits to the modules that are
    part of their features, write new tests (if needed), run their tests, and submit
    a pull request. Once their work is complete—because of the configuration-based
    code and the capability of the methods in each module class to act upon the data
    for their project through leveraging the job configuration—each feature branch
    will not impact the other and should just work as designed. Julie and Joe can
    cut a release branch of both of their changes in a single build, run a full integration
    test, and safely merge to the master, confident that their work is correct. They
    can, in effect, work efficiently together on the same code base, greatly minimizing
    the chance of errors and reducing the amount of time spent debugging code.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在Git中注册了完全模块化的代码库后，他们每个人都可以从主分支检出功能分支，对其功能所属的模块进行小幅度编辑，如果需要的话，编写新的测试，运行他们的测试，并提交拉取请求。一旦他们的工作完成——因为基于配置的代码以及每个模块类中方法的能力，可以通过利用作业配置来对其项目的数据进行操作——每个功能分支都不会影响其他分支，应该按设计正常工作。Julie和Joe可以在单个构建中同时发布他们的更改分支，运行完整的集成测试，并安全地合并到主分支，自信他们的工作是正确的。实际上，他们可以高效地在同一代码库上协作，极大地减少错误发生的可能性，并减少调试代码所花费的时间。
- en: 1.2.5 Deployment
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.5 部署
- en: '*Not planning a project around a deployment strategy is like having a dinner
    party without knowing how many guests are showing up. You’ll either be wasting
    money or ruining experiences.*'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '*没有围绕部署策略规划项目就像不知道有多少客人会出席的晚宴。你可能会浪费钱或破坏体验。*'
- en: Perhaps the most confusing and complex part of ML project work for newer teams
    is in how to build a cost-effective deployment strategy. If it’s underpowered,
    the prediction quality doesn’t matter (since the infrastructure can’t properly
    serve the predictions). If it’s overpowered, you’re effectively burning money
    on unused infrastructure and complexity.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于新团队来说，ML项目工作中最令人困惑和复杂的部分可能是如何构建一个成本效益高的部署策略。如果它能力不足，预测质量无关紧要（因为基础设施无法正确服务预测）。如果它能力过剩，你实际上是在烧钱购买未使用的基础设施和复杂性。
- en: As an example, let’s look at an inventory optimization problem for a fast-food
    company. The DS team has been fairly successful in serving predictions for inventory
    management at region-level groupings for years, running large batch predictions
    for the per-day demands of expected customer counts at a weekly level, and submitting
    forecasts as bulk extracts each week. Up until this point, the DS team has been
    accustomed to an ML architecture that effectively looks like that shown in figure
    1.11.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 以一家快餐公司的库存优化问题为例。数据科学团队多年来在为区域分组提供库存管理预测方面相当成功，每周进行大量批量预测，以满足预期顾客数量每日需求的预测，并且每周提交大量提取的预测。直到这一点，数据科学团队已经习惯了类似于图1.11所示的ML架构。
- en: '![01-11](../Images/01-11.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![01-11](../Images/01-11.png)'
- en: Figure 1.11 A basic batch-prediction-serving architecture
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.11 基本的批量预测提供架构
- en: This relatively standard architecture for serving up scheduled batch predictions
    focuses on exposing results to internal analytics personnel who provide guidance
    on quantities of materials to order. This prediction-serving architecture isn’t
    particularly complex and is a paradigm that the DS team members are familiar with.
    With the scheduled synchronous nature of the design, as well as the large amounts
    of time between subsequent retraining and inference, the general sophistication
    of their technology stack doesn’t have to be particularly high (which is a good
    thing; see the following sidebar).
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这种为提供计划好的批量预测相对标准的架构，主要关注向内部分析人员暴露结果，他们提供有关订购材料数量的指导。这种预测提供架构并不特别复杂，是数据科学团队成员所熟悉的范例。由于设计的计划同步性质以及后续重新训练和推理之间的大量时间，其技术堆栈的总体复杂性不必特别高（这很好；请参阅以下侧边栏）。
- en: A brief note on simplistic architecture
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 简单架构的简要说明
- en: In the world of ML, always strive for the simplest design possible when building
    an architecture. If the project requires a periodicity of inference of one week,
    use a batch process (not real-time streaming). If the data volumes are in the
    megabytes, use a database and a simple virtual machine (not a 25-node Apache Spark
    cluster). If the runtime of training is measured in minutes, stick to CPUs (not
    GPUs).
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在机器学习的世界里，构建架构时始终追求尽可能简单的方案。如果项目需要每周进行一次推理的周期性，使用批量处理（而不是实时流）。如果数据量以兆字节计算，使用数据库和简单的虚拟机（而不是25节点的Apache
    Spark集群）。如果训练运行时间以分钟计算，坚持使用CPU（而不是GPU）。
- en: Using complex architecture, platforms, and technology simply for the sake of
    using them will create a condition that you will inevitably regret, as it introduces
    unnecessary complexity to an already complex solution. With each new complexity
    introduced, the chances rise that something is going to break (usually in a spectacularly
    complex manner). Keeping the technology, the stack, and the architecture as simple
    as is needed to solve the imminent business needs of the project is always a recommended
    best practice in order to deliver a consistent, reliable, and effective solution
    to a business.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 仅为了使用而使用复杂的架构、平台和技术将不可避免地导致你后悔，因为它向一个已经复杂的解决方案中引入了不必要的复杂性。随着引入的每个新复杂性，出现故障的可能性增加（通常以极其复杂的方式）。为了解决项目即将到来的商业需求，保持技术、堆栈和架构尽可能简单，始终是推荐的最佳实践，以便向企业提供一致、可靠和有效的解决方案。
- en: As the company realizes the benefits of predictive modeling over time with these
    batch approaches, its faith in the DS team increases. When a new business opportunity
    arises that requires near-real-time inventory forecasting at a per-store level,
    company executives ask the DS team to provide a solution for this use case.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 随着公司随着时间的推移认识到这些批量方法在预测建模方面的好处，其对数据科学团队（DS team）的信心也在增加。当出现新的商业机会，需要针对每个门店进行近实时库存预测时，公司高管会要求数据科学团队为这一用例提供解决方案。
- en: The ML team members understand that their standard prediction-serving architecture
    won’t work for this project. They need to build a REST application programming
    interface (API) to the forecasted data to support the request volume and prediction
    updating frequency. To adapt to the granular level of a per-store inventory prediction
    (and the volatility involved in that), the team knows that they need to regenerate
    predictions frequently throughout the day. Armed with these requirements, they
    enlist the help of some software engineers at the company and build out the solution.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习团队明白，他们标准的预测服务架构不适用于这个项目。他们需要构建一个REST应用程序编程接口（API），以支持预测数据的请求量和预测更新频率。为了适应每个门店库存预测的粒度级别（以及其中涉及的不稳定性），团队知道他们需要在一天中频繁地重新生成预测。有了这些要求，他们寻求公司一些软件工程师的帮助，并构建出解决方案。
- en: It isn’t until after the first week of going live that the business realizes
    that the implementation’s cloud computing costs are more than an order of magnitude
    higher than the cost savings seen from the more-efficient inventory management
    system. The new architecture, coupled with autoregressive integrated moving average
    (ARIMA) models needed to solve the problem, is shown in figure 1.12.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 直到上线后的第一周，企业才意识到实施云计算的成本比更高效的库存管理系统节省的成本高出整整一个数量级。新的架构，以及解决该问题所需的自回归积分移动平均（ARIMA）模型，如图1.12所示。
- en: '![01-12](../Images/01-12.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![01-12](../Images/01-12.png)'
- en: Figure 1.12 The far more complex pseudo-real-time serving architecture required
    to meet the business needs for the project
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.12 满足项目业务需求所需的更加复杂的伪实时服务架构
- en: It doesn’t take long for the project to get cancelled and a complete redesign
    of the architecture for this implementation to be commissioned to keep the costs
    down. This is a story that plays out time and again at companies implementing
    ML to solve new and interesting problems (and to be fair, one that I’ve personally
    caused three times in my career).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 项目取消和为降低成本而对该实施架构进行完全重新设计的情况并不少见。这是一个在实施机器学习以解决新问题和有趣问题（而且公平地说，我在职业生涯中亲自造成了三次）的公司中反复出现的故事。
- en: Without focusing on the deployment and serving at the start of a project, the
    risk of building a solution that is under-engineered—doesn’t meet service-level
    agreement (SLA) or traffic-volume needs—or is overengineered—exceeds technical
    specifications at an unacceptably high cost—is high. Figure 1.13 shows some (not
    all, by any stretch of the imagination) elements to think about with regards to
    serving prediction results and the costs associated with the extremes of the ranges
    of those paradigms.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在项目开始时不专注于部署和服务，那么构建一个低效的解决方案——不符合服务级别协议（SLA）或流量需求，或者过度设计的解决方案——以不可接受的高成本超出技术规范的风险是高的。图1.13显示了在提供预测结果及其相关成本极端范围时需要考虑的一些（不是全部，无论如何想象）要素。
- en: '![01-13](../Images/01-13.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![01-13](../Images/01-13.png)'
- en: Figure 1.13 Deployment cost considerations
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13 部署成本考虑因素
- en: It may not seem particularly exciting or important to think about cost when
    faced with a novel problem to solve in a clever way with an algorithm. While the
    DS team might not be thinking of total cost of ownership for a particular project,
    rest assured that executives are. By evaluating these considerations early enough
    in the process of building a project, analyses can be conducted to determine whether
    the project is worth it.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 面对用算法以巧妙的方式解决一个新颖问题的挑战时，考虑成本可能并不特别令人兴奋或重要。虽然数据科学团队可能不会考虑特定项目的总拥有成本，但请放心，高管们会考虑。通过在构建项目的早期阶段尽早评估这些考虑因素，可以进行分析，以确定项目是否值得。
- en: It’s better to cancel a project in the first week of planning than to shut off
    a production service after spending months building it, after all. The only way
    to know whether a relatively expensive architecture is worth the cost of running
    it, however, is by measuring and evaluating its impact to the business.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，在规划的第一周取消一个项目，总比在花费数月构建后关闭生产服务要好。然而，要了解相对昂贵的架构是否值得运行的成本，唯一的方法是衡量和评估其对业务的影响。
- en: 1.2.6 Evaluation
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1.2.6 评估
- en: '*If you can’t justify the benefits of your project being in production, don’t
    expect it to remain there for very long.*'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你无法证明你的项目在生产中的好处，不要期望它在那里停留很长时间。*'
- en: The worst reason for getting an ML project cancelled or abandoned is budget.
    Typically, if the project has gotten into production to begin with, the up-front
    costs associated with developing the solution were accepted and understood by
    the leadership at the company. Having a project cancelled after it’s already in
    production because of a lack of visibility of its impact to the company is a different
    matter entirely. If you can’t prove the worth of the solution, you face the real
    possibility of someone telling you to turn it off to save money someday.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 导致机器学习项目被取消或放弃的最糟糕的原因是预算。通常情况下，如果项目一开始就进入了生产阶段，那么与开发解决方案相关的初始成本已经被公司领导层接受并理解。由于无法看到其对公司的影响，导致项目在生产过程中被取消，这完全是另一回事。如果你无法证明解决方案的价值，你将面临有人告诉你某天为了省钱而关闭它的真实可能性。
- en: Imagine a company that has spent the past six months working tirelessly on a
    new initiative to increase sales through the use of predictive modeling. The DS
    team members have followed best practices throughout the project’s development—making
    sure that they’re building exactly what the business is asking for and focusing
    development efforts on maintainable and extensible code—and have pushed the solution
    to production.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一家公司，在过去六个月里，他们不懈地努力通过使用预测模型来提高销售额的新举措。DS团队在整个项目开发过程中遵循最佳实践——确保他们构建的正是业务所要求的，并将开发努力集中在可维护和可扩展的代码上——并将解决方案推向了生产。
- en: The model has been performing wonderfully over the past three months. Each time
    the team has done post hoc analysis of the predictions to the state of reality
    afterward, the predictions turn out to be eerily close. Figure 1.14 then rears
    its ugly head with a simple question from one of the company executives who is
    concerned about the cost of running this ML solution.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的三个月里，该模型的表现一直非常好。每次团队对预测与现实状态进行事后分析时，预测结果都出奇地接近。然后，图1.14以一个简单的问题出现在我们面前，这是公司一位关注运行此机器学习解决方案成本的执行董事提出的问题。
- en: '![01-14](../Images/01-14.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![01-14](../Images/01-14.png)'
- en: Figure 1.14 A nearly flawless ML project getting cancelled because of a lack
    of A/B testing and statistically valid attribution measurement
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.14 一个几乎完美的机器学习项目因为缺乏A/B测试和统计上有效的归因测量而被取消
- en: The one thing that the team forgot about in creating a great ML project is thinking
    of how to tie their predictions to some aspect of the business that can justify
    its existence. The model that they’ve been working on and that is currently running
    in production was designed to increase revenue, but when scrutinized for the cost
    of using it, the team realized that they hadn’t thought of an attribution analytics
    methodology to prove the worth of the solution.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 团队在创建一个伟大的机器学习项目时忘记的一件事是如何将他们的预测与业务的一个方面联系起来，以证明其存在的合理性。他们一直在开发和目前在生产中运行的模型旨在增加收入，但当团队仔细审查使用它的成本时，他们意识到他们还没有想到一个归因分析的方法来证明解决方案的价值。
- en: Can they simply add up the sales and attribute it all to the model? No, that
    wouldn’t be even remotely correct. Could they look at the comparison of sales
    versus last year? That wouldn’t be correct either, as far too many latent factors
    are impacting sales.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 他们能否简单地将销售额相加，并将其全部归因于模型？不，这甚至完全不正确。他们能否看看销售额与去年相比的情况？这也不正确，因为太多潜在因素正在影响销售额。
- en: The only thing that they can do to give attribution to their model is to perform
    A/B testing and use sound statistical models to arrive at a revenue lift calculation
    (with estimation errors) to show how much additional sales are due to their model.
    However, the ship has already sailed, as the solution has already been deployed
    for all customers. The team lost its chance at justifying the continued existence
    of the model. While the project might not be shut off immediately, it certainly
    will be on the chopping block if the company needs to reduce its budgetary spending.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 他们能做的唯一一件事就是通过进行A/B测试和使用合理的统计模型来得出收入提升的计算（包括估计误差），以显示额外销售量有多少是由于他们的模型。然而，船已经开走了，因为解决方案已经对所有客户部署。团队失去了证明模型继续存在的合理性的机会。虽然项目可能不会立即关闭，但如果公司需要减少预算支出，它肯定会在削减名单上。
- en: It’s always a good idea to think ahead and plan for this case. Whether it’s
    happened to you yet or not, I can assure you that at some point it most certainly
    will (it took me two very hard lessons to learn this little nugget of wisdom).
    It is far easier to defend your work if you have the ammunition at the ready in
    the form of validated and statistically significant tests showing the justification
    for the model’s continued existence. Chapter 11 covers approaches to building
    A/B testing systems, statistical tests for attribution, and associated evaluation
    algorithms.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 提前思考和规划这种情况总是一个好主意。无论它是否已经发生在你身上，我可以向你保证，在某个时候，它肯定会发生（我通过两次非常痛苦的教训才学到这个小小的智慧）。如果你有经过验证和具有统计学意义的测试作为弹药，证明模型继续存在的合理性，那么捍卫你的工作会容易得多。第11章涵盖了构建A/B测试系统的方法、归因的统计测试以及相关的评估算法。
- en: 1.3 The goals of ML engineering
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.3 机器学习工程的目标
- en: In the most elemental sense, the primary goal of any DS is to solve a difficult
    problem through the use of statistics, algorithms, and predictive modeling that
    is either too onerous, monotonous, error-prone, or complex for a human to do.
    It’s not to build the fanciest model, to create the most impressive research paper
    about their approach to a solution, or to search out the most exciting new tech
    to force into their project work.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在最基本的意义上，任何数据科学家的主要目标是通过使用统计、算法和预测建模来解决一个对人类来说过于繁重、单调、易出错或复杂的难题。这并不是要构建最花哨的模型，撰写关于他们解决方案的最令人印象深刻的论文，或者寻找最激动人心的新技术来强迫其进入项目工作。
- en: We’re all here in this profession to solve problems. Among a vast quantity of
    tools, algorithms, frameworks, and core responsibilities that a DS has at their
    disposal to solve those problems, it’s easy to become overwhelmed and focus on
    the technical aspects of the job. Without a process guide to wrangle the complexity
    of ML project work, it’s incredibly easy to lose sight of the real goal of solving
    problems.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所有人都在这个职业中是为了解决问题。在大量可供数据科学家使用的工具、算法、框架和核心责任中，很容易感到不知所措，并专注于工作的技术方面。如果没有流程指南来处理机器学习项目工作的复杂性，很容易失去解决问题的真正目标。
- en: 'By focusing on the core aspects of project work highlighted in section 1.2
    and covered in greater detail throughout this book, you can get to the true desired
    state of ML work: seeing your models run in production and having them solve a
    real business problem.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 通过关注第1.2节中突出显示的项目工作核心方面，并在本书的其余部分进行更详细的阐述，你可以达到机器学习工作的真正期望状态：看到你的模型在生产环境中运行，并解决一个真正的商业问题。
- en: You can do this
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以做到这一点
- en: An entire industry out there is designed to convince you that you can’t—that
    you need to hire them to do all of this complex work for you. They make a great
    deal of money doing this.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 外面有一个完整的行业旨在说服你，你做不到——你需要雇佣他们为你完成所有这些复杂的工作。他们通过这样做赚了很多钱。
- en: But trust me, you can learn these core concepts and can build a team that follows
    a methodology for approaching ML work that can dramatically increase the success
    rate of a project. The work may be complex and rather confusing at first, but
    following the guidelines and using the right tooling to help manage the complexity
    can help any team develop sophisticated ML solutions that won’t require massive
    budgets or consume all the free time that a DS team has to keep the lights on
    for poorly implemented solutions. You’ve got this.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 但请相信我，你可以学习这些核心概念，并组建一个遵循方法论来处理机器学习工作的团队，这可以显著提高项目的成功率。这项工作可能一开始很复杂，也很令人困惑，但遵循指南并使用合适的工具来帮助管理复杂性，可以帮助任何团队开发出复杂的机器学习解决方案，而不会需要巨额预算或消耗数据科学团队所有的时间来维持那些实施不当的解决方案的运行。你完全能行。
- en: Before delving into the finer details of each of these methodologies and approaches
    for ML engineering work, see the outline detailed in figure 1.15\. This is effectively
    a process flow plan for production ML work that I’ve seen prove successful for
    any project with any team.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入探讨这些机器学习工程方法论和方法的细节之前，请参阅图1.15中的详细大纲。这实际上是一个生产机器学习工作的流程计划，我已看到它为任何团队和任何项目证明是成功的。
- en: '![01-15](../Images/01-15.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![01-15](../Images/01-15.png)'
- en: Figure 1.15 The ML engineering methodology component map
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.15 机器学习工程方法论组件图
- en: Throughout this book, we’ll cover these elements, focusing not only on discussions
    and implementations of each, but also on why they’re so important. This path—focusing
    on the people, processes, and tools to support successful ML projects—is paved
    over the corpses of many failed projects I’ve seen in my career. However, by following
    the practices that this book outlines, you will likely see fewer of these failures,
    allowing you to build more projects that not only make their way to production,
    but get used and stay in production.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将涵盖这些要素，不仅关注每个要素的讨论和实现，还关注它们为什么如此重要。这条道路——关注支持成功机器学习项目的人员、流程和工具——是在我职业生涯中看到的许多失败项目的废墟上铺就的。然而，通过遵循本书概述的实践，你可能会看到更少的这些失败，让你能够构建更多不仅能够进入生产，而且被使用并保持生产的项目。
- en: Summary
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: ML engineers need to know aspects of data science, traditional software engineering,
    and project management to ensure that applied ML projects are developed efficiently,
    focus on solving a real problem, and are maintainable.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习工程师需要了解数据科学、传统软件工程和项目管理方面的知识，以确保应用机器学习项目能够高效开发，专注于解决实际问题，并且易于维护。
- en: Focusing on best practices throughout the six primary project phases of applied
    ML work—planning, scoping and research, experimentation, development, deployment,
    and evaluation—will greatly help a project minimize risk of abandonment.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在应用机器学习工作的六个主要项目阶段（规划、范围和调研、实验、开发、部署和评估）中始终关注最佳实践，将极大地帮助项目降低放弃的风险。
- en: 'Shedding concerns about technical implementation details, tooling, and novelty
    of approaches will help focus project work on what really matters: solving problems.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 放下对技术实现细节、工具和方法的创新性的担忧，将有助于将项目工作集中在真正重要的事情上：解决问题。
