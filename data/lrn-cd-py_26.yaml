- en: Lesson 21\. Achieving modularity and abstraction with functions
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第21课：使用函数实现模块化和抽象
- en: After reading [lesson 21](#ch21), you’ll be able to
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第21课](#ch21)之后，你将能够
- en: Write code that uses functions
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写使用函数的代码
- en: Write functions with (zero or more) parameters
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写具有（零个或多个）参数的函数
- en: Write functions that (may or may not) return a specified value
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写可能或可能不返回指定值的函数
- en: Understand how variable values change in different function environments
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解变量值在不同函数环境中的变化
- en: 'In [lesson 20](kindle_split_034.html#ch20), you saw that dividing larger tasks
    into modules can help you to think about problems. The process of breaking up
    the task leads to two important ideas: modularity and abstraction. *Modularity*
    is having smaller (more or less independent) problems to tackle, one by one. *Abstraction*
    is being able to think about the modules themselves at a higher level, without
    worrying about the details of implementing each. You already do this a lot in
    your day-to-day life; for example, you can use a car without knowing how to build
    one.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第20课](kindle_split_034.html#ch20)中，你看到将更大的任务分解成模块可以帮助你思考问题。分解任务的过程导致了两个重要的想法：模块化和抽象。*模块化*是指有更小（更多或更少独立）的问题要逐一解决。*抽象*是指能够在更高层次上思考模块本身，而不必担心实现每个模块的细节。你已经在日常生活中做了很多这样的事情；例如，你可以使用汽车，而不必知道如何建造它。
- en: These modules are most useful for decluttering your larger tasks. They *abstract*
    certain tasks. You have to figure out the details of how to implement a task only
    once. Then you can reuse a task with many inputs to get outputs without having
    to rewrite it again.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这些模块对于清理更大的任务最有用。它们*抽象*了某些任务。你只需要确定一次如何实现一个任务的细节。然后你可以使用许多输入来重用任务以获取输出，而无需再次重写它。
- en: '|  |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Consider this**'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑以下内容**'
- en: 'For each of the following scenarios, figure out what set of steps would make
    sense to abstract into a module:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于以下每个场景，找出哪些步骤可以抽象成一个模块：
- en: You’re in school. Your teacher is taking attendance. She calls a name. If the
    student is there, that student says their name. Repeat this process for every
    student taking that class.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你在学校。你的老师正在点名。她叫一个名字。如果学生在这里，那个学生就会说出他们的名字。为每个上课的学生重复这个过程。
- en: A car manufacturer is assembling 100 cars a day. The assembly process is made
    up of (1) assembling the frame, (2) putting in the engine, (3) adding the electronics,
    and (4) painting the body. There are 25 red, 25 black, 25 white, and 25 blue cars.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 汽车制造商每天组装100辆汽车。组装过程包括（1）组装车架，（2）安装发动机，（3）添加电子设备，以及（4）喷漆。有25辆红色、25辆黑色、25辆白色和25辆蓝色的汽车。
- en: 'Answer:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 答案：
- en: 'Module: Call a name'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块：调用姓名
- en: 'Module: Assemble the frame Module: Put in the engine Module: Add electronics
    Module: Paint each car'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块：组装车架 模块：安装发动机 模块：添加电子设备 模块：喷漆车身
- en: '|  |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: 21.1\. Writing a function
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 21.1. 编写一个函数
- en: 'In many programing languages, a *function* is used to stand for a module of
    code that achieves a simple task. When you’re writing a function, you have to
    think about three things:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多编程语言中，*函数*用于表示实现简单任务的代码模块。当你编写函数时，你必须考虑三件事：
- en: What input the function takes in
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数接收的输入
- en: What operations/calculations the function does
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数执行的操作/计算
- en: What the function returns
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数返回的内容
- en: Recall the attendance example from the preceding “Consider this” exercise. Here’s
    a slight modification of that situation, along with one possible implementation
    using functions. Functions start with a keyword `def`. Inside the function, you
    document what the function does between triple quotes—mention what the inputs
    are, what the function does, and what the function returns. Inside the function
    shown in [listing 21.1](#ch21ex01), you check whether every student in the classroom
    roster is also physically present in the classroom, with a `for` loop. Anyone
    matching this criteria gets their name printed. At the end of the `for` loop,
    you return the string `finished taking attendance`. The word `return` is also
    a keyword associated with functions.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下前面“考虑以下内容”练习中的点名示例。这是对该情况的一点点修改，以及使用函数的一个可能实现。函数以关键字`def`开始。在函数内部，你使用三引号注释说明函数做了什么——提到输入是什么，函数做了什么，以及函数返回什么。在[列表21.1](#ch21ex01)中显示的函数中，你使用`for`循环检查教室名单上的每个学生是否也物理上在教室里。符合这个标准的人会打印出他们的名字。在`for`循环的末尾，你返回字符串`finished
    taking attendance`。单词`return`也是与函数相关联的关键字。
- en: Listing 21.1\. A function to take class attendance
  id: totrans-23
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表21.1. 课堂点名函数
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '***1* Function definition**'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 函数定义**'
- en: '***2* Function specification (docstring)**'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 函数规范（文档字符串）**'
- en: '***3* Loops over every student in class**'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 遍历班级中的每个学生**'
- en: '***4* Checks whether the student is also in the who_is_here tuple**'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 检查学生是否也在 who_is_here 元组中**'
- en: '***5* Prints the name of the kid who’s here**'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***5* 打印在场的孩子的名字**'
- en: '***6* Returns a string**'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***6* 返回一个字符串**'
- en: '[Listing 21.1](#ch21ex01) shows a Python function. When you tell Python that
    you want to define a function, you use the `def` keyword. After the `def` keyword,
    you name your function. In this example, the name is `take_attendance`. Function
    names abide by the same rules that variables do. After the function name, you
    put in parentheses all inputs to the function, separated by a comma. You end the
    function definition line with a colon character.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 21.1](#ch21ex01) 展示了一个 Python 函数。当你告诉 Python 你想要定义一个函数时，你使用 `def` 关键字。在
    `def` 关键字之后，你命名你的函数。在这个例子中，名称是 `take_attendance`。函数名称遵循与变量相同的规则。在函数名称之后，你将所有输入放入括号中，并用逗号分隔。你用冒号字符结束函数定义行。'
- en: How does Python know which lines of code are part of a function and which aren’t?
    All lines that you want to be a part of the function are indented—the same idea
    used with loops and conditionals.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Python 如何知道哪些代码行是函数的一部分，哪些不是？所有你想成为函数一部分的行都进行了缩进——这与循环和条件语句中使用的相同概念。
- en: '|  |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 21.1**'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.1**'
- en: 'Write a line to define functions with the following specifications:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 编写一行代码以定义具有以下规范的函数：
- en: '**[1](kindle_split_056.html#app01qa80q0a1)**'
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa80q0a1)**'
- en: ''
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'A function named `set_color` that takes in two inputs: a string named `name`
    (representing the name of an object) and a string named `color` (representing
    the name of a color)'
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个名为 `set_color` 的函数，接收两个输入：一个名为 `name` 的字符串（表示对象的名称）和一个名为 `color` 的字符串（表示颜色的名称）
- en: '**[2](kindle_split_056.html#app01qa80q0a2)**'
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa80q0a2)**'
- en: ''
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'A function named `get_inverse` that takes in one input: a number named `num`'
  id: totrans-41
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个名为 `get_inverse` 的函数，接收一个输入：一个名为 `num` 的数字
- en: '**[3](kindle_split_056.html#app01qa80q0a3)**'
  id: totrans-42
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa80q0a3)**'
- en: ''
  id: totrans-43
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A function named `print_my_name` that doesn’t take in any inputs
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个名为 `print_my_name` 的函数，不接收任何输入
- en: '|  |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '21.1.1\. Function basics: what the function takes in'
  id: totrans-46
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 21.1.1\. 函数基础：函数接收什么
- en: You use functions to make your life easier. You write a function so you can
    reuse its guts with different inputs. This allows you to avoid having to copy
    and paste the implementation with only a couple of variable values changed.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 你使用函数来使生活更轻松。你编写一个函数，以便可以重复使用其核心代码，只需更改几个变量值即可。这允许你避免复制和粘贴实现，只需更改几个变量值。
- en: All inputs to a function are variables called *parameters*, or *arguments*.
    More specifically, they’re called *formal parameters*, or *formal arguments*,
    because inside the function definition these variables don’t have any value. A
    value is assigned to them only when you make a call to a function with some values,
    which you’ll see how to do in a later section.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 函数的所有输入都是称为 *参数* 或 *参数* 的变量。更具体地说，它们被称为 *形式参数* 或 *形式参数*，因为在函数定义内部，这些变量没有任何值。只有当你用一些值调用函数时，才会给它们赋值，你将在后面的部分中看到如何做到这一点。
- en: '|  |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 21.2**'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.2**'
- en: For the following function definitions, how many parameters does each take in?
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 对于以下函数定义，每个函数接收多少个参数？
- en: '**[1](kindle_split_056.html#app01qa81q0a1)**'
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa81q0a1)**'
- en: ''
  id: totrans-53
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`def func_1(one, two, three):`'
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`def func_1(one, two, three):`'
- en: '**[2](kindle_split_056.html#app01qa81q0a2)**'
  id: totrans-55
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa81q0a2)**'
- en: ''
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`def func_2():`'
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`def func_2():`'
- en: '**[3](kindle_split_056.html#app01qa81q0a3)**'
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa81q0a3)**'
- en: ''
  id: totrans-59
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`def func_3(head, shoulders, knees, toes):`'
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`def func_3(head, shoulders, knees, toes):`'
- en: '|  |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '21.1.2\. Function basics: what the function does'
  id: totrans-62
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 21.1.2\. 函数基础：函数做什么
- en: When you write the function, you write the code inside the function assuming
    that you have values for all the parameters to the function. The implementation
    of a function is just Python code, except it starts out indented. Programmers
    can implement the function in any way they want.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 当你编写函数时，你假设函数的所有参数都有值，在函数内部编写代码。函数的实现只是 Python 代码，但它从缩进开始。程序员可以以任何他们想要的方式实现函数。
- en: '|  |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 21.3**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.3**'
- en: Are the bodies of each of the following functions written without any errors?
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 以下每个函数的主体是否都编写得没有错误？
- en: '**[1](kindle_split_056.html#app01qa82q0a1)**'
  id: totrans-67
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa82q0a1)**'
- en: ''
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-69
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**[2](kindle_split_056.html#app01qa82q0a2)**'
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa82q0a2)**'
- en: ''
  id: totrans-71
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**[3](kindle_split_056.html#app01qa82q0a3)**'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa82q0a3)**'
- en: ''
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '|  |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '21.1.3\. Function basics: what the function returns'
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 21.1.3\. 函数基础：函数返回的内容
- en: 'Functions should do something. You use them to repeat the same action on a
    slightly different input. As such, function names are generally descriptive action
    words and phrases: `get_something`, `set_something`, `do_something`, and others
    like these.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 函数应该做些事情。你使用它们在略有不同的输入上重复相同的操作。因此，函数名称通常是描述性动作词和短语：`get_something`、`set_something`、`do_something`以及类似这些。
- en: '|  |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 21.4**'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.4**'
- en: 'Come up with an appropriate name for functions that do each of the following:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 为执行以下操作的函数想一个合适的名字：
- en: '**[1](kindle_split_056.html#app01qa83q0a1)**'
  id: totrans-82
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa83q0a1)**'
- en: ''
  id: totrans-83
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A function that tells you the age of a tree
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个能告诉你树龄的函数
- en: '**[2](kindle_split_056.html#app01qa83q0a2)**'
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa83q0a2)**'
- en: ''
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A function that translates what your dog is saying
  id: totrans-87
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个能翻译你的狗在说什么的函数
- en: '**[3](kindle_split_056.html#app01qa83q0a3)**'
  id: totrans-88
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa83q0a3)**'
- en: ''
  id: totrans-89
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A function that takes a picture of a cloud and tells you the closest animal
    it resembles
  id: totrans-90
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个能拍下云朵并告诉你与之最相似的动物的函数
- en: '**[4](kindle_split_056.html#app01qa83q0a4)**'
  id: totrans-91
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[4](kindle_split_056.html#app01qa83q0a4)**'
- en: ''
  id: totrans-92
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A function that shows you what you’ll look like in 50 years
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个能让你看到50年后自己模样的函数
- en: '|  |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: A function creates its own environment, so all variables created inside this
    environment aren’t accessible anywhere outside the function. The purpose of a
    function is to perform a task and pass along its result. In Python, passing results
    is done using the `return` keyword. A line of code that contains the `return`
    keyword indicates to Python that it has finished with the code inside the function
    and is ready to pass the value to another piece of code in the larger program.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 一个创建其自身环境的函数，因此在这个环境中创建的所有变量在函数外部都不可访问。函数的目的是执行一个任务并传递其结果。在 Python 中，使用 `return`
    关键字传递结果。包含 `return` 关键字的代码行指示 Python 它已经完成了函数内部的代码，并准备好将值传递给程序中的另一段代码。
- en: In [listing 21.2](#ch21ex02), the program concatenates two string inputs together
    and returns the length of the resulting concatenation. The function takes in two
    strings as parameters. It adds them and stores the concatenation into the variable
    named `word`. The function returns the value `len(word)`, which is an integer
    corresponding to the length of whatever value the variable `word` holds. You’re
    allowed to write code inside the function after the `return` statement, but it
    won’t be executed.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [列表 21.2](#ch21ex02) 中，程序将两个字符串输入连接在一起，并返回连接结果的长度。该函数接受两个字符串作为参数。它将它们相加并将连接存储在名为
    `word` 的变量中。函数返回值 `len(word)`，它是一个整数，对应于变量 `word` 所持有的值的长度。你可以在 `return` 语句之后在函数内部编写代码，但它不会被执行。
- en: Listing 21.2\. A function to tell you the length of the sum of two strings
  id: totrans-97
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 21.2\. 一个告诉你两个字符串相加长度函数
- en: '[PRE4]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '***1* Function definition; takes in two parameters**'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 函数定义；接受两个参数**'
- en: '***2* Concatenates two parameters**'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 连接两个参数**'
- en: '***3* Return statement; returns the length of the concatenation**'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 返回语句；返回连接的长度**'
- en: '***4* Nothing after the return statement is executed**'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 返回语句之后的内容不会执行**'
- en: '|  |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 21.5**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.5**'
- en: What does each function return? What is the type of the return variable?
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 每个函数返回什么？返回变量的类型是什么？
- en: '**[1](kindle_split_056.html#app01qa84q0a1)**'
  id: totrans-106
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa84q0a1)**'
- en: ''
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-108
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '**[2](kindle_split_056.html#app01qa84q0a2)**'
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa84q0a2)**'
- en: ''
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '**[3](kindle_split_056.html#app01qa84q0a3)**'
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa84q0a3)**'
- en: ''
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '|  |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 21.2\. Using functions
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 21.2\. 使用函数
- en: In [section 21.1](#ch21lev1sec1), you learned how to define a function. Defining
    a function in your code only tells Python that there’s now a function with this
    name that’s going to do something. The function doesn’t run to produce a result
    until it’s called somewhere else in the code.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [第 21.1 节](#ch21lev1sec1) 中，你学习了如何定义一个函数。在代码中定义一个函数只告诉 Python 现在有一个名为此的函数将要执行某些操作。函数不会运行以产生结果，直到它在代码的另一个地方被调用。
- en: Assume that you’ve defined the function `word_length` in your code, as in [listing
    21.2](#ch21ex02). Now you want to use the function to tell you the number of letters
    in a full name. [Listing 21.3](#ch21ex03) shows how to call the function. You
    type in the name of the function and give it *actual parameters*—variables that
    have a value in your program. This is in contrast to the formal parameters you
    saw earlier, which are used when defining the function.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你已经在你的代码中定义了 `word_length` 函数，如 [列表 21.2](#ch21ex02) 所示。现在你想要使用这个函数来告诉你全名中有多少个字母。[列表
    21.3](#ch21ex03) 展示了如何调用该函数。你输入函数的名称，并给它提供 *实际参数*——在程序中有值的变量。这与你之前看到的用于定义函数的形式参数形成对比。
- en: Listing 21.3\. How to make a call to a function
  id: totrans-119
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 21.3\. 如何调用函数
- en: '[PRE8]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '***1* Function definition code for word_length**'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* word_length 函数的定义代码**'
- en: '***2* Each line calls the function with different inputs and assigns the return
    from the function to a variable.**'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 每行使用不同的输入调用函数，并将函数的返回值分配给变量。**'
- en: '***3* Each line prints the variables.**'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 每行打印变量。**'
- en: '[Figure 21.1](#ch21fig01) shows what happens with the function call `word_length("Rob",
    "Banks")`. A new *scope* (or environment) is created whenever a function call
    is made and is associated with that specific function call. You can think of the
    scope as a separate mini-program that contains its own variables, not accessible
    to any other part of the program.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 21.1](#ch21fig01) 展示了函数调用 `word_length("Rob", "Banks")` 发生的情况。每当进行函数调用时，都会创建一个新的
    *作用域*（或环境），并与该特定的函数调用相关联。你可以将作用域视为一个包含其自身变量的独立小程序，这些变量对程序的其他任何部分都是不可访问的。'
- en: Figure 21.1\. What happens when you make a function call in ![](images/g-1.jpg)?
    With ![](images/g-2.jpg) and ![](images/g-3.jpg), the first parameter is mapped
    in the function’s scope. With ![](images/g-4.jpg) and ![](images/g-5.jpg), the
    second parameter is mapped. ![](images/g-6.jpg) is another variable created inside
    the function. ![](images/g-7.jpg) is the return value. After the function returns,
    the function scope disappears along with all its variables.
  id: totrans-125
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 21.1\. 当你在 ![图片 g-1.jpg](images/g-1.jpg) 中进行函数调用时会发生什么？使用 ![图片 g-2.jpg](images/g-2.jpg)
    和 ![图片 g-3.jpg](images/g-3.jpg)，第一个参数映射到函数的作用域中。使用 ![图片 g-4.jpg](images/g-4.jpg)
    和 ![图片 g-5.jpg](images/g-5.jpg)，第二个参数映射。![图片 g-6.jpg](images/g-6.jpg) 是函数内部创建的另一个变量。![图片
    g-7.jpg](images/g-7.jpg) 是返回值。函数返回后，函数作用域及其所有变量都会消失。
- en: '![](images/21fig01.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![图片 21.1](images/21fig01.jpg)'
- en: After the scope is created, every actual parameter is mapped to the function’s
    formal parameter, preserving the order. At this point, the formal parameters have
    values. As the function progresses and executes its statements, any variables
    that are created exist only in the scope of this function call.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 作用域创建后，每个实际参数都会映射到函数的形式参数，保持顺序。此时，形式参数有值。随着函数的执行和其语句的执行，任何创建的变量仅存在于该函数调用的作用域中。
- en: 21.2.1\. Returning more than one value
  id: totrans-128
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 21.2.1\. 返回多个值
- en: You may have noticed that a function can return only one object. But you can
    “trick” the function into returning more than one value by using tuples. Each
    item in the tuple is a different value. This way, the function returns only one
    object (a tuple), but the tuple has as many different values (through its elements)
    as you want. For example, you can have a function that takes in the name of a
    country and returns one tuple whose first element is the latitude of the country’s
    center and whose second element is the longitude of the country’s center.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经注意到，函数只能返回一个对象。但你可以通过使用元组来“欺骗”函数，使其返回多个值。元组中的每个项目都是不同的值。这样，函数只返回一个对象（一个元组），但元组有尽可能多的不同值（通过其元素），满足你的需求。例如，你可以有一个函数，它接受一个国家的名称，并返回一个元组，其第一个元素是该国家中心的纬度，第二个元素是该国家中心的经度。
- en: Then, when you call the function, you can assign each item in the returned tuple
    to a different variable, as in the following listing. The function `add_sub` adds
    and subtracts the two parameters, and returns one tuple consisting of these two
    values. When you call the function, you assign the return result to another tuple
    `(a,b)` so that `a` gets the value of the addition and `b` gets the value of the
    subtraction.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，当你调用函数时，你可以将返回元组中的每个项目分配给不同的变量，如下所示。函数 `add_sub` 对两个参数进行加法和减法运算，并返回一个包含这两个值的元组。当你调用函数时，将返回结果分配给另一个元组
    `(a,b)`，这样 `a` 就得到加法的结果，而 `b` 得到减法的结果。
- en: Listing 21.4\. Returning a tuple
  id: totrans-131
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 21.4\. 返回一个元组
- en: '[PRE9]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '***1* Returns a tuple with addition and subtraction values**'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 返回包含加法和减法值的元组**'
- en: '***2* Assigns result to a tuple**'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 将结果赋值给一个元组**'
- en: '|  |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 21.6**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.6**'
- en: '**[1](kindle_split_056.html#app01qa85q0a1)**'
  id: totrans-137
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa85q0a1)**'
- en: ''
  id: totrans-138
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Complete the following function that tells you whether the number and suit
    match the secret values and the amount won:'
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 完成以下函数，该函数告诉你数字和花色是否与秘密值匹配以及赢得的金额：
- en: ''
  id: totrans-140
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**[2](kindle_split_056.html#app01qa85q0a2)**'
  id: totrans-142
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa85q0a2)**'
- en: ''
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Use the function you wrote in (1). If executed in the following order, what
    do the following lines print?
  id: totrans-144
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用你在（1）中编写的函数。如果按照以下顺序执行，以下行将打印什么？
- en: ''
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`print(guessed_card(8, "hearts", 10))`'
  id: totrans-146
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`print(guessed_card(8, "hearts", 10))`'
- en: '`print(guessed_card("8", "hearts", 10))`'
  id: totrans-147
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`print(guessed_card("8", "hearts", 10))`'
- en: '`guessed_card(10, "spades", 5)`'
  id: totrans-148
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`guessed_card(10, "spades", 5)`'
- en: '[PRE11]'
  id: totrans-149
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '|  |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 21.2.2\. Functions without a return statement
  id: totrans-151
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 21.2.2\. 没有返回语句的函数
- en: You may want to write functions that print a message and don’t explicitly return
    any value. Python allows you to skip the `return` statement inside a function.
    If you don’t write a `return` statement, Python automatically returns the value
    `None` in the function. `None` is a special object of type `NoneType` that stands
    for the absence of a value.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能想要编写一些打印消息但不显式返回任何值的函数。Python 允许你在函数内部省略 `return` 语句。如果你没有写 `return` 语句，Python
    会自动在函数中返回值 `None`。`None` 是一个类型为 `NoneType` 的特殊对象，表示没有值。
- en: 'Look through the example code in [listing 21.5](#ch21ex05). You’re playing
    a game with kids. They’re hiding, and you can’t see them. You call their names
    in order:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 查看列表 21.5 中的示例代码。你正在和孩子们玩游戏。他们在藏起来，你看不见他们。你按顺序叫他们的名字：
- en: If they come out from their hiding spot to you, that’s like having a function
    that returns an object to the caller.
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果他们从藏身之处出来到你面前，这就像有一个函数返回一个对象给调用者。
- en: If they yell out “here” and don’t show themselves, that’s like having a function
    that doesn’t return the kid object but does print something to the user. You need
    to get an object back from them, so they all agree that if they don’t show themselves,
    they throw at you a piece of paper with the word *None* written on it.
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果他们大声喊“here”但不出现在你面前，这就像有一个函数不返回孩子对象但向用户打印一些东西。你需要从他们那里得到一个对象，所以他们都同意，如果他们不出现在你面前，他们会向你扔一张写着
    *None* 的纸条。
- en: '[Listing 21.5](#ch21ex05) defines two functions. One prints the parameter given
    (and implicitly returns `None`). Another returns the value of the parameter given.
    There are four things going on here:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表 21.5](#ch21ex05) 定义了两个函数。一个打印给定的参数（并隐式返回 `None`）。另一个返回给定参数的值。这里正在发生四件事情：'
- en: The first line in the main program that’s executed is `say_name("Dora")`. This
    line prints `Dora` because the function `say_name` has a `print` statement inside
    it. The result of the function call isn’t printed.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行的主程序的第一行是 `say_name("Dora")`。这一行打印 `Dora`，因为 `say_name` 函数内部有一个 `print` 语句。函数调用的结果没有打印出来。
- en: The next line, `show_kid("Ellie")`, doesn’t print anything because nothing is
    printed inside the function `show_kid`, nor is the result of the function call
    printed.
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下一行，`show_kid("Ellie")` 不打印任何内容，因为 `show_kid` 函数内部没有打印任何内容，函数调用的结果也没有打印出来。
- en: 'The next line, `print(say_name("Frank"))`, prints two things: `Frank` and `None`.
    It prints `Frank` because the function `say_name` has a `print` statement inside
    it. `None` is printed because the function `say_name` has no return statement
    (so by default returns `None`), and the result of the return is printed with the
    `print` around `say_name("Frank")`.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下一行，`print(say_name("Frank"))` 打印两样东西：`Frank` 和 `None`。它打印 `Frank`，因为 `say_name`
    函数内部有一个 `print` 语句。打印 `None`，因为 `say_name` 函数没有 `return` 语句（因此默认返回 `None`），并且
    `say_name("Frank")` 的返回结果通过 `print` 打印出来。
- en: Finally, `print(show_kid("Gus"))`, prints `Gus` because `show_kid` returns the
    name passed in, and the `print` around `show_kid("Gus")` prints the returned value.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，`print(show_kid("Gus"))` 打印 `Gus`，因为 `show_kid` 返回传递给它的名字，并且 `show_kid("Gus")`
    周围的 `print` 打印返回的值。
- en: Listing 21.5\. Function with and without a return
  id: totrans-161
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 21.5\. 带有和没有返回语句的函数
- en: '[PRE12]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '***1* Takes in a string with kid name**'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 接收一个包含孩子名字的字符串**'
- en: '***2* Doesn’t explicitly return anything, so Python returns None**'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 没有显式返回任何内容，所以 Python 返回 None**'
- en: '***3* Takes in a string with kid name**'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 接收一个包含孩子名字的字符串**'
- en: '***4* Returns a string**'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 返回一个字符串**'
- en: '***5* Prints “Dora” to the console**'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***5* 将“Dora”打印到控制台**'
- en: '***6* Doesn’t print anything to the console**'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***6* 不打印任何内容到控制台**'
- en: '***7* Prints Frank, then None, to the console**'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***7* 打印 Frank，然后 None，到控制台**'
- en: '***8* Prints Gus to the console**'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***8* 将“Gus”打印到控制台**'
- en: One particularly interesting line is `print(say_name("Frank"))`. The function
    call itself prints the name of the kid, `Frank`. Because there’s no `return` statement,
    Python returns `None` automatically. The line `print(say_name("Frank"))` is then
    replaced with the return value to give `print(None)`, which then prints the value
    `None` to the console. It’s important to understand that `None` isn’t an object
    of type `string`. It’s the only value for an object of type `NoneType`. [Figure
    21.2](#ch21fig02) shows which returned value replaces each function call.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 一条特别有趣的行是 `print(say_name("Frank"))`。函数调用本身打印了孩子的名字，`Frank`。因为没有`return`语句，Python
    自动返回`None`。然后，`print(say_name("Frank"))`这一行被替换为返回值，给出`print(None)`，然后打印值`None`到控制台。重要的是要理解`None`不是`string`类型的对象。它是`NoneType`类型对象的唯一值。[图
    21.2](#ch21fig02)显示了哪个返回值替换了每个函数调用。
- en: Figure 21.2\. Four combinations, representing calling a function that doesn’t
    return a value, calling a function that returns something, printing the result
    of calling a function that doesn’t return a value, and printing the result of
    calling a function that returns something. The black box is the function call,
    and the gray box is what happens behind the scenes when the function is called.
    If the function doesn’t have an explicit `return` statement, `return None` is
    automatically added. The black dotted line indicates the value that will replace
    the function call.
  id: totrans-172
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 21.2\. 四种组合，表示调用不返回值的函数、调用返回值的函数、打印调用不返回值的函数的结果以及打印调用返回值的函数的结果。黑色框是函数调用，灰色框是函数被调用时幕后发生的事情。如果函数没有显式的`return`语句，则自动添加`return
    None`。黑色虚线表示将替换函数调用的值。
- en: '![](images/21fig02.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](images/21fig02.jpg)'
- en: '|  |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 21.7**'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 21.7**'
- en: Given the following function and variable initializations, what will each line
    print, if executed in the following order?
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 给定以下函数和变量初始化，如果按以下顺序执行，每行将打印什么？
- en: '[PRE13]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '**[1](kindle_split_056.html#app01qa86q0a1)**'
  id: totrans-178
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa86q0a1)**'
- en: ''
  id: totrans-179
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`sentence = make_sentence(who, thing)`'
  id: totrans-180
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`sentence = make_sentence(who, thing)`'
- en: '**[2](kindle_split_056.html#app01qa86q0a2)**'
  id: totrans-181
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa86q0a2)**'
- en: ''
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`print(make_sentence(who, what))`'
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`print(make_sentence(who, what))`'
- en: '**[3](kindle_split_056.html#app01qa86q0a3)**'
  id: totrans-184
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa86q0a3)**'
- en: ''
  id: totrans-185
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`your_story = show_story(who, what, number, thing)`'
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`your_story = show_story(who, what, number, thing)`'
- en: '**[4](kindle_split_056.html#app01qa86q0a4)**'
  id: totrans-187
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[4](kindle_split_056.html#app01qa86q0a4)**'
- en: ''
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`my_story = show_story(sentence, what, number, thing)`'
  id: totrans-189
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`my_story = show_story(sentence, what, number, thing)`'
- en: '**[5](kindle_split_056.html#app01qa86q0a5)**'
  id: totrans-190
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[5](kindle_split_056.html#app01qa86q0a5)**'
- en: ''
  id: totrans-191
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`print(your_story)`'
  id: totrans-192
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`print(your_story)`'
- en: '|  |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 21.3\. Documenting your functions
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 21.3\. 记录你的函数
- en: In addition to functions being a way to modularize your code, they’re also a
    way to abstract chunks of code. You saw how abstraction is achieved by passing
    in parameters so that the function can be used more generally. Abstraction is
    also achieved through function *specifications*, or *docstrings*. You can quickly
    read the docstrings to get a sense of what inputs the function takes in, what
    it is supposed to do, and what it returns. Scanning the text of a docstring is
    much quicker than reading the function implementation.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 除了函数是模块化代码的一种方式外，它们也是抽象代码块的一种方式。你看到了通过传递参数来实现抽象，这样函数就可以更通用地使用。抽象也通过函数*规范*或*文档字符串*来实现。你可以快速阅读文档字符串，以了解函数接受的输入、它应该做什么以及它返回什么。扫描文档字符串的文本比阅读函数实现要快得多。
- en: 'Here’s an example of a docstring for a function whose implementation you saw
    in [listing 21.1](#ch21ex01):'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个函数文档字符串的示例，该函数的实现你可以在[列表 21.1](#ch21ex01)中看到：
- en: '[PRE14]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'A docstring starts inside the function, indented. The triple quotes `"""` denote
    the start and end of the docstring. A docstring includes the following:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 函数文档字符串从函数内部开始，缩进。三引号 `"""` 表示文档字符串的开始和结束。文档字符串包括以下内容：
- en: Each input parameter name and type
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个输入参数的名称和类型
- en: A brief overview of what the function does
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数的功能简要概述
- en: The meaning of the return value and the type
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回值的含义和类型
- en: Summary
  id: totrans-202
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this lesson, my objective was for you to write simple Python functions.
    Functions take in input, perform an action, and return a value. They’re one way
    that you can write reusable code in your programs. Functions are modules of code
    written in a generic way. In your programs, you can call a function with specific
    values to give you back a value. The returned value can then be used in your code.
    You write function specifications to document your work so that you don’t have
    to read an entire piece of code to figure out what the function does. Here are
    the major takeaways:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节课中，我的目标是让你编写简单的Python函数。函数接收输入，执行操作，并返回一个值。这是你在程序中编写可重用代码的一种方式。函数是以通用方式编写的代码模块。在你的程序中，你可以通过传递特定的值来调用函数，以获取返回的值。返回的值可以随后在你的代码中使用。你编写函数规范以记录你的工作，这样你就不必阅读整个代码块来了解函数的功能。以下是主要收获：
- en: Function definitions are just that—definitions. The function is executed only
    when it’s called somewhere else in the code.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数定义仅仅是定义本身。函数只有在代码的其他地方被调用时才会被执行。
- en: A function call is replaced with the value returned.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数调用被替换为返回的值。
- en: Functions return one object, but you can use tuples to return more than one
    value.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数返回一个对象，但你可以使用元组来返回多个值。
- en: Function docstrings document and abstract details of the function implementation.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 函数文档字符串用于记录函数实现的文档和抽象细节。
- en: Let’s see if you got this...
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看你是否理解了...
- en: '**[Q21.1](kindle_split_056.html#app01qa87q0a1)**'
  id: totrans-209
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q21.1](kindle_split_056.html#app01qa87q0a1)**'
- en: ''
  id: totrans-210
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Write a function named `calculate_total` that takes in two parameters: a float
    named `price`, and an integer named `percent`. The function calculates and returns
    a new number representing the price plus the tip: total = price + percent * price.'
  id: totrans-211
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个名为 `calculate_total` 的函数，该函数接收两个参数：一个名为 `price` 的浮点数和一个名为 `percent` 的整数。该函数计算并返回一个新数值，表示价格加上小费：total
    = price + percent * price。
- en: Make a function call to your function with a price of 20 and a percent of 15.
  id: totrans-212
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用价格为20和百分比为15调用你的函数。
- en: 'Complete the following code in a program to use your function:'
  id: totrans-213
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在程序中完成以下代码以使用你的函数：
- en: ''
  id: totrans-214
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-215
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
