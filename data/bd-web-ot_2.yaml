- en: Appendix A. Arduino, BeagleBone, Intel Edison, and the WoT
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录A. Arduino, BeagleBone, Intel Edison, 和物联网
- en: 'As mentioned before, although we use the Raspberry Pi as a reference device
    throughout this book, all the concepts, architecture, and patterns you learned
    in this book are definitely not bound to the Pi: they apply to any embedded device
    or any other Thing out there. Should you decide to opt for a different device
    than the Pi, this appendix will help you set it up and build the necessary code
    to integrate your chosen device with the Web of Things. We won’t give you all
    the nitty-gritty details of each platform but will give you all the necessary
    pointers for three popular embedded systems: the BeagleBone,^([[1](#app01fn01)])
    the Intel Edison,^([[2](#app01fn02)]) and the Arduino.^([[3](#app01fn03)]) For
    each of them, we’ll look at these points:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，尽管我们在这本书中一直以Raspberry Pi作为参考设备，但您在这本书中学到的所有概念、架构和模式绝对不局限于Pi：它们适用于任何嵌入式设备或任何其他事物。如果您决定选择Pi以外的设备，这个附录将帮助您设置它并构建必要的代码，以将您选择的设备集成到物联网中。我们不会提供每个平台的详细信息，但会提供三个流行嵌入式系统的所有必要指针：BeagleBone，^([[1](#app01fn01)])
    Intel Edison，^([[2](#app01fn02)]) 和Arduino.^([[3](#app01fn03)]) 对于每一个，我们将查看以下这些点：
- en: ¹
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ¹
- en: ''
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://beagleboard.org/](http://beagleboard.org/)'
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[BeagleBoard官网](http://beagleboard.org/)'
- en: ²
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ²
- en: ''
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://www.intel.com/content/www/us/en/do-it-yourself/edison.html](http://www.intel.com/content/www/us/en/do-it-yourself/edison.html)'
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[Intel Edison官网](http://www.intel.com/content/www/us/en/do-it-yourself/edison.html)'
- en: ³
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ³
- en: ''
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://www.arduino.cc/](https://www.arduino.cc/)'
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[Arduino官网](https://www.arduino.cc/)'
- en: Installing the software
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装软件
- en: Installing Node.js
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Node.js
- en: GPIO layout and libraries
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPIO布局和库
- en: A.1\. Integrating a BeagleBone to the WoT
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1\. 将BeagleBone集成到物联网中
- en: 'Let’s start with the closest relative of the Pi: the BeagleBone. This device
    is made by BeagleBoard.org, a U.S.-based nonprofit corporation that provides education
    in and promotes the design and use of open-source software and hardware in embedded
    computing. The foundation works with partners such as Texas Instruments to release
    the easy-to-use embedded devices called BeagleBones. Although in this appendix
    we focus on their best seller, the BeagleBone Black (BBB), most of this section
    applies to all BeagleBone models.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从Pi最接近的亲戚开始：BeagleBone。这个设备由BeagleBoard.org制造，这是一家美国非营利性组织，提供嵌入式计算中的开源软件和硬件的教育和推广。该基金会与德州仪器等合作伙伴合作，发布易于使用的嵌入式设备，称为BeagleBones。尽管在这个附录中我们专注于他们的最佳卖家BeagleBone
    Black (BBB)，但本节的大部分内容也适用于所有BeagleBone型号。
- en: A.1.1\. Meet the BeagleBone Black
  id: totrans-16
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.1.1\. 认识BeagleBone Black
- en: 'The BeagleBone Black is a member of the Linux-powered family of embedded devices,
    and its features and size are similar to those of the Raspberry Pi B+:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: BeagleBone Black是Linux驱动的嵌入式设备家族的一员，其功能和尺寸与Raspberry Pi B+类似：
- en: ARM Cortex-A8
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ARM Cortex-A8
- en: 512 MB of RAM
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 512 MB 的RAM
- en: 4 GB on-board flash storage
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 板载4 GB闪存存储
- en: Onboard Ethernet adapter
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 板载以太网适配器
- en: A 3D graphics accelerator
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个3D图形加速器
- en: The BeagleBone is well-known for its robustness and stability, which makes it
    an excellent choice even in production applications. Moreover, the BeagleBone
    offers both SD card and flash-based storage, making it straightforward to move
    from a prototype to a real-world trial (it’s best not to rely on SD cards because
    they have a limited life span, they move, and they tend to be slow, among other
    issues). A BBB will set you back around $50 USD, which is only slightly more than
    the Pi. Should you want to buy one, you’ll find a list of recommended sellers
    on this book’s website.^([[4](#app01fn04)])
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: BeagleBone因其坚固性和稳定性而闻名，这使得它在生产应用中也是一个极佳的选择。此外，BeagleBone提供SD卡和基于闪存的存储，这使得从原型到实际试验的迁移变得简单（最好不要依赖SD卡，因为它们的寿命有限，它们会移动，而且它们通常速度较慢，以及其他问题）。BBB的价格大约为50美元，这比Pi略高。如果您想购买一个，您可以在本书的网站上找到推荐卖家的列表.^([[4](#app01fn04)])
- en: ⁴
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁴
- en: ''
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://book.webofthings.io](http://book.webofthings.io)'
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[物联网之书](http://book.webofthings.io)'
- en: A.1.2\. Preparing the BeagleBone Black for the book
  id: totrans-27
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.1.2\. 准备BeagleBone Black用于本书
- en: As we said earlier, the hardware and software of the BBB are similar to that
    of the Pi, so most of the setup procedures shown here will be straightforward.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前所说，BBB的硬件和软件与Pi类似，因此这里展示的大多数设置步骤都将非常直接。
- en: Linux
  id: totrans-29
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: Linux
- en: The BeagleBone Black comes preinstalled with Debian Linux, so there’s little
    you need to do to have it up and running. Should you feel adventurous, the BB
    can also support other Linux distributions such as Ubuntu.^([[5](#app01fn05)])
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: BeagleBone Black 预装了 Debian Linux，因此您几乎不需要做什么就可以让它启动运行。如果您想尝试冒险，BB 还可以支持其他 Linux
    发行版，如 Ubuntu.^([[5](#app01fn05)])
- en: ⁵
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁵
- en: ''
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://elinux.org/BeagleBoardUbuntu](http://elinux.org/BeagleBoardUbuntu)'
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://elinux.org/BeagleBoardUbuntu](http://elinux.org/BeagleBoardUbuntu)'
- en: SSH
  id: totrans-34
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: SSH
- en: To connect to your BBB via SSH, first follow the online getting started guide,^([[6](#app01fn06)])
    which will teach you how to power your BBB and how to access the default onboard
    web server. Yes, the BeagleBone is a very WoT-friendly device! Then, connect the
    BBB to your router with an Ethernet cable and follow the steps in the wiki to
    set up and use the IP of your BBB and access it via SSH.^([[7](#app01fn07)])
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过 SSH 连接到您的 BBB，首先遵循在线入门指南，^([[6](#app01fn06)]) 这将教您如何为 BBB 提供电以及如何访问默认的板载网络服务器。是的，BeagleBone
    是一个非常友好的 WoT 设备！然后，使用以太网线将 BBB 连接到您的路由器，并按照维基百科中的步骤设置和使用 BBB 的 IP 地址，并通过 SSH 访问它.^([[7](#app01fn07)])
- en: ⁶
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁶
- en: ''
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://beagleboard.org/getting-started](http://beagleboard.org/getting-started)'
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://beagleboard.org/getting-started](http://beagleboard.org/getting-started)'
- en: ⁷
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁷
- en: ''
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://elinux.org/Beagleboard:Terminal_Shells](http://elinux.org/Beagleboard:Terminal_Shells)'
  id: totrans-41
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://elinux.org/Beagleboard:Terminal_Shells](http://elinux.org/Beagleboard:Terminal_Shells)'
- en: Node.js
  id: totrans-42
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: Node.js
- en: Here again, the BBB plays well with the WoT because Node is the default programming
    language for the device.^([[8](#app01fn08)]) Should you want to upgrade the version
    of Node, you can follow the steps listed in [section 4.2.5](kindle_split_011.html#ch04lev2sec8),
    but make sure you select a version of Node that’s suitable for the processor of
    your BBB (ARMv7 architecture). The BeagleBones also come with the Cloud9 IDE that
    lets you conveniently edit Node.js programs directly on the board.^([[9](#app01fn09)])
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，BBB 与 WoT 的兼容性很好，因为 Node 是该设备的默认编程语言.^([[8](#app01fn08)]) 如果您想升级 Node 的版本，可以按照
    [第 4.2.5 节](kindle_split_011.html#ch04lev2sec8) 中列出的步骤进行，但请确保选择适合您的 BBB 处理器（ARMv7
    架构）的 Node 版本。BeagleBone 还配备了 Cloud9 IDE，它允许您方便地在板上直接编辑 Node.js 程序.^([[9](#app01fn09)])
- en: ⁸
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁸
- en: ''
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://beagleboard.org/support/bonescript](http://beagleboard.org/support/bonescript)'
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://beagleboard.org/support/bonescript](http://beagleboard.org/support/bonescript)'
- en: ⁹
  id: totrans-47
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ⁹
- en: ''
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://beagleboard.org/Support/bone101/](http://beagleboard.org/Support/bone101/)'
  id: totrans-49
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://beagleboard.org/Support/bone101/](http://beagleboard.org/Support/bone101/)'
- en: WoT server code
  id: totrans-50
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: WoT 服务器代码
- en: All the code samples in this book, including the one for the full WoT server,
    will work on the BBB without any changes. Just like for the Pi, the BBB supports
    Git, so you can fork the book source code from GitHub (see [chapter 7](kindle_split_015.html#ch07)).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的所有代码示例，包括完整的 WoT 服务器示例，都可以在 BBB 上直接使用，无需任何更改。就像 Pi 一样，BBB 支持 Git，因此您可以从
    GitHub 上分叉本书的源代码（见 [第 7 章](kindle_split_015.html#ch07)）。
- en: GPIOs
  id: totrans-52
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: GPIOs
- en: 'The `onoff` library we used to interface with the GPIO of the Pi is also compatible
    with the BBB so you won’t have to change much in the code. The only thing that
    will differ is the layout of the GPIOs; therefore, you’ll need to change the GPIO
    numbers in the code. For instance, for the blink.js examples in [chapter 4](kindle_split_011.html#ch04)
    ([listing 4.6](kindle_split_011.html#ch04ex06)), you’ll need to change `led =
    new Gpio(4, ''out'')` to use a valid GPIO pin such as pin 11: `led = new Gpio(11,
    ''out'')`. This also means that you’ll have to connect your circuits to different
    GPIO, GND, or PWR pins on the BBB, so be sure you carefully study the layout of
    your device.^([[10](#app01fn10)])'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 我们用来与 Pi 的 GPIO 交互的 `onoff` 库也与 BBB 兼容，因此您在代码中不需要做太多更改。唯一会不同的是 GPIO 的布局；因此，您需要更改代码中的
    GPIO 编号。例如，对于 [第 4 章](kindle_split_011.html#ch04) 中的 blink.js 示例（[列表 4.6](kindle_split_011.html#ch04ex06)），您需要将
    `led = new Gpio(4, 'out')` 更改为使用有效的 GPIO 引脚，例如引脚 11：`led = new Gpio(11, 'out')`。这也意味着您必须将您的电路连接到
    BBB 上的不同 GPIO、GND 或 PWR 引脚，因此请务必仔细研究您的设备布局.^([[10](#app01fn10)])
- en: ^(10)
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(10)
- en: ''
  id: totrans-55
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'See here for more details about the BBB pin layout: [http://beagleboard.org/support/bone101/](http://beagleboard.org/support/bone101/).'
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 更多关于 BBB 引脚布局的详细信息，请参阅此处：[http://beagleboard.org/support/bone101/](http://beagleboard.org/support/bone101/).
- en: A.2\. Integrating an Intel Edison to the WoT
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2\. 将英特尔爱迪生集成到 WoT 中
- en: 'Unlike the Pi and BeagleBone—and the majority of embedded platforms out there—the
    Intel Edison isn’t powered by an ARM processor but by an Intel one (surprise,
    surprise!). It’s primarily a Linux Yocto device, but it also has a second microcontroller
    running an RTOS called Viper OS. The Edison is not much bigger than a postage
    stamp and roughly half the size of a Pi Zero, making it the smallest device covered
    in this book. Nonetheless, it’s packed with an impressive set of features:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 与Pi和BeagleBone——以及大多数嵌入式平台——不同，Intel Edison不是由ARM处理器供电，而是由Intel处理器供电（惊讶，惊讶！）。它主要是一个Linux
    Yocto设备，但它还有一个运行Viper OS的第二个微控制器。Edison的尺寸不比邮票大多少，大约是Pi Zero的一半大小，使其成为本书中介绍的最小设备。尽管如此，它集成了令人印象深刻的功能集：
- en: Intel Atom dual-core x86 CPU @ 500 MHz for Linux
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于Linux的500 MHz Intel Atom双核x86 CPU
- en: Intel Quark 100 MHz for RTOS
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于RTOS的100 MHz Intel Quark
- en: 1 GB of RAM
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 GB的RAM
- en: 4 GB onboard flash storage
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 GB板载闪存存储
- en: Wi-Fi a/b/g/n onboard module
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 板载Wi-Fi a/b/g/n模块
- en: Bluetooth 4.0 onboard module
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 板载蓝牙4.0模块
- en: All these features come with a price; an Edison and its mini breakout board
    will cost around $70 USD. Check the list of recommended sellers on the book’s
    website if you want to get one.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些功能都有一个代价；Edison及其迷你断路板大约需要70美元。如果你想要购买，请查看本书网站上的推荐卖家列表。
- en: A.2.1\. Preparing the Edison for the Book
  id: totrans-66
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.1\. 为本书准备Edison
- en: Because the Edison is also a Linux device, getting it ready for the Web of Things
    isn’t fundamentally different than for the Pi or BBB.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 因为Edison也是一个Linux设备，为Web of Things做准备与Pi或BBB并没有本质的不同。
- en: Linux
  id: totrans-68
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: Linux
- en: The Edison comes with a preinstalled version of Yocto Linux, so it’s ready to
    use.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Edison预装了Yocto Linux版本，因此可以直接使用。
- en: SSH
  id: totrans-70
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: SSH
- en: To access your Edison via SSH, you’ll first need to establish a serial connection
    through USB to configure the onboard Wi-Fi. Once the Wi-Fi connection is established,
    you’ll be able to SSH your Edison directly. This process is detailed in the online
    getting started guide.^([[11](#app01fn11)])
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过SSH访问你的Edison，你首先需要通过USB建立一个串行连接来配置板载Wi-Fi。一旦建立了Wi-Fi连接，你就可以直接SSH到Edison。这个过程在在线入门指南中有详细说明.^([[11](#app01fn11)])
- en: ^(11)
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(11)
- en: ''
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://software.intel.com/en-us/iot/library/edison-getting-started](https://software.intel.com/en-us/iot/library/edison-getting-started)'
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://software.intel.com/en-us/iot/library/edison-getting-started](https://software.intel.com/en-us/iot/library/edison-getting-started)'
- en: Node.js
  id: totrans-75
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: Node.js
- en: The Edison loves Node.js because it comes preinstalled. Like the BeagleBone,
    the Edison also has its own IDE that lets you write Node.js code that runs on
    the board. It’s called the Intel XDK IoT Edition and can be installed on Mac OS,
    Linux, and Windows.^([[12](#app01fn12)])
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: Edison喜欢Node.js，因为它预装了。就像BeagleBone一样，Edison也有自己的IDE，允许你编写在板上运行的Node.js代码。它被称为Intel
    XDK IoT Edition，可以在Mac OS、Linux和Windows上安装.^([[12](#app01fn12)])
- en: ^(12)
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(12)
- en: ''
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://software.intel.com/en-us/getting-started-with-the-intel-xdk-iot-edition](https://software.intel.com/en-us/getting-started-with-the-intel-xdk-iot-edition)'
  id: totrans-79
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://software.intel.com/en-us/getting-started-with-the-intel-xdk-iot-edition](https://software.intel.com/en-us/getting-started-with-the-intel-xdk-iot-edition)'
- en: WoT server code
  id: totrans-80
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: WoT服务器代码
- en: The full WoT server you wrote in this book will work on the Edison, except for
    the part that interacts with the GPIOs; see the next item. Just like for the Pi,
    the Edison supports Git so you can fork the book code from GitHub; see [chapter
    7](kindle_split_015.html#ch07).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书中你编写的完整WoT服务器将在Edison上运行，除了与GPIOs交互的部分；请参见下一项。就像Pi一样，Edison支持Git，因此你可以从GitHub上fork本书的代码；请参见[第7章](kindle_split_015.html#ch07)。
- en: GPIOs
  id: totrans-82
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: GPIOs
- en: Unfortunately, the code in this book that uses the `onoff` library for GPIO
    access won’t work directly on the Edison. But don’t worry; the Edison board also
    has its own Node GPIO access abstraction library called `MRAA GPIO`.^([[13](#app01fn13)])
    You should be able swap `onoff` for MRAA and have the different sensors and actuators
    up and running. Nevertheless, just like for the BBB, the GPIO layout is different
    on the Edison than it is on the Pi, so you’ll have to make sure you connect the
    right pins.^([[14](#app01fn14)])
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，本书中使用`onoff`库访问GPIO的代码在Edison上无法直接运行。但不用担心；Edison板也自带了一个名为`MRAA GPIO`的Node
    GPIO访问抽象库。^([[13](#app01fn13)]) 你应该能够将`onoff`替换为MRAA，并让不同的传感器和执行器正常运行。不过，就像BBB一样，Edison上的GPIO布局与Pi不同，所以你必须确保连接正确的引脚.^([[14](#app01fn14)])
- en: ^(13)
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(13)
- en: ''
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://github.com/intel-iot-devkit/mraa](https://github.com/intel-iot-devkit/mraa)'
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://github.com/intel-iot-devkit/mraa](https://github.com/intel-iot-devkit/mraa)'
- en: ^(14)
  id: totrans-87
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(14)
- en: ''
  id: totrans-88
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Pin layout of the Intel Edison breakout board: [http://bit.ly/1Kjc7mj](http://bit.ly/1Kjc7mj)'
  id: totrans-89
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Intel Edison扩展板的引脚布局：[http://bit.ly/1Kjc7mj](http://bit.ly/1Kjc7mj)
- en: A.3\. Integrating an Arduino to the WoT
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.3. 集成Arduino到WoT
- en: The Arduino is an open-source electronics platform based on easy-to-use hardware
    and software. It’s intended for anyone making interactive projects and is probably
    the most popular—and one of the oldest!—platforms for hardware prototyping. There
    isn’t just one Arduino but rather a dozen Arduino devices, or boards as they’re
    called in the Arduino world. Boards range from the all-time best-seller Arduino
    Uno^([[15](#app01fn15)]) to the beautiful and minimal LilyPad,^([[16](#app01fn16)])
    with prices ranging from $80 USD to just a few dollars.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Arduino是一个基于易于使用的硬件和软件的开源电子平台。它旨在为任何制作交互式项目的人提供服务，可能是最流行——也是最古老！——的硬件原型平台之一。Arduino不仅仅是一个，而是有数十个Arduino设备，或者如Arduino世界中所称的板。价格从80美元到仅几美元不等，板从一直以来的最佳畅销品Arduino
    Uno[15](#app01fn15)到美丽而简约的LilyPad[16](#app01fn16)不等。
- en: ^(15)
  id: totrans-92
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[15](#app01fn15)'
- en: ''
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://www.arduino.cc/en/Main/ArduinoBoardUno](https://www.arduino.cc/en/Main/ArduinoBoardUno)'
  id: totrans-94
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://www.arduino.cc/en/Main/ArduinoBoardUno](https://www.arduino.cc/en/Main/ArduinoBoardUno)'
- en: ^(16)
  id: totrans-95
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[16](#app01fn16)'
- en: ''
  id: totrans-96
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://www.arduino.cc/en/Main/ArduinoBoardLilyPadUSB](https://www.arduino.cc/en/Main/ArduinoBoardLilyPadUSB)'
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://www.arduino.cc/en/Main/ArduinoBoardLilyPadUSB](https://www.arduino.cc/en/Main/ArduinoBoardLilyPadUSB)'
- en: Unlike the Pi, BeagleBoard, and Edison platforms, Arduino boards belong to the
    family of RTOS devices, not Linux. Arduino boards are also much more resource-constrained
    than the other platforms we’ve looked at up to now. The consequence is that you
    won’t be able to run Node.js on Arduino boards (except for some special boards;
    see the next section). This also means the code samples in this book won’t run
    on the Arduino, and you’ll have to rewrite them using the Arduino programming
    language, which is based on the C/C++ languages.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 与Pi、BeagleBoard和Edison平台不同，Arduino板属于RTOS设备家族，而不是Linux。Arduino板也比我们迄今为止看到的其他平台资源受限得多。结果是，您将无法在Arduino板上运行Node.js（除非是某些特殊板；见下一节）。这也意味着本书中的代码示例无法在Arduino上运行，您必须使用基于C/C++语言的Arduino编程语言重写它们。
- en: The good news is that all the concepts described in this book can be easily
    ported to the Arduino platform because the APIs for your device will be quite
    similar if not the same. If this book is your first swim in the IoT world and
    learning about these concepts and implementing them directly on the Arduino will
    be tough, we recommend that you get a Pi first. But once you get the gist of it,
    you’ll be able to further explore the world of embedded systems. For this, the
    Arduino platform is a great place to start, especially if you’re looking around
    for low-power devices.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 好消息是，本书中描述的所有概念都可以轻松地移植到Arduino平台，因为您的设备API将非常相似，如果不是完全相同。如果这是您在物联网世界的第一次游泳，并且直接在Arduino上学习这些概念并实现它们将很困难，我们建议您首先获取一个Pi。但一旦您掌握了其中的精髓，您将能够进一步探索嵌入式系统世界。为此，Arduino平台是一个很好的起点，尤其是如果您正在寻找低功耗设备。
- en: A.3.1\. Linux, SSH, Node.js
  id: totrans-100
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.3.1. Linux、SSH、Node.js
- en: 'As mentioned before, the Arduino boards are running an RTOS environment where
    the C programming language rules. There’s no way to install Linux, SSH, or Node
    on an Arduino board. There’s one exception, though: the Arduino Yún supports both
    Linux and the Arduino RTOS environment, and although it requires a number of steps
    far beyond the scope of this book, it is possible to install Node on a Yún.^([[17](#app01fn17)])'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，Arduino板运行在RTOS环境中，其中C编程语言占主导地位。在Arduino板上无法安装Linux、SSH或Node。不过，有一个例外：Arduino
    Yún支持Linux和Arduino RTOS环境，尽管这需要超出本书范围的多个步骤，但在Yún上安装Node是可能的。[17](#app01fn17)
- en: ^(17)
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[17](#app01fn17)'
- en: ''
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://blog.arduino.cc/2014/05/06/time-to-expand-your-yun-disk-space-and-install-node-js/](https://blog.arduino.cc/2014/05/06/time-to-expand-your-yun-disk-space-and-install-node-js/)'
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://blog.arduino.cc/2014/05/06/time-to-expand-your-yun-disk-space-and-install-node-js/](https://blog.arduino.cc/2014/05/06/time-to-expand-your-yun-disk-space-and-install-node-js/)'
- en: How do you program the other Arduino boards if you can’t SSH them? You use a
    development environment called Arduino Integrated Development Environment (Arduino
    IDE). This IDE runs on your computer and lets you develop your programs on your
    machine before uploading them to the Arduino board. How to do that is also beyond
    the scope of this book, but you’ll find a lot of online resources that can help
    you. Or better yet, you might want to get a copy of *Arduino in Action* by Martin
    Evans, et al (Manning Publications, 2013)^([[18](#app01fn18)])
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不能通过SSH编程其他Arduino板，你将使用一个名为Arduino Integrated Development Environment (Arduino
    IDE)的开发环境。这个IDE在你的电脑上运行，并允许你在机器上开发程序，然后再上传到Arduino板。如何做到这一点也超出了本书的范围，但你会在网上找到很多可以帮助你的资源。或者，你可能会想获取Martin
    Evans等人所著的*Arduino in Action*（Manning Publications，2013）的副本.^([[18](#app01fn18)])
- en: ^(18)
  id: totrans-106
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(18)
- en: ''
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*Arduino in Action*, Manning Publications: [https://www.manning.com/books/arduino-in-action?a_aid=wot](https://www.manning.com/books/arduino-in-action?a_aid=wot)'
  id: totrans-108
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*Arduino in Action*, Manning Publications: [https://www.manning.com/books/arduino-in-action?a_aid=wot](https://www.manning.com/books/arduino-in-action?a_aid=wot)'
- en: WoT server code
  id: totrans-109
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: WoT服务器代码
- en: Although you won’t be able to reuse the code samples provided in this book,
    a number of great Arduino libraries can help you implement a WoT-compliant Arduino.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管你无法重用本书中提供的代码示例，但一些优秀的Arduino库可以帮助你实现符合WoT的Arduino。
- en: In particular, the `Webduino`^([[19](#app01fn19)]) library lets you implement
    a REST API on your Arduino board. The `ArdunioWebsocketServer`^([[20](#app01fn20)])
    library can be used to implement the WebSocket part of your device’s WoT API.
    This should let you work through all the concepts presented in [chapters 4](kindle_split_011.html#ch04)
    to [8](kindle_split_016.html#ch08). [Chapter 9](kindle_split_017.html#ch09) is
    a bit trickier, because the Arduino platform doesn’t support TLS very well. This
    is because the underlying encryption algorithms are resource-demanding, leading
    to significant times needed to encrypt/decrypt messages.^([[21](#app01fn21)])
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 尤其是使用`Webduino`^([[19](#app01fn19)])库，你可以在Arduino板上实现REST API。`ArdunioWebsocketServer`^([[20](#app01fn20)])库可以用来实现设备WoT
    API的WebSocket部分。这应该让你能够理解从第[4章](kindle_split_011.html#ch04)到第[8章](kindle_split_016.html#ch08)中提出的所有概念。第[9章](kindle_split_017.html#ch09)有些复杂，因为Arduino平台对TLS的支持不是很好。这是因为底层加密算法资源消耗大，导致加密/解密消息需要显著的时间.^([[21](#app01fn21)])
- en: ^(19)
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(19)
- en: ''
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://github.com/sirleech/Webduino](https://github.com/sirleech/Webduino)'
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://github.com/sirleech/Webduino](https://github.com/sirleech/Webduino)'
- en: ^(20)
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(20)
- en: ''
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://github.com/ejeklint/ArduinoWebsocketServer](https://github.com/ejeklint/ArduinoWebsocketServer)'
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://github.com/ejeklint/ArduinoWebsocketServer](https://github.com/ejeklint/ArduinoWebsocketServer)'
- en: ^(21)
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(21)
- en: ''
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'A great read on the practical considerations of security on very resource constrained
    devices is available here: [https://tools.ietf.org/html/draft-aks-lwig-crypto-sensors-00](https://tools.ietf.org/html/draft-aks-lwig-crypto-sensors-00).'
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在这里可以找到关于在非常资源受限的设备上安全性的实际考虑的精彩阅读：[https://tools.ietf.org/html/draft-aks-lwig-crypto-sensors-00](https://tools.ietf.org/html/draft-aks-lwig-crypto-sensors-00)。
- en: Gateway pattern
  id: totrans-121
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 网关模式
- en: 'There’s another way to integrate Arduino boards to the Web of Things: using
    the gateway pattern we explored in [chapter 7](kindle_split_015.html#ch07). You
    can, for instance, use MQTT or CoAP on your Arduino board and then use a more
    powerful embedded device, such as a Pi, to serve as a gateway. Should you want
    to do this, there’s a great `MQTT`^([[22](#app01fn22)]) Arduino library that can
    help you and one for CoAP^([[23](#app01fn23)]) too.'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 将Arduino板集成到物联网中还有另一种方法：使用我们在第[7章](kindle_split_015.html#ch07)中探讨的网关模式。例如，你可以在Arduino板上使用MQTT或CoAP，然后使用更强大的嵌入式设备，如Pi，作为网关。如果你想这样做，有一个优秀的`MQTT`^([[22](#app01fn22)))
    Arduino库，还有一个用于CoAP^([[23](#app01fn23)))的库。
- en: ^(22)
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(22)
- en: ''
  id: totrans-124
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://github.com/knolleary/pubsubclient](https://github.com/knolleary/pubsubclient)'
  id: totrans-125
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://github.com/knolleary/pubsubclient](https://github.com/knolleary/pubsubclient)'
- en: ^(23)
  id: totrans-126
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(23)
- en: ''
  id: totrans-127
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://github.com/1248/microcoap](https://github.com/1248/microcoap)'
  id: totrans-128
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://github.com/1248/microcoap](https://github.com/1248/microcoap)'
- en: GPIOs
  id: totrans-129
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: GPIOs
- en: 'The Arduino boards are meant to be used to experiment with lots of sensors
    and actuators and hence they have a number of GPIOs at hand. The good news is
    that the GPIOs are marked directly on the boards, so there’s no need for a picture
    explaining the layout. All the sensors and actuators we installed on the Pi in
    [chapter 4](kindle_split_011.html#ch04) can also be used with an Arduino board
    but, again, the code will be quite different. Although describing the Arduino
    code is beyond the scope of this book, we provide you with good links for each
    sensor and actuator used in this book:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 'Arduino板旨在用于实验大量传感器和执行器，因此它们提供了许多GPIO。好消息是GPIO直接标记在板上，所以不需要解释布局的图片。我们在第4章[chapter
    4](kindle_split_011.html#ch04)中安装的所有传感器和执行器也可以与Arduino板一起使用，但再次强调，代码将会有很大不同。尽管描述Arduino代码超出了本书的范围，但我们为本书中使用的每个传感器和执行器提供了良好的链接： '
- en: LEDs^([[24](#app01fn24)])
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LED灯^([[24](#app01fn24)])
- en: ^(24)
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(24)
- en: ''
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://playground.arduino.cc/Code/LED](http://playground.arduino.cc/Code/LED)'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://playground.arduino.cc/Code/LED](http://playground.arduino.cc/Code/LED)'
- en: Passive infrared sensor (PIR)^([[25](#app01fn25)])
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被动红外传感器 (PIR)^([[25](#app01fn25)])
- en: ^(25)
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(25)
- en: ''
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://playground.arduino.cc/Code/PIRsense](http://playground.arduino.cc/Code/PIRsense)'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://playground.arduino.cc/Code/PIRsense](http://playground.arduino.cc/Code/PIRsense)'
- en: Temperature and humidity sensor (DHT22)^([[26](#app01fn26)])
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 温湿度传感器 (DHT22)^([[26](#app01fn26)])
- en: ^(26)
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(26)
- en: ''
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://playground.arduino.cc/Main/DHTLib](http://playground.arduino.cc/Main/DHTLib)'
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://playground.arduino.cc/Main/DHTLib](http://playground.arduino.cc/Main/DHTLib)'
- en: A.4\. Integrating other embedded systems to the WoT
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.4\. 将其他嵌入式系统集成到物联网
- en: Literally any embedded device can be integrated to the web by following the
    WoT architecture. It will just require a bit of searching or a good book on the
    device you pick! Should you want to try other platforms as well, a good place
    to start is the Embedded Linux Wiki^([[27](#app01fn27)]) for Linux-based devices
    or the Element14 community^([[28](#app01fn28)]) for RTOS devices. If you port
    these concepts on other platforms, please do reach out via our GitHub because
    we’d love to hear about it and link to your project from our book’s website.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，任何嵌入式设备都可以通过遵循物联网架构集成到网络中。这只需要一点搜索或者选择你设备的优秀书籍！如果你还想尝试其他平台，Linux设备的好起点是嵌入式Linux
    Wiki^([[27](#app01fn27)))，而对于RTOS设备，Element14社区^([[28](#app01fn28)))是一个不错的选择。如果你在其他平台上移植这些概念，请通过我们的GitHub联系我们，因为我们很乐意了解并从我们的书籍网站上链接到你的项目。
- en: ^(27)
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(27)
- en: ''
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[http://elinux.org/Main_Page](http://elinux.org/Main_Page)'
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[http://elinux.org/Main_Page](http://elinux.org/Main_Page)'
- en: ^(28)
  id: totrans-148
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^(28)
- en: ''
  id: totrans-149
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[https://www.element14.com/community](https://www.element14.com/community)'
  id: totrans-150
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://www.element14.com/community](https://www.element14.com/community)'
