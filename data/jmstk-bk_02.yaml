- en: 2 Building a basic Jamstack site
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2 构建基本的 Jamstack 网站
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Using the Jamstack to build a simple site
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Jamstack 构建简单网站
- en: How to install and make use of Eleventy
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何安装和使用 Eleventy
- en: Creating a coffee shop website using Eleventy
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Eleventy 创建咖啡店网站
- en: 'The first site we’re going to build in the Jamstack will be what has previously
    been referred to as a *brochureware* website. In the past, this was used to describe
    websites that were nothing more than digital versions of a marketing brochure.
    While the web is an incredibly powerful platform and enables powerful collaboration,
    sometimes simple is all you need. There are multiple examples of where a one-
    or two-page site is more than satisfactory:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在 Jamstack 中构建的第一个网站将是之前所说的**宣传册网站**。在过去，这被用来描述那些仅仅是营销手册数字版本的网站。虽然网络是一个极其强大的平台，并能够实现强大的协作，但有时简单就是你所需要的。有许多例子表明，一个或两个页面的网站已经足够满意：
- en: A restaurant website that just displays opening hours, the address, and a menu
    (but not in a PDF please!)
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个仅显示营业时间、地址和菜单（但请不要是PDF格式！）的餐厅网站
- en: A temporary website for a service that is coming soon, perhaps with a simple
    form for people to sign up to be notified on release
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个即将推出的服务的临时网站，可能包含一个简单的表单，让人们可以注册在发布时收到通知
- en: A landing page for a mobile app, with only links to the respective app stores
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个移动应用的着陆页，仅包含指向相应应用商店的链接
- en: Each of these examples could easily be handled by a website with one to two
    pages. In fact, a static site generator may even seem like overkill for such a
    small project. But as many developers know, projects tend to grow over time. By
    starting off with a static site generator, you’ll be much better prepared to adapt
    the website and add additional pages and features over time. For our first static
    site generator, we will use the incredibly flexible Eleventy.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这些例子中的每一个都可以很容易地由一个一到两页的网站处理。实际上，静态网站生成器对于这样一个小的项目来说可能甚至有些过度。但正如许多开发者所知，项目往往会随着时间的推移而增长。通过从静态网站生成器开始，你将更好地准备好随着时间的推移适应网站并添加额外的页面和功能。对于我们的第一个静态网站生成器，我们将使用极其灵活的
    Eleventy。
- en: 2.1 Working with Eleventy
  id: totrans-10
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1 使用 Eleventy
- en: Eleventy (figure 2.1) is a simple but powerful static site generator that is
    incredibly flexible. Eleventy can be used to build just about anything you can
    imagine and isn’t necessarily tailored to one kind of site versus another. This
    flexibility makes it an excellent first choice for developers learning the Jamstack.
    It doesn’t have any preconceived notions about what kind of sites you will build
    and pretty much allows you to develop anything you need. Its wealth of templating
    languages also means you can use one that best matches your style of writing.
    It also relies on npm for installation, which is a very common tool among web
    developers, making the setup easier as well. This is why I’ve chosen Eleventy
    for the first static site generator covered in the book and also as the engine
    behind my personal blog, a site I’ve run for almost 20 years with over 6,000 blog
    posts. You can find Eleventy’s home page at [https://www.11ty.dev/](https://www.11ty.dev/).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Eleventy（图2.1）是一个简单但功能强大的静态网站生成器，极其灵活。Eleventy可以用来构建几乎你能想象到的一切，并不一定针对某一类网站。这种灵活性使其成为学习
    Jamstack 的开发者的绝佳首选。它没有关于你将构建什么类型网站的先入之见，几乎允许你开发任何你需要的东西。它丰富的模板语言也意味着你可以使用最适合你写作风格的那个。它还依赖于npm进行安装，这是网络开发者中非常常见的工具，这使得设置更加容易。这就是为什么我选择了Eleventy作为本书中介绍的第一个静态网站生成器，也是我个人博客背后的引擎，这个博客我已经运营了近20年，拥有超过6000篇博客文章。你可以在[https://www.11ty.dev/](https://www.11ty.dev/)找到Eleventy的首页。
- en: '![CH02_F01_Camden2](Images/CH02_F01_Camden2.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F01_Camden2](Images/CH02_F01_Camden2.png)'
- en: Figure 2.1 The Eleventy website
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 Eleventy 网站
- en: 'To begin working with Eleventy, you need to install the CLI tool via npm. *npm*
    stands for “Node package manager” and is a common tool to install utilities. You
    don’t have to be a Node developer to use npm but installing Node (via [nodejs.org](https://nodejs.org/en/))
    is the simplest way to get the npm installed. Assuming you have npm available
    in your terminal, you can install Eleventy’s CLI like so:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用 Eleventy，你需要通过 npm 安装 CLI 工具。*npm*代表“Node包管理器”，是一个常见的安装实用工具的工具。你不需要是Node开发者就可以使用npm，但通过[nodejs.org](https://nodejs.org/en/)安装Node是安装npm的最简单方法。假设你在终端中有npm可用，你可以这样安装Eleventy的CLI：
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You can then confirm it worked by typing eleventy --help in your terminal, as
    shown in figure 2.2.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在终端中输入eleventy --help来确认它是否工作，如图2.2所示。
- en: '![CH02_F02_Camden2](Images/CH02_F02_Camden2.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F02_Camden2](Images/CH02_F02_Camden2.png)'
- en: Figure 2.2 Help output from the Eleventy CLI
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2 Eleventy CLI的帮助输出
- en: The Eleventy CLI boils down to two basic features. It can either take a directory
    and build the source code into a static site or set up a web server that does
    that same thing but also allows for *hot reloading* (i.e., reload the browser
    after a file change is detected). Typically you would use the web server feature
    while building your site and perform builds when you just want the static file
    output of your site.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Eleventy CLI的基本功能可以归结为两个。它可以将目录中的源代码构建成静态网站，或者设置一个可以执行相同操作并允许*热重载*（即在检测到文件更改后重新加载浏览器）的Web服务器。通常，在构建网站时，你会使用Web服务器功能，而在只需要网站静态文件输出时执行构建。
- en: Eleventy lets you write content in many different template processors. These
    template languages let you add basic logic and variables to HTML. Out of the box,
    Eleventy supports Markdown, Liquid, Nunjucks, Handlebars, Mustache, EJS, HAML,
    and Pug. You can also use basic HTML or even JavaScript. The language you pick
    is up to you, and you can even mix and match different ones in an Eleventy project.
    The Eleventy docs ([https://www.11ty.dev/docs/](https://www.11ty.dev/docs/)) won’t
    help you learn these languages, so you’ll need to visit the respective web page
    of the processor you want to use if you aren’t familiar with it. For this chapter
    we’ll be using Markdown and Liquid. The choice of Liquid is purely a personal
    decision; if you don’t care for it, remember you’ve got options!
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Eleventy允许你使用许多不同的模板处理器来编写内容。这些模板语言允许你在HTML中添加基本的逻辑和变量。默认情况下，Eleventy支持Markdown、Liquid、Nunjucks、Handlebars、Mustache、EJS、HAML和Pug。你还可以使用基本的HTML或甚至JavaScript。你选择的语言取决于你，你甚至可以在Eleventy项目中混合使用不同的语言。Eleventy文档([https://www.11ty.dev/docs/](https://www.11ty.dev/docs/))不会帮助你学习这些语言，所以如果你不熟悉它们，你需要访问你想要使用的处理器的相应网页。对于本章，我们将使用Markdown和Liquid。选择Liquid纯粹是个人决定；如果你不喜欢它，请记住你有其他选择！
- en: 2.1.1 Creating your first Eleventy site
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.1 创建你的第一个Eleventy网站
- en: Let’s start by creating a simple site to test Eleventy. Create an empty folder
    (or clone the book repository) and add a new file, index.md. The “md” extension
    stands for Markdown, a very common template language used in many different platforms.
    You can find a good primer on Markdown at [https://www.markdownguide.org/](https://www.markdownguide.org/).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从创建一个简单的网站来测试Eleventy开始。创建一个空文件夹（或克隆书籍仓库）并添加一个新文件，index.md。".md"扩展名代表Markdown，这是一种在许多不同平台上非常常见的模板语言。你可以在[https://www.markdownguide.org/](https://www.markdownguide.org/)找到关于Markdown的良好入门指南。
- en: Listing 2.1 Initial Markdown file, index.md
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.1 初始Markdown文件，index.md
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Now create another file in the same directory, cats.md.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在在同一目录下创建另一个文件，cats.md。
- en: Listing 2.2 The second Markdown file, cats.md
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.2 第二个Markdown文件，cats.md
- en: '[PRE2]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In case it isn’t obvious, you should feel free to change this text to whatever
    you want. After saving both files, execute a build by typing eleventy in your
    terminal. Ensure you are in the same directory as the two files. Eleventy will
    report on what it’s done as well as tell you how long it took. You can see an
    example of this in figure 2.3.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不明显，你可以随意更改此文本，使其符合你的需求。保存两个文件后，在终端中输入eleventy来执行构建。确保你位于这两个文件所在的同一目录中。Eleventy会报告其执行的操作以及所需时间。你可以在图2.3中看到一个示例。
- en: '![CH02_F03_Camden2](Images/CH02_F03_Camden2.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F03_Camden2](Images/CH02_F03_Camden2.png)'
- en: Figure 2.3 Output from running the Eleventy command
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3 运行Eleventy命令的输出
- en: 'There are a few important things to note here. First, Eleventy outputs its
    result in a directory named _site. You can customize this with a flag passed to
    the Eleventy command line program. Second, notice how Eleventy converted the file
    names. The first file, index.md, is written out as index.html in the root of the
    output directory. The second file, cat.md, is written out into a cats subdirectory.
    The net result is that the home page is available at the root of your site and
    the cats page is available at /cats. Eleventy gives you full control over how
    pages are written out, so you can tweak these options to match your needs. However,
    it’s important to know the defaults so that you can link from one page to another.
    For example, the index page could link to the cats page like so:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有几个需要注意的重要事项。首先，Eleventy 将其结果输出到名为 _site 的目录中。你可以通过传递给 Eleventy 命令行程序的标志来自定义它。其次，注意
    Eleventy 如何转换文件名。第一个文件，index.md，在输出目录的根目录中写为 index.html。第二个文件，cat.md，写入 cats 子目录中。最终结果是，主页可在网站的根目录中访问，而
    cats 页面可在 /cats 中访问。Eleventy 允许你完全控制页面的输出方式，因此你可以调整这些选项以满足你的需求。然而，了解默认设置很重要，这样你就可以从一个页面链接到另一个页面。例如，索引页面可以像这样链接到
    cats 页面：
- en: '[PRE3]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: You can fire up a web server (my preference is httpster, installed via npm)
    to look at the output, but let’s use the other main feature of the Eleventy CLI
    instead and start the development server. In your terminal, run eleventy --serve.
    You should see output similar to that in figure 2.4.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以启动一个 Web 服务器（我的首选是 httpster，通过 npm 安装）来查看输出，但让我们使用 Eleventy CLI 的另一个主要功能并启动开发服务器。在你的终端中运行
    eleventy --serve。你应该会看到类似于图 2.4 的输出。
- en: '![CH02_F04_Camden2](Images/CH02_F04_Camden2.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F04_Camden2](Images/CH02_F04_Camden2.png)'
- en: Figure 2.4 Running the Eleventy server starts up a web server for your site’s
    files and lets you verify output in your browser.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.4 运行 Eleventy 服务器启动了一个用于网站文件的 Web 服务器，并允许你在浏览器中验证输出。
- en: If you copy the local URL output by the CLI you can open it in your browser
    and see your site. You will need to press CTRL+C to stop the server. Also note
    that Eleventy is writing to _site, which means when you’re done developing, you
    don’t need to run eleventy again to generate the final result. If you created
    your Markdown file exactly as specified, you’ll see what figure 2.5 depicts in
    your browser.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你复制 CLI 输出的本地 URL，你可以在浏览器中打开它并查看你的网站。你需要按 CTRL+C 来停止服务器。此外，请注意 Eleventy 正在写入
    _site，这意味着当你完成开发后，你不需要再次运行 eleventy 来生成最终结果。如果你完全按照指定的方式创建了你的 Markdown 文件，你将在浏览器中看到图
    2.5 描述的内容。
- en: '![CH02_F05_Camden2](Images/CH02_F05_Camden2.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F05_Camden2](Images/CH02_F05_Camden2.png)'
- en: Figure 2.5 The HTML output generated from the Markdown file processed by Eleventy
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.5 由 Eleventy 处理的 Markdown 文件生成的 HTML 输出
- en: If you edit the file and reload your browser, you’ll see the change reflected.
    Eleventy supports hot reloading, which means you won’t have to manually reload
    your browser, but that feature requires a “full” HTML page that includes body
    tags. When we get to layouts you’ll see how to add that.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你编辑文件并重新加载浏览器，你会看到变化。Eleventy 支持热重载，这意味着你不需要手动重新加载浏览器，但该功能需要一个包含 body 标签的“完整”HTML
    页面。当我们到达布局时，你会看到如何添加它。
- en: 2.1.2 Working with template languages
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.2 使用模板语言
- en: So far all you’ve seen is Markdown conversion, which by itself isn’t that exciting.
    What if we add in a template language? Template languages give us more flexibility
    in building out HTML (and other) files. They let you use variables, conditionals,
    and looping. Let’s build out an example of this so you can see it in action. You’ll
    see how to add logic and programming statements in an HTML file so that Eleventy
    can process them and make them static. Create a new directory (or use the chapter2/demo2
    folder from the GitHub repository) and add the following as index.liquid.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你所看到的是 Markdown 的转换，这本身并不那么令人兴奋。如果我们加入模板语言会怎样呢？模板语言在构建 HTML（和其他）文件时给我们提供了更多的灵活性。它们允许你使用变量、条件和循环。让我们构建一个示例，以便你可以看到它的实际应用。你会看到如何在
    HTML 文件中添加逻辑和编程语句，以便 Eleventy 可以处理它们并将它们转换为静态文件。创建一个新的目录（或使用 GitHub 仓库中的 chapter2/demo2
    文件夹），并将以下内容添加为 index.liquid。
- en: Listing 2.3 An example of the Liquid template language
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.3 Liquid 模板语言的示例
- en: '[PRE4]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Liquid ([https://shopify.github.io/liquid/](https://shopify.github.io/liquid/))
    is an open source template language used in many projects, including another static
    site generator that we’ll cover later in the book, Jekyll. In listing 2.3 you
    can see a bit of the syntax Liquid uses. The first line (ignoring the HTML) assigns
    a value ("ray") to a variable (name). Immediately after the assignment, the variable
    is output. Liquid uses {% ... %} tokens to wrap commands and uses {{ ... }} to
    wrap variables. Basically, if you are applying any kind of logic, use {%; otherwise
    use {{.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Liquid ([https://shopify.github.io/liquid/](https://shopify.github.io/liquid/))
    是一个开源模板语言，被许多项目使用，包括我们将在本书后面讨论的另一个静态站点生成器 Jekyll。在列表 2.3 中，您可以看到 Liquid 使用的一些语法。第一行（忽略
    HTML）将值 ("ray") 赋给一个变量（name）。赋值之后，变量立即输出。Liquid 使用 {% ... %} 标记来包裹命令，并使用 {{ ...
    }} 来包裹变量。基本上，如果您正在应用任何类型的逻辑，请使用 {%; 否则使用 {{。
- en: The next set of code assigns a Boolean value (true) to a variable (cool), and
    then the next block checks to see if it’s true. Finally, an array is created from
    a list of names that’s then iterated over and displayed in a list. If that syntax
    looks a bit wonky, keep in mind that these template languages are not supposed
    to replace a “proper” full development language. Rather, they provide some basic
    functionality to let you create dynamic HTML.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 下一段代码将布尔值（true）赋给一个变量（cool），然后下一个块检查它是否为真。最后，从一组名字列表创建一个数组，然后遍历并显示在列表中。如果这个语法看起来有点奇怪，请记住，这些模板语言并不打算取代一个“正确”的完整开发语言。相反，它们提供了一些基本功能，以便您创建动态
    HTML。
- en: If you were still running the Eleventy command line, use CTRL+C to stop it,
    then run eleventy --serve from the new directory, and you should see output similar
    to figure 2.6\. Again, you should feel free to modify the values a bit to see
    them change.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您仍在运行 Eleventy 命令行，请使用 CTRL+C 来停止它，然后在新目录中运行 eleventy --serve，您应该会看到类似于图 2.6
    的输出。同样，您应该可以自由地修改一些值来观察它们的变化。
- en: '![CH02_F06_Camden2](Images/CH02_F06_Camden2.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F06_Camden2](Images/CH02_F06_Camden2.png)'
- en: Figure 2.6 Output from the Liquid template
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.6 液态模板输出
- en: Eleventy used the Liquid processor to take your input and output it as pure
    HTML. We only looked at a small part of what you can do in Liquid, but remember
    that if you don’t care for this style of writing, Eleventy gives you multiple
    other options. Before I used Liquid, I was a fan of Handlebars, but I found it
    limiting at times. Handlebars doesn’t want you using a lot of logic in your templates
    and pushes you to do that elsewhere. I get the logic behind that thinking, but
    at the same time I prefer the flexibility of Liquid. Liquid can’t do everything,
    so when I need something *really* customized, I’ll use EJS ([https://ejs.co/](https://ejs.co/)).
    I really don’t like how EJS looks. It’s a purely personal opinion, but I find
    EJS code ugly. However, it’s easily the most flexible option, so I appreciate
    that I can use it when I need it.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: Eleventy 使用 Liquid 处理器将您的输入转换为纯 HTML 输出。我们只看了您可以在 Liquid 中做的一小部分，但请记住，如果您不喜欢这种写作风格，Eleventy
    提供了多种其他选项。在我使用 Liquid 之前，我是一名 Handlebars 的粉丝，但我发现它在某些时候限制性很强。Handlebars 不希望您在模板中使用很多逻辑，并鼓励您在其他地方做这件事。我理解这种思考的逻辑，但与此同时，我更喜欢
    Liquid 的灵活性。Liquid 不能做所有事情，所以当我需要一些*真正*定制化的东西时，我会使用 EJS ([https://ejs.co/](https://ejs.co/))。我真的很不喜欢
    EJS 的外观。这是一个纯粹的个人观点，但我发现 EJS 代码很丑。然而，它无疑是选项中最灵活的，所以我感激在我需要的时候可以使用它。
- en: 2.1.3 Adding layouts and includes
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.3 添加布局和包含
- en: Thus far you’ve seen how Eleventy can transform a Markdown or other language
    file into HTML. Now it’s time to improve this a bit by working with layouts and
    includes. *Layouts* are “wrapper” files that can be used to add a site layout
    to your files. Each layout will have a marker where your page content is included.
    This means you can have one file for your layout and then have the rest of your
    site use it. Hopefully the power of that is apparent. You can quickly change the
    entire look and feel of your site just by modifying that one file. You can also
    correct things like typos in your site more quickly when they’re in the header
    or footer. *Includes* are simply other files that you include in your templates.
    If you’ve got a few forms on your site that need to include the same legal text
    (that readers ignore), includes are a good way to simplify that process.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经看到了Eleventy如何将Markdown或其他语言文件转换为HTML。现在，是时候通过使用布局和包含来稍微改进一下了。*布局*是“包装”文件，可以用来为你的文件添加网站布局。每个布局都会有一个标记，用于包含你的页面内容。这意味着你可以有一个布局文件，然后让网站的其他部分使用它。希望这种力量的明显性是显而易见的。你只需修改那个文件，就可以快速改变整个网站的外观和感觉。你还可以更快地纠正网站中的错误，比如标题或页脚中的错别字。*包含*只是你在模板中包含的其他文件。如果你网站上有几个需要包含相同法律文本（读者会忽略）的表单，包含是一个简化该过程的不错方式。
- en: 'To begin working with layout files, we first need to tell our templates to
    use them. Eleventy uses a feature that many static site generators support: front
    matter. Front matter is metadata about your file included at the top. In almost
    all cases, front matter uses a particular marker to start and end the block and
    then a simple “key: value” format to specify values. Here’s an example of how
    front matter may look for a particular file.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用布局文件，我们首先需要告诉我们的模板使用它们。Eleventy使用许多静态网站生成器支持的功能：前缀部分。前缀部分是关于你的文件的元数据，包含在顶部。在几乎所有情况下，前缀部分使用特定的标记来开始和结束块，然后使用简单的“键：值”格式来指定值。以下是一个特定文件的前缀部分可能看起来如何的示例。
- en: Listing 2.4 An example of front matter
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.4 前缀部分的示例
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In this incredibly simple example, there are two values specified in front matter,
    something and anotherSomething. Eleventy, or any other static site generator,
    will typically look at these values and do different things based on what you’ve
    set. For values they don’t understand, the values will be ignored but available
    to your code. (You’ll see this later in the section on data.) When the file is
    generated to HTML, the front matter is completely removed. Let’s look at an example
    of this.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个极其简单的示例中，前缀部分指定了两个值，something和anotherSomething。Eleventy或其他任何静态网站生成器通常会查看这些值，并根据你设置的值执行不同的操作。对于它们不理解的价值，这些值将被忽略，但可用于你的代码。（你将在数据部分看到这一点。）当文件生成HTML时，前缀部分将完全删除。让我们看看这个例子。
- en: Create a new directory (or work with your copy of the repository) named demo3\.
    In this directory, copy the index.md and cats.md files from the first demo. Open
    the first file and modify it to add front matter.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新的目录（或者使用你的仓库副本）命名为demo3。在这个目录中，从第一个示例复制index.md和cats.md文件。打开第一个文件，并修改它以添加前缀部分。
- en: Listing 2.5 Updated index.md file with front matter
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.5 带有前缀部分的更新index.md文件
- en: '[PRE6]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The change here is the addition of the front matter block on top, with one
    value specified: layout. The cats.md file can also be similarly modified.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的变化是在顶部添加了前缀部分，并指定了一个值：layout。cats.md文件也可以类似地进行修改。
- en: Listing 2.6 Updated cats.md file
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.6 更新的cats.md文件
- en: '[PRE7]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: When Eleventy parses these files, it will read in the front matter and notice
    the layout setting. This will tell Eleventy to try to load a layout file named
    main dot something. Why “dot something”? As stated previously, Eleventy supports
    many different template formats with different extensions. By specifying just
    “main” in the front matter, Eleventy will check for any of the supported template
    types. Where does it check? By default, layout files are searched in a directory
    named _includes. This is in the root of your project and the same directory you
    run the Eleventy command line. As you are working in the demo3 folder, the _includes
    folder would go under there. You can, if you choose, change this directory name.
    Let’s use Liquid to build a layout file and store it in _includes/main.liquid.
    Listing 2.7 demonstrates the layout file we built.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当Eleventy解析这些文件时，它会读取元数据并注意到布局设置。这将告诉Eleventy尝试加载一个名为main dot something的布局文件。为什么是“dot
    something”？如前所述，Eleventy支持许多不同的模板格式，具有不同的扩展名。通过在元数据中仅指定“main”，Eleventy将检查所有支持的模板类型。它在哪里检查？默认情况下，布局文件是在名为_includes的目录中搜索的。这是你的项目根目录，也是你运行Eleventy命令行的地方。由于你正在demo3文件夹中工作，_includes文件夹将位于那里。如果你选择，你可以更改这个目录名称。让我们使用Liquid来构建一个布局文件，并将其存储在_includes/main.liquid中。列表2.7展示了我们构建的布局文件。
- en: Listing 2.7 The site layout file
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.7 网站布局文件
- en: '[PRE8]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: ❶ This is where page content will be included.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 这就是页面内容将被包含的地方。
- en: For the most part, this looks like a regular HTML template. You can see some
    styling (ugly, to be sure) and a footer, but make special note of {{ content }}.
    When Eleventy parses a file that uses front matter and that specifies this layout,
    it will take the resulting HTML generated by the page and place it in a variable
    named content. My Liquid template can then simply output that variable wherever
    it makes sense. In this case I’ve done it right after the body tag and before
    the footer. To be clear, this is arbitrary. If you fire up an Eleventy server
    in this directory (remember to quit any previous test by pressing CTRL+C), you’ll
    see in figure 2.7 why I’m not allowed to design websites.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数情况，这看起来像是一个普通的HTML模板。你可以看到一些样式（当然，很丑）和页脚，但特别要注意{{ content }}。当Eleventy解析使用元数据和指定此布局的文件时，它将页面生成的HTML放入一个名为content的变量中。我的Liquid模板可以简单地在任何合适的地方输出这个变量。在这种情况下，我是在body标签之后和页脚之前做的。为了清楚起见，这是任意的。如果你在这个目录中启动一个Eleventy服务器（记得按CTRL+C退出任何之前的测试），你会在图2.7中看到为什么我不被允许设计网站。
- en: '![CH02_F07_Camden2](Images/CH02_F07_Camden2.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F07_Camden2](Images/CH02_F07_Camden2.png)'
- en: Figure 2.7 Our site with the layout applied
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.7 应用了布局的我们的网站
- en: If you want, try changing the style declarations and pick different (better)
    color choices. Now that you’ve got a complete HTML page being used you’ll finally
    see Eleventy’s hot reload feature in action.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你愿意，尝试更改样式声明并选择不同的（更好的）颜色选择。现在你已经使用了一个完整的HTML页面，你将最终看到Eleventy的热重载功能在行动。
- en: Before leaving the topic of layouts, note that you can also have layouts that
    have layouts. For example, instead of specifying a main layout for a page, you
    could specify another one that then specifies the main layout itself. The first
    one will run, include your page contents, and then return its HTML to the main
    layout. You’ll see an example of this later.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在离开布局主题之前，请注意，你还可以有嵌套的布局。例如，你可以为页面指定一个主布局，然后指定另一个布局，该布局本身指定主布局。第一个将运行，包含你的页面内容，然后将HTML返回给主布局。你稍后会看到一个这样的例子。
- en: 'Now let’s demonstrate includes. This is typically rather simple. You create
    a file to be included and store it in the _includes folder where your layouts
    reside as well. How you include the file depends on your template engine. For
    Liquid, it looks like this:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来演示包含。这通常相当简单。你创建一个要包含的文件，并将其存储在布局所在的_includes文件夹中。如何包含文件取决于你的模板引擎。对于Liquid，它看起来像这样：
- en: '[PRE9]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'where footer.liquid should be found in the _includes folder. For Handlebars,
    it looks a bit different:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 其中footer.liquid应该在_includes文件夹中。对于Handlebars，它看起来略有不同：
- en: '[PRE10]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: In Handlebars, these are referred to as *partials*, but they act the same way.
    Eleventy has documentation ([https://www.11ty.dev/docs/languages/](https://www.11ty.dev/docs/languages/))
    for all its supported template languages, so check to see how this feature is
    supported in your template language of choice.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在Handlebars中，这些被称为*部分*，但它们的作用方式相同。Eleventy为其所有支持的模板语言提供了文档([https://www.11ty.dev/docs/languages/](https://www.11ty.dev/docs/languages/))，所以请检查一下你选择的模板语言如何支持这个功能。
- en: 2.1.4 Using collections in your Eleventy site
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.4 在 Eleventy 网站中使用集合
- en: 'Thus far you’ve seen how to “translate” input files, in Markdown and other
    languages, into HTML. Now it’s time to demonstrate another powerful feature—collections.
    A collection is exactly how it sounds: a set of files that are grouped together
    by some logical pattern. In Eleventy, there’s a few different ways of doing this,
    but the simplest way is via front matter and using the tags value. Consider the
    following front matter example:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经看到了如何将输入文件（Markdown和其他语言）转换为HTML。现在，是时候展示另一个强大的功能——集合。集合正如其名：一组按某种逻辑模式组合的文件。在Eleventy中，有几种不同的方法来做这件事，但最简单的方法是通过前置信息和使用标签值。考虑以下前置信息示例：
- en: '[PRE11]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Here, I’ve used three front matter values. The first, layout, we’ve already
    discussed. The second, tags, specifies a tag value for this file. Any file that
    uses the same value will be in the same collection. You can choose multiple tags
    for a file if you want, and it will be available in multiple collections. The
    last value, title, is one I haven’t shown before. As you can guess, this specifies
    a title for your file and will be available in your templates to output if you
    choose.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我使用了三个前置信息值。第一个，布局，我们之前已经讨论过了。第二个，标签，指定了这个文件的标签值。任何使用相同值的文件都将位于同一个集合中。如果你想为文件选择多个标签，它将可以在多个集合中可用。最后一个值，标题，是我之前没有展示过的。正如你可以猜到的，这个值指定了文件的标题，并且如果你选择的话，它将在你的模板中可用以输出。
- en: By default, this won’t do anything on its own. But your templates can iterate
    over collections and create lists. Let’s build an example that works with a collection
    and creates a list of them dynamically.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，这本身不会做任何事情。但你的模板可以遍历集合并创建列表。让我们构建一个与集合一起工作并动态创建列表的示例。
- en: Create a new directory named demo4 (or use the source from the repository).
    This should not be in the same folder as demo3\. Copy the same contents from demo3
    and rename index.md to index.liquid. We’re going to add press releases to our
    site, so add a subdirectory named press-releases. In this directory, create a
    few files. The names aren’t terribly important, nor is the content, but if you
    want to follow along with the repository, name the first one cats-are-cool.md.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个名为 demo4 的新目录（或者使用仓库中的源文件）。这个目录不应该与 demo3 在同一个文件夹中。从 demo3 复制相同的文件内容，并将
    index.md 重命名为 index.liquid。我们将向我们的网站添加新闻稿，所以添加一个名为 press-releases 的子目录。在这个目录中，创建一些文件。文件名并不重要，内容也不重要，但如果你想跟随仓库，第一个文件可以命名为
    cats-are-cool.md。
- en: Listing 2.8 The first press release
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.8 第一份新闻稿
- en: '[PRE12]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: As we discussed, we’re using our front matter to specify a tag for the file
    to add it to a collection. We’ve also specified a layout and title. Repeat this
    a few times (the repository has three files), but the names, titles, and content
    don’t really matter. The repository has a file named dogs-are-not-cool.md and
    have-we-said-how-cool-cats-are.md.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前讨论的，我们正在使用文件的前置信息来指定一个标签，以便将文件添加到某个集合中。我们还指定了布局和标题。重复几次（仓库中有三个文件），但文件名、标题和内容并不重要。仓库中有一个名为
    dogs-are-not-cool.md 的文件和 have-we-said-how-cool-cats-are.md。
- en: The next step is to add the layout. We mentioned earlier that layouts can include
    other layouts. For our press releases, we want them to have some additional layout.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是添加布局。我们之前提到过，布局可以包含其他布局。对于我们的新闻稿，我们希望它们有一些额外的布局。
- en: Listing 2.9 The “pr” layout in _includes/pr.liquid
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.9 “pr”布局在 _includes/pr.liquid
- en: '[PRE13]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: ❶ Outputting the title
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 输出标题
- en: Notice that it specifies main for its layout. This means the press release will
    first run the pr.liquid template and then send that output to main.liquid. Also
    notice the title is output in the layout. This value comes from the title in the
    front matter of the press release. We can also make use of this in our core layout
    file.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，它指定了 main 作为其布局。这意味着新闻稿将首先运行 pr.liquid 模板，然后将输出发送到 main.liquid。同时注意，标题是在布局中输出的。这个值来自新闻稿前置信息中的标题。我们也可以在我们的核心布局文件中使用这个值。
- en: Listing 2.10 Updated layout file supporting a title (_includes/main.liquid)
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.10 支持标题的更新布局文件 (_includes/main.liquid)
- en: '[PRE14]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: There are only two changes in this version of the file. First, a title value
    is specified in the front matter. This will only be used if a template doesn’t
    specify its own title. Next, the title is output between the title tags.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个文件版本中只有两个更改。首先，在前置信息中指定了一个标题值。如果模板没有指定自己的标题，这个值才会被使用。接下来，标题在标题标签之间输出。
- en: The end result is that our press release files will automatically get a bit
    of additional layout and then use the main layout the rest of the site has. Now
    that we’ve got press releases and we know they’re in a collection, the next step
    is to expose this to the user by creating a new home page that uses the Liquid
    template engine to output these values.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 最终结果是，我们的新闻稿文件将自动获得一些额外的布局，然后使用网站其余部分的主布局。现在我们已经有了新闻稿，并且知道它们在一个集合中，下一步是通过创建一个新的主页来将此暴露给用户，该主页使用Liquid模板引擎来输出这些值。
- en: Listing 2.11 The index.liquid with press release support (/index.liquid)
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 列表2.11 带有新闻稿支持的index.liquid（/index.liquid）
- en: '[PRE15]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: ❶ Note the use of collections.pressReleases.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 注意collections.pressReleases的使用。
- en: When Eleventy encounters templates using tags in their front matter, it puts
    them in an object called collections. You can then access that data by using collections
    .nameoftag. Since we used pressReleases as the tag value, this collection will
    consist of three items. (Again, feel free to make more press releases and see
    the changes.) We loop over each item and assign the object to a pr variable. That
    variable has multiple different properties in it. One is url, which is created
    by Eleventy and represents the location of the page. The data property will contain
    any data defined in the front matter of the page. Since our press releases have
    titles, we can output them here. There are more variables you can use, and you
    can check the collections documentation ([https://www.11ty.dev/docs/collections/](https://www.11ty.dev/docs/collections/))
    for details. The end result is shown in figure 2.8.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 当Eleventy遇到使用标签的前置内容的模板时，它会将这些模板放入一个名为collections的对象中。然后，您可以通过使用collections.nameoftag来访问这些数据。由于我们使用了pressReleases作为标签值，这个集合将包含三个项目。（再次提醒，您可以自由地创建更多新闻稿并查看变化。）我们遍历每个项目，并将对象分配给一个名为pr的变量。这个变量包含多个不同的属性。其中一个属性是url，它由Eleventy创建，表示页面的位置。数据属性将包含在页面前置内容中定义的任何数据。由于我们的新闻稿有标题，我们可以在这里输出它们。还有更多您可以使用的变量，您可以查看collections文档（[https://www.11ty.dev/docs/collections/](https://www.11ty.dev/docs/collections/)）以获取详细信息。最终结果如图2.8所示。
- en: '![CH02_F08_Camden2](Images/CH02_F08_Camden2.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F08_Camden2](Images/CH02_F08_Camden2.png)'
- en: Figure 2.8 Our home page with press releases driven by the Eleventy collection
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.8 由Eleventy集合驱动的带有新闻稿的主页
- en: If you click on one of the press releases, you can see the multilayered layout
    in effect (figure 2.9).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您点击其中一个新闻稿，您可以看到生效的多层布局（图2.9）。
- en: '![CH02_F09_Camden2](Images/CH02_F09_Camden2.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F09_Camden2](Images/CH02_F09_Camden2.png)'
- en: Figure 2.9 A sample press release
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9 一个示例新闻稿
- en: Now that you’ve seen some examples of using front matter and collections, it’s
    time to look at data in Eleventy at a high level.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经看到了一些使用前置内容和collections的示例，是时候从高层次上查看Eleventy中的数据了。
- en: 2.1.5 Working with data
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1.5 与数据一起工作
- en: 'You’ve had a small introduction to how data works in Eleventy, but now we’re
    going to dig a bit deeper. There are multiple ways of providing data to Eleventy
    pages. Front matter is one way and is specific to a page. Collections are another
    way and provide data that can be iterated and used anywhere. Another way to provide
    data to Eleventy sites is by creating files with a special folder: _data. You
    can create two types of files here, JSON and JavaScript. The name of the file
    will define how it’s available to your site. For example, imagine a file named
    site.json within your _data folder. It has the following contents:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经对Eleventy中数据的工作方式有了一个简要的介绍，但现在我们将更深入地探讨。向Eleventy页面提供数据有多种方式。前置内容是一种方式，并且是针对特定页面的。集合是另一种方式，提供可以迭代和使用的数据。向Eleventy网站提供数据的另一种方式是通过创建一个特殊文件夹的文件：_data。您在这里可以创建两种类型的文件，JSON和JavaScript。文件的名称将定义它对网站的可访问性。例如，想象一下在您的_data文件夹中有一个名为site.json的文件。它包含以下内容：
- en: '[PRE16]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'This JSON file defines three variables. It could also be an array, or an array
    of objects—basically any valid JSON. Because the file is named site.json, your
    templates can access values like so (again, assuming Liquid syntax): {{ site.siteName
    }}.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这个JSON文件定义了三个变量。它也可以是一个数组，或者是一个对象的数组——基本上是任何有效的JSON。因为文件名为site.json，所以您的模板可以像这样访问值（再次假设使用Liquid语法）：{{
    site.siteName }}。
- en: 'JavaScript data files work a bit differently because, of course, JavaScript
    is a programming language, and JSON is just static information. JavaScript data
    files let you perform any operation you may need, and when done the result of
    the file is the final available data. Imagine a sample JavaScript file named build.js:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript 数据文件的工作方式略有不同，因为当然，JavaScript 是一种编程语言，而 JSON 只是静态信息。JavaScript 数据文件允许您执行可能需要的任何操作，并且当操作完成后，文件的结果是最终可用的数据。想象一个名为
    build.js 的示例 JavaScript 文件：
- en: '[PRE17]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This JavaScript file creates two variables, one representing the current time
    and one a random number. An object containing both values is then returned. Because
    the file is named build.js, our templates can use the values like {{ build.buildTime
    }} or {{ build.randomNumber }}. Note that this logic is evaluated when the site
    is built (the file name doesn’t have anything to do with that), so when the static
    site is deployed, the values won’t change. Let’s look at an example of both kinds
    of data files in action.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 此 JavaScript 文件创建了两个变量，一个代表当前时间，另一个是随机数。然后返回一个包含这两个值的对象。因为文件名为 build.js，所以我们的模板可以使用这些值，如
    {{ build.buildTime }} 或 {{ build.randomNumber }}。请注意，此逻辑在网站构建时评估（文件名与此无关），因此当静态网站部署时，这些值不会改变。让我们看看两种数据文件在实际操作中的例子。
- en: Begin by once again copying the previous directory (demo4) to a new one (demo5),
    or simply using the GitHub repository code. Create a new folder inside demo5 named
    _data, which will store the data files. The folder name used for data files can
    be configured in Eleventy if you wish. The first file we’ll add is site.json.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，再次将上一个目录（demo4）复制到一个新的目录（demo5）中，或者简单地使用 GitHub 仓库代码。在 demo5 中创建一个名为 _data
    的新文件夹，该文件夹将存储数据文件。如果需要，可以在 Eleventy 中配置用于数据文件的文件夹名称。我们将添加的第一个文件是 site.json。
- en: Listing 2.12 The site.json definitions (_data/site.json)
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.12 site.json 定义 (_data/site.json)
- en: '[PRE18]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The values are arbitrary and hopefully self-explanatory. We’ve defined a name
    for the site as well as a contact address. Now define a new file, breeds.js. For
    this file we’re going to make use of the Cat API site ([https://thecatapi.com/](https://thecatapi.com/)).
    This site provides free APIs related to cats, but you have to sign up ([https://thecatapi.com/signup](https://thecatapi.com/signup))
    for a key first as shown in figure 2.10.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 这些值是任意的，希望它们是自我解释的。我们已为网站定义了一个名称以及一个联系地址。现在定义一个新的文件，breeds.js。对于此文件，我们将使用 Cat
    API 网站 ([https://thecatapi.com/](https://thecatapi.com/))。该网站提供与猫相关的免费 API，但您必须先注册
    ([https://thecatapi.com/signup](https://thecatapi.com/signup)) 获取密钥，如图 2.10 所示。
- en: '![CH02_F10_Camden2](Images/CH02_F10_Camden2.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F10_Camden2](Images/CH02_F10_Camden2.png)'
- en: Figure 2.10 The sign-up page at the Cat API
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.10 Cat API 的注册页面
- en: 'One of the APIs they provide is to return a list of cat breeds. The API is
    rather simple and can be called with this URL: [https://api.thecatapi.com/v1/breeds?limit=5&api
    _key=yourkey](https://api.thecatapi.com/v1/breeds?limit=5&api_key=yourkey). The
    limit value in the URL restricts the amount of data returned, and the key value
    should be replaced with the one you get.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 他们提供的 API 之一是返回猫品种列表。API 很简单，可以通过此 URL 调用：[https://api.thecatapi.com/v1/breeds?limit=5&api_key=yourkey](https://api.thecatapi.com/v1/breeds?limit=5&api_key=yourkey)。URL
    中的 limit 值限制了返回的数据量，而 key 值应替换为您获得的值。
- en: Listing 2.13 Retrieving a list of cat breeds (_data/breeds.js)
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.13 获取猫品种列表 (_data/breeds.js)
- en: '[PRE19]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: ❶ Loading the 'dot.env' package
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 加载 'dot.env' 包
- en: ❷ Reading in the .env key value
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 读取 .env 键值
- en: 'In general, this is a simple Node script that makes use of node-fetch to make
    easier HTTP calls. The body of the function makes the call and returns the results
    as-is. (It could be modified to transform the code, too.) The important bit here
    is the use of the ''dot.env'' package on line 2\. This will look for a file named
    .env in the root of your project. This file is a simple set of name value pairs.
    You won’t find this in the GitHub repository as it’s a standard way of including
    keys in your code. The Node script will read this and set every value equal to
    a value in the process.env scope. In the .env file at the root of the demo5 folder,
    add the following:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，这是一个简单的 Node 脚本，它使用 node-fetch 来简化 HTTP 调用。函数体执行调用并返回结果。（它也可以修改以转换代码。）这里重要的一点是第
    2 行使用了 'dot.env' 包。这将查找位于项目根目录中的名为 .env 的文件。这是一个简单的名称值对集合。您在 GitHub 仓库中找不到它，因为它是在代码中包含密钥的标准方式。Node
    脚本将读取此文件，并将每个值设置为 process.env 范围内的值。在 demo5 文件夹根目录的 .env 文件中，添加以下内容：
- en: '[PRE20]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Replace yourkey with the key you got from the Cat API.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 将 yourkey 替换为您从 Cat API 获取的密钥。
- en: There’s one last step to do. Our function made use of node-fetch and 'dotenv'.
    In order to make those available, you’ll need to install them via npm. In your
    terminal, in the same directory as the demo5 folder, run
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个最后的步骤要做。我们的函数使用了 node-fetch 和 'dotenv'。为了使它们可用，您需要通过 npm 安装它们。在终端中，在 demo5
    文件夹所在的目录下运行
- en: '[PRE21]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This will install the required dependencies.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这将安装所需的依赖项。
- en: Now that we’ve set up the data files, let’s use them. To keep it simple, let’s
    use them both in index.liquid.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经设置了数据文件，让我们使用它们。为了保持简单，让我们在 index.liquid 中同时使用它们。
- en: Listing 2.14 Making use of Eleventy data files
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.14 利用 Eleventy 数据文件
- en: '[PRE22]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The modifications begin right after the press release display, though note
    that the logic is pretty much the same: loop over the value and output data from
    each item. The Cat API returns a lot of data about cat breeds, but to keep it
    simple, we’ve output the name and description. Finally, the site contact address
    is displayed at the end. Figure 2.11 shows the result.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 修改从发布显示之后开始，尽管请注意逻辑基本上是相同的：遍历每个项目的值并输出数据。Cat API 返回了大量关于猫品种的数据，但为了保持简单，我们只输出了名称和描述。最后，网站联系地址在最后显示。图
    2.11 展示了结果。
- en: '![CH02_F11_Camden2](Images/CH02_F11_Camden2.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F11_Camden2](Images/CH02_F11_Camden2.png)'
- en: Figure 2.11 The updated home page driven by dynamic data files
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.11 由动态数据文件驱动的更新后的主页
- en: Be sure to check the “Using Data” section ([https://www.11ty.dev/docs/data/](https://www.11ty.dev/docs/data/))
    of the Eleventy docs for more examples. Eleventy also supports specifying data
    at a directory level, as well as other options.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一定要查看 Eleventy 文档的“使用数据”部分（[https://www.11ty.dev/docs/data/](https://www.11ty.dev/docs/data/））以获取更多示例。Eleventy
    还支持在目录级别指定数据以及其他选项。
- en: 2.2 Let’s build Camden Grounds
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2 让我们构建 Camden Grounds
- en: 'Now that we’ve seen a bit (certainly not all!) of what Eleventy can do, it’s
    time to look into building our simple restaurant site. The site we will be building
    in this chapter is for a fictional coffee shop named Camden Grounds. This will
    follow the typical pattern of most restaurant sites by offering a few basic features:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了一些（当然不是全部！）Eleventy 可以做什么，是时候看看如何构建我们的简单餐厅网站了。在本章中，我们将构建一个名为 Camden
    Grounds 的虚构咖啡馆网站。这个网站将遵循大多数餐厅网站的典型模式，提供一些基本功能：
- en: A home page that’s mostly just pretty pictures to help entice the visitor.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个主页，大部分只是漂亮的图片，以帮助吸引访客。
- en: A menu of product offerings, again with pretty pictures.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个产品提供的菜单，再次配有漂亮的图片。
- en: A Locations page showing where different Camden Grounds stores may be found.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个显示不同 Camden Grounds 商店位置的页面。
- en: An About Us page that talks about the history of the store. No one will ever
    actually read this, but the owner insists on it.
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个关于我们页面的页面，讲述商店的历史。没有人会真正阅读这个页面，但店主坚持要这么做。
- en: To begin, you need to determine the design of the site. If you’re like me and
    design challenged, the simplest solution is to find a template you can use. Luckily,
    there’s a large number of websites that cater to this need. We’re going to use
    a simple Bootstrap store template named “Shop Homepage” ([http://mng.bz/Dxy0](http://mng.bz/Dxy0)).
    You can see a preview of this in figure 2.12\. Note that this is how it looks
    in its template form, not the final form we’ll be creating.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要确定网站的设计。如果你像我一样，设计能力有限，最简单的解决方案是找到一个你可以使用的模板。幸运的是，有很多网站满足这一需求。我们将使用一个名为“Shop
    Homepage”的简单 Bootstrap 商店模板（[http://mng.bz/Dxy0](http://mng.bz/Dxy0)）。你可以在图 2.12
    中看到它的预览。请注意，这是它在模板形式下的样子，而不是我们将要创建的最终形式。
- en: '![CH02_F12_Camden2](Images/CH02_F12_Camden2.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F12_Camden2](Images/CH02_F12_Camden2.png)'
- en: Figure 2.12 The shop template with products and a rotating banner on top
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.12 带有产品和顶部旋转横幅的商店模板
- en: NOTE Since this chapter was created, the template updated to a newer version
    with a slightly different design. The version used in this chapter is still available
    at [http://mng.bz/2j6w](https://github.com/StartBootstrap/startbootstrap-shop-homepage/archive/refs/tags/v4.3.0.zip)
    and can be used. Also remember that the template can be found in the completed
    code for the book at [http://mng .bz/1j5R](https://github.com/cfjedimaster/the-jamstack-book/tree/master/chapter2/camdengrounds).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：自从本章创建以来，模板已更新到具有略微不同设计的较新版本。本章使用的版本仍可在 [http://mng.bz/2j6w](https://github.com/StartBootstrap/startbootstrap-shop-homepage/archive/refs/tags/v4.3.0.zip)
    找到并使用。另外，请记住，模板可以在本书的完成代码中找到，位于 [http://mng .bz/1j5R](https://github.com/cfjedimaster/the-jamstack-book/tree/master/chapter2/camdengrounds)。
- en: This template can be freely downloaded and modified. The full source code of
    the final demo can be found in the GitHub repository in the chapter2/camdengrounds
    folder. As there’s a lot of boilerplate HTML (Bootstrap is nice, but a bit verbose),
    we’ll be focusing on the modifications of the template rather than sharing every
    line of code.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这个模板可以自由下载和修改。最终演示的完整源代码可以在 GitHub 仓库的 chapter2/camdengrounds 文件夹中找到。由于有很多样板
    HTML 代码（Bootstrap 很好，但有点冗长），我们将关注模板的修改，而不是分享每一行代码。
- en: Note While a template may look pretty, before you commit, look at the code.
    It may be difficult to modify for your needs.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：虽然模板看起来很漂亮，但在你提交之前，请查看代码。它可能很难根据你的需求进行修改。
- en: As stated earlier, you can think of a typical template as a “wrapper” around
    your pages. You figure out where your content can be stuffed, insert the token
    that Eleventy will use to put page content in, and then ensure your pages specify
    that layout.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，你可以将一个典型模板视为围绕你的页面的“包装”。你确定内容可以填充的位置，插入 Eleventy 将用于放置页面内容的标记，然后确保你的页面指定了该布局。
- en: You can see the template for Camden Grounds in the _includes/main.liquid file.
    As there’s a lot of HTML in this file, the next few listings will highlight the
    important parts. First, the very top of the template specifies a title in front
    matter.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 _includes/main.liquid 文件中看到卡姆登场地的模板。由于这个文件中有大量的 HTML 代码，接下来的几个列表将突出显示重要部分。首先，模板的顶部指定了前导内容中的标题。
- en: Listing 2.15 Front matter for the layout
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.15 布局的元数据
- en: '[PRE23]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: This will be used as a default when individual pages do not specify one. You
    can see this a few lines later.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这将在个别页面未指定时用作默认值。你可以在几行后看到这一点。
- en: Listing 2.16 The dynamic title
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.16 动态标题
- en: '[PRE24]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Now let’s look at the navigation menu. One of the features this template supports
    is the ability to highlight a tab when you’re on a particular page. How do we
    use that on a static website? Eleventy provides access to a page variable that
    provides information about the current page being rendered. One of the values
    is the relative URL of the page. Given that we can use a template language and
    examine that value, we can create a dynamic menu.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看看导航菜单。这个模板支持的一个功能是在特定页面上突出显示一个标签。我们如何在静态网站上使用这个功能？Eleventy 提供了对页面变量的访问，该变量提供了有关当前正在渲染的页面的信息。其中一个值是页面的相对
    URL。鉴于我们可以使用模板语言并检查该值，我们可以创建一个动态菜单。
- en: Listing 2.17 The template’s dynamic menu
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.17 模板的动态菜单
- en: '[PRE25]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Our navigation consists of four main pages. For each page, Liquid code is used
    to look at the URL value, and when it matches the relative path of the page in
    question, the active class is added. The last part of the template we’ll share
    is where the contents are included.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的网络导航由四个主要页面组成。对于每个页面，使用 Liquid 代码查看 URL 值，当它与所讨论页面的相对路径匹配时，会添加活动类。我们将分享的模板的最后部分是包含内容的地方。
- en: Listing 2.18 Including page content in the template
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.18 在模板中包含页面内容
- en: '[PRE26]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: To be honest, it took a bit of digging to find the optimal place to add the
    content variable. As stated, Bootstrap is a great design framework but can be
    both verbose and a bit complex at times. You are highly encouraged to keep a tab
    open at the official Bootstrap site ([https://getbootstrap.com/](https://getbootstrap.com/)).
    It has extensive documentation and examples to help you better use the framework.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 实话实说，找到添加内容变量的最佳位置需要一些挖掘。正如所述，Bootstrap 是一个伟大的设计框架，但有时可能会很冗长且有点复杂。强烈建议你打开官方
    Bootstrap 网站的一个标签页（[https://getbootstrap.com/](https://getbootstrap.com/)）。它有广泛的文档和示例，可以帮助你更好地使用该框架。
- en: The home page is going to be a bit complex, so let’s look at the three simple
    pages, one by one.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 主页将会比较复杂，所以让我们逐个查看这三个简单的页面。
- en: Listing 2.19 The About page (about.html)
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.19 关于页面（about.html）
- en: '[PRE27]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: If you look at the source of the layout file, you’ll see it’s nearly 100 lines
    long. This template is far shorter, as Eleventy will handle wrapping it with the
    content. You can look at contact.html and services.html if you wish; they follow
    the exact same format. Figure 2.13 shows the how the About page displays (notice
    the highlighted menu tab).
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你查看布局文件源代码，你会发现它几乎有 100 行长。这个模板要短得多，因为 Eleventy 会处理用内容包装它。如果你愿意，可以查看 contact.html
    和 services.html；它们遵循完全相同的格式。图 2.13 展示了关于页面如何显示（注意突出显示的菜单标签）。
- en: '![CH02_F13_Camden2](Images/CH02_F13_Camden2.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F13_Camden2](Images/CH02_F13_Camden2.png)'
- en: Figure 2.13 The Camden Grounds About page
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.13 卡姆登场地关于页面
- en: Before this will work, though, it’s time to point out an interesting issue with
    Eleventy. When it encounters a file it doesn’t know how to process, it ignores
    it. This ends up being a big deal as our Bootstrap template has multiple folders
    of CSS, JavaScript, and images that make up the look and feel of the design.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在这一切工作之前，我们需要指出Eleventy的一个有趣的问题。当它遇到一个不知道如何处理的文件时，它会忽略它。这最终成为一个大问题，因为我们的Bootstrap模板有多个CSS、JavaScript和图片文件夹，这些文件夹构成了设计的视觉和感觉。
- en: What we need to do is tell Eleventy to copy these files as-is. Eleventy supports
    dynamic configuration by specifying a .eleventy.js file in your project root.
    While you can do a lot in this file, the main feature we want to enable is called
    Passthrough File Copy ([https://www.11ty.dev/docs/copy/](https://www.11ty.dev/docs/copy/)).
    In the root of the Camden Grounds site is the following configuration.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要做的是告诉Eleventy直接复制这些文件。Eleventy通过在项目根目录中指定一个 .eleventy.js 文件来支持动态配置。虽然你可以在这个文件中做很多事情，但我们想要启用的主要功能被称为Passthrough
    File Copy ([https://www.11ty.dev/docs/copy/](https://www.11ty.dev/docs/copy/))。在Camden
    Grounds网站的根目录中，有以下的配置。
- en: Listing 2.20 The Eleventy configuration file (.eleventy.js)
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.20 Eleventy配置文件 (.eleventy.js)
- en: '[PRE28]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: We’ve specified that three paths, css, vendor, and img, should be copied as-is.
    Eleventy won’t try to process anything here, but will simply copy the files, recursively,
    into the generated _site folder.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 我们指定了三个路径，css、vendor和img，应该直接复制。Eleventy不会尝试处理这里的任何内容，而只是将文件递归地复制到生成的一_site
    文件夹中。
- en: All right, we’ve done the easiest bits first (always a good idea), but now it’s
    time to tackle the home page. If you look back at figure 2.12, you’ll see that
    the home page has a rotating banner of images on top and then a list of images.
    If you look at the source of the index page in the template’s original code, you’ll
    see that the animated images (called a *carousel* ) are displayed.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，我们已经完成了最容易的部分（总是一个好主意），但现在我们需要处理主页。如果你回顾一下图 2.12，你会看到主页顶部有一个旋转的图片横幅，然后是一系列的图片。如果你查看模板原始代码中的index页面的源代码，你会看到动画图片（称为*轮播*）被显示出来。
- en: Listing 2.21 Image carousel code
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.21 图片轮播代码
- en: '[PRE29]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: You can see each image is using the Placeholder service to display a temporary
    image. We’re going to replace this with three images from Unsplash ([https://unsplash.com/](https://unsplash.com/)).
    Unsplash provides free images for use on websites with the simple request that
    you attribute them. I searched for “coffee” and found three images and placed
    them in the img folder.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到每个图片都使用了占位符服务来显示临时图像。我们将用来自Unsplash ([https://unsplash.com/](https://unsplash.com/))
    的三张图片来替换这些。Unsplash提供免费图片供网站使用，只需简单的要求你进行归属即可。我搜索了“coffee”并找到了三张图片，并将它们放在了img文件夹中。
- en: Listing 2.22 The image carousel with our new images specified
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.22 使用我们新指定的图片的图片轮播
- en: '[PRE30]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Now for the products. The original template shows six products using what’s
    commonly referred to as a *card* format. We want to make that dynamic, so let’s
    add a JSON file with products in _data/products.json.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是产品的时间了。原始模板显示了六个产品，使用的是通常所说的*卡片*格式。我们想要让它变得动态，所以让我们在_data/products.json中添加一个包含产品的JSON文件。
- en: Listing 2.23 The products for Camden Grounds
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.23 Camden Grounds的产品
- en: '[PRE31]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Note that the text was slightly reduced for space. Instead of finding a custom
    picture for each product, we use an image placeholder service from [http://placehold.it](http://placehold.it)
    that produces a basic gray image that is useful for temporary images. Now that
    this has been set, Eleventy provides access to them in a products variable. We
    can modify the index template (camdengrounds/index.html) to loop over and create
    a card for each product.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，文本为了节省空间略有缩减。我们不是为每个产品找到自定义图片，而是使用来自 [http://placehold.it](http://placehold.it)
    的图片占位服务，它产生一个基本的灰色图像，对于临时图像很有用。现在这已经设置好了，Eleventy通过products变量提供对这些图片的访问。我们可以修改index模板（camdengrounds/index.html）来循环创建每个产品的卡片。
- en: Listing 2.24 Displaying products
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.24 显示产品
- en: '[PRE32]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Basically all we did was remove the boilerplate text and replace it with variables
    defined by the loop itself. If we had unique pictures for our products (hopefully),
    they could also be specified in the JSON file and used here.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 我们基本上只是移除了样板文本，并用循环本身定义的变量替换了它。如果我们为我们的产品有独特的图片（希望如此），它们也可以在JSON文件中指定并在这里使用。
- en: 'The last aspect of the site is the pages for each individual product. You can
    see the links used in listing 2.25: products/{{ product.name | slug }}. The first
    thing to note is the slug aspect. This is called a *filter* and takes the input
    provided (product .name) and then passes it through a formatting function. The
    slug function creates a URL-safe version of a string. As an example of this, the
    value “Double Espresso” turns into “double-espresso.” But where do the pages themselves
    come from?'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 网站的最后一个方面是每个单独产品的页面。您可以在 2.25 列表中看到使用的链接：products/{{ product.name | slug }}。首先要注意的是
    slug 部分。这被称为 *过滤器*，它接受提供的输入（product .name）然后通过一个格式化函数传递。slug 函数创建一个 URL 安全的字符串版本。例如，值“Double
    Espresso”变为“double-espresso。”但页面本身是从哪里来的呢？
- en: Eleventy supports a powerful Pagination system ([https://www.11ty.dev/docs/pagination/](https://www.11ty.dev/docs/pagination/))
    that can be used in multiple ways. It can take a list of data and create pages
    (e.g., hundreds of press releases split into pages of 10 each) or take a list
    and generate one page each. Eleventy also provides support for linking to pages,
    either the next or previous one, and even makes it easy to tell if you are at
    the beginning of a list of pages or the end. As with most things in Eleventy,
    it’s pretty powerful and flexible, but we’re going to use a simple example of
    it in our shop to help create one page for each of our products.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: Eleventy 支持强大的分页系统 ([https://www.11ty.dev/docs/pagination/](https://www.11ty.dev/docs/pagination/))，可以以多种方式使用。它可以接受数据列表并创建页面（例如，将数百份新闻稿分成每页
    10 份的页面）或接受列表并生成每个页面。Eleventy 还提供对链接到页面的支持，无论是下一页还是上一页，甚至可以轻松地判断您是否位于页面列表的开头或结尾。与
    Eleventy 中的大多数事物一样，它非常强大且灵活，但我们将使用一个简单的示例在我们的商店中，以帮助为我们的每个产品创建一个页面。
- en: To use this feature, a page must define pagination settings in the front matter,
    as shown in the following listing.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用此功能，页面必须在前面部分定义分页设置，如下所示。
- en: Listing 2.25 The Products pagination page
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 2.25 产品分页页面
- en: '[PRE33]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'The front matter makes use of pagination by first specifying the data that
    will be iterated, then the size (how many per page), and finally that it should
    use an alias in the page itself for easier use. Using a page size of 1 basically
    means we want one product per page. Another feature of Eleventy is demonstrated
    here as well: permalink. Eleventy gives you precise control over how files are
    generated by letting you specify exactly where they should end up. The rest of
    the template is basically a modified version of the cards used earlier but could
    certainly be more unique.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 前面部分通过首先指定要迭代的 数据，然后指定大小（每页多少个），最后指定在页面本身中使用别名以方便使用来使用分页。使用页面大小为 1 实际上意味着我们希望每页只有一个产品。这里还展示了
    Eleventy 的另一个功能：永久链接。Eleventy 通过让您指定文件应该放在哪里来精确控制文件的生成。模板的其余部分基本上是之前使用的卡片的一个修改版本，但肯定可以更加独特。
- en: If you fire up the Eleventy server and click on one of the products, you see
    a product page, as figure 2.14 demonstrates.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您启动 Eleventy 服务器并点击其中一个产品，您将看到一个产品页面，如图 2.14 所示。
- en: '![CH02_F14_Camden2](Images/CH02_F14_Camden2.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![CH02_F14_Camden2](Images/CH02_F14_Camden2.png)'
- en: Figure 2.14 A Camden Grounds product
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.14 Camden Grounds 产品
- en: 2.3 Going further with Eleventy
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3 使用 Eleventy 进一步深入
- en: 'In this chapter, you’ve reviewed the Eleventy static site generator and used
    it to build a simple but flexible shop for a fictional store. However, there are
    many features in Eleventy we didn’t touch upon:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您已回顾了 Eleventy 静态网站生成器，并使用它为一家虚构的商店构建了一个简单但灵活的商店。然而，Eleventy 中还有许多我们未涉及的功能：
- en: Filters and shortcodes
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过滤器和简码
- en: Plug-ins for additional functionality
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插件以提供附加功能
- en: Customizing your build with events
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用事件自定义构建
- en: And much more
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以及更多
- en: 'Be sure to check the Eleventy documentation ([https://www.11ty.dev/docs/](https://www.11ty.dev/docs/))
    for more information. I’d also suggest following the official Twitter account
    for Eleventy (@eleven_ty) as well as joining the Discord channel ([https://www.11ty.dev/news/
    discord/](https://www.11ty.dev/news/discord/)). Finally, you can peruse the source
    code and current open issues on their GitHub repository: [https://github.com/11ty/eleventy/](https://github.com/11ty/eleventy/).'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 请务必查看 Eleventy 文档 ([https://www.11ty.dev/docs/](https://www.11ty.dev/docs/))
    以获取更多信息。我还建议关注 Eleventy 的官方 Twitter 账户 (@eleven_ty) 以及加入 Discord 频道 ([https://www.11ty.dev/news/
    discord/](https://www.11ty.dev/news/discord/))。最后，您可以在他们的 GitHub 仓库中查看源代码和当前开放的问题：[https://github.com/11ty/eleventy/](https://github.com/11ty/eleventy/).
- en: In the next section, you’re going to look at another static site generator,
    Jekyll. Jekyll is tailor-made for blogs, so you’ll build a blog as a way to help
    you learn. Best of all, Jekyll also makes use of Liquid, so if you enjoyed using
    it in Eleventy, you’ll have the opportunity to use it more!
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，你将了解另一个静态站点生成器，Jekyll。Jekyll 是专为博客定制的，所以你将构建一个博客作为帮助你学习的方式。最好的是，Jekyll
    也使用了 Liquid，所以如果你喜欢在 Eleventy 中使用它，你将有机会更多地使用它！
- en: Summary
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Eleventy is a flexible static site generator and a good way to build Jamstack
    sites.
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eleventy 是一个灵活的静态站点生成器，也是构建 Jamstack 站点的好方法。
- en: Eleventy supports different types of template languages and lets you select
    one that best matches your style.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eleventy 支持不同类型的模板语言，并允许你选择最适合你风格的其中一个。
- en: Multiple different template languages can be used in one project if you discover
    that you need a particular feature from multiple options.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你发现你需要从多个选项中获取特定的功能，一个项目中可以使用多种不同的模板语言。
- en: Simple sites, even ones with only a few pages, are excellent candidates for
    the Jamstack.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单的站点，即使是只有几页的站点，也是 Jamstack 的绝佳候选者。
