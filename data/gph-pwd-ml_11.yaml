- en: 8 Basic approaches to graph-powered fraud detection
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 8种基于图的数据欺诈检测基本方法
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: An introduction to types of fraud in different domains
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同领域欺诈类型的介绍
- en: The role of graphs in modeling data to reveal frauds faster and more easily
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图在建模数据以更快、更轻松地揭示欺诈中的作用
- en: Using a simple graph model to fight fraud
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用简单的图模型来对抗欺诈
- en: 'According to Van Vlasselaer et al. [2017]:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 根据Van Vlasselaer等人[2017]的研究：
- en: '*Fraud is an uncommon, well-considered, time-evolving, carefully organized
    and imperceptibly concealed crime that appears in many different types and forms.*'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '*欺诈是一种罕见、经过深思熟虑、随时间演变、精心组织和难以察觉的犯罪，以许多不同类型和形式出现。*'
- en: 'This definition highlights six characteristics of fraud that are associated
    with the challenges related to developing a fraud detection system:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这个定义突出了与开发欺诈检测系统相关的挑战的六个欺诈特征：
- en: '*Uncommon*—In almost all types of fraud and across domains, only a minimal
    portion of the data available is related to (or recognized to be related to) fraud.
    Detecting fraud is hard, and so is learning from historical cases (during the
    training phase).'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*罕见*——在几乎所有类型的欺诈和各个领域，只有极小部分可用的数据与（或被认为与）欺诈相关。检测欺诈很困难，从历史案例中学习也是如此（在训练阶段）。'
- en: '*Well-considered*—Frauds are planned with careful consideration; they don’t
    just happen.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*经过深思熟虑*——欺诈是经过仔细考虑的计划，不是偶然发生的。'
- en: '*Carefully organized*—Frauds are generally well-organized crimes. Fraudsters
    often operate in large teams with well-defined roles. Moreover, some types of
    fraud, such as money laundering, involve complex structures that can take years
    to put in place.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*精心组织*——欺诈通常是有组织的犯罪。欺诈者通常以大型团队的形式运作，具有明确的角色。此外，某些类型的欺诈，如洗钱，涉及复杂的结构，可能需要数年才能建立。'
- en: '*Imperceptibly concealed*—Fraudsters spend a lot of effort hiding the fraud
    itself and applying techniques to make its recognition difficult.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*难以察觉的隐藏*——欺诈者投入大量精力隐藏欺诈本身，并应用技术使其识别变得困难。'
- en: '*Appears in many types and forms*—Fraudsters employ a wide range of techniques
    and approaches in a variety of domains. Many economic activities are susceptible
    to fraud.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以多种形式出现*——欺诈者在各个领域采用广泛的技术和方法。许多经济活动都容易受到欺诈的影响。'
- en: Time-evolving—The techniques fraudsters use evolve over time in response to
    the fraud detection methods applied to fight them, with parties on each side trying
    to stay one step ahead of their adversaries. New detection methods are constantly
    required to address new types of fraud.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随时间演变——欺诈者使用的技巧随着时间的推移而演变，以应对用于对抗他们的欺诈检测方法，双方都在试图领先一步。需要不断开发新的检测方法来应对新的欺诈类型。
- en: For these reasons, fighting fraud is a challenging task for machine learning
    practitioners, but at the same time, it is fascinating. These considerations also
    mean that the techniques, constraints, and algorithms presented in this part have
    many differentiating aspects compared with those presented in part 2.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，对抗欺诈对于机器学习从业者来说是一项具有挑战性的任务，但与此同时，它也非常吸引人。这些考虑也意味着本部分中介绍的技巧、约束和算法与第2部分中介绍的相比有许多不同的特点。
- en: 'Why include the topic of fraud detection in a book on graphs? Akoglu et al.
    [2014] argue that graphs are “vital and necessary” for anomaly detection, for
    the following reasons:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么在关于图的书中包含欺诈检测这一主题？Akoglu等人[2014]认为，图对于异常检测是“至关重要且必要的”，原因如下：
- en: '*Interdependent nature of the data*—Data objects are often related and exhibit
    dependencies. There are strong relationships among data instances in a huge variety
    of datasets and scenarios, including biological data such as protein-protein interaction
    networks, financial data such as credit card transactions, retail networks, and
    social networks.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*数据的相互依存性*——数据对象通常是相关的，并表现出依赖性。在各种各样的数据集和场景中，数据实例之间存在强大的关系，包括生物数据（如蛋白质-蛋白质相互作用网络）、金融数据（如信用卡交易）、零售网络和社会网络。'
- en: '*Powerful representation*—Graphs naturally represent the interdependencies
    among related objects (nodes) through relationships (links or edges) that capture
    long-range correlations. Moreover, a graph representation lends itself to the
    representation of rich datasets by allowing the incorporation of node and edge
    attributes or types.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*强大的表示能力*——图通过关系（链接或边）自然地表示相关对象（节点）之间的相互依存性，这些关系捕捉了长距离相关性。此外，图表示允许通过结合节点和边的属性或类型来表示丰富的数据集。'
- en: '*Relational nature of problem domains*—Anomalies are often relational in nature.
    Frauds are often perpetrated by a related group of subjects working in close collaboration.
    Another example, not related to fraud, can be found in the system-monitoring domain:
    the failure of one machine could cause other machines that depend on it to malfunction,
    or serve as an indicator of increased probability of the failure of other machines
    in close physical proximity because of environmental conditions.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*问题域的关系性*——异常通常具有关系性。欺诈往往是由一组相关主体在紧密合作下实施的。另一个例子，与欺诈无关，可以在系统监控领域找到：一台机器的故障可能导致依赖它的其他机器出现故障，或者由于环境条件，它可能成为其他物理上接近的机器故障概率增加的指标。'
- en: '*Robust machinery*—Graphs are adversarially robust because they can provide
    a global view of the entire network. Fraudsters or other adversaries may be able
    to alter or fake certain behavioral clues, such as login times or IP addresses,
    but they likely won’t be able to remove or conceal all the signs that graphs reveal
    about connections in the data. When the data is organized in graph structures,
    it is easier to inspect and navigate.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*稳健的机制*——图是具有对抗鲁棒性的，因为它们可以提供整个网络的全球视角。欺诈者或其他对手可能能够更改或伪造某些行为线索，例如登录时间或IP地址，但他们很可能无法消除或隐藏图揭示的数据中连接的所有迹象。当数据以图结构组织时，检查和导航变得更加容易。'
- en: In the context of combating fraud, graph visualization can play critical roles
    in fraud detection and fraud investigation. The more autonomous transactional
    systems are, the harder it is to reveal fraud, which is where graph visualization
    comes in. It offers experts the opportunity to visualize and evaluate single transactions
    or many transactions through a quick view, allowing them to discover suspicious
    behaviors and investigate them further.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在打击欺诈的背景下，图可视化可以在欺诈检测和欺诈调查中发挥关键作用。交易系统越自治，揭露欺诈就越困难，这就是图可视化的用武之地。它为专家提供了通过快速查看可视化并评估单个交易或许多交易的机会，使他们能够发现可疑行为并进一步调查。
- en: 8.1 Fraud prevention and detection
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 8.1 欺诈预防和检测
- en: 'Fighting fraud has some peculiarities that vary according to the domain, including
    the type of data, the dimensionality and variety of the data, and the final goals
    of the fraudsters. Nevertheless, it is possible to identify two main components
    that are essential parts of any effective strategy to fight fraud [Bolton and
    Hand, 2002]:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 打击欺诈有一些独特的特点，这些特点因领域而异，包括数据的类型、数据的维度和多样性，以及欺诈者的最终目标。尽管如此，我们可以识别出两个主要组成部分，它们是任何有效打击欺诈策略的必要部分
    [Bolton and Hand, 2002]：
- en: '*Fraud prevention* refers to measures that can be taken to prevent or reduce
    fraud, such as the use of fluorescent fibers, laminated metal strips, and holographs
    on bank notes; personal identification numbers for bank cards; internet security
    systems for credit card transactions; SIM cards and fingerprint sensors for mobile
    phones; and passwords for computer systems and telephone banking accounts. Each
    of these methods has drawbacks in terms of vulnerability, effectiveness, cost,
    and/or inconvenience for customers. A trade-off between pros and cons needs to
    be found.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*欺诈预防*指的是可以采取的措施来预防或减少欺诈，例如在纸币上使用荧光纤维、层压金属条和全息图；银行卡的个人识别码；信用卡交易的互联网安全系统；移动电话的SIM卡和指纹传感器；以及计算机系统和电话银行账户的密码。这些方法在易受攻击性、有效性、成本和/或对客户的便利性方面都有缺点。需要在利弊之间找到权衡。'
- en: '*Fraud detection* refers to the ability to recognize or discover fraud. It
    comes into play when fraud prevention has failed, but because it’s not always
    obvious when that happens, fraud detection measures must be used all the time.
    We can do our best to prevent credit card fraud, but if a card’s details are stolen,
    we need to be able to detect fraudulent use as soon as possible.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*欺诈检测*指的是识别或发现欺诈的能力。当欺诈预防失败时，它就会发挥作用，但由于这种情况并不总是显而易见，因此必须始终使用欺诈检测措施。我们可以尽最大努力预防信用卡欺诈，但如果卡的详细信息被盗，我们需要能够尽快检测到欺诈性使用。'
- en: It is worth noting that preventive actions to fight fraud will cause fraudsters
    to adapt the strategies they use, which in turn will affect the effectiveness
    of the strategies used to detect fraud. The types of frauds that are perpetrated
    are dynamic, and so should be the fraud reduction systems in place. Although complementary,
    fraud detection and prevention have to be considered as a whole, not as independent
    and unrelated systems.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，为了防止欺诈而采取的预防措施会导致欺诈者调整他们使用的策略，这反过来又会影响检测欺诈所使用的策略的有效性。所实施的欺诈类型是动态的，因此现行的欺诈减少系统也应该是动态的。尽管欺诈检测和预防是互补的，但必须将它们作为一个整体来考虑，而不是作为独立且无关的系统。
- en: Surprisingly, one of the most common approaches to fraud detection is the classic
    expert-based approach, which relies on the experience, domain knowledge, intuition,
    and personal skills of the fraud analyst. These approaches are almost fully manual
    and human-based. The experts perform manual investigations of suspicious cases,
    generally signaled by other humans (such as customers complaining about being
    charged for transactions they did not initiate).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 令人惊讶的是，欺诈检测最常见的方法是经典的基于专家的方法，它依赖于欺诈分析师的经验、领域知识、直觉和个人技能。这些方法几乎完全是手动和基于人类的。专家对可疑案件进行手动调查，通常由其他人（如客户投诉被收取未发起的交易费用）引起。
- en: The result of this analysis can be the discovery of a new fraud mechanism being
    used by fraudsters. When such a mechanism is discovered, it is further analyzed
    and investigated to extend the existing fraud detection and prevention mechanism,
    which is often implemented by a rule-based engine. This engine consists of a set
    of rules, generally in the form of if-then statements, that are applied to every
    transaction or set of transactions that take place and trigger an alert or signal
    when they are matched. Figure 8.1 presents a mental model of this approach.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这种分析的结果可能是发现欺诈者正在使用的一种新的欺诈机制。当发现这种机制时，它会被进一步分析和调查，以扩展现有的欺诈检测和预防机制，这通常是通过基于规则的引擎实现的。这个引擎由一系列规则组成，通常以if-then语句的形式，应用于每个交易或一系列交易，并在匹配时触发警报或信号。图8.1展示了这种方法的思维模型。
- en: '![CH08_F01_Negro](../Images/CH08_F01_Negro.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F01_Negro](../Images/CH08_F01_Negro.png)'
- en: Figure 8.1 Rule-based engine mental model
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.1 基于规则的引擎思维模型
- en: A simple but effective set of rules for credit card fraud detection can be defined
    as follows:[¹](#pgfId-1010616)
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 可以定义一个简单但有效的信用卡欺诈检测规则集如下：[¹](#pgfId-1010616)
- en: '*If*'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果*'
- en: The previous transaction was less than $15
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上一次交易金额不到$15
- en: The previous transaction happened less than 2 hours ago
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上一次交易发生时间不到2小时前
- en: The current transaction is more than $500
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当前交易金额超过$500
- en: '*Then*'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '*那么*'
- en: Set status to declined
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将状态设置为拒绝
- en: Set notification to a large amount after a small transaction
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在小额交易后设置通知为大额
- en: 'This expert-based approach, even though it is useful and still common in many
    domains, suffers from several disadvantages:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这种基于专家的方法在许多领域都有用且仍然很常见，但它有几个缺点：
- en: Rule-based engines are typically complex and therefore expensive to build because
    they require advanced manual input by fraud experts.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于规则的引擎通常很复杂，因此建造成本很高，因为它们需要欺诈专家的高级手动输入。
- en: This complexity makes them difficult to maintain and manage.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种复杂性使得它们难以维护和管理。
- en: Rules must be kept up to date because fraudsters are continually evolving their
    approaches and coming up with new ones. As soon as they discover the rules behind
    the fraud reduction system, they change their behavior to avoid being recognized.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规则必须保持最新，因为欺诈者不断演变他们的方法，并提出新的方法。一旦他们发现了欺诈减少系统背后的规则，他们就会改变行为以避免被识别。
- en: In most cases, these systems require further human follow-up, analysis, and
    investigation.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大多数情况下，这些系统需要进一步的人工跟进、分析和调查。
- en: The biggest drawback of this approach is that because it involves a lot of human
    intervention for expert input, analysis, evaluation, and monitoring, it relies
    too much on individual contributions that are hard to share and maintain. The
    effectiveness of the fraud detection system is related to the availability of
    particular people with specific knowledge. So what happens when they go on holiday
    or retire?
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法的最大缺点是，因为它涉及到大量的人类干预，包括专家输入、分析、评估和监控，它过度依赖难以共享和维护的个人贡献。欺诈检测系统的有效性与特定知识的人的可用性有关。那么当这些人休假或退休时会发生什么呢？
- en: 'In recent years, a shift has been taking place toward a data-driven, statistical,
    and machine learning-based fraud detection methodology. An automated approach
    is preferable to a pure human-based approach, for the following reasons as well
    as the ones mentioned previously [Van Vlasselaer et al., 2017]:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 近年来，一种以数据驱动、统计和机器学习为基础的欺诈检测方法正在兴起。与之前提到的以及以下原因一样，自动化的方法比纯粹基于人类的方法更可取：
- en: '*Precision*—An autonomous system can process massive volumes of data, uncovering
    fraud patterns that would be impossible for a human to recognize.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*精确度*——一个自主的系统可以处理大量数据，揭示人类无法识别的欺诈模式。'
- en: '*Operational efficiency*—Think about how many transactions a credit card issuer
    has to process every day, minute, and second. It would be impossible to have all
    transactions checked in real time by humans in the time constraints required by
    normal operation, but computers can handle this task easily. Furthermore, a machine-based
    approach can support the human-based approach by prefiltering, analyzing each
    transaction/operation and then sending only the most relevant or suspicious to
    a human for further investigation.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*运营效率*——想想信用卡发行商每天、每分钟和每秒钟需要处理的交易数量。在正常运营所需的时间限制内，让人类实时检查所有交易是不可能的，但计算机可以轻松处理这项任务。此外，基于机器的方法可以通过预筛选、分析每一笔交易/操作，然后将最相关或可疑的交易发送给人类进行进一步调查来支持基于人类的方法。'
- en: '*Cost efficiency*—As mentioned before, expert-based fraud detection systems
    are hard to implement and to maintain. A more automated, data-driven, and thus
    efficient approach is preferred.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*成本效率*——如前所述，基于专家的欺诈检测系统难以实施和维护。更自动化、数据驱动且因此更有效的方法更受欢迎。'
- en: '*Adaptation efficiency*—Some of the autonomous data-driven approaches are unsupervised
    (and will be highlighted in these chapters). This aspect allows them not only
    to be operationally and cost efficient, but also to adapt over time to the evolving
    characteristics of the frauds perpetrated and the fraudsters’ behaviors.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*适应效率*——一些自主的数据驱动方法是无监督的（将在这些章节中突出显示）。这一方面不仅使它们在运营和成本上效率高，而且还能随着时间的推移适应欺诈行为和欺诈者行为的演变特征。'
- en: To better illustrate the basic ideas behind fraud detection, let’s consider
    a simple example from Fawcett and Provost [1997], illustrated in table 8.1.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地说明欺诈检测背后的基本思想，让我们考虑一个来自Fawcett和Provost [1997]的简单示例，如表8.1所示。
- en: Table 8.1 Example of anomaly detection for telecommunication
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.1 电信异常检测示例
- en: '| Call sequence | Date and time | Day | Duration | Origin | Destination | Fraud
    |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| 通话序列 | 日期和时间 | 星期 | 持续时间 | 起始地 | 目的地 | 欺诈 |'
- en: '| 1 | 2019-01-01 10:05:01 | Mon | 13 mins | Brooklyn, NY | Stamford, CT |  |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2019-01-01 10:05:01 | Mon | 13 mins | 布鲁克林，纽约 | 斯坦福，康涅狄格州 |  |'
- en: '| 2 | 2019-01-05 14:53:10 | Fri | 5 mins | Brooklyn, NY | Greenwich, CT |  |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 2019-01-05 14:53:10 | Fri | 5 mins | 布鲁克林，纽约 | 格林威治，康涅狄格州 |  |'
- en: '| 3 | 2019-01-08 09:42:15 | Mon | 3 mins | Bronx, NY | White Plains, NY |  |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 2019-01-08 09:42:15 | Mon | 3 mins | 布朗克斯，纽约 | 怀特普莱恩斯，纽约 |  |'
- en: '| 4 | 2019-01-08 15:01:34 | Mon | 9 mins | Brooklyn, NY | Brooklyn, NY |  |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 2019-01-08 15:01:34 | Mon | 9 mins | 布鲁克林，纽约 | 布鲁克林，纽约 |  |'
- en: '| 5 | 2019-01-09 15:06:54 | Tue | 5 mins | Manhattan, NY | Stamford, CT |  |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 2019-01-09 15:06:54 | Tue | 5 mins | 曼哈顿，纽约 | 斯坦福，康涅狄格州 |  |'
- en: '| 6 | 2019-01-09 16:28:20 | Tue | 53 sec | Brooklyn, NY | Brooklyn, NY |  |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 2019-01-09 16:28:20 | Tue | 53 sec | 布鲁克林，纽约 | 布鲁克林，纽约 |  |'
- en: '| 7 | 2019-01-10 01:45:29 | Wed | 35 sec | Boston, MA | Chelsea, MA | True
    |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 2019-01-10 01:45:29 | Wed | 35 sec | 波士顿，马萨诸塞州 | 切尔西，马萨诸塞州 | True |'
- en: '| 8 | 2019-01-10 01:46:35 | Wed | 34 sec | Boston, MA | Yonkers, NY | True
    |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 2019-01-10 01:46:35 | Wed | 34 sec | 波士顿，马萨诸塞州 | 杨克斯，纽约 | True |'
- en: '| 9 | 2019-01-10 01:50:54 | Wed | 39 sec | Boston, MA | Chelsea, MA | True
    |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 2019-01-10 01:50:54 | Wed | 39 sec | 波士顿，马萨诸塞州 | 切尔西，马萨诸塞州 | True |'
- en: '| 10 | 2019-01-10 11:23:20 | Wed | 24 sec | White Plains, NY | Congers, NY
    |  |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 2019-01-10 11:23:20 | Wed | 24 sec | 怀特普莱恩斯，纽约 | 康格斯，纽约 |  |'
- en: '| 11 | 2019-01-11 22:00:58 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| 11 | 2019-01-11 22:00:58 | Thu | 37 sec | 波士顿，马萨诸塞州 | 东波士顿，马萨诸塞州 | True |'
- en: '| 12 | 2019-01-11 22:04:00 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| 12 | 2019-01-11 22:04:00 | Thu | 37 sec | 波士顿，马萨诸塞州 | 东波士顿，马萨诸塞州 | True |'
- en: The fraudulent calls are marked as fraud. They have been signaled by the customer,
    who complained about such calls because they didn’t make them.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 骗子电话被标记为欺诈。这些电话是由客户标记的，因为他们抱怨这些电话是他们没有打的。
- en: 'If you look at the table carefully, you’ll notice that these calls have some
    characteristics that differentiate them from calls made by the real owners of
    the numbers. In particular, they are shorter, they happen during the night, and
    the source and destination are anomalous. An anomaly detection-based approach
    to fraud detection has great value here, especially compared with the expert systems
    techniques (the manual approach): it allows automatic detection of a significant
    fraction of fraudulent cases because those cases differ from the normal behavior
    evident from the historical examples.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细查看表格，你会注意到这些电话有一些特征，使它们与真实号码所有者打出的电话不同。特别是，它们更短，发生在夜间，源和目的地异常。基于异常检测的欺诈检测方法在这里非常有价值，尤其是与专家系统技术（手动方法）相比：它允许自动检测大量欺诈案例，因为这些案例与从历史示例中明显可见的正常行为不同。
- en: One of the biggest challenges related to fraud detection is data management.
    The issues have been mentioned several times in the book in relation to big data;
    they include volume, velocity, variety, and veracity. Recall the diagram used
    in the first part of the book, repeated here in figure 8.2.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 与欺诈检测相关的一大挑战是数据管理。这些问题在书中多次提及，与大数据相关；包括数据量、速度、多样性和真实性。回想一下书中第一部分使用的图表，这里重复展示在图8.2中。
- en: '![CH08_F02_Negro](../Images/CH08_F02_Negro.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F02_Negro](../Images/CH08_F02_Negro.png)'
- en: Figure 8.2 The four Vs of big data also apply in the context of fraud detection.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.2 大数据的四个V（Volume, Velocity, Variety, Veracity）也适用于欺诈检测的上下文。
- en: In this case, there are a few more challenges to handle, such as streaming data
    and data complexity. The datasets used as input for the fraud detection process
    are rich and complex in content, including user demographics, interests, and roles,
    as well as types of relationships. Incorporating these additional information
    sources makes data representation complex. As a result, methods that can scale
    to large datasets, update their estimations as the data changes over time, and
    effectively incorporate all the available and useful data sources are essential
    for anomaly detection.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个案例中，还有一些额外的挑战需要处理，例如流数据和数据复杂性。用于欺诈检测过程的数据集内容丰富且复杂，包括用户人口统计信息、兴趣和角色，以及关系类型。整合这些额外的信息源使得数据表示变得复杂。因此，能够扩展到大型数据集、随时间变化更新其估计并有效整合所有可用和有用数据源的方法对于异常检测至关重要。
- en: Graph data models and analysis provide a set of valuable tools for dealing with
    such complexity. The schema flexibility allows data from a variety of data sources
    to be stored and provides multiple access patterns that scale quite easily even
    when the datasets are large. Graph-aided or -based algorithms make it easier to
    spot, analyze, and investigate relationships between events. The advantages provided
    by graphs in the context of fraud detection are highlighted in section 8.2 and
    explored further in the remainder of this chapter and in chapters 9 and 10.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图数据模型和分析提供了一套处理此类复杂性的宝贵工具。模式灵活性允许来自各种数据源的数据被存储，并提供多种易于扩展的访问模式，即使数据集很大也是如此。图辅助或基于图的算法使得发现、分析和调查事件之间的关系变得更加容易。在欺诈检测的上下文中，图提供的优势在8.2节中得到了强调，并在本章的剩余部分以及第9章和第10章中进一步探讨。
- en: 'Because fighting fraud is like any battle in which all the parties try to use
    any possible technique at their disposal to get ahead, analysts have to use all
    the tools available to them. It’s important to recognize that these techniques
    are not mutually exclusive: they can be combined in an overarching system to reach
    the goal more easily, quickly, and effectively.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 因为打击欺诈就像任何一场所有各方都试图使用他们能找到的任何可能的技术来取得优势的战斗一样，分析师必须使用他们可用的所有工具。重要的是要认识到这些技术不是相互排斥的：它们可以组合在一个综合系统中，以便更容易、更快、更有效地达到目标。
- en: 8.2 The role of graphs in fighting fraud
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 8.2 图在打击欺诈中的作用
- en: 'Graphs provide a powerful modeling and analysis tool for capturing long-range
    correlations among interdependent data objects, which makes them well suited to
    the fraud-fighting scenario. Our bank account and credit card transactions follow
    a logic related to what we do, where we live, what we like to buy, and so on.
    Moreover, fraud rarely happens in isolation: behind any fraud is a plan that involves
    preparation, which often requires cooperation among multiple fraudsters.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图形为捕捉相互依赖的数据对象之间的长期相关性提供了强大的建模和分析工具，这使得它们非常适合反欺诈场景。我们的银行账户和信用卡交易遵循与我们行为、居住地、喜欢购买的东西等相关联的逻辑。此外，欺诈很少孤立发生：任何欺诈背后都有一套涉及准备的计划，这通常需要多个欺诈者的合作。
- en: To better understand the value provided by graphs in terms of representation
    of the data (and, as we will see later, in terms of analysis), let’s consider
    a simple example. Take a look at the transactional data source of a credit card
    fraud system in table 8.2.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解图形在数据表示（以及我们稍后将看到的分析）方面的价值，让我们考虑一个简单的例子。看看表 8.2 中信用卡欺诈系统的交易数据源。
- en: Table 8.2 Example of credit card transaction data
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 表 8.2 信用卡交易数据示例
- en: '| Credit card | Merchant | Merchant category | Country | Amount | Date | Accept
    | Fraud |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| 信用卡 | 商户 | 商户类别 | 国家 | 金额 | 日期 | 接受 | 欺诈 |'
- en: '| 77777783427 | 207005 | Clothes Shop | USA | 120.00$ | 2019-01-1100:12:01
    | TRUE | FALSE |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| 77777783427 | 207005 | 服装店 | 美国 | 120.00$ | 2019-01-11 00:12:01 | TRUE |
    FALSE |'
- en: '| 47559798454 | 105930 | Gas Station | ITA | 50.00€ | 2019-03-1208:01:30 |
    TRUE | FALSE |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 47559798454 | 105930 | 加油站 | 意大利 | 50.00€ | 2019-03-12 08:01:30 | TRUE |
    FALSE |'
- en: '| 25548837225 | 105930 | Gas Station | ITA | 20.56€ | 2019-04-2310:10:20 |
    TRUE | FALSE |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| 25548837225 | 105930 | 加油站 | 意大利 | 20.56€ | 2019-04-23 10:10:20 | TRUE |
    FALSE |'
- en: '| 18560530742 | 11525 | Restaurant | BEL | 50.00€ | 2019-05-0115:00:12 | TRUE
    | FALSE |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 18560530742 | 11525 | 餐厅 | 比利时 | 50.00€ | 2019-05-01 15:00:12 | TRUE | FALSE
    |'
- en: '| 37960598819 | 323158 | Online Shop | USA | 300.00$ | 2019-05-0201:00:00 |
    TRUE | TRUE |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 37960598819 | 323158 | 在线商店 | 美国 | 300.00$ | 2019-05-02 01:00:00 | TRUE |
    TRUE |'
- en: '| 16307358365 | 11525 | Restaurant | BEL | 40.00€ | 2019-05-0320:45:00 | TRUE
    | FALSE |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 16307358365 | 11525 | 餐厅 | 比利时 | 40.00€ | 2019-05-03 20:45:00 | TRUE | FALSE
    |'
- en: 'In this table, each line represents a money transfer between two actors: a
    credit cardholder and a merchant. The fifth transaction has been marked as fraudulent
    in the rightmost column because the card owner complained about it.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个表中，每一行代表两个行为者之间的资金转移：信用卡持卡人和商户。第五笔交易在最右侧列中被标记为欺诈，因为卡主对此提出了投诉。
- en: In this representation, with the data stored as a list of rows, the relationships
    between credit cardholders and merchants are hard to capture. Real-life data sources
    contain billions of transactions, making it impossible to extract correlations
    and useful insights manually. A possible representation of such data in a graph
    model is shown in figure 8.3.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种表示中，数据存储为行列表，难以捕捉持卡人和商户之间的关系。现实生活中的数据源包含数十亿笔交易，这使得手动提取相关性以及有用的见解变得不可能。图 8.3
    展示了这种数据在图模型中的可能表示。
- en: '![CH08_F03_Negro](../Images/CH08_F03_Negro.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F03_Negro](../Images/CH08_F03_Negro.png)'
- en: Figure 8.3 Graph representation of the credit card transactional data
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.3 信用卡交易数据的图形表示
- en: 'In this graph, circles represent credit cards, and squares represent merchants.
    The relationships connecting the credit cards with the merchants represent the
    transactions. A bold line represents the fraudulent transactions. In this representation,
    it is evident that credit card Y has been stolen and that merchant 1 is acting
    suspiciously (processing a large number of fraudulent transactions). This trivial
    example shows clearly how graphs offer a powerful tool to make information that’s
    hidden and hard to recognize in the original format more evident and easier to
    interpret and understand. Inspecting the visual representation of a graph can
    be a valuable part of the preprocessing phase: it familiarizes the analysts with
    the data and can quickly result in initial findings and insights. Moreover, the
    data is simple to query and analyze; we will see concrete examples in section
    8.3\. Then, during the postprocessing phase, graphs can provide a useful representation
    for verifying the obtained results and understanding the rationale behind them.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图中，圆圈代表信用卡，正方形代表商家。连接信用卡和商家的关系代表交易。粗线代表欺诈交易。在这个表示中，很明显信用卡Y被盗，商家1行为可疑（处理大量欺诈交易）。这个简单的例子清楚地说明了图如何提供一种强大的工具，使原本在原始格式中隐藏且难以识别的信息更加明显，更容易解释和理解。检查图的视觉表示可以是预处理阶段的一个宝贵部分：它使分析师熟悉数据，并可以迅速得出初步发现和见解。此外，数据简单易查询和分析；我们将在8.3节中看到具体的例子。然后，在后处理阶段，图可以提供一种有用的表示，用于验证获得的结果并理解其背后的原因。
- en: These approaches are presented in section 8.3\. The idea is to highlight how
    useful and flexible the graph representation can be; a single simple representation
    can serve different purposes.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这些方法在8.3节中有所介绍。其目的是强调图表示的实用性和灵活性；一个简单的表示可以服务于不同的目的。
- en: The previous example is one possible way to convert data—specifically, transactional
    data to a graph model. A diametrically opposite approach consists of representing
    each transaction as a node and connecting the nodes according to some logic. The
    most common approach is based on similarity. The following example makes this
    approach clearer. Consider the call data we saw earlier, presented again in table
    8.3.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的例子是转换数据的一种可能方式——具体来说，是将交易数据转换为图模型。一种截然相反的方法是，将每一笔交易表示为一个节点，并根据某种逻辑连接这些节点。最常见的方法是基于相似性。以下例子将这种方法解释得更清楚。考虑我们之前看到的通话数据，再次在表8.3中展示。
- en: Table 8.3 Example of anomaly detection for telecommunication
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.3 电信异常检测示例
- en: '| Call sequence | Date and time | Day | Duration | Origin | Destination | Fraud
    |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| 通话序列 | 日期和时间 | 星期 | 持续时间 | 起点 | 目的地 | 欺诈 |'
- en: '| 1 | 2019-01-01 10:05:01 | Mon | 13 mins | Brooklyn, NY | Stamford, CT | False
    |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2019-01-01 10:05:01 | Mon | 13 mins | Brooklyn, NY | Stamford, CT | False
    |'
- en: '| 2 | 2019-01-05 14:53:10 | Fri | 5 mins | Brooklyn, NY | Greenwich, CT | False
    |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 2019-01-05 14:53:10 | Fri | 5 mins | Brooklyn, NY | Greenwich, CT | False
    |'
- en: '| 3 | 2019-01-08 09:42:15 | Mon | 3 mins | Bronx, NY | White Plains, NY | False
    |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 2019-01-08 09:42:15 | Mon | 3 mins | Bronx, NY | White Plains, NY | False
    |'
- en: '| 4 | 2019-01-08 15:01:34 | Mon | 9 mins | Brooklyn, NY | Brooklyn, NY | False
    |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 2019-01-08 15:01:34 | Mon | 9 mins | Brooklyn, NY | Brooklyn, NY | False
    |'
- en: '| 5 | 2019-01-09 15:06:54 | Tue | 5 mins | Manhattan, NY | Stamford, CT | False
    |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 2019-01-09 15:06:54 | Tue | 5 mins | Manhattan, NY | Stamford, CT | False
    |'
- en: '| 6 | 2019-01-09 16:28:20 | Tue | 53 sec | Brooklyn, NY | Brooklyn, NY | False
    |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 2019-01-09 16:28:20 | Tue | 53 sec | Brooklyn, NY | Brooklyn, NY | False
    |'
- en: '| 7 | 2019-01-10 01:45:29 | Wed | 35 sec | Boston, MA | Chelsea, MA | True
    |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 2019-01-10 01:45:29 | Wed | 35 sec | Boston, MA | Chelsea, MA | True
    |'
- en: '| 8 | 2019-01-10 01:46:35 | Wed | 34 sec | Boston, MA | Yonkers, NY | True
    |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 2019-01-10 01:46:35 | Wed | 34 sec | Boston, MA | Yonkers, NY | True
    |'
- en: '| 9 | 2019-01-10 01:50:54 | Wed | 39 sec | Boston, MA | Chelsea, MA | True
    |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 2019-01-10 01:50:54 | Wed | 39 sec | Boston, MA | Chelsea, MA | True
    |'
- en: '| 10 | 2019-01-10 11:23:20 | Wed | 24 sec | White Plains, NY | Congers, NY
    | False |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 2019-01-10 11:23:20 | Wed | 24 sec | White Plains, NY | Congers, NY
    | False |'
- en: '| 11 | 2019-01-11 22:00:58 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| 11 | 2019-01-11 22:00:58 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
- en: '| 12 | 2019-01-11 22:04:00 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| 12 | 2019-01-11 22:04:00 | Thu | 37 sec | Boston, MA | East Boston, MA |
    True |'
- en: Using the graph construction techniques discussed in previous chapters, it is
    possible to convert such tabular data to a graph representation. In the resulting
    graph model, shown in figure 8.4, each call is represented as a node, and all
    the details are shown as related properties.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前几章讨论的图构建技术，可以将此类表格数据转换为图表示。在生成的图模型中，如图 8.4 所示，每个调用表示为一个节点，所有相关细节都显示为相关属性。
- en: '![CH08_F04_Negro](../Images/CH08_F04_Negro.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F04_Negro](../Images/CH08_F04_Negro.png)'
- en: Figure 8.4 A first graph created from the data in table 8.3
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.4 从表 8.3 中的数据创建的第一个图
- en: Using the properties and the related values, we can represent each node as a
    vector. Table 8.4 shows the process in detail.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 使用属性和相关值，我们可以将每个节点表示为一个向量。表 8.4 详细展示了这个过程。
- en: Table 8.4 Sample table to convert the calls data to vectors
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 表 8.4 将通话数据转换为向量的示例表
- en: '| Sequence | Day of the week | Duration (minutes) | Origin (city/area) |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| 序列 | 星期 | 持续时间（分钟） | 来源（城市/区域） |'
- en: '|  | Mon | Tue | Wed | Thu | Fri | [0, 1) | [1, 5) | >=5 | Brook. | Bronx |
    Manhat. | Boston | W. P. |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '|  | 星期一 | 星期二 | 星期三 | 星期四 | 星期五 | [0, 1) | [1, 5) | >=5 | 布鲁克 | 布朗克斯 | 曼哈顿
    | 波士顿 | W. P. |'
- en: '| 1 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
- en: '| 2 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
- en: '| 3 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 |'
- en: '| 4 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 |'
- en: '| 5 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 |'
- en: '| 6 | 0 | 1 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 0 | 1 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 |'
- en: '| 7 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
- en: '| 8 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
- en: '| 9 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
- en: '| 10 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 0 | 0 | 1 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 |'
- en: '| 11 | 0 | 0 | 0 | 1 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| 11 | 0 | 0 | 0 | 1 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
- en: '| 12 | 0 | 0 | 0 | 1 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 12 | 0 | 0 | 0 | 1 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |'
- en: Each property (each column of the original table) has been decomposed into the
    possible values, as we did for text to produce content-based recommendations.
    For the scalar properties (the duration, in this case), we have defined multiple
    ranges. This vector representation of each node is used to compute similarities,
    such as by using cosine similarity. The following listing shows how to do computation
    by using scikit-learn.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 每个属性（原始表格的每一列）都已被分解为可能的值，就像我们为文本生成基于内容的推荐那样。对于标量属性（在这种情况下，持续时间），我们定义了多个范围。每个节点的这种向量表示用于计算相似度，例如使用余弦相似度。以下列表展示了如何使用
    scikit-learn 进行计算。
- en: Listing 8.1 Code for computing similarities between the vectors
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 8.1 计算向量之间相似性的代码
- en: '[PRE0]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The output is shown in the following listing, with trailing zeros removed for
    brevity.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下所示，为了简洁起见，省略了尾随零。
- en: Listing 8.2 Output of listing 8.1
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 列表 8.2 列表 8.1 的输出
- en: '[PRE1]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Figure 8.5 shows the result if we define a threshold for similarity of 0.5 and
    store the relationships in the previous graph.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.5 显示了如果我们定义相似度阈值为 0.5 并将关系存储在之前的图中，结果将如何。
- en: '![CH08_F05_Negro](../Images/CH08_F05_Negro.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F05_Negro](../Images/CH08_F05_Negro.png)'
- en: Figure 8.5 Graph of calls obtained via graph construction techniques
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.5 通过图构建技术获得的通话图
- en: Looking at the distances between nodes, we see that the fraudulent calls are
    closer to other fraudulent calls than they are to normal calls. At this point,
    it is possible to use graph clustering algorithms such as community detection
    to group fraudulent calls and then use such a model to classify new calls as fraudulent
    or not, considering their distance from the groups created by the classification
    model. These approaches, presented in more detail in section 8.3, are close to
    other k-NN approaches presented in previous chapters. This recurring “pattern”
    shows again that graph-based techniques—in this case, graph construction based
    on nearest neighbor methods—are generic and can serve different analytical purposes.
    You can apply this mental pattern whenever you have to analyze data with a structure
    similar to that of table 8.3.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 观察节点之间的距离，我们发现欺诈电话比正常电话更接近其他欺诈电话。在这个时候，可以使用图聚类算法，如社区检测，将欺诈电话分组，然后使用这种模型根据分类模型创建的组来分类新的电话是否为欺诈，考虑它们与这些组之间的距离。这些方法在第8.3节中更详细地介绍，与之前章节中介绍的k-NN方法相似。这种反复出现的“模式”再次表明，基于图的技术——在这种情况下，基于最近邻方法的图构建——是通用的，可以服务于不同的分析目的。您可以在需要分析具有类似于表8.3的结构的数据时应用这种思维模式。
- en: Another essential question when performing fraud analytics is whether the detection
    model might benefit from complex network analysis on social networks [Baesens
    et al., 2015]. In other words, do the relationships between people play an important
    role in fraud, and is fraud a contagious effect in the network? Are fraudsters
    randomly spread over the social network, or do observable effects indicate that
    fraud is a social phenomenon? That is, do fraudsters tend to cluster together?
    As stated earlier, fraud is rarely perpetrated by a single individual; complex
    and advanced schemes require the collaboration of many people, and fraudsters
    commonly use their social networks (friends, colleagues, and so on) to commit
    frauds. Therefore, social network analysis can help spot a community or organization
    of fraudsters.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行欺诈分析时，一个基本问题就是检测模型是否可能从社交网络上的复杂网络分析中受益[Baesens 等人，2015]。换句话说，人与人之间的关系在欺诈中是否扮演着重要角色，欺诈是否在网络上具有传染性？欺诈者是否在社交网络中随机分布，或者可观察到的效应表明欺诈是一种社会现象？也就是说，欺诈者是否倾向于聚集在一起？正如之前所述，欺诈很少由单个个体实施；复杂和高级的方案需要许多人的合作，欺诈者通常利用他们的社交网络（朋友、同事等）来进行欺诈。因此，社交网络分析有助于发现欺诈者群体或组织。
- en: Fraudsters may be linked because they attend the same events/activities, are
    involved in the same crimes, use the same set of resources, or sometimes are the
    same person (in the case of identity theft), for example. Chapter 10 explores
    social network analysis as a supporting technique for fraud detection.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈者可能因为参加相同的活动/事件、涉及相同的犯罪、使用相同的资源集，或者有时是同一个人（例如在身份盗窃的情况下）而相互关联。第10章探讨了社交网络分析作为欺诈检测的辅助技术。
- en: The concepts introduced here are a few of the possible ways to represent data
    as graphs to perform fraud detection. More advanced methods are presented in chapter
    9.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这里介绍的概念是表示数据为图以执行欺诈检测的几种可能方式之一。更高级的方法在第9章中介绍。
- en: '8.3 Warm-up: Basic approaches'
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 8.3 热身：基本方法
- en: Let’s start our war against fraud by considering a couple of approaches that
    are simple to understand and implement. Despite their simplicity, these techniques
    allow effective analysis in the cases mentioned and fit well in the graph space.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从考虑一些简单易懂且易于实施的方法开始我们的欺诈之战。尽管这些技术很简单，但它们在提到的情况下允许有效的分析，并且很好地适应图空间。
- en: 8.3.1 Finding the origin point of credit card fraud
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.3.1 寻找信用卡欺诈的源头
- en: Suppose that you would like to fight credit card fraud by identifying credit
    card thieves. This scenario is a classic one in fraud detection examples, especially
    in the graph space. In this case, the users (owners of credit cards) use their
    cards for several purchases, and at some point, their credit card details are
    stolen. The fraudsters use the stolen credentials to buy something or to transfer
    money between accounts. They typically test the card details by purchasing something
    with a low cost and then make a few big purchases before disappearing. The schema
    of this fraud is summarized in figure 8.6.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你希望通过识别信用卡盗贼来打击信用卡欺诈。这个场景是欺诈检测示例中的经典案例，尤其是在图空间中。在这种情况下，用户（信用卡所有者）使用他们的卡进行多次购买，在某个时刻，他们的信用卡详细信息被盗。欺诈者使用被盗的凭证购买商品或在不同账户之间转账。他们通常会通过以低廉的价格购买商品来测试卡详情，然后在消失之前进行几次大额购买。这种欺诈的架构总结在图8.6中。
- en: '![CH08_F06_Negro](../Images/CH08_F06_Negro.png)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F06_Negro](../Images/CH08_F06_Negro.png)'
- en: Figure 8.6 Credit card fraud schema
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.6 信用卡欺诈架构
- en: It’s worth mentioning that the place where the credit card details are stolen
    can be a physical shop or an e-commerce site. In the latter case, a cyberattack
    commonly opens a breach, and all the credit card details of the registered users
    are copied.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，信用卡详细信息被盗的地方可能是一个实体店或电子商务网站。在后一种情况下，网络攻击通常会打开一个漏洞，并复制所有注册用户的信用卡详细信息。
- en: The goal of this scenario is to identify in a sequence of transactions by multiple
    users the point where the credit card details were stolen. I took the inspiration
    for this approach and the one in section 8.3.2 from a couple of blog posts written
    by Max DeMarzi.[²](#pgfId-1010631) I like these ideas because they are effective
    and simple at the same time. Moreover, they show how by using the right graph
    data models, analyses that appear hard in traditional databases require a couple
    of queries on a graph. The examples in chapter 9 are more complex, but as this
    section’s title suggests, the examples in this section will be helpful as a warm-up.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 本场景的目标是在多个用户的一系列交易中确定信用卡详细信息被盗的点。我借鉴了这种方法以及第8.3.2节中的方法，来源于Max DeMarzi撰写的几篇博客文章。[²](#pgfId-1010631)我喜欢这些想法，因为它们既有效又简单。此外，它们展示了如何通过使用正确的图数据模型，在传统数据库中看似困难的分析只需要在图上进行几个查询。第9章中的例子更为复杂，但正如本节标题所暗示的，本节中的例子将有助于作为热身。
- en: By considering only a specific user and their transactions, it would be hard
    to spot the point where the thieves acted. That transaction was accepted and valid;
    the issues (the fraudulent transactions) happen afterward. Luckily, if we consider
    the sequence of transactions by a lot of users, we can identify commonalities—shops
    or e-commerce sites—and start a deeper investigation. Figure 8.7 illustrates this
    concept.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 仅考虑特定用户及其交易，很难发现盗贼行动的点。那次交易被接受且有效；问题（欺诈交易）发生在之后。幸运的是，如果我们考虑大量用户的交易序列，我们可以识别共性——商店或电子商务网站——并开始更深入的调查。图8.7说明了这个概念。
- en: '![CH08_F07_Negro](../Images/CH08_F07_Negro.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F07_Negro](../Images/CH08_F07_Negro.png)'
- en: Figure 8.7 Combining data from multiple credit card transactions to identify
    commonalities
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.7 结合多个信用卡交易数据以识别共性
- en: All the users who experienced issues with their credit cards used them at the
    same gas station. It is highly probable that the theft happened there. Moreover,
    it is clear that the cards were tested with small purchases to verify the details.
    Therefore, it is important to design a graph model that will make these facts
    evident and prompt further investigation.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 所有经历过信用卡问题的用户都在同一个加油站使用过他们的卡。很可能盗窃就发生在那里。此外，很明显，这些卡通过小额购买来验证详情。因此，设计一个能够使这些事实明显并促使进一步调查的图模型非常重要。
- en: How can we use a graph model to discover the transactions where the fraud originated?
    Let’s start, as I always suggest in this book, with the available data, which
    may look something like table 8.5.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们如何使用图模型来发现欺诈交易的起源？让我们从本书中我总是建议的可用数据开始，这些数据可能看起来像表8.5。
- en: Table 8.5 Credit card transaction examples
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.5 信用卡交易示例
- en: '| Credit card | Merchant | Merchant category | Country | Amount | Date | Accept
    | Fraud |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 信用卡 | 商家 | 商家类别 | 国家 | 金额 | 日期 | 接受 | 欺诈 |'
- en: '| 77777783427 | 207005 | Clothes Shop | USA | 120.00$ | 2019-01-1100:12:01
    | TRUE | FALSE |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 77777783427 | 207005 | 衣服店 | 美国 | 120.00美元 | 2019-01-11 00:12:01 | 是 | 否
    |'
- en: '| 47559798454 | 105930 | Gas Station | ITA | 50.00€ | 2019-03-1208:01:30 |
    TRUE | FALSE |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| 47559798454 | 105930 | Gas Station | ITA | 50.00€ | 2019-03-12 08:01:30 |
    TRUE | FALSE |'
- en: '| 25548837225 | 105930 | Gas Station | ITA | 20.56€ | 2019-04-2310:10:20 |
    TRUE | FALSE |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 25548837225 | 105930 | Gas Station | ITA | 20.56€ | 2019-04-23 10:10:20 |
    TRUE | FALSE |'
- en: '| 18560530742 | 11525 | Restaurant | BEL | 50.00€ | 2019-05-0115:00:12 | TRUE
    | FALSE |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| 18560530742 | 11525 | Restaurant | BEL | 50.00€ | 2019-05-01 15:00:12 | TRUE
    | FALSE |'
- en: '| 37960598819 | 323158 | Online Shop | USA | 300.00$ | 2019-05-0201:00:00 |
    TRUE | TRUE |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| 37960598819 | 323158 | Online Shop | USA | 300.00$ | 2019-05-02 01:00:00
    | TRUE | TRUE |'
- en: '| 16307358365 | 11525 | Restaurant | BEL | 40.00€ | 2019-05-0320:45:00 | TRUE
    | FALSE |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| 16307358365 | 11525 | Restaurant | BEL | 40.00€ | 2019-05-03 20:45:00 | TRUE
    | FALSE |'
- en: The data is a sample of transactions performed by the credit cardholders (enough
    to illustrate the concepts). The transactions are marked as fraudulent or not
    depending on whether the users complained about those purchases, so that information
    is available and accurate in most cases. The key elements that we would like to
    capture from the table for this specific scenario are
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据是信用卡持卡人执行的交易样本（足以说明概念）。交易根据用户是否对那些购买提出投诉而标记为欺诈或不欺诈，因此大多数情况下这些信息是可用且准确的。我们希望从表中捕获的关键元素是
- en: The transactions made by the users, including details such as the amount and
    date
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户进行的交易，包括金额和日期等详细信息
- en: The credit card identifier
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信用卡标识符
- en: The identifier of the merchant where the purchase was made
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进行购买的商家的标识符
- en: Information about the merchant type (not necessary but useful for simplifying
    our discussion)
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于商家类型的信息（虽然不是必需的，但对简化我们的讨论很有用）
- en: A first attempt to design a graph model for this scenario is shown in figure
    8.8.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 为此场景设计图模型的第一次尝试如图8.8所示。
- en: '![CH08_F08_Negro](../Images/CH08_F08_Negro.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F08_Negro](../Images/CH08_F08_Negro.png)'
- en: Figure 8.8 First basic model for our transactions
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.8我们交易的第一个基本模型
- en: The schema is definitely correct. What is missing is the order of the transactions
    for each user. As in figure 8.7, we need to consider the sequence of transactions,
    relating them to other users to find the point at which the credit card details
    were stolen. We can order the transactions by using the timestamp information,
    but that approach would make it hard to navigate them and find a common pattern.
    Hence, the next modeling step is to add a relationship between transactions to
    store the order between them explicitly. The extended model is shown in figure
    8.9\. This model considers the sequences of transactions for each user.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 架构肯定是正确的。缺少的是每个用户的交易顺序。如图8.7所示，我们需要考虑交易的顺序，将它们与其他用户关联起来，以找到信用卡详细信息被盗的点。我们可以通过使用时间戳信息来对交易进行排序，但这种方法会使导航变得困难，并且难以找到共同的模式。因此，下一步建模步骤是添加交易之间的关系，以显式存储它们之间的顺序。扩展模型如图8.9所示。此模型考虑了每个用户的交易序列。
- en: '![CH08_F09_Negro](../Images/CH08_F09_Negro.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F09_Negro](../Images/CH08_F09_Negro.png)'
- en: Figure 8.9 Extension of the basic model
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.9基本模型的扩展
- en: 'Now that we have our model, we can validate it by checking whether it can answer
    our question: where were the credit card details stolen? To follow along with
    this example, you’ll need a sample dataset. In the code repository is a Cypher
    file (ch08/queries/ simple_fraud_dataset.cypher) containing a query to create
    a simple dataset that you can use for this purpose. In chapter 9, you will see
    how to create and import more complex datasets, but for the sake of simplicity,
    we’ll start with a small one, finding all the complaints about fraudulent transactions
    made within the past week, and seeing which other transactions these users made
    within the past two weeks. We can use the HAS_NEXT relationship chain to go backward
    and find all the transactions.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了我们的模型，我们可以通过检查它是否可以回答我们的问题来验证它：信用卡详细信息是在哪里被盗的？为了跟随这个例子，你需要一个样本数据集。在代码仓库中有一个Cypher文件（ch08/queries/simple_fraud_dataset.cypher），其中包含一个查询，用于创建一个简单的数据集，你可以用于此目的。在第9章中，你将看到如何创建和导入更复杂的数据集，但为了简单起见，我们将从一个小的开始，找到过去一周内所有关于欺诈交易的投诉，并查看这些用户在过去两周内进行了哪些其他交易。我们可以使用HAS_NEXT关系链向后导航并找到所有交易。
- en: Listing 8.3 Visualizing the transactions leading up to a fraud
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.3可视化导致欺诈的交易
- en: '[PRE2]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This query shows only the sequences of transactions that lead up to a known
    fraud. The result looks like figure 8.10.[³](#pgfId-1010650)
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 此查询仅显示导致已知欺诈的交易序列。结果看起来像图8.10。[³](#pgfId-1010650)
- en: '![CH08_F10_Negro](../Images/CH08_F10_Negro.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F10_Negro](../Images/CH08_F10_Negro.png)'
- en: Figure 8.10 The biggest nodes are the fraudulent transactions.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.10 最大的节点是欺诈交易。
- en: The next step is identifying the common elements (patterns) in these sequences.
    To do so, we can extend the query a bit to find the stores where these transactions
    occurred and compute how often each store appears.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是识别这些序列中的共同元素（模式）。为此，我们可以稍微扩展查询以找到这些交易发生的商店，并计算每个商店出现的频率。
- en: Listing 8.4 Top five common merchants in fraudulent transaction chains
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.4 欺诈交易链中前五名常见商家
- en: '[PRE3]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The result is shown in figure 8.11.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示在图8.11中。
- en: '![CH08_F11_Negro](../Images/CH08_F11_Negro.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F11_Negro](../Images/CH08_F11_Negro.png)'
- en: Figure 8.11 Result of query 8.2
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.11 查询8.2的结果
- en: 'These results aren’t bad, but they’re not what we’re looking for; some well-known
    online shops that everybody buys from appear in the list. We need to be careful:
    looking uncritically at these results, we might be tempted to say that the fraudsters
    are operating on Amazon, but because of that website’s security measures, this
    is highly unlikely to be the case. Instead, we need to look at unusual common
    shops in the set of transactions we selected because they are more likely to be
    connected to the fraud.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 这些结果还不错，但它们并不是我们想要的；一些众所周知、每个人都购买商品的在线商店出现在列表中。我们需要小心：不加批判地看待这些结果，我们可能会倾向于说欺诈者正在亚马逊上操作，但由于该网站的安全措施，这种情况极不可能发生。相反，我们需要关注我们选择的交易集中不寻常的常见商店，因为它们更有可能与欺诈有关。
- en: 'We can take different approaches to achieve this goal. We could compare these
    results with the top merchants from the global list of transactions and mark as
    “not relevant” all the shops that appear at the top of both lists, for example.
    Instead, we will use a more sophisticated and interesting (as well as powerful)
    approach. We need to consider both sets of transactions:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以采取不同的方法来实现这个目标。例如，我们可以将这些结果与全球交易列表中的顶级商家进行比较，并将两个列表中都出现在顶部的所有商店标记为“不相关”。相反，我们将使用更复杂、更有趣（以及更强大）的方法。我们需要考虑这两组交易：
- en: The global set containing data on all transactions, not only the transactions
    of people who were the victim of fraud. This dataset is our background set. We
    will get statistics about the occurrences of merchants in this set and use that
    information in our formula.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含所有交易数据的全局集，而不仅仅是成为欺诈受害者的人的交易。这个数据集是我们的背景集。我们将获取该集中商家的出现频率统计信息，并在我们的公式中使用这些信息。
- en: The set of recent transactions by people complaining about a fraudulent charge.
    This dataset is our foreground set, representing our real target.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投诉欺诈性收费的人的最近交易集。这个数据集是我们的前景集，代表我们的真实目标。
- en: 'With these two sets in mind, our goal can be clearly stated as follows: find
    merchants that are uncommonly common[⁴](#pgfId-1010681) in the foreground dataset
    compared with the background dataset. This approach is used in search engines[⁵](#pgfId-1010696)
    to reveal significant terms in the search results, and we will borrow the related
    formula:[⁶](#pgfId-1010711)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这两组交易，我们的目标可以明确地表述如下：在前景数据集中找到与背景数据集相比不寻常地常见的商家。这种方法用于搜索引擎[⁵](#pgfId-1010696)中揭示搜索结果中的显著术语，我们将借用相关的公式[⁶](#pgfId-1010711)。
- en: '![CH08_F12_EQ01_Negro](../Images/CH08_F12_EQ01_Negro.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F12_EQ01_Negro](../Images/CH08_F12_EQ01_Negro.png)'
- en: By applying this formula to the merchant list we obtained previously, we can
    reveal the merchants that appear more often than usual in the transactions of
    the set of people who were victims of fraud. This formula is simple, so we can
    convert the query to use it.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将此公式应用于我们之前获得的商家列表，我们可以揭示在欺诈受害者集的交易中比平常更频繁出现的商家。这个公式很简单，因此我们可以将查询转换为使用它。
- en: Listing 8.5 Query using the significance score to reveal fraud point
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.5 使用显著性分数查询以揭示欺诈点
- en: '[PRE4]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: ❶ Computes the total number of transactions in the database. We could also consider
    the total number of transactions in the past 14 days because we consider that
    range in the analysis, but it doesn’t matter with this small database. This value
    is used to compute the background percentage.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 计算数据库中的总交易数量。我们也可以考虑过去14天的总交易数量，因为我们在分析中考虑了这一范围，但在这个小型数据库中这并不重要。这个值用于计算背景百分比。
- en: ❷ Computes the total number of transactions belonging to victims of fraud (the
    fraud chain). This value is used to compute the foreground percentage.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: ❷ 计算属于欺诈受害者（欺诈链）的交易总数。这个值用于计算前景百分比。
- en: ❸ Gets the list of nodes in the fraud chains
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: ❸ 获取欺诈链中的节点列表
- en: ❹ For each merchant in the fraud chain, computes the foreground percentage (how
    often they appear in our foreground set)
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: ❹ 对于欺诈链中的每个商家，计算其前景百分比（它们在我们前景集中出现的频率）
- en: ❺ Computes the background percentage
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: ❺ 计算背景百分比
- en: ❻ Computes the score
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: ❻ 计算得分
- en: The results of the query are shown in figure 8.12.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 查询结果如图8.12所示。
- en: The results are different and significant. From this list, it’s evident where
    the fraudsters are operating and stealing credit card details.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 结果不同且意义重大。从这个列表中，很明显可以看出欺诈者在哪里操作并窃取信用卡详细信息。
- en: '![CH08_F12_Negro](../Images/CH08_F12_Negro.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F12_Negro](../Images/CH08_F12_Negro.png)'
- en: Figure 8.12 Results of query
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.12 查询结果
- en: When we have the list of merchants that are somehow related to a fraud, we can
    use this information to get a list of people—or, better, credit cards—that are
    at risk, including any cards used at that location within the past 14 days.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们有与欺诈有关的相关商家的列表时，我们可以使用这些信息来获取一个名单，包括过去14天内在该地点使用的任何信用卡，以及可能处于风险中的人或信用卡。
- en: Listing 8.6 Query for getting potential victims
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.6 获取潜在受害者的查询
- en: '[PRE5]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: When we’ve identified the credit cards at risk, they can be blocked and the
    owners informed, or they can be monitored more closely to check whether other
    signals arise, such as small transactions with other merchants to test the cards.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们确定了有风险的信用卡后，可以将其锁定并通知持卡人，或者可以更密切地监控它们，以检查是否出现其他信号，例如与其他商家的小额交易来测试卡片。
- en: It’s important to note that the method presented here will not scale if the
    number of transactions is high. In particular, you may have a lot of transactions
    connected to some merchants, making their related nodes dense. Some techniques
    can be applied to mitigate such issues, such as splitting the dense nodes into
    multiple nodes, creating time-specific relationships (such as AT_MERCHANT_ON_2019_08_19),
    and so on. In chapter 9, we will consider techniques that can work at scale.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，如果交易数量很高，这里提出的方法将无法扩展。特别是，你可能会有很多与某些商家相关的交易，使得他们的相关节点密集。可以应用一些技术来减轻这些问题，例如将密集节点拆分为多个节点，创建时间特定的关系（例如AT_MERCHANT_ON_2019_08_19），等等。在第9章中，我们将考虑可以扩展的技术。
- en: First, however, it’s worth mentioning another scenario in which graph models
    provide a simple yet powerful and efficient representation that can spot a specific
    type of fraud. Even in this case, the analysis can be accomplished by using queries
    on the defined graph model.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，首先值得提及另一种场景，在这种场景中，图模型提供了一个简单、强大且高效的表示，可以识别特定类型的欺诈。即使在这种情况下，分析也可以通过在定义的图模型上使用查询来完成。
- en: 8.3.2 Identifying a fraud ring
  id: totrans-205
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.3.2 识别欺诈团伙
- en: 'The steps of the particular fraud scheme we’ll consider are summarized in the
    following list:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将考虑的特定欺诈方案的步骤总结如下列表：
- en: A large number of synthetic customer accounts is created at a financial institution
    (real accounts created for the purpose of committing the fraud).
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在金融机构（为实施欺诈而创建的真实账户）中创建了大量的合成客户账户。
- en: For a long time, the accounts act like normal customers.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 很长时间以来，这些账户表现得像普通客户一样。
- en: Over time, they request higher levels of credit, which they pay back on time,
    allowing them to gain credibility and trust with the bank.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 随着时间的推移，他们要求更高的信用额度，并按时偿还，这使得他们能够在银行中获得信誉和信任。
- en: In reality, the money is moved between the same set of accounts, using multiple
    and various hops to avoid recognition.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实际上，资金是在同一组账户之间转移，通过多个和不同的跳转来避免被识别。
- en: At some point, they all request the maximum credit they can get, take out the
    money, and disappear.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在某个时候，他们都要求他们能得到的最大信用额度，取出钱后消失。
- en: This specific type of fraud is called a *fraud ring* because the accounts, their
    details, and the money create a circle around the same set of people. A similar
    technique is used on a larger scale for money laundering. In this case, the money
    is moved from one account to another, generally in different countries, to clean
    money coming from illegal sources, to avoid paying taxes, or to finance terrorist
    or other illicit organizations. Let’s see how we can fight this type of fraud,
    starting by defining the scenario.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 这种特定的欺诈类型被称为*欺诈团伙*，因为账户、它们的详细信息以及资金围绕同一组人形成一个圈。在洗钱方面，这种类似的技术被用于更大规模。在这种情况下，资金从一个账户转移到另一个账户，通常在不同的国家，以清洗来自非法来源的资金，避免缴纳税款，或资助恐怖分子或其他非法组织。让我们看看我们如何应对这种类型的欺诈，首先从定义场景开始。
- en: Suppose that you would like to recognize the formation of a fraud ring as soon
    as possible, before the fraud is executed. The goal is to reveal the creation
    of the ring before it is too late. To understand the ring formation, consider
    the sample account holder details in table 8.6.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你希望尽快识别欺诈团伙的形成，在欺诈行为实施之前。目标是揭示团伙的形成，以免为时已晚。为了理解团伙的形成，考虑表8.6中的样本账户持有人详情。
- en: Table 8.6 Account holder details
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.6 账户持有人详情
- en: '| Account ID | Username | Email | Phone number | Full name | Address |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| 账户ID | 用户名 | 邮箱 | 电话号码 | 全名 | 地址 |'
- en: '| 49295987202 | alenegro | mpd7xg@tim.it | 580-548-1149 | Hilda J Womack |
    4093 Cody Ridge Road - Enid, OK |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| 49295987202 | alenegro | mpd7xg@tim.it | 580-548-1149 | 希尔达·J·沃马克 | 奥克拉荷马州恩尼德4093科迪岭路
    |'
- en: '| 45322860293 | jimjam | jam@mail.com | 504-262-8173 | Megan S Blubaugh | 4093
    Cody Ridge Road - Enid, OK |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| 45322860293 | jimjam | jam@mail.com | 504-262-8173 | 梅根·S·布鲁巴格 | 奥克拉荷马州恩尼德4093科迪岭路
    |'
- en: '| 45059804875 | drwho | mpd7xg@tim.it | 504-262-8173 | John V Danielson | 4985
    Rose Avenue - Mount Hope, WI |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | drwho | mpd7xg@tim.it | 504-262-8173 | 约翰·V·丹尼尔森 | 威斯康星州霍普山4985玫瑰大道
    |'
- en: '| 41098759500 | robbob | bob@google.com | 352-588-9221 | Robert C Antunez |
    2041 Bagwell Avenue - San Antonio, FL |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| 41098759500 | robbob | bob@google.com | 352-588-9221 | 罗伯特·C·安图内斯 | 佛罗里达州圣安东尼奥2041贝格尔大道
    |'
- en: The products related to the accounts are listed in table 8.7\. (The relational
    database will be more complex; this example is for purposes of illustration.)
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 与账户相关的产品列在表8.7中。（关系数据库将更复杂；此示例仅用于说明。）
- en: Table 8.7 Products belonging to the accounts monitored
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.7 监控账户所属的产品
- en: '| Account ID | Product type | Product ID |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| 账户ID | 产品类型 | 产品ID |'
- en: '| 49295987202 | Credit Card | 793922 |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| 49295987202 | 信用卡 | 793922 |'
- en: '| 49295987202 | Bank Account | 896857 |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| 49295987202 | 银行账户 | 896857 |'
- en: '| 49295987202 | Loan | 885398 |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| 49295987202 | 贷款 | 885398 |'
- en: '| 45322860293 | Credit Card | 482513 |'
  id: totrans-226
  prefs: []
  type: TYPE_TB
  zh: '| 45322860293 | 信用卡 | 482513 |'
- en: '| 45322860293 | Bank Account | 305693 |'
  id: totrans-227
  prefs: []
  type: TYPE_TB
  zh: '| 45322860293 | 银行账户 | 305693 |'
- en: '| 45059804875 | Credit Card | 631264 |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | 信用卡 | 631264 |'
- en: '| 45059804875 | Bank Account | 171215 |'
  id: totrans-229
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | 银行账户 | 171215 |'
- en: '| 45059804875 | Loan | 432775 |'
  id: totrans-230
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | 贷款 | 432775 |'
- en: '| 41098759500 | Bank Account | 377703 |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
  zh: '| 41098759500 | 银行账户 | 377703 |'
- en: '| 41098759500 | Loan | 859916 |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| 41098759500 | 贷款 | 859916 |'
- en: If I asked you to model these tables in the form of a graph, which at this point
    in the book you should be able to do, you would most likely produce something
    like figure 8.13.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我要求你以图的形式对这些表格进行建模，到这本书的这一部分你应该能够做到，你很可能会得到类似于图8.13的东西。
- en: '![CH08_F13_Negro](../Images/CH08_F13_Negro.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F13_Negro](../Images/CH08_F13_Negro.png)'
- en: Figure 8.13 First graph model of the bank account holders’ details
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.13 银行账户持有人详情的第一图模型
- en: This model is perfectly fine, especially considering the guidelines discussed
    so far, but to identify rings, we need to explode as much information as possible
    into separate nodes. Using this approach, you might create a graph like the one
    in figure 8.14.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 这个模型是完美的，特别是考虑到到目前为止讨论的指南，但为了识别团伙，我们需要尽可能多地爆炸信息到单独的节点中。使用这种方法，你可能会创建一个如图8.14所示的图。
- en: '![CH08_F14_Negro](../Images/CH08_F14_Negro.png)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F14_Negro](../Images/CH08_F14_Negro.png)'
- en: Figure 8.14 Second model with the key user properties converted to nodes. (Only
    the relevant nodes are visualized.)
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.14 第二个模型，将关键用户属性转换为节点。（仅可视化相关节点。）
- en: Clearly, there is something strange about these bank accounts; the graph makes
    it obvious that they are well connected. The database is small, of course, so
    the links are easy to spot, but a mechanism allows us to inspect a graph of any
    size and search for connected components. A graph is considered to be connected
    (or strongly connected, if it is directed) if any pair of its nodes is linked
    by a path [Diestel, 2017]. In any graph (including unconnected graphs), a set
    of connected components known as a maximal connected subgraph can exist.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，这些银行账户有些奇怪；图表清楚地表明它们之间联系紧密。数据库当然很小，所以链接很容易被发现，但有一个机制允许我们检查任何大小的图表并搜索连接组件。如果一个图中的任何一对节点都通过路径连接（如果它是定向的，则称为强连接），则认为该图是连接的
    [Diestel, 2017]。在任何图（包括未连接的图）中，都可能存在一组称为最大连接子图的连接组件。
- en: Luckily, we don’t have to implement such an algorithm in Neo4j ourselves because
    it is already implemented and available as a plugin.[⁷](#pgfId-1010727) To try
    it, you need a simple graph; the Cypher queries necessary to create one are available
    in ch08/queries/ simple_ring_fraud.cypher.[⁸](#pgfId-1010743) Execute the queries,
    and install the plugin in Neo4j.[⁹](#pgfId-1010759) At that point, you can perform
    the following queries. The first query assigns the property partition to each
    user, specifying which cluster the user belongs to.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，我们不需要自己在Neo4j中实现这样的算法，因为它已经被实现并作为插件提供。[⁷](#pgfId-1010727) 要尝试它，你需要一个简单的图；创建一个图的Cypher查询可以在ch08/queries/simple_ring_fraud.cypher中找到。[⁸](#pgfId-1010743)
    执行查询，并在Neo4j中安装插件。[⁹](#pgfId-1010759) 到那时，你可以执行以下查询。第一个查询将属性分区分配给每个用户，指定用户属于哪个簇。
- en: Listing 8.7 Queries to identify rings and assign users to them
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.7 识别环并将用户分配给它们的查询
- en: '[PRE6]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The next query shows the components of each cluster.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个查询显示了每个簇的组成部分。
- en: Listing 8.8 Query to visualize to which cluster each user belongs to
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 列表8.8 查询以可视化每个用户属于哪个簇
- en: '[PRE7]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The results are shown in figure 8.15.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示在图8.15中。
- en: '![CH08_F15_Negro](../Images/CH08_F15_Negro.png)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F15_Negro](../Images/CH08_F15_Negro.png)'
- en: Figure 8.15 Result of the two preceding queries
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.15 两个先前查询的结果
- en: 'These queries show exactly what we already knew: Hilda, Megan, and John form
    a cluster because they are connected via one or more properties, such as email
    address, phone number, and mailing address.'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 这些查询显示的正是我们已知的内容：Hilda、Megan和John形成一个簇，因为他们通过一个或多个属性（如电子邮件地址、电话号码和邮寄地址）连接在一起。
- en: 'It looks as though Rob is out of the game, but the reality is a bit different:
    Rob is the head of the organization. (For purposes of this scenario, we can assume
    that we know this from other sources.) But he doesn’t use any information in common
    with all the others. Smart guy! How can we capture his relationship in the ring?'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来Rob已经出局了，但现实情况略有不同：Rob是这个组织的头目。（为了这个场景的目的，我们可以假设我们是从其他来源知道这个信息的。）但他不使用与其他所有人共有的任何信息。聪明人！我们如何在环中捕捉他的关系？
- en: One of the advantages of graphs, as mentioned previously, is that we can use
    the graph to merge data from different data sources. The bank account and credit
    card offer users the opportunity to connect to an online banking service. This
    system captures a lot of details about the user’s browser, IP address, device,
    and so on that we aren’t using. Let’s consider only the IP information. Table
    8.8 shows what this information might look like.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，图的一个优点是我们可以使用图来合并来自不同数据源的数据。银行账户和信用卡为用户提供连接在线银行服务的可能性。这个系统捕捉了关于用户浏览器、IP地址、设备等很多我们未使用的细节。让我们只考虑IP信息。表8.8显示了这些信息可能的样子。
- en: Table 8.8 Account connection information
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.8 账户连接信息
- en: '| Account ID | IP | Date |'
  id: totrans-253
  prefs: []
  type: TYPE_TB
  zh: '| 账户ID | IP | 日期 |'
- en: '| 41098759500 | 166.184.50.48 | 2020-01-21 |'
  id: totrans-254
  prefs: []
  type: TYPE_TB
  zh: '| 41098759500 | 166.184.50.48 | 2020-01-21 |'
- en: '| 45059804875 | 166.184.50.48 | 2020-01-21 |'
  id: totrans-255
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | 166.184.50.48 | 2020-01-21 |'
- en: '| 41098759500 | 208.125.140.154 | 2020-01-19 |'
  id: totrans-256
  prefs: []
  type: TYPE_TB
  zh: '| 41098759500 | 208.125.140.154 | 2020-01-19 |'
- en: '| 45059804875 | 74.248.71.164 | 2020-01-17 |'
  id: totrans-257
  prefs: []
  type: TYPE_TB
  zh: '| 45059804875 | 74.248.71.164 | 2020-01-17 |'
- en: '| 45322860293 | 208.125.140.154 | 2020-01-19 |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '| 45322860293 | 208.125.140.154 | 2020-01-19 |'
- en: If we add this data source to our graph, we obtain the result in figure 8.16.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将这个数据源添加到我们的图中，我们得到图8.16的结果。
- en: '![CH08_F16_Negro](../Images/CH08_F16_Negro.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F16_Negro](../Images/CH08_F16_Negro.png)'
- en: Figure 8.16 Third model that captures information about the IP address from
    which users connect to the online banking platform
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.16 第三种捕捉用户连接到在线银行平台IP地址信息的模型
- en: 'Figure 8.16 illustrates our thesis: Rob is pulling the strings of everything.
    He is connecting as different account holders from the same places. Let’s extend
    our database by using the queries available at ch08/queries/simple_ring_fraud_IP.cypher.
    Rerunning the queries in listing 8.7 gives us the result in figure 8.17.'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.16说明了我们的论点：Rob在操纵一切。他作为不同账户持有人从同一地点连接。让我们通过使用ch08/queries/simple_ring_fraud_IP.cypher中可用的查询来扩展我们的数据库。重新运行列表8.7中的查询，我们得到图8.17的结果。
- en: '![CH08_F17_Negro](../Images/CH08_F17_Negro.png)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![CH08_F17_Negro](../Images/CH08_F17_Negro.png)'
- en: Figure 8.17 The result after merging the IP information
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.17 合并IP信息后的结果
- en: It’s evident from these results that Rob is well connected to all the other
    accounts. Now human analysts can perform more in-depth investigations, the fraudulent
    accounts can be closed, and the people behind the accounts can be reported to
    the authorities and forbidden to open any other bank accounts in the country.
    Problem solved.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 从这些结果来看，显然Rob与其他所有账户都有很好的联系。现在，人类分析师可以进行更深入的调查，关闭欺诈账户，并将账户背后的个人报告给当局，禁止他们在该国开设任何其他银行账户。问题解决。
- en: 'It’s worth mentioning that the ring-detection approach can be used in contexts
    other than financial fraud, such as to identify multiple accounts belonging to
    the same user on a website. This problem is a common one in diverse scenarios,
    such as the following:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，环检测方法可以用于金融欺诈以外的其他环境，例如用于识别网站上的同一用户的多个账户。这个问题在多种场景中都很常见，如下所示：
- en: Banned users trying to get new accounts
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被禁止的用户试图获取新账户
- en: On an auction site, the same user bidding with multiple accounts to increase
    the price of an item
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个拍卖网站上，同一用户使用多个账户出价以增加物品的价格
- en: In a poker room, the same user playing with multiple accounts on the same table
    against other players
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个扑克室里，同一用户在同一桌面上与其他玩家使用多个账户进行游戏
- en: A merchant on a marketplace such as Amazon paying people or other companies
    for posting fraudulent reviews to increase their product’s credibility
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在像亚马逊这样的市场上，商家支付人们或其他公司发布虚假评论以增加其产品可信度的行为
- en: In all these cases, finding rings helps us spot potential issues or discover
    suspect behaviors and fight them properly.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有这些情况下，找到环状结构有助于我们发现潜在问题或发现可疑行为，并正确地应对它们。
- en: 8.3.3 Advantages of the graph approach
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.3.3 图方法的优势
- en: 'This section introduced some simple yet powerful techniques for fraud detection.
    The scenarios presented fit well with a graph model: as you saw, with the appropriate
    model and queries, we can find insightful information about our data. These details
    would be hard to find in a large database if such relationships were not depicted
    explicitly. Specifically, in the case of credit card fraud, via a graph query,
    we were able to identify the uncommonly common pattern in a set of transactions
    that end up in a fraud. And in the ring example, graphs showed connections between
    people and accounts that would have been impossible to capture in a relational
    database.'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 本节介绍了一些简单而强大的欺诈检测技术。所提出的场景非常适合图模型：正如你所看到的，通过适当的模型和查询，我们可以找到关于我们数据的洞察性信息。如果这些关系没有明确表示，这些细节在一个大型数据库中很难找到。具体来说，在信用卡欺诈的情况下，通过图查询，我们能够识别出一组交易中不寻常的常见模式，这些交易最终导致了欺诈。在环状示例中，图显示了人与人、账户之间的联系，这在关系型数据库中是无法捕捉到的。
- en: Summary
  id: totrans-274
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: This chapter introduced the basic concepts related to fraud and, more generally,
    outlier detection. Different approaches were presented in which the role of the
    graph is key to delivering high-quality analysis results and an infrastructure
    that can scale to real production-ready solutions. In more detail, you learned
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了与欺诈以及更广泛的异常检测相关的基本概念。介绍了不同的方法，其中图的作用对于提供高质量的分析结果和可扩展到实际生产就绪解决方案的基础设施至关重要。更详细地说，你学习了
- en: Types of fraud and how to deal with the most critical ones
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 欺诈类型以及如何处理最关键的欺诈
- en: How to design a graph model capable of recognizing where users’ credit card
    details were probably stolen
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何设计一个能够识别用户信用卡详细信息可能被盗位置的图模型
- en: How to identify rings in bank accounts based not only on the personal details
    provided, but also on information gathered from the multiple contact points users
    use to access the online banking system
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何根据提供的个人详细信息以及用户用于访问在线银行系统的多个接触点收集的信息来识别银行账户中的环
- en: References
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[Akoglu et al., 2014] Akoglu, Leman, Hanghang Tong, and Danai Koutra. “Graph-Based
    Anomaly Detection and Description: A Survey.” arXiv preprint arXiv:1404.4679 (2014).'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '[Akoglu et al., 2014] Akoglu, Leman, Hanghang Tong, and Danai Koutra. “基于图的异常检测和描述：综述。”
    arXiv预印本 arXiv:1404.4679 (2014)。'
- en: '[Baesens et al., 2015] Baesens, Bart, Veronique Van Vlasselaer, and Wouter
    Verbeke. *Fraud Analytics Using Descriptive, Predictive, and Social Network Techniques:
    A Guide to Data Science for Fraud Detection*. Hoboken, NJ: Wiley, 2015.'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '[Baesens et al., 2015] Baesens, Bart, Veronique Van Vlasselaer, and Wouter
    Verbeke. *使用描述性、预测性和社交网络技术的欺诈分析：数据科学在欺诈检测中的应用指南*。Hoboken, NJ: Wiley, 2015。'
- en: '[Bolton and Hand, 2002] Bolton, Richard J., and David J. Hand. “Statistical
    Fraud Detection: A Review.” *Statistical Science* 17:3 (2002): 235-255.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '[Bolton 和 Hand，2002] Bolton, Richard J., 和 David J. Hand. “统计欺诈检测：综述.” *统计科学*
    17:3 (2002): 235-255.'
- en: '[Diestel, 2017] Diestel, Reinhard. *Graph Theory*. New York: Springer, 2017.'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '[Diestel，2017] Diestel, Reinhard. *图论*. 纽约：Springer，2017.'
- en: '[Fawcett and Provost, 1997] Fawcett, Tom, and Foster Provost. “Adaptive Fraud
    Detection.” *Data Mining and Knowledge Discovery* 1:3 (1997): 291-316.'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '[Fawcett 和 Provost，1997] Fawcett, Tom, 和 Foster Provost. “自适应欺诈检测.” *数据挖掘与知识发现*
    1:3 (1997): 291-316.'
- en: '[Van Vlasselaer et al., 2017] Van Vlasselaer, Véronique, Tina Eliassi-Rad,
    Leman Akoglu, Monique Snoeck, and Bart Baesens. “GOTCHA! Network-Based Fraud Detection
    for Social Security Fraud.” *Management Science* 63:9 (2017): 3090-3110.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '[Van Vlasselaer 等人，2017] Van Vlasselaer, Véronique, Tina Eliassi-Rad, Leman
    Akoglu, Monique Snoeck, 和 Bart Baesens. “GOTCHA! 基于网络的社保欺诈检测.” *管理科学* 63:9 (2017):
    3090-3110.'
- en: '* * *'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^(1.)Inspired by [http://mng.bz/dmYQ](https://shortener.manning.com/dmYQ).
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: ^(1.)受 [http://mng.bz/dmYQ](https://shortener.manning.com/dmYQ) 启发。
- en: ^(2.)See [http://mng.bz/rmMX](https://shortener.manning.com/rmMX) and [http://mng.bz/VG65](https://shortener.manning.com/VG65).
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: ^(2.)参见 [http://mng.bz/rmMX](https://shortener.manning.com/rmMX) 和 [http://mng.bz/VG65](https://shortener.manning.com/VG65).
- en: ^(3.)If you don’t see the values in the Neo4j browser after the query, select
    the label Transaction below the query; then select amount as the attribute to
    visualize.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: ^(3.)如果在查询后未在 Neo4j 浏览器中看到值，请在查询下方选择标签 Transaction；然后选择金额作为要可视化的属性。
- en: ^(4.)[https://www.elastic.co/blog/significant-terms-aggregation](https://www.elastic.co/blog/significant-terms-aggregation)
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: ^(4.)[https://www.elastic.co/blog/significant-terms-aggregation](https://www.elastic.co/blog/significant-terms-aggregation)
- en: ^(5.)[http://mng.bz/A17W](https://shortener.manning.com/A17W)
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: ^(5.)[http://mng.bz/A17W](https://shortener.manning.com/A17W)
- en: ^(6.)[http://mng.bz/ZYvZ](https://shortener.manning.com/ZYvZ)
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: ^(6.)[http://mng.bz/ZYvZ](https://shortener.manning.com/ZYvZ)
- en: ^(7.)[https://github.com/neo4j/graph-data-science](https://github.com/neo4j/graph-data-science)
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: ^(7.)[https://github.com/neo4j/graph-data-science](https://github.com/neo4j/graph-data-science)
- en: ^(8.)Tidy the database with the usual MATCH (n) DETACH DELETE n.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: ^(8.)使用常规的 MATCH (n) DETACH DELETE n 命令整理数据库。
- en: ^(9.)Appendix B has instructions for installing and configuring the plugins.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: ^(9.)附录 B 包含安装和配置插件的说明。
