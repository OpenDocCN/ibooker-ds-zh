- en: Appendix A. Additional ES6 features
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录A. ES6新增特性
- en: '*This appendix covers*'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*本附录涵盖*'
- en: Template literals
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模板字符串
- en: Destructuring
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解构
- en: Object literal enhancements
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对象字面量增强
- en: This appendix covers some of the “smaller” ES6 features that don’t fit neatly
    into the previous chapters. *Template literals* enable string interpolation and
    multiline strings, *destructuring* enables us to easily extract data from objects
    and arrays, and *enhanced object literals* improve dealings with, well, object
    literals.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录涵盖了一些“较小”的ES6特性，这些特性不适合放入前面的章节。*模板字符串*使字符串插值和多行字符串成为可能，*解构*使我们能够轻松地从对象和数组中提取数据，而*增强的对象字面量*则改进了与对象字面量的处理。
- en: Template literals
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 模板字符串
- en: Template literals are a new ES6 feature that make manipulating strings much
    more pleasant than before. Just think back; how many times have you been forced
    to write something as ugly as this?
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 模板字符串是ES6的一个新特性，它使字符串操作比以前更加愉快。回想一下；你有多少次被迫写出像这样丑陋的东西？
- en: '[PRE0]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In this example, we have to construct a string with data dynamically inserted.
    To achieve this, we have to resort to some messy concatenations. But not anymore!
    In ES6 we can achieve the same result with template literals; just take a look
    at the following listing.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们必须构建一个包含动态插入数据的字符串。为了实现这一点，我们必须求助于一些混乱的连接。但不再是这样了！在ES6中，我们可以使用模板字符串达到相同的结果；只需看看下面的列表。
- en: Listing A.1\. Template literals
  id: totrans-10
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表A.1\. 模板字符串
- en: '![](388fig01_alt.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![图片](388fig01_alt.jpg)'
- en: 'As you can see, ES6 provides a new type of string that uses backticks (`` `
    ``), a string that can contain placeholders, denoted with the `${}` syntax. Within
    these placeholders, we can place any JavaScript expression: a simple variable,
    an object property access (as we did with `ninja.action`), and even function calls.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，ES6提供了一种新的字符串类型，它使用反引号（`` ` ``），这种字符串可以包含占位符，用`${}`语法表示。在这些占位符内，我们可以放置任何JavaScript表达式：一个简单的变量、一个对象属性访问（就像我们用`ninja.action`做的那样），甚至函数调用。
- en: When a template string gets evaluated, the placeholders are replaced with the
    result of evaluating the JavaScript expression contained within those placeholders.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 当模板字符串被评估时，占位符会被替换为那些占位符内包含的JavaScript表达式的评估结果。
- en: In addition, template literals aren’t limited to a single line (as are standard
    double and single quoted ones), and there’s nothing stopping us from making them
    multiline, as shown in the following listing.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，模板字符串不仅限于单行（就像标准的双引号和单引号字符串那样），我们也没有什么阻止我们使它们成为多行的，如下面的列表所示。
- en: Listing A.2\. Multiline template literals
  id: totrans-15
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表A.2\. 多行模板字符串
- en: '![](388fig02_alt.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![图片](388fig02_alt.jpg)'
- en: 'Now that we’ve given you a short intro to template literals, let’s look at
    another ES6 feature: destructuring.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经为您简要介绍了模板字符串，让我们看看另一个ES6特性：解构。
- en: Destructuring
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 解构
- en: Destructuring allows us to easily extract data from objects and arrays by using
    patterns. For example, imagine that you have an object whose properties you want
    to assign to a couple of variables, as in the following listing.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 解构允许我们通过使用模式轻松地从对象和数组中提取数据。例如，假设你有一个你想要将其属性分配给几个变量的对象，如下面的列表所示。
- en: Listing A.3\. Destructuring objects
  id: totrans-20
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表A.3\. 解构对象
- en: '![](389fig01_alt.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![图片](389fig01_alt.jpg)'
- en: 'As [listing A.3](#app01ex03) shows, with object destructuring, we can easily
    extract multiple variables from an object literal, all in one go. Consider the
    following statement:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如[列表A.3](#app01ex03)所示，使用对象解构，我们可以轻松地从对象字面量中提取多个变量，一次提取所有。考虑以下语句：
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This creates three new variables (`name`, `action`, and `weapon`) whose values
    are the values of the matching properties of the object on the right-hand side
    of the statement (`ninja.name`, `ninja.action`, and `ninja.weapon`, respectively).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这创建了三个新变量（`name`、`action`和`weapon`），它们的值分别是语句右侧对象匹配属性的值（`ninja.name`、`ninja.action`和`ninja.weapon`，分别）。
- en: 'When we don’t want to use the names of object properties, we can fine-tune
    them, as in the following statement:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们不想使用对象属性的名称时，我们可以对它们进行微调，如下面的语句所示：
- en: '[PRE2]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Here we create three variables (`myName`, `myAction`, and `myWeapon`) and assign
    to them values of the specified object properties.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们创建了三个变量（`myName`、`myAction`和`myWeapon`）并将指定的对象属性值分配给它们。
- en: Earlier, we mentioned that we can also destructure arrays, as arrays are just
    a special kind of object. Take a look at the following listing.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，我们提到过我们也可以解构数组，因为数组只是对象的一种特殊形式。看看下面的列表。
- en: Listing A.4\. Destructuring arrays
  id: totrans-29
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表A.4\. 解构数组
- en: '![](389fig02_alt.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![图片](389fig02_alt.jpg)'
- en: 'Destructing arrays is slightly different from destructuring objects, primarily
    in syntax, because the variables are wrapped in brackets (as opposed to braces,
    which are used for object destructuring), as shown in the following fragment:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 解构数组与解构对象略有不同，主要在于语法，因为变量被括号包围（与用于对象解构的大括号相反），如下面的片段所示：
- en: '[PRE3]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In this case, `Yoshi`, the first ninja, is assigned to the variable `firstNinja`.
    `Kuma` is assigned to the variable `secondNinja`. `Hattori` is assigned to the
    variable `thirdNinja`.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，第一个忍者`Yoshi`被分配给变量`firstNinja`。`Kuma`被分配给变量`secondNinja`。`Hattori`被分配给变量`thirdNinja`。
- en: 'Array destructuring also has some advanced uses. For example, if we want to
    skip certain items, we can omit variable names, while keeping commas, as in the
    following statement:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 数组解构也有一些高级用法。例如，如果我们想跳过某些项，我们可以省略变量名，同时保留逗号，如下面的语句所示：
- en: '[PRE4]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: In this case, the first two ninjas will be ignored, while the value of the third
    ninja, `Hattori`, will be assigned to the variable `third`.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，前两个忍者将被忽略，而第三个忍者`Hattori`的值将被分配给变量`third`。
- en: 'In addition, we can extract only certain items, while assigning remaining items
    to a new array:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还可以只提取某些项，同时将剩余项分配给一个新数组：
- en: '[PRE5]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The first item, `Yoshi`, is assigned to the variable `first`, and the remaining
    ninjas, `Kuma` and `Hattori`, are assigned to the new array, `remaining`. Notice
    that in this case, the remaining items are marked in the same way as the rest
    parameters (the `. . .` operator).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个项目，`Yoshi`，被分配给变量`first`，其余的忍者，`Kuma`和`Hattori`，被分配给新的数组`remaining`。注意，在这种情况下，剩余的项目与剩余参数（`...`运算符）的标记方式相同。
- en: Enhanced object literals
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 增强的对象字面量
- en: 'One of the great things about JavaScript is its ease of creating objects with
    object literals: We define a couple of properties and wrap them within curly braces,
    and voilà, we’ve created a new object. In ES6, the object literal syntax has gained
    some new extensions. Let’s look at an example. Say we want to create a `ninja`
    object, and assign to it a property based on the value of a variable that’s in
    scope, a property whose name is dynamically computed, and a method, as shown in
    the following listing.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 关于JavaScript的伟大之处之一是其使用对象字面量创建对象的简便性：我们定义几个属性，并将它们放在大括号内，然后 voilà，我们就创建了一个新的对象。在ES6中，对象字面量语法增加了一些新扩展。让我们看一个例子。假设我们想创建一个`ninja`对象，并基于作用域内的变量值给它赋一个属性，一个动态计算名称的属性，以及一个方法，如下面的列表所示。
- en: Listing A.5\. Enhanced object literals
  id: totrans-42
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表A.5：增强的对象字面量
- en: '![](app01ex05-0.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图片](app01ex05-0.jpg)'
- en: '![](app01ex05-1.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![图片](app01ex05-1.jpg)'
- en: 'This example starts by creating an `oldNinja` object using the old pre-ES6
    object literal syntax:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例首先使用旧的预ES6对象字面量语法创建一个`oldNinja`对象：
- en: '[PRE6]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We contrast this with enhanced object literals that achieve exactly the same
    effect, with less syntactic clutter:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将此与增强的对象字面量进行对比，后者可以达到完全相同的效果，但语法更简洁：
- en: '[PRE7]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This completes our exploration of important, new concepts introduced by ES6.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了我们对ES6引入的重要新概念的探索。
