- en: Unit 0\. Getting set up
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第0单元：准备工作
- en: 'Before I introduce you to working with Node.js as a web-development platform,
    you need to prepare your environment (the computer on which you’ll be developing).
    In this unit, you’ll install all the tools you need to get started with Node.js.
    These tools help you write the code to get your applications working and eventually
    running on the internet. By the end of this unit, you’ll have installed everything
    you need to get started coding and running a Node.js application. Toward this
    goal, [unit 0](#part00) covers the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在我向你介绍如何将Node.js作为Web开发平台使用之前，你需要准备你的环境（你将在其上进行开发的计算机）。在本单元中，你将安装所有开始使用Node.js所需的工具。这些工具帮助你编写代码，使你的应用程序能够工作并在互联网上运行。到本单元结束时，你将安装所有开始编码和运行Node.js应用程序所需的一切。为了实现这一目标，[第0单元](#part00)涵盖了以下主题：
- en: '[Lesson 0](../Text/kindle_split_011.html#ch00) discusses what you’re going
    to learn in this book and why it’s important. I introduce you to Node.js, giving
    you a little background and discussing why it’s a good platform for web development.
    This lesson also covers what you should expect to get out of this book. I talk
    about some of the prerequisites and things to keep in mind as you work toward
    a robust web application.'
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第0课](../Text/kindle_split_011.html#ch00)讨论了本书中你将要学习的内容及其重要性。我向你介绍了Node.js，提供了一些背景信息，并讨论了为什么它是一个好的Web开发平台。本课还涵盖了你可以从本书中期待得到的内容。我谈到了一些先决条件和你在努力构建健壮的Web应用程序时需要注意的事项。'
- en: '[Lesson 1](../Text/kindle_split_012.html#ch01) walks you through the installation
    process for each tool and library of code you’ll be using to start the next unit.
    Although installing Node.js is the focus of this lesson, setting up your computer
    as a development environment takes a few more steps.'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第1课](../Text/kindle_split_012.html#ch01)将指导你安装每个工具和库的安装过程，以便开始下一单元。尽管本课的重点是安装Node.js，但将你的计算机设置为开发环境需要更多步骤。'
- en: '[Lesson 2](../Text/kindle_split_013.html#ch02) introduces your first Node.js
    application and a few tests to ensure that you have a compatible version of Node.js
    running on your computer.'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第2课](../Text/kindle_split_013.html#ch02)介绍了你的第一个Node.js应用程序和一些测试，以确保你的计算机上运行着兼容的Node.js版本。'
- en: I begin by talking about Node.js.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我首先谈谈Node.js。
- en: Lesson 0\. Setting up Node.js and the JavaScript engine
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第0课：设置Node.js和JavaScript引擎
- en: In this lesson, you get an overview of what you’ll be learning in this book
    and why it’s important. Whether you’re new to web development or a seasoned developer
    looking to build better applications, this lesson acts as a starting guide for
    entering the world of Node.js.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，你将了解本书中将要学习的内容及其重要性。无论你是Web开发的新手还是一个希望构建更好应用的资深开发者，本课都作为进入Node.js世界的入门指南。
- en: This lesson covers
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本课涵盖
- en: Reviewing what you’re going to learn
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回顾你将要学习的内容
- en: Understanding Node.js
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解Node.js
- en: Learning why we develop in Node.js
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习为什么我们在Node.js中开发
- en: Preparing yourself for this book
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为本书做好准备
- en: '![](../Images/sectionFig.png)0.1\. What you’re going to learn'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)0.1. 你将要学习的内容'
- en: The goal of this book is to teach you how to build web applications on a platform
    called Node.js, using the JavaScript language. Starting with this lesson, each
    unit aims to build on the concepts and development skills of the last.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目标是教会你如何在名为Node.js的平台使用JavaScript语言构建Web应用程序。从本课开始，每个单元都旨在在前一单元的概念和开发技能基础上进行扩展。
- en: As you work through each lesson, you pick up new web development concepts, terminology,
    and coding skills that will help you build a web application. Although the book
    revolves around using Node.js, many of the concepts taught in the following units
    apply to other leading platforms and programming languages.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成每个课时过程中，你将掌握新的Web开发概念、术语和编码技能，这些技能将帮助你构建Web应用程序。尽管本书围绕使用Node.js展开，但以下单元中教授的许多概念也适用于其他主要平台和编程语言。
- en: '|  |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-17
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Web development skills are different from typical software engineering or computer
    theory knowledge. In addition to teaching coding concepts, this book helps explain
    how the internet works beyond your project. I’ll explain as much as I can to make
    things easier.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Web开发技能与典型的软件工程或计算机理论知识不同。除了教授编码概念外，本书还帮助解释了互联网在你的项目之外是如何工作的。我会尽我所能解释，使事情变得更容易理解。
- en: '|  |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'Following is an overview of what you’ll learn in each unit:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是每个单元你将要学习内容的概述：
- en: '[Unit 0](../Text/kindle_split_010.html#part00) gives you the background knowledge
    you need to get started and walks you through the installation of Node.js and
    development tools.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 0](../Text/kindle_split_010.html#part00) 提供了您开始所需的背景知识，并指导您安装 Node.js 和开发工具。'
- en: '[Unit 1](../Text/kindle_split_014.html#part01) covers some basic web development
    concepts and provides guiding steps toward building your first web application
    in Node.js from scratch.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 1](../Text/kindle_split_014.html#part01) 涵盖了一些基本的网络开发概念，并提供了构建您的第一个 Node.js
    网络应用程序的指导步骤。'
- en: '[Unit 2](../Text/kindle_split_020.html#part02) introduces you to Express.js,
    a web framework that most Node.js developers use to build applications. You learn
    what Express.js offers, how it works, and what you can do to customize it. In
    this unit, you also learn about the model-view-controller (MVC) application architecture
    pattern.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 2](../Text/kindle_split_020.html#part02) 介绍了 Express.js，这是大多数 Node.js 开发者用来构建应用程序的
    Web 框架。您将了解 Express.js 提供了什么、它是如何工作的以及您可以如何定制它。在本单元中，您还将了解模型-视图-控制器 (MVC) 应用程序架构模式。'
- en: '[Unit 3](../Text/kindle_split_026.html#part03) guides you through connecting
    your application to a database. This unit also helps you install a few new tools
    and structure your database with MongoDB.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 3](../Text/kindle_split_026.html#part03) 指导您将应用程序连接到数据库。本单元还帮助您安装一些新工具，并使用
    MongoDB 结构化您的数据库。'
- en: '[Unit 4](../Text/kindle_split_031.html#part04) teaches you about building data
    models in your application, where CRUD operations are performed to create, read,
    update, and delete data from the database.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 4](../Text/kindle_split_031.html#part04) 教您在应用程序中构建数据模型，其中 CRUD 操作用于从数据库中创建、读取、更新和删除数据。'
- en: '[Unit 5](../Text/kindle_split_037.html#part05) helps you build code to represent
    user accounts in an object-oriented structure. In this unit, you learn about securing
    your data and building a login form for new users.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 5](../Text/kindle_split_037.html#part05) 帮助您构建代码以在面向对象的结构中表示用户账户。在本单元中，您将了解如何保护您的数据并为新用户构建登录表单。'
- en: '[Unit 6](../Text/kindle_split_042.html#part06) introduces building an application
    programming interface (API). You learn what constitutes an API, how to secure
    it, and how to design it by using the REST architecture.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 6](../Text/kindle_split_042.html#part06) 介绍了构建应用程序编程接口 (API)。您将了解 API 的构成、如何保护它以及如何使用
    REST 架构来设计它。'
- en: '[Unit 7](../Text/kindle_split_047.html#part07) invites you to build a live
    chat system into your application. This unit introduces polling, web sockets,
    and broadcasting data with Socket.io, a library that mainstream applications use
    to get data to their users faster and more efficiently.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 7](../Text/kindle_split_047.html#part07) 邀请您将实时聊天系统集成到您的应用程序中。本单元介绍了轮询、WebSockets
    以及使用 Socket.io 库广播数据，该库是主流应用程序用来更快、更高效地将数据传递给用户所使用的库。'
- en: '[Unit 8](../Text/kindle_split_052.html#part08) guides you through the deployment
    process. This unit helps you set up the necessary tools and accounts.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[单元 8](../Text/kindle_split_052.html#part08) 指导您完成部署过程。本单元帮助您设置必要的工具和账户。'
- en: To start, let’s talk a bit about exactly what Node.js is.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们谈谈 Node.js 究竟是什么。
- en: '![](../Images/sectionFig.png)0.2\. Understanding Node.js'
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)0.2. 理解 Node.js'
- en: Node.js is a platform for interpreting JavaScript code and running applications.
    Java-Script has been around for a couple of decades; with every improvement, it
    has shifted further from being a client-side scripting language to a full-fledged
    server-side programming language for managing data.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Node.js 是一个用于解释 JavaScript 代码并运行应用程序的平台。JavaScript 已经存在了几十年；随着每一次的改进，它越来越远离客户端脚本语言，成为了一个全功能的后端编程语言，用于管理数据。
- en: Because Node.js is built with Google Chrome’s JavaScript engine (a tool used
    to interpret the JavaScript language into meaningful computer commands), it’s
    considered to be powerful and able to support JavaScript as a server-side language.
    JavaScript can be used to both assist in web-page (client-side) interactions and
    handle incoming application data and database communications. (The latter jobs
    have often been reserved for languages such as C, Java, Python, and Ruby, among
    others). Developers can now commit to mastering JavaScript to build a complete
    web application instead of having to master multiple languages to accomplish the
    same task.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Node.js是用Google Chrome的JavaScript引擎（一种将JavaScript语言解释为有意义的计算机命令的工具）构建的，因此被认为功能强大，能够支持JavaScript作为服务器端语言。JavaScript可以用于协助网页（客户端）交互，并处理传入的应用程序数据和数据库通信。（这些工作通常留给C、Java、Python和Ruby等其他语言）。现在，开发者可以致力于掌握JavaScript来构建完整的Web应用程序，而不是需要掌握多种语言来完成相同任务。
- en: '|  |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Client-side versus server-side**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**客户端与服务器端**'
- en: 'As a general overview, web development can largely be broken into two categories:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一般概述，Web开发可以大致分为两大类：
- en: '*Client-side*—(front-end) refers to the code you write that results in something
    the user sees in his web browser. Client-side code typically includes JavaScript
    used to animate the user experience when a web page is loaded.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*客户端*—(前端)指的是你编写的代码，它导致用户在浏览器中看到的东西。客户端代码通常包括用于在网页加载时动画化用户体验的JavaScript。'
- en: '*Server-side*—(back-end) refers to code used for application logic (how data
    is organized and saved to the database). Server-side code is responsible for authenticating
    users on a login page, running scheduled tasks, and even ensuring that the client-side
    code reaches the client.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*服务器端*—(后端)指的是用于应用程序逻辑（数据如何组织并保存到数据库）的代码。服务器端代码负责在登录页面上验证用户，运行计划任务，甚至确保客户端代码到达客户端。'
- en: In the following figure, the client represents the browser on which a user may
    view your application. The server is where your application runs and handles any
    data submitted by the user. Also, the server often renders the user interface
    in many cases in which the client expects one.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的图中，客户端代表用户可能查看应用程序的浏览器。服务器是应用程序运行和处理用户提交的任何数据的地方。此外，在客户端期望的情况下，服务器通常渲染用户界面。
- en: '|  |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-41
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: '*Application*, as used throughout this book, refers to a computer program written
    in a programming language and run on a computer. This book focuses on web applications
    written in JavaScript and run with Node.js.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中使用的“*应用程序*”一词指的是用编程语言编写的计算机程序，并在计算机上运行。本书侧重于用JavaScript编写并在Node.js上运行的Web应用程序。
- en: '|  |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '![](../Images/f006-01_alt.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f006-01_alt.jpg)'
- en: Client-server interaction
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端-服务器交互
- en: You’ll hear these two terms used a lot in application development, and because
    Java-Script has been used for both types of development, the line separating these
    two worlds is disappearing. *Full stack* development, using JavaScript, defines
    this new development in which JavaScript is used on the server and client, as
    well as on devices, hardware, and architectures it didn’t exist on before.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 你会在应用程序开发中经常听到这两个术语的使用，并且由于JavaScript已被用于这两种类型的开发，这两个世界之间的界限正在消失。*全栈*开发，使用JavaScript，定义了这种新开发，其中JavaScript在服务器和客户端以及之前不存在的设备、硬件和架构上使用。
- en: '|  |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Node.js operates on an event loop using a single thread. A *thread* is the bundle
    of computing power and resources needed for the execution of a programmed task.
    Generally, a thread is responsible for starting and completing a task; the more
    tasks needed to run simultaneously, the more threads are needed. In most other
    software, multiple tasks are matched and handled by a pool of threads that the
    computer can offer at the same time (concurrently). Node.js, however, handles
    only one task at a time and uses more threads only for tasks that can’t be handled
    by the main thread.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Node.js在单个线程上使用事件循环。*线程*是执行程序任务所需的计算能力和资源的集合。通常，线程负责启动和完成任务；需要同时运行的任务越多，所需的线程就越多。在大多数其他软件中，多个任务由计算机可以同时提供的线程池匹配和处理（并发）。然而，Node.js一次只处理一个任务，并且只为那些无法由主线程处理的任务使用更多的线程。
- en: This process may sound counterintuitive, but in most applications that don’t
    require computationally intensive tasks (tasks requiring a lot of processing power
    from your computer), this single thread can quickly manage and execute all the
    tasks. See a simplified diagram of the event loop in [figure 0.1](#ch00fig01).
    As tasks are prepared to run, they enter a queue to be processed by specific phases
    of the event loop.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程可能听起来有些反直觉，但在大多数不需要计算密集型任务（需要大量计算机处理能力的任务）的应用程序中，这个单线程可以快速管理和执行所有任务。请参见[图0.1](#ch00fig01)中事件循环的简化图。当任务准备运行时，它们会进入队列，等待事件循环的特定阶段进行处理。
- en: Figure 0.1\. Simplified model of the Node.js event loop
  id: totrans-50
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图0.1. Node.js事件循环的简化模型
- en: '![](../Images/00fig01_alt.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/00fig01_alt.jpg)'
- en: As its name implies, the Node.js event loop cycles forever in a loop, listening
    for JavaScript events triggered by the server to notify of some new task or another
    task’s completion. As the number of tasks increases, tasks line up in a queue
    to be incrementally processed by the event loop. You don’t code with this fact
    in mind, though. You write your code by using asynchronous conventions, and the
    Node.js architecture schedules task handling for you behind the scenes. As a result,
    Node.js has become popular for creating real-time applications that persistently
    listen for data being sent back and forth.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，Node.js的事件循环在循环中永无止境地运行，监听由服务器触发的JavaScript事件，以通知某些新任务或其他任务的完成。随着任务数量的增加，任务会排队等待事件循环逐步处理。尽管如此，你编写代码时并不需要考虑这个事实。你通过使用异步约定来编写代码，而Node.js架构会在幕后为你安排任务处理。因此，Node.js因其能够创建持续监听数据来回传输的实时应用而变得流行。
- en: You can think of the event loop as being like an office manager. The office
    manager’s role is to handle incoming messages, job assignments, and office-related
    tasks. The office manager could have a long list of tasks to complete, from delegating
    the creation of complete financial reports to answering the phone and putting
    up the office-party decorations. Because some tasks take more time than others,
    the office manager isn’t obligated to complete any individual task before handling
    a new one. If she’s setting up for a party and the phone rings, for example, she
    can stop setting up to answer the call. Better yet, she can answer the call and
    transfer the caller to another employee so that she can go back to decorating.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将事件循环想象成一个办公室经理。办公室经理的职责是处理收到的消息、工作分配和办公室相关任务。办公室经理可能有一长串待完成的任务，从委派创建完整的财务报告到接听电话和布置办公室派对装饰。由于一些任务所需时间比其他任务长，办公室经理在处理新任务之前并不一定要完成任何单个任务。例如，如果她正在为派对做准备，电话响了，她可以停止布置去接电话。更好的是，她可以接听电话，并将来电者转接到另一位员工那里，这样她就可以回去布置了。
- en: Similarly, the event loop handles a series of tasks, always working on one task
    at a time and using the computer’s processing power to offload some larger tasks
    while the event loop shortens the list of tasks. On most other platforms, incoming
    tasks are assigned to new processes, creating a new event loop for each task.
    Increasing the number of tasks, however, is like increasing the number of employees
    in a finite space. You start to run into new issues such as cost, computing power,
    and shared resources. (What would you do if two employees need to use the phone
    at the same time, for example?)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，事件循环处理一系列任务，总是同时处理一个任务，并使用计算机的处理能力来卸载一些较大的任务，同时事件循环缩短任务列表。在大多数其他平台上，新任务会被分配给新的进程，为每个任务创建一个新的事件循环。然而，增加任务数量就像在有限的空间内增加员工数量一样。你开始遇到新问题，如成本、计算能力和共享资源。（例如，如果两个员工需要同时使用电话，你会怎么办？）
- en: '|  |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Processes and threads**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**进程和线程**'
- en: It’s important to note that the Node.js event loop relies on a single thread
    to manage all its tasks, but it doesn’t necessarily use that thread only to run
    each task to completion. In fact, Node.js is designed to pass larger tasks to
    the host computer, and the computer may create new threads and processes to operate
    those tasks.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，Node.js事件循环依赖于单个线程来管理所有任务，但它并不一定只使用该线程来运行每个任务直到完成。实际上，Node.js被设计为将较大的任务传递给宿主计算机，计算机可能会创建新的线程和进程来操作这些任务。
- en: A *thread* is an allocated bundle of computer resources used to run a series
    of instructions in a task. Usually, the tasks handled by threads are simple and
    fast. For this reason, the Node.js event loop needs only one thread to act as
    the manager of all other tasks. Threads are made available through computer processes,
    and some more-intensive tasks require their own process to run.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 一个 *线程* 是用于在任务中运行一系列指令分配的计算机资源。通常，线程处理的任务简单且快速。因此，Node.js 事件循环只需要一个线程来作为所有其他任务的经理。线程通过计算机进程提供，一些更密集的任务需要它们自己的进程来运行。
- en: A *process* is also a bundle of computing power and resources used for a task’s
    execution, though usually for larger tasks than those handled by threads. A process
    must exist to create a thread, which implies that each Node.js application runs
    on its own process.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 一个 *进程* 也是一个用于任务执行的计算机资源和能力的集合，尽管通常用于比线程处理的任务更大的任务。必须存在一个进程来创建一个线程，这意味着每个 Node.js
    应用程序都在自己的进程中运行。
- en: Even though Node.js may be single-threaded, you can have multiple instances
    of processes running in parallel and processing incoming requests and tasks. For
    this reason, Node.js scales well; it schedules tasks asynchronously, using additional
    threads and processes only when necessary instead of generating new processes
    for every task. As more processes are needed to handle your task list, demand
    on your computer increases. Node.js works best to minimize the number of concurrent
    processes.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管 Node.js 可能是单线程的，但你可以在并行运行多个进程实例的同时处理传入的请求和任务。因此，Node.js 具有良好的可扩展性；它异步调度任务，仅在必要时才使用额外的线程和进程，而不是为每个任务生成新的进程。随着需要处理的任务列表增加，对计算机的需求也会增加。Node.js
    最好用于最小化并发进程的数量。
- en: You may hear the terms *thread* and process in conjunction. For this book, you
    only need to know that Node.js depends on a single task handler at any given time.
    For more information on threads and processes in Node.js, read the article on
    Node.js scalability at [https://medium.freecodecamp.org/node-js-child-processes-everything-you-need-to-knowe69498fe970a](https://medium.freecodecamp.org/node-js-child-processes-everything-you-need-to-knowe69498fe970a).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会听到 *线程* 和 *进程* 这两个术语一起出现。对于这本书，你只需要知道 Node.js 在任何给定时间都依赖于单个任务处理器。有关 Node.js
    中线程和进程的更多信息，请阅读关于 Node.js 可扩展性的文章[https://medium.freecodecamp.org/node-js-child-processes-everything-you-need-to-knowe69498fe970a](https://medium.freecodecamp.org/node-js-child-processes-everything-you-need-to-knowe69498fe970a)。
- en: '|  |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: In this book, I further explore some Node.js strengths in building a web application.
    Before I dive deeper, however, let’s talk about why Node.js is beneficial.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我进一步探讨了 Node.js 在构建 Web 应用程序方面的某些优势。然而，在深入探讨之前，让我们谈谈为什么 Node.js 有益。
- en: '|  |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Quick check 0.1**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 0.1**'
- en: '**[Q1:](#ch00qa2q0a1)**'
  id: totrans-66
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch00qa2q0a1)**'
- en: ''
  id: totrans-67
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'True or false: The Node.js event loop runs each task to completion before handling
    the next task.'
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 真或假：Node.js 的事件循环在处理下一个任务之前会先完成每个任务的执行。
- en: '|  |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '|  |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**QC 0.1 answer**'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 0.1 答案**'
- en: '**[1:](#ch00qa1q1)**'
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch00qa1q1)**'
- en: ''
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: False. The Node.js event loop removes tasks from a queue sequentially, but it
    may offload the task to be handled by the machine on which the application is
    running or wait for certain tasks to complete while handling new tasks.
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 错误。Node.js 的事件循环按顺序从队列中移除任务，但它可能会将任务卸载到应用程序正在运行的机器上处理，或者在处理新任务的同时等待某些任务的完成。
- en: '|  |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '![](../Images/sectionFig.png)0.3\. Why learn to develop in Node.js?'
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)0.3\. 为什么学习在 Node.js 中开发？'
- en: It’s likely that you’ve picked up this book to become a better programmer and
    to build a web application, which is also the main reason you’d use Node.js and
    get better at coding in JavaScript.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 很可能你已经选择了这本书，希望成为一名更好的程序员并构建 Web 应用程序，这也是你使用 Node.js 并提高 JavaScript 编程技能的主要原因。
- en: 'Plenty of other options, such as Ruby on Rails and PHP, could help you build
    an application that’s indistinguishable to a user from a Node.js application.
    Consider the following reasons to learn Node.js instead:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 许多其他选项，如 Ruby on Rails 和 PHP，可以帮助你构建一个对用户来说与 Node.js 应用程序无法区分的应用程序。考虑以下学习 Node.js
    的原因：
- en: You can focus on JavaScript as the core language in development instead of balancing
    multiple languages to keep your application afloat.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以专注于 JavaScript 作为开发的核心语言，而不是在保持应用程序运行的同时平衡多种语言。
- en: If you want to stream data continuously or have some chat functionality, Node.js
    has gained prominence over other platforms.
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你想要连续流式传输数据或有一些聊天功能，Node.js 在其他平台之上获得了显著的关注。
- en: Node.js is backed by Google’s V8 JavaScript interpreter, meaning that it’s widely
    supported and expected to grow in performance and features, and won’t go away
    soon. Visit [http://node.green/](http://node.green/) to see what features are
    supported by each version of Node.js.
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Node.js由Google的V8 JavaScript解释器支持，这意味着它得到了广泛的支持，预计性能和功能将不断增长，并且不会很快消失。访问[http://node.green/](http://node.green/)以查看Node.js每个版本的受支持功能。
- en: Node.js has gained a lot of popularity in the web development community. You’re
    likely to meet and get support from other developers who may have been developing
    with Node.js for up to five years. Additionally, more supportive, open-source
    tools are now being built for Node.js than for other, older platforms.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Node.js在Web开发社区中获得了很大的流行。你很可能会遇到并从那些可能已经使用Node.js开发了长达五年的其他开发者那里获得支持。此外，现在为Node.js构建的支持性、开源工具比其他较老的平台更多。
- en: More jobs are available for developers who have concrete JavaScript skills.
    You can apply for front-end or back-end development positions when you know Node.js.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有具体JavaScript技能的开发者，有更多的工作机会。当你了解Node.js时，你可以申请前端或后端开发职位。
- en: If you’re trying to enter the web development world as a new programmer, or
    if you’ve developed software before and are looking for the new thing that everyone’s
    talking about, Node.js is your platform of choice, and this book is your book.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你作为一个新程序员试图进入Web开发世界，或者如果你以前开发过软件，正在寻找大家都在谈论的新事物，Node.js是你的首选平台，而这本书是你的指南。
- en: '![](../Images/sectionFig.png)0.4\. Preparing yourself for this book'
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![章节图](../Images/sectionFig.png)0.4. 为本书做准备'
- en: From the first unit in this book, you’re introduced to web development through
    the process of building a basic web server in Node.js. As the book progresses,
    you’ll append code to your application to complete a robust web application.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 从本书的第一个单元开始，你将通过在Node.js中构建一个基本的Web服务器的过程来了解Web开发。随着本书的进展，你将向你的应用程序添加代码以完成一个健壮的Web应用。
- en: To prime yourself to learn these new topics, make sure that you go through each
    lesson carefully and write all the code examples yourself. If you get into the
    habit of copying and pasting code instead, you’ll likely run into some errors;
    more important, you won’t learn the concepts.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为了准备好学习这些新主题，请确保你仔细阅读每一节课，并亲自编写所有代码示例。如果你养成复制粘贴代码的习惯，你可能会遇到一些错误；更重要的是，你不会学习到概念。
- en: Because JavaScript is an important prerequisite for this book, research best
    practices and other common solutions to your problems online if you struggle through
    a task. Throughout this book, you’ll find exercises and “Quick check” questions
    to test your knowledge. (You completed your first “Quick check” in section 2.)
    At the end of each lesson starting with [lesson 3](../Text/kindle_split_015.html#ch03),
    expect a section called “Try this,” where you can practice some of the coding
    concepts presented earlier in the lesson.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 因为JavaScript是本书的重要先决条件，如果你在完成任务时遇到困难，请在网上搜索最佳实践和其他常见解决方案。在整个书中，你将找到练习和“快速检查”问题来测试你的知识。（你在第2节完成了你的第一个“快速检查”。）从[第3课](../Text/kindle_split_015.html#ch03)开始，每节课的结尾都会有一个名为“尝试这个”的部分，你可以练习在课程中较早提出的某些编码概念。
- en: The exercises and capstone projects at the end of each unit mark milestones
    on your way to creating a web application with all the bells and whistles.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 每个单元末尾的练习和综合项目标志着你在创建一个功能齐全的Web应用道路上的里程碑。
- en: Treat each unit like a course topic and each lesson as a lecture. You may find
    that some lessons take longer to comprehend or apply in code than others. Take
    your time, but also continually build your development skills through repetition
    and practice.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 将每个单元视为一个课程主题，将每节课视为一次讲座。你可能发现有些课程在理解或应用代码方面比其他课程花费的时间更长。请耐心一些，但也要通过重复和实践不断构建你的开发技能。
- en: The goal of the book is to make you comfortable building a web application like
    the one built throughout the capstone lessons. In these capstones, you build a
    web application for a company called Confetti Cuisine, which offers cooking classes
    and allows users to sign up, connect, and chat with one another about recipes.
    Try to follow the guidelines of the capstone and redo part, or all, of the project
    after your first pass.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目标是让你在构建一个像在综合课程中构建的Web应用时感到舒适。在这些综合课程中，你为名为Confetti Cuisine的公司构建一个Web应用，该公司提供烹饪课程，并允许用户注册、连接和相互讨论食谱。尝试遵循综合课程的指南，并在第一次尝试后重新做部分或全部项目。
- en: '|  |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Tip
  id: totrans-93
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: Consider working through an exercise three times. The first time, follow the
    guide; the second time, work with some reference from the guide; and the third
    time, work on your own without any help. By the third time, you’ll have a concrete
    understanding of the concept involved.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑将练习题做三次。第一次，按照指南进行；第二次，参考指南中的内容进行练习；第三次，在没有任何帮助的情况下独立完成。到第三次时，你将对涉及的概念有一个具体的理解。
- en: '|  |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Most of the exercises in this book ask you to use your computer’s terminal (command
    line). Node.js is a cross-platform tool—meaning that it can run on Windows, Mac,
    and Linux machines—but I teach it from a UNIX perspective in this book. Windows
    users can use their built-in command line to run Node.js but may find some of
    the terminal commands to be different. As a result, I recommend that Windows users
    install Git Bash, a terminal window where you can use UNIX commands and follow
    all the examples in this book. You can accomplish a lot, however, with the Node.js
    command-line environment that comes with your Node.js installation. For information
    on installing Git Bash, visit [https://git-scm.com/downloads](https://git-scm.com/downloads).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的大多数练习都要求你使用电脑的终端（命令行）。Node.js是一个跨平台工具——这意味着它可以在Windows、Mac和Linux机器上运行——但我在本书中从UNIX的角度来教授它。Windows用户可以使用内置的命令行来运行Node.js，但可能会发现一些终端命令有所不同。因此，我建议Windows用户安装Git
    Bash，这是一个可以让你使用UNIX命令并跟随本书所有示例的终端窗口。然而，你仍然可以使用Node.js安装包中附带的控制台环境完成很多事情。有关安装Git
    Bash的信息，请访问[https://git-scm.com/downloads](https://git-scm.com/downloads)。
- en: After completing each unit, look back at the progress you’ve made since the
    last capstone exercise. By the end of [unit 7](../Text/kindle_split_047.html#part07),
    you’ll have built a complete web application with Node.js.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成每个单元后，回顾自上次综合练习以来的进步。到[第7单元](../Text/kindle_split_047.html#part07)结束时，你将使用Node.js构建一个完整的网络应用程序。
- en: 'I’ll remind you about the following items along the way, but you should keep
    them in mind as you progress through this book:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 我会在过程中提醒你以下事项，但你应该在阅读本书的过程中记住它们：
- en: Source files are written in JavaScript and have a .js file extension.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 源文件是用JavaScript编写的，并具有.js文件扩展名。
- en: The main application file used in every example in the book is called main.js
    unless otherwise specified.
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 书中每个示例使用的主要应用程序文件被称为main.js，除非另有说明。
- en: I recommend using an up-to-date Google Chrome browser for running book exercises
    that require a web browser. You can download that browser from [https://www.google.com/chrome/browser/](https://www.google.com/chrome/browser/).
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我建议使用最新的Google Chrome浏览器来运行需要网络浏览器的书练习。你可以从[https://www.google.com/chrome/browser/](https://www.google.com/chrome/browser/)下载该浏览器。
- en: 'In the lessons I do my best to explain new terms and concepts tangential to
    the Node.js learning experience. If you need more information on any topic mentioned
    in the book, however, you can reference any of the following resources:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的课程中，我会尽力解释与Node.js学习体验相关的术语和概念。然而，如果你需要关于书中提到的任何主题的更多信息，你可以参考以下资源：
- en: '*HTML5 in Action* by Rob Crowther, Joe Lennon, Ash Blue, and Greg Wanish (Manning,
    2014)'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 《HTML5 动作》由Rob Crowther、Joe Lennon、Ash Blue和Greg Wanish著（Manning, 2014）
- en: '*CSS in Depth* by Keith J. Grant (Manning, 2018)'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 《深度解析CSS》由Keith J. Grant著（Manning, 2018）
- en: '*You Don’t Know JS: Up & Going* ([https://github.com/getify/You-Dont-Know-JS](https://github.com/getify/You-Dont-Know-JS)),
    by Kyle Simpson (O’Reilly Media, 2015)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 《你不知道的JS：入门》([https://github.com/getify/You-Dont-Know-JS](https://github.com/getify/You-Dont-Know-JS))，由Kyle
    Simpson著（O’Reilly Media, 2015）
- en: '*ES6 in Motion* ([https://www.manning.com/livevideo/es6-in-motion](https://www.manning.com/livevideo/es6-in-motion)),
    by Wes -Higbee'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 《ES6 动态实践》([https://www.manning.com/livevideo/es6-in-motion](https://www.manning.com/livevideo/es6-in-motion))，由
    Wes -Higbee 著
- en: '![](../Images/sectionFig.png)Summary'
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![sectionFig.png](../Images/sectionFig.png)摘要'
- en: In this lesson, my objective was to teach you about the book’s structure, what
    Node.js is, and why it’s important. I also talked about how you should approach
    this book. If you treat this book as a course with subtopics and lectures, you’ll
    build your knowledge and skills incrementally until you become a competent web
    developer. In the next lesson, you install the tools that you need to get coding.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，我的目标是教你了解这本书的结构，Node.js是什么，以及为什么它很重要。我还谈到了你应该如何对待这本书。如果你将这本书视为一个包含子主题和讲座的课程，你将逐步构建你的知识和技能，直到成为一个合格的网络开发者。在下一课中，你将安装你需要开始编码的工具。
- en: Lesson 1\. Configuring your environment
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第1课\. 配置你的环境
- en: In this lesson, you install all the tools you need to start building applications
    with Node.js. You install a version of Node.js that’s compatible with the latest
    JavaScript ES6 updates. Next, you install a text editor—software through which
    you’ll write your application’s code. Last, you give Node.js a test drive from
    your computer’s command-line terminal by using a Node.js sandbox environment known
    as REPL.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，您将安装开始使用 Node.js 构建应用程序所需的所有工具。您将安装一个与最新 JavaScript ES6 更新兼容的 Node.js 版本。接下来，您将安装一个文本编辑器——您将通过它编写应用程序的代码。最后，您将通过使用名为
    REPL 的 Node.js 沙盒环境，从计算机的命令行终端对 Node.js 进行测试运行。
- en: This lesson covers
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 本课涵盖
- en: Installing Node.js
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装 Node.js
- en: Installing a text editor
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装文本编辑器
- en: Setting up SCM and deployment tools
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置版本控制和部署工具
- en: Working with the Node.js REPL in terminal
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在终端中使用 Node.js REPL
- en: '![](../Images/sectionFig.png)1.1\. Installing Node.js'
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)1.1\. 安装 Node.js'
- en: Node.js is growing in popularity and support. For this reason, new versions
    to download are being deployed quite frequently, and it’s important to stay up
    to date with the latest versions to see how they may benefit or otherwise affect
    the applications you’re building. At this writing, the version of Node.js to download
    is 11.0.0 or later.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: Node.js 的流行度和支持度正在增长。因此，新的下载版本被频繁部署，了解最新版本可能如何影响您构建的应用程序非常重要。在本写作时，要下载的 Node.js
    版本是 11.0.0 或更高版本。
- en: '|  |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Note
  id: totrans-119
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: The release of Node.js 8.8.1 comes with support for ES6 syntax. ES6 (ECMAScript
    2015) is a recent update to JavaScript, with syntax improvements for defining
    variables, functions, and OOP code. To keep up with updates to JavaScript, download
    the latest stable version of Node.js as your development progresses.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: Node.js 8.8.1 版本的发布带来了对 ES6 语法的支持。ES6（ECMAScript 2015）是 JavaScript 的一次近期更新，它改进了变量、函数和面向对象代码的语法。为了跟上
    JavaScript 的更新，随着您开发的进展，下载 Node.js 的最新稳定版本。
- en: '|  |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: You have a couple of ways to download and install Node.js, all of which are
    listed on the Node.js main site, [https://nodejs.org](https://nodejs.org).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 您有几种方法可以下载和安装 Node.js，所有这些方法都在 Node.js 主网站上列出，[https://nodejs.org](https://nodejs.org)。
- en: Because Node.js is platform-independent, you can download and install it on
    your Mac, Windows, or Linux computer and expect full functionality.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Node.js 是平台无关的，您可以在 Mac、Windows 或 Linux 计算机上下载并安装它，并期望获得完整的功能。
- en: The simplest way to install Node.js is to go to the download link at [https://nodejs.org/en/download/](https://nodejs.org/en/download/)
    and follow the instructions and prompts to download the installer for the latest
    version of Node.js ([figure 1.1](#ch01fig01)).
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Node.js 最简单的方法是访问 [https://nodejs.org/en/download/](https://nodejs.org/en/download/)
    上的下载链接，并按照说明和提示下载最新版本 Node.js 的安装程序 ([图 1.1](#ch01fig01))。
- en: Figure 1.1\. Node.js installer page
  id: totrans-125
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 1.1\. Node.js 安装程序页面
- en: '![](../Images/01fig01_alt.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/01fig01_alt.jpg)'
- en: '|  |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: '**Node Version Manager**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**Node 版本管理器**'
- en: 'Alternatively, you may want to use the Node.js Version Manager (NVM) to handle
    your Node.js installation and manage one version or multiple versions of Node.js
    on your computer. The benefit of using a version manager is that you can test
    newer versions of Node.js as they’re released while still having older, more stable,
    versions installed in case of compatibility issues. You can follow the installation
    instructions at [https://github.com/creationix/nvm](https://github.com/creationix/nvm)
    or follow these steps on a UNIX machine:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可能想使用 Node.js 版本管理器 (NVM) 来处理您的 Node.js 安装并管理计算机上的一或多个 Node.js 版本。使用版本管理器的优点是，您可以在发布新版本的同时测试
    Node.js 的新版本，同时如果出现兼容性问题，还可以安装更旧、更稳定的版本。您可以在 [https://github.com/creationix/nvm](https://github.com/creationix/nvm)
    上找到安装说明，或者在 UNIX 机器上按照以下步骤操作：
- en: Run `curl -o https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh
    | bash` in a new terminal window. You may need to quit and relaunch terminal after
    this installation completes.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新终端窗口中运行 `curl -o https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh
    | bash`。在安装完成后，您可能需要退出并重新启动终端。
- en: Run `nvm list` in a terminal window to see whether any versions of Node.js are
    already installed on your computer.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端窗口中运行 `nvm list` 以查看您的计算机上是否已安装任何版本的 Node.js。
- en: Run `nvm ls-remote` in terminal to check what versions of Node.js are available
    to install.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端中运行 `nvm ls-remote` 以检查可安装的 Node.js 版本。
- en: Run `nvm install 11.0.0` in terminal to install the current Node.js version.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端中运行 `nvm install 11.0.0` 以安装当前版本的 Node.js。
- en: Run `node -v` in terminal to verify that you have version 9.3.0 installed.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端中运行 `node -v` 以验证你是否已安装了 9.3.0 版本。
- en: If you’re comfortable with installing Node.js through NVM and without a graphical
    interface to walk you through the process, this setup is right for you. When installation
    is complete, don’t install Node.js again by using the other set of instructions
    in this lesson.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你熟悉通过 NVM 安装 Node.js 并且没有图形界面来引导你完成过程，这个设置就适合你。安装完成后，不要使用本课中的另一组说明再次安装 Node.js。
- en: '|  |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-138
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: 'NVM doesn’t support Windows. You may work with one of two alternative version
    managers: `nvm-windows` and `nodist`, which you can install by following the instructions
    at [https://github.com/coreybutler/nvm-windowsandhttps://github.com/marcelklehr/nodist](https://github.com/coreybutler/nvm-windowsandhttps://github.com/marcelklehr/nodist),
    respectively.'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: NVM 不支持 Windows。你可以使用两种替代版本管理器之一：`nvm-windows` 和 `nodist`，你可以通过分别遵循[https://github.com/coreybutler/nvm-windowsandhttps://github.com/marcelklehr/nodist](https://github.com/coreybutler/nvm-windowsandhttps://github.com/marcelklehr/nodist)中的说明来安装。
- en: '|  |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: When you install Node.js, you also get npm, the Node.js ecosystem of external
    libraries (multiple files of code other people wrote) that can be imported into
    your future projects. npm is similar to pip in Python and gem in Ruby. You learn
    more about npm in [unit 1](../Text/kindle_split_014.html#part01).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 当你安装 Node.js 时，你也会得到 npm，这是 Node.js 的外部库生态系统（其他人编写的多个代码文件），可以导入到你的未来项目中。npm
    与 Python 中的 pip 和 Ruby 中的 gem 类似。你可以在[单元 1](../Text/kindle_split_014.html#part01)中了解更多关于
    npm 的信息。
- en: When the installer file is downloaded, double-click the file in your browser’s
    download panel or your computer’s download folder. The installer opens a new window
    that looks like [figure 1.2](#ch01fig02) and writes all necessary files and core
    Node.js libraries to your system. You may be asked to accept licensing agreements
    or give the installer permission to install Node.js on your computer. Follow the
    prompts to click through the installation.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 当安装程序文件下载完成后，在你的浏览器下载面板或电脑的下载文件夹中双击文件。安装程序打开一个新窗口，看起来像[图 1.2](#ch01fig02)，并将所有必要的文件和核心
    Node.js 库写入到你的系统中。你可能需要接受许可协议或给予安装程序在电脑上安装 Node.js 的权限。按照提示点击通过安装过程。
- en: Figure 1.2\. Node.js writing to your machine
  id: totrans-143
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 1.2\. Node.js 向你的机器写入
- en: '![](../Images/01fig02_alt.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/01fig02_alt.jpg)'
- en: '|  |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Terminal and your PATH**'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**终端和你的 PATH**'
- en: You’ll be working mostly in your computer’s terminal, which is built-in software
    used to navigate and run commands on your computer without a graphical interface.
    This book teaches using UNIX terminal (Bash) commands. Those of you who are Windows
    users can follow along by using Window’s CMD terminal window (but may need to
    look up command equivalents throughout the book). You can reference the table
    at [https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Step_by_Step_Guide/ap-doslinux.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Step_by_Step_Guide/ap-doslinux.html),
    which compares Windows and UNIX commands. To make things easier in Windows, you
    can download and install an additional Bash terminal called Git Bash from [http://git-scm.com/downloads](http://git-scm.com/downloads).
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 你将主要在电脑的终端中工作，终端是内置软件，用于在没有图形界面的情况下导航和运行计算机上的命令。本书教授使用 UNIX 终端（Bash）命令。对于 Windows
    用户，可以通过使用 Windows 的 CMD 终端窗口来跟随教程（但可能需要在书中查找命令等效项）。你可以参考[https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Step_by_Step_Guide/ap-doslinux.html](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Step_by_Step_Guide/ap-doslinux.html)中的表格，该表格比较了
    Windows 和 UNIX 命令。为了在 Windows 上更容易操作，你可以从[http://git-scm.com/downloads](http://git-scm.com/downloads)下载并安装一个名为
    Git Bash 的额外 Bash 终端。
- en: Make a note of where your version of Node.js and npm are installed on your machine.
    That information appears in the final window of the installer. The installer attempts
    to add these directory locations to your system’s PATH variable.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 记下你的 Node.js 和 npm 版本在你的机器上的安装位置。这些信息出现在安装程序的最后一个窗口中。安装程序尝试将这些目录位置添加到你的系统 PATH
    变量中。
- en: '`PATH` is an *environmental variable*—a variable that can be set to influence
    the behavior of operations on your machine. Your computer’s `PATH` variable specifies
    where to find directories and executable files needed to perform operations on
    your system.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '`PATH` 是一个 *环境变量*——一个可以设置以影响机器上操作行为的变量。你的电脑的 `PATH` 变量指定了执行系统操作所需的目录和可执行文件的位置。'
- en: This variable’s value is the first place terminal will look for resources used
    in development. Think of the `PATH` variable as being like your computer’s index
    for quickly finding the tools you need. When you add these tools’ original file
    paths or directory locations to the `PATH` variable, terminal won’t have any problems
    finding them.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这个变量的值是终端首先查找开发中使用的资源的第一个位置。将 `PATH` 变量想象成你电脑的索引，可以快速找到所需的工具。当你将这些工具的原始文件路径或目录位置添加到
    `PATH` 变量中时，终端将不会有任何问题找到它们。
- en: The following figure shows how terminal refers to the `PATH` variable to identify
    directories of certain programs and executable files, as these directories may
    be in different locations on different computers. If you experience any problems
    starting Node.js in your terminal, follow the installation steps at [https://www.tutorialspoint.com/nodejs/nodejs_environment_setup.htm](https://www.tutorialspoint.com/nodejs/nodejs_environment_setup.htm).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了终端如何通过 `PATH` 变量来识别特定程序和可执行文件的目录，因为这些目录可能在不同计算机上的不同位置。如果你在终端中启动 Node.js
    时遇到任何问题，请遵循[https://www.tutorialspoint.com/nodejs/nodejs_environment_setup.htm](https://www.tutorialspoint.com/nodejs/nodejs_environment_setup.htm)上的安装步骤。
- en: '![](../Images/f015-01_alt.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f015-01_alt.jpg)'
- en: Terminal functionality with PATH variable
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 带有 `PATH` 变量的终端功能
- en: '|  |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'Now that you have Node.js installed, use terminal to make sure that everything
    is installed correctly. Open terminal (or Git Bash), and type the following command
    at the prompt: `node -v`.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经安装了 Node.js，请使用终端确保一切安装正确。打开终端（或 Git Bash），并在提示符下输入以下命令：`node -v`。
- en: The output of this command should show you the version of Node.js you installed.
    Similarly, you can check the version of npm that you installed by running the
    command `npm -v` at the command prompt.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令的输出应显示你安装的 Node.js 版本。同样，你可以在命令提示符下运行命令 `npm -v` 来检查你安装的 npm 版本。
- en: '|  |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-158
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: If your terminal responds with an error or with nothing, it’s possible that
    your installation of Node.js was unsuccessful. In the case of an error, try copying
    and pasting that error into a search engine to look for common solutions. Otherwise,
    repeat the steps in this section.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的终端响应错误或没有任何输出，可能表明你的 Node.js 安装不成功。如果出现错误，尝试将错误复制粘贴到搜索引擎中查找常见解决方案。否则，重复本节中的步骤。
- en: '|  |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Now that you have Node.js installed and your terminal running, you need somewhere
    to write your code.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经安装了 Node.js 并且终端正在运行，你需要一个地方来编写你的代码。
- en: '|  |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-163
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: If you ever forget where you installed Node.js or npm, you can open a command
    window and type `which node` or `which npm` at the prompt to see the corresponding
    location. From a Windows command-line prompt, use `where` in place of `which`.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你忘记了 Node.js 或 npm 的安装位置，你可以在命令窗口中打开，并在提示符下输入 `which node` 或 `which npm` 来查看相应的位置。在
    Windows 命令行提示符中，使用 `where` 代替 `which`。
- en: '|  |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '![](../Images/sectionFig.png)1.2\. Installing a text editor'
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)1.2\. 安装文本编辑器'
- en: A *text editor* is a software application you use to write your code while developing
    an application. Although text editors come in many forms and can be used to make
    noncode files as well, the text editors designed for developers often come prepackaged
    with helpful tools and plugins.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '*文本编辑器* 是你在开发应用程序时用来编写代码的软件应用。尽管文本编辑器有多种形式，也可以用来创建非代码文件，但为开发者设计的文本编辑器通常预装了有用的工具和插件。'
- en: For this book, I recommend downloading and installing the Atom text editor,
    a free open-source software application for developing in many programming languages.
    Atom was developed by GitHub and offers many additional plugins written in Node.js.
    Atom will help you write a Node.js application with ease.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这本书，我推荐下载并安装 Atom 文本编辑器，这是一个用于多种编程语言的免费开源软件应用。Atom 由 GitHub 开发，并提供了许多用 Node.js
    编写的附加插件。Atom 将帮助你轻松编写 Node.js 应用程序。
- en: 'Install Atom by following these steps:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤安装 Atom：
- en: In your browser, go to [https://atom.io](https://atom.io).
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的浏览器中，访问 [https://atom.io](https://atom.io)。
- en: Click the Download link.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下载链接。
- en: Follow the prompts to install the software on a Mac, Windows, or Linux computer.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按提示在 Mac、Windows 或 Linux 计算机上安装软件。
- en: When the installation completes, open the folder on your computer where applications
    are located. From there, you can launch the Atom editor by double-clicking the
    program file.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，打开你计算机上应用程序所在的文件夹。从那里，你可以通过双击程序文件来启动 Atom 编辑器。
- en: '|  |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-175
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: You may be interested in writing your code in an *integrated development environment*
    (IDE). IDEs such as Visual Studio Code ([https://code.visualstudio.com/](https://code.visualstudio.com/))
    offer helpful tools like a terminal window within the editor, code autocomplete,
    and debuggers for your project.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能对在**集成开发环境**（IDE）中编写代码感兴趣。例如，Visual Studio Code ([https://code.visualstudio.com/](https://code.visualstudio.com/))
    等IDE提供了诸如编辑器内的终端窗口、代码自动完成和项目调试器等有用的工具。
- en: '|  |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: With your text editor in place, test some Node.js terminal commands.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的文本编辑器就绪后，测试一些Node.js终端命令。
- en: '![](../Images/sectionFig.png)1.3\. Setting up SCM and deployment tools'
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)1.3\. 设置版本控制和部署工具'
- en: In this section, you set up Git and the Heroku command-line interface (CLI),
    which you’ll use at the end of the book to deploy your applications online. *Deployment*
    is a term used to describe the migration of your application from your computer
    to a place where it can be accessed and used publicly online. *Software configuration
    management* (SCM) is the process of managing your application in its different
    environments as new features and changes are applied to the code. You can use
    Git and the Heroku CLI together to deploy your code from development to production
    and manage your application.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将设置Git和Heroku命令行界面（CLI），你将在本书的末尾使用它们将你的应用程序部署到网上。**部署**是一个术语，用来描述你的应用程序从你的电脑迁移到可以公开访问和使用的位置。**软件配置管理**（SCM）是在新功能和对代码进行更改时，管理你的应用程序在不同环境中的过程。你可以使用Git和Heroku
    CLI一起将你的代码从开发部署到生产，并管理你的应用程序。
- en: '*Git* is a version-control tool used to separate layers of your application’s
    code evolution. It allows you to save, or take a snapshot, of your code at different
    stages of development, making it easy to return to a working state quickly if
    you find that your latest changes break your application’s functionality. More
    important for this book, you need Git to send a version of your code to Heroku
    so that people can start using your application on the internet.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '**Git**是一个版本控制工具，用于分离应用程序代码的各个演变层。它允许你在开发的各个阶段保存或拍摄代码的快照，这样如果你发现最新的更改破坏了应用程序的功能，你可以快速回到一个工作状态。对于本书来说更重要的是，你需要Git将你的代码版本发送到Heroku，这样人们就可以开始在互联网上使用你的应用程序了。'
- en: If you have a Mac, Git should already be installed. If you’ve installed Git
    Bash on your Windows machine, Git came packaged and installed too. If you aren’t
    sure whether you have Git, you can enter `git --version` in a terminal window.
    Unless your window responds with a Git version number, you should download it
    directly from [https://git-scm.com/downloads](https://git-scm.com/downloads).
    Select your operating system, as shown in [figure 1.3](#ch01fig03). The downloaded
    file opens a graphical interface through which you can install Git on your machine.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有一台Mac，Git可能已经安装好了。如果你在Windows机器上安装了Git Bash，Git也应该已经打包并安装了。如果你不确定你是否安装了Git，你可以在终端窗口中输入`git
    --version`。除非你的窗口响应Git版本号，否则你应该直接从[https://git-scm.com/downloads](https://git-scm.com/downloads)下载它。选择你的操作系统，如图1.3所示。下载的文件会打开一个图形界面，通过该界面你可以在你的机器上安装Git。
- en: Figure 1.3\. Installing Git from the downloads page
  id: totrans-183
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图1.3\. 从下载页面安装Git
- en: '![](../Images/01fig03_alt.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/01fig03_alt.jpg)'
- en: When Git is installed, you use it by initializing your project with `git init`
    in terminal. Then you can add individual project files to your new version by
    running `git add` followed by the relative path to the file. You can also add
    all the files in your project by running `git add`. (including the period in the
    command). To confirm these files, `run git commit -m` “`some message`”, where
    the message in quotations describes the changes you made. If you’re familiar with
    Git, I recommend using it as you run the code in this book. Otherwise, you won’t
    need it until [unit 8](../Text/kindle_split_052.html#part08). You learn more about
    using Git through videos and documentation at [https://git-scm.com/doc](https://git-scm.com/doc).
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 当Git安装完成后，你可以在终端中使用它，通过在项目中初始化`git init`来使用它。然后，你可以通过运行`git add`后跟文件的相对路径来将单个项目文件添加到你的新版本中。你也可以通过运行`git
    add`来添加项目中的所有文件。（包括命令中的句号）。为了确认这些文件，运行`git commit -m` “`some message`”，其中引号内的消息描述了你所做的更改。如果你熟悉Git，我建议你在运行本书中的代码时使用它。否则，你直到[第8单元](../Text/kindle_split_052.html#part08)才需要它。你可以在[https://git-scm.com/doc](https://git-scm.com/doc)的视频和文档中了解更多关于Git的使用方法。
- en: '|  |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '|'
- en: Tip
  id: totrans-187
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: For a useful cheat sheet of Git commands, visit [https://education.github.com/git-cheat-sheet-education.pdf](https://education.github.com/git-cheat-sheet-education.pdf)
    .
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取Git命令的有用速查表，请访问[https://education.github.com/git-cheat-sheet-education.pdf](https://education.github.com/git-cheat-sheet-education.pdf)。
- en: '|  |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '*Heroku* is a service you’ll use to host your application online. To use Heroku,
    you need to create a new account at [https://signup.heroku.com](https://signup.heroku.com).
    Enter your name and other information in the required fields, and verify your
    email address. When your account is created, Heroku lets you upload three applications
    for free. The best part is that you can do all the work directly from terminal.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '*Heroku* 是一个用于在线托管应用程序的服务。要使用Heroku，您需要在[https://signup.heroku.com](https://signup.heroku.com)创建一个新账户。在必填字段中输入您的姓名和其他信息，并验证您的电子邮件地址。账户创建后，Heroku允许您免费上传三个应用程序。最好的部分是您可以直接从终端完成所有工作。'
- en: Next, you need to install the Heroku CLI. On a Mac you can install it with Homebrew.
    To install Homebrew, run the command shown in [listing 1.1](#ch01ex01) in a terminal
    window. This installation process is described at [https://brew.sh/](https://brew.sh/).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您需要安装Heroku CLI。在Mac上，您可以使用Homebrew进行安装。要安装Homebrew，请在终端窗口中运行[列表1.1](#ch01ex01)中显示的命令。此安装过程在[https://brew.sh/](https://brew.sh/)中有所描述。
- en: Listing 1.1\. Installing Homebrew on Unix computers in terminal
  id: totrans-192
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表1.1\. 在Unix计算机上使用终端安装Homebrew
- en: '[PRE0]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '***1* Run install command in terminal window**'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 在终端窗口中运行安装命令**'
- en: Run `brew install heroku/brew/heroku` or download the installer at [https://devcenter.heroku.com/articles/heroku-cli#macos](https://devcenter.heroku.com/articles/heroku-cli#macos).
    For Windows, you can find an installer at [https://devcenter.heroku.com/articles/heroku-cli#windows](https://devcenter.heroku.com/articles/heroku-cli#windows).
    Linux users can install the Heroku CLI by running `sudo wget -q0- https://toolbelt.heroku.com/install-ubuntu.sh
    | sh` in terminal. If you use the graphical installer, you can step through the
    default settings and prompts.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 运行`brew install heroku/brew/heroku`或下载安装程序[https://devcenter.heroku.com/articles/heroku-cli#macos](https://devcenter.heroku.com/articles/heroku-cli#macos)。对于Windows，您可以在[https://devcenter.heroku.com/articles/heroku-cli#windows](https://devcenter.heroku.com/articles/heroku-cli#windows)找到安装程序。Linux用户可以通过在终端中运行`sudo
    wget -q0- https://toolbelt.heroku.com/install-ubuntu.sh | sh`来安装Heroku CLI。如果您使用图形化安装程序，可以逐步通过默认设置和提示。
- en: When the Heroku CLI is set up, you can use the heroku keyword in terminal. The
    last part of this setup process is logging in to your Heroku account from terminal.
    Enter `heroku login` and then enter the email address and password you used to
    set up your Heroku account. You’re prepared to deploy to Heroku.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 当Heroku CLI设置完成后，您可以在终端中使用heroku关键字。此设置过程的最后一部分是从终端登录您的Heroku账户。输入`heroku login`，然后输入您用于设置Heroku账户的电子邮件地址和密码。您已准备好部署到Heroku。
- en: '![](../Images/sectionFig.png)1.4\. Working with the Node.js REPL in terminal'
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)1.4\. 在终端中使用Node.js REPL'
- en: In this section, you begin using Node.js from terminal through the Node.js REPL
    environment. The interactive Node.js shell is the Node.js version of Read-Evaluate-Print
    Loop (REPL). This shell is a space in which you can write pure JavaScript and
    evaluate your code in the terminal window in real time. Within the window, your
    written code is read and evaluated by Node.js, with results printed back to your
    console. In this section, I look at a few things you can do in REPL.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您将通过Node.js REPL环境从终端开始使用Node.js。Node.js交互式外壳是Node.js版本的Read-Evaluate-Print
    Loop (REPL)。此外壳是一个空间，您可以在其中编写纯JavaScript，并在终端窗口中实时评估您的代码。在窗口内，您的代码被Node.js读取和评估，并将结果打印回控制台。在本节中，我将探讨您在REPL中可以执行的一些操作。
- en: You’ve already used terminal to check whether Node.js was installed correctly.
    Another way to see whether the installation was successful is to type `node` and
    press the Enter key. This action places you in the interactive Node.js shell.
    You’ll know that this command is successful when you see the terminal prompt change
    to `>`. To exit this prompt, type `.exit` or press Ctrl-C twice.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经使用终端检查了Node.js是否正确安装。另一种查看安装是否成功的方法是键入`node`并按Enter键。当您看到终端提示符更改为`>`时，您就会知道此命令已成功。要退出此提示符，请键入`.exit`或按Ctrl-C两次。
- en: Several keywords specific to Node.js allow your terminal and REPL environment
    to understand when you’re running a Node.js command. In [appendix A](../Text/kindle_split_057.html#app01),
    I discuss keywords in Node.js and how they pertain to application development.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 一些特定于Node.js的关键字允许你的终端和REPL环境理解你何时正在运行Node.js命令。在[附录A](../Text/kindle_split_057.html#app01)中，我讨论了Node.js中的关键字以及它们如何与应用程序开发相关。
- en: '|  |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-202
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: If you need more practice with terminal commands, look at Part 2 of *Learn Linux
    in a Month of Lunches* by Steven Ovadia (Manning, 2016).
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要更多关于终端命令的练习，请参阅Steven Ovadia所著的《一个月午餐时间学会Linux》的第二部分（Manning，2016年）。
- en: '|  |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: You can get to REPL by entering the `node` keyword in your terminal window without
    any text to follow. When you’re prompted by `>`, you can enter a command in JavaScript.
    Although this environment is reserved for testing and sandbox code, the node shell
    can offer a lot of benefits in development. You can enter and evaluate simple
    mathematical expressions, for example, or you can execute full JavaScript statements.
    You can also store values in variables and instantiate objects from your own custom
    class here. See [listing 1.2](#ch01ex02) for some example REPL interactions.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在终端窗口中输入`node`关键字并跟随任何文本来进入REPL。当你被提示`>`时，你可以在JavaScript中输入一个命令。尽管这个环境是为测试和沙盒代码保留的，但Node.js壳在开发中可以提供很多好处。例如，你可以输入并评估简单的数学表达式，或者你可以执行完整的JavaScript语句。你还可以在这里存储值并在自定义类中实例化对象。有关一些示例REPL交互，请参阅[列表1.2](#ch01ex02)。
- en: In these code examples, I demonstrate some of the JavaScript ES6 syntax that
    appears throughout the book. In addition to the basic arithmetic I run in the
    REPL shell, I set up a variable with the `let` keyword. This keyword allows me
    to define a variable that’s scoped to a code block. The blocks include function
    blocks, to which `var`-defined variables are scoped, as well as conditional blocks
    and loops.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些代码示例中，我展示了书中出现的一些JavaScript ES6语法。除了在REPL壳中运行的基本算术运算外，我还使用`let`关键字设置了一个变量。这个关键字允许我定义一个作用域限于代码块的变量。这些块包括函数块，其中`var`定义的变量具有作用域，以及条件块和循环。
- en: I also use the new class syntax to define an object. The syntax here resembles
    that of object-oriented programming languages but mainly acts as a wrapper over
    the existing JavaScript prototype structure.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我还使用新的类语法来定义一个对象。这里的语法类似于面向对象编程语言，但主要作为现有JavaScript原型结构的包装器。
- en: Listing 1.2\. REPL command examples
  id: totrans-208
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表1.2\. REPL命令示例
- en: '[PRE1]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '***1*** **Enter REPL.**'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **进入REPL。**'
- en: '***2*** **Perform basic commands and expressions.**'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2*** **执行基本命令和表达式。**'
- en: '***3*** **Log messages to the console.**'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3*** **将消息记录到控制台。**'
- en: '***4*** **Create ES6 classes and instantiate objects.**'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4*** **创建ES6类并实例化对象。**'
- en: In the REPL environment, you have access to all the core modules that come with
    Node.js. *Core modules* are JavaScript files that come with your Node.js installation.
    I talk more about modules in [unit 1](../Text/kindle_split_014.html#part01). You’ll
    soon see in your own custom applications that you need to import some modules
    to use them in REPL. For a short list of commands to use in REPL, see [table 1.1](#ch01table01).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 在REPL环境中，你可以访问Node.js附带的所有核心模块。"核心模块"是与你的Node.js安装一起提供的JavaScript文件。我在[单元1](../Text/kindle_split_014.html#part01)中更多地讨论了模块。你很快就会在自己的自定义应用程序中看到，你需要导入一些模块才能在REPL中使用它们。有关REPL中可用的命令的简短列表，请参阅[表1.1](#ch01table01)。
- en: Table 1.1\. REPL commands to remember
  id: totrans-215
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 表1.1\. 需要记住的REPL命令
- en: '| REPL command | Description |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| REPL命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| .break (or .clear) | Exits a block within the REPL session, which is useful
    if you get stuck in a block of code |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| .break (或 .clear) | 退出REPL会话中的块，这在陷入代码块时非常有用 |'
- en: '| .editor | Opens an internal editor for you to write multiple lines of code.
    ctrl-d saves and quits the editor |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| .editor | 打开一个内部编辑器，让你编写多行代码。ctrl-d保存并退出编辑器 |'
- en: '| .exit | Quits the REPL session |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| .exit | 退出REPL会话 |'
- en: '| .help | Lists other commands and useful tips to help you feel comfortable
    with this interactive shell environment |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| .help | 列出其他命令和有用的提示，帮助你在这个交互式shell环境中感到舒适 |'
- en: '| .load | Followed by a local filename; gives REPL access to that file’s code
    |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| .load | 后跟一个本地文件名；使REPL能够访问该文件的代码 |'
- en: '| .save | Followed by a new filename of your choice; saves your REPL session’s
    code to a file |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| .save | 后跟一个你选择的新文件名；将你的REPL会话代码保存到文件中 |'
- en: Explore REPL by running some JavaScript commands you know. In the next lesson,
    you learn how to import previously written code into REPL.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 通过运行你已知的 JavaScript 命令来探索 REPL。在下节课中，你将学习如何将先前编写的代码导入 REPL。
- en: '![](../Images/sectionFig.png)Summary'
  id: totrans-225
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)总结'
- en: In this lesson, you installed the Atom text editor and Node.js. You also verified
    that your Node.js environment is ready to evaluate JavaScript code by running
    some commands in REPL. In the next lesson, you learn how to use Node.js and terminal
    to build and launch an application.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，你安装了 Atom 文本编辑器和 Node.js。你还通过在 REPL 中运行一些命令来验证你的 Node.js 环境是否准备好评估 JavaScript
    代码。在下节课中，你将学习如何使用 Node.js 和终端来构建和启动应用程序。
- en: Lesson 2\. Running a Node.js application
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 2 课：运行 Node.js 应用程序
- en: In this lesson, you write and run your first JavaScript file with Node.js. At
    the end, I show you how to import JavaScript files into REPL so you can work with
    prewritten code.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，你使用 Node.js 编写并运行你的第一个 JavaScript 文件。最后，我将向你展示如何将 JavaScript 文件导入 REPL，以便你可以使用预先编写的代码。
- en: This lesson covers
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 本课涵盖
- en: Creating and saving a JavaScript file
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和保存一个 JavaScript 文件
- en: Running your JavaScript file with Node.js
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Node.js 运行你的 JavaScript 文件
- en: Loading files into REPL
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将文件加载到 REPL 中
- en: '|  |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Consider this**'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑以下内容**'
- en: You’re testing some code that you’ve written in JavaScript. Suppose that this
    code is the function shown in the following snippet, which accepts an array of
    numbers and prints them to the screen.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 你正在测试你用 JavaScript 编写的某些代码。假设这段代码是以下代码片段中显示的函数，它接受一个数字数组并将它们打印到屏幕上。
- en: '|  |'
  id: totrans-236
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-237
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: In this code example, I use ES6 syntax to assign the variable `printNumbers`
    to a function defined with a single `arr` parameter and an arrow symbol in place
    of the traditional `function` keyword. I use another arrow function as the callback
    function within my `forEach` call.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个代码示例中，我使用 ES6 语法将变量 `printNumbers` 赋值给一个使用单个 `arr` 参数和箭头符号代替传统 `function`
    关键字的函数。我在 `forEach` 调用内部使用另一个箭头函数作为回调函数。
- en: '|  |'
  id: totrans-239
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '[PRE2]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '***1*** **Print array elements.**'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **打印数组元素。**'
- en: To test whether this code works, you could save it in a .js file, link it to
    an .html web page, and run that file in a browser, viewing the results in your
    browser’s inspector window. With Node.js, you get immediate satisfaction by running
    JavaScript files directly in terminal.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试这段代码是否工作，你可以将其保存为 .js 文件，链接到 .html 网页，并在浏览器中运行该文件，在浏览器检查器窗口中查看结果。使用 Node.js，你可以通过在终端中直接运行
    JavaScript 文件来获得即时的满足感。
- en: '|  |'
  id: totrans-243
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '![](../Images/sectionFig.png)2.1\. Creating a JavaScript file'
  id: totrans-244
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)2.1\. 创建一个 JavaScript 文件'
- en: 'To get started with your first Node.js application, create a JavaScript file
    to print a message to the terminal console. To do that, follow these steps:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始你的第一个 Node.js 应用程序，创建一个 JavaScript 文件以打印消息到终端控制台。为此，请按照以下步骤操作：
- en: Open your text editor to a new window.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开你的文本编辑器到一个新窗口。
- en: 'Type the following code in that empty file: `console.log(`“`Hello, Universe!`”`);`'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在那个空文件中输入以下代码：`console.log(`“`Hello, Universe!`”`);`
- en: Save this file as hello.js on your desktop.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此文件保存为桌面上的 hello.js。
- en: That’s all you need to do. You’ve created a JavaScript file that Node.js can
    execute. In the next section, you run that file.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是你需要做的全部。你已经创建了一个 Node.js 可以执行的 JavaScript 文件。在下一节中，你将运行该文件。
- en: '|  |'
  id: totrans-250
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Strict mode**'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '**严格模式**'
- en: In JavaScript, you can opt to write code in *strict mode*—a mode in which casual
    Java-Script mistakes are caught, even when the Node.js engine or web browsers
    you use let those mistakes pass.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在 JavaScript 中，你可以选择以 *严格模式* 编写代码——在这种模式下，即使 Node.js 引擎或你使用的网络浏览器允许这些错误通过，也会捕获到一些随意的
    JavaScript 错误。
- en: To use strict mode, add “`use strict`”; to the top of every JavaScript file
    you write (before any other statements). For strict mode to work, all files in
    a related project must be tagged as using strict mode.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用严格模式，请在每个你编写的 JavaScript 文件顶部添加“`use strict`”（在其它任何语句之前）。为了使严格模式生效，一个相关项目中所有文件都必须标记为使用严格模式。
- en: See strict mode’s documentation at [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[严格模式](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)的文档。
- en: '|  |'
  id: totrans-255
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-256
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Strict mode changes some previously-accepted mistakes into errors, so they’re
    discovered and promptly fixed.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 严格模式将一些之前被接受的错误转换为错误，因此它们会被发现并迅速修复。
- en: '|  |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Some mistakes discovered by strict mode include
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 严格模式发现的错误包括
- en: '*Accidentally creating global variables*—You won’t be able to create a variable
    without the `var`, `let`, or `const` keywords.'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*意外创建全局变量*——你将无法在不使用 `var`、`let` 或 `const` 关键字的情况下创建变量。'
- en: '*Assigning variables that can’t be assigned*—You can’t use undefined as a variable
    name, for example.'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*分配无法分配的变量*——你不能使用 undefined 作为变量名，例如。'
- en: '*Using non-unique function parameter names or property names in an object lit-eral*—You
    need to choose names that don’t repeat within the same scope when assigning values.'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在对象字面量中使用非唯一函数参数名称或属性名称*——在赋值时，你需要选择在相同作用域内不重复的名称。'
- en: '|  |'
  id: totrans-263
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-264
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: JavaScript has retained "`use strict`"; as a string for backward compatibility.
    Older JavaScript engines see it as a string and ignore it.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript 为了向后兼容保留了 "`use strict`" 作为字符串。较老的 JavaScript 引擎将其视为字符串并忽略它。
- en: '|  |'
  id: totrans-266
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: JavaScript can be forgiving, but for learning purposes and in anticipation of
    the casual mistakes that most developers make, I use strict mode in my code and
    recommend that you do the same. Although I may not show "`use strict`"; in the
    book’s code examples, this line is present at the top of every JavaScript file
    I write and run.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript 可以很宽容，但为了学习目的，以及考虑到大多数开发者可能犯的偶然错误，我在代码中使用严格模式，并建议你也这样做。尽管我在书中的代码示例中没有显示
    "`use strict`"; 这一行，但这条线出现在我编写的每个 JavaScript 文件和运行的文件顶部。
- en: '|  |'
  id: totrans-268
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '![](../Images/sectionFig.png)2.2\. Running your JavaScript file with Node.js'
  id: totrans-269
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)2.2\. 使用 Node.js 运行你的 JavaScript 文件'
- en: The Node.js JavaScript engine can interpret your JavaScript code from the terminal
    when you navigate to the location of a JavaScript file and preface the filename
    with the `node` keyword.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 当你导航到 JavaScript 文件的目录并在文件名前加上 `node` 关键字时，Node.js JavaScript 引擎可以解释你的 JavaScript
    代码。
- en: 'Complete the following steps to run your JavaScript file:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 完成以下步骤以运行你的 JavaScript 文件：
- en: Open a new terminal window.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个新的终端窗口。
- en: Navigate to your desktop by entering `cd ~/Desktop`.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入 `cd ~/Desktop` 导航到你的桌面。
- en: Run your JavaScript file by entering the `node` keyword followed by the file’s
    name. You can also run the same command without the file’s extension. Type `node
    hello` at the prompt, for example, for a file named hello.js ([figure 2.1](#ch02fig01)).
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入 `node` 关键字后跟文件名来运行你的 JavaScript 文件。你也可以在没有文件扩展名的情况下运行相同的命令。例如，对于名为 hello.js
    的文件，在提示符下输入 `node hello`（[图 2.1](#ch02fig01)）。
- en: Figure 2.1\. Running a JavaScript file with Node.js
  id: totrans-275
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 2.1\. 使用 Node.js 运行 JavaScript 文件
- en: '![](../Images/02fig01_alt.jpg)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/02fig01_alt.jpg)'
- en: If your file was created and run correctly, you should see `Hello, Universe!`
    printed on the screen. If you don’t see a response, make sure that hello.js has
    content in it and that your latest changes are saved. Also, make sure that you
    run the command from that file’s directory.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的文件创建和运行正确，你应该会在屏幕上看到打印出的 `Hello, Universe!`。如果你没有看到任何响应，请确保 hello.js 文件中有内容，并且你的最新更改已保存。此外，请确保你是在该文件的目录下运行命令。
- en: Exactly what is happening here? The Node.js `console.log` function allows you
    to output the result of any JavaScript command to the console window (or your
    terminal’s standard output window). If you’ve debugged JavaScript in your browser
    before, you’ll notice the parallel between using `console.log` in a Node.js console
    window and outputting to your debugging tool’s console window.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 这里到底发生了什么？Node.js 的 `console.log` 函数允许你将任何 JavaScript 命令的结果输出到控制台窗口（或你的终端的标准输出窗口）。如果你之前在浏览器中调试过
    JavaScript，你会注意到在 Node.js 控制台窗口中使用 `console.log` 和输出到你的调试工具控制台窗口之间的相似之处。
- en: '|  |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-280
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 提示
- en: For more information about console.log and other logging types, please reference
    [appendix B](../Text/kindle_split_061.html#app02).
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 有关 console.log 和其他日志类型的更多信息，请参阅附录 B [appendix B](../Text/kindle_split_061.html#app02)。
- en: '|  |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 2.1**'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.1**'
- en: '**[Q1:](#ch02qa2q0a1)**'
  id: totrans-285
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](#ch02qa2q0a1)**'
- en: ''
  id: totrans-286
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you have a file called hello.js, what will happen if you run node hello in
    terminal?
  id: totrans-287
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你有一个名为 hello.js 的文件，在终端中运行 node hello 会发生什么？
- en: '|  |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-289
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 2.1 answer**'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.1 答案**'
- en: '**[1:](#ch02qa1q1)**'
  id: totrans-291
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1:](#ch02qa1q1)**'
- en: ''
  id: totrans-292
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Because Node.js is primed for executing JavaScript code, it doesn’t require
    adding the .js file extension when running files. You could run a file as node
    hello.js or node hello; either will work.
  id: totrans-293
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 因为 Node.js 专为执行 JavaScript 代码而设计，所以运行文件时不需要添加 .js 文件扩展名。你可以运行文件为 node hello.js
    或 node hello；两者都可以工作。
- en: '|  |'
  id: totrans-294
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '![](../Images/sectionFig.png)2.3\. Running individual JavaScript commands'
  id: totrans-295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)2.3\. 运行单个 JavaScript 命令'
- en: Imagine that you’re working on an application to send positive messages to your
    users. Before you fully incorporate your file of positive messages into the application,
    you want to test it in your Node.js REPL. You create a .js file with your messages
    as an array by creating a JavaScript file called messages.js with the code from
    the following listing.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在开发一个向用户发送积极信息的应用程序。在你将积极信息的文件完全集成到应用程序之前，你希望在 Node.js REPL 中对其进行测试。你通过创建一个名为
    messages.js 的 JavaScript 文件，并使用以下列表中的代码，将你的信息作为数组添加到一个 .js 文件中。
- en: Listing 2.1\. Declaring a JavaScript variable in messages.js
  id: totrans-297
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.1\. 在 messages.js 中声明一个 JavaScript 变量
- en: '[PRE3]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '***1*** **List an array of messages.**'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **列出信息数组。**'
- en: Instead of executing this file with Node.js (which currently wouldn’t offer
    anything), you initiate the REPL environment with the `node` keyword and import
    this file by using `.load messages.js`, as shown in [listing 2.2](#ch02ex02).
    By importing the file, you give REPL access to the contents of that file. After
    the file is imported, the window responds with the file’s contents. You also have
    access to the `messages` variable in your REPL environment.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 而不是使用 Node.js 执行此文件（目前不会提供任何内容），你通过使用 `node` 关键字启动 REPL 环境，并通过 `.load messages.js`
    命令导入此文件，如 [列表 2.2](#ch02ex02) 所示。通过导入文件，你使 REPL 能够访问该文件的内容。文件导入后，窗口会响应文件的内容。你还可以在
    REPL 环境中访问 `messages` 变量。
- en: '|  |'
  id: totrans-301
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-302
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: Make sure that you start your REPL session from the same directory in which
    you saved the messages.js file; otherwise, you’ll need to import the absolute
    path of the file instead of its relative path. The *absolute* path to a file is
    its location on your computer, starting from your root directory. On my computer,
    for example, /usr/local/bin/node is the absolute path to my installation of Node.js.
    The relative path from the local directory would be /bin/node.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你从保存 messages.js 文件的同一目录启动你的 REPL 会话；否则，你需要导入文件的绝对路径而不是相对路径。文件的 *绝对* 路径是从你的根目录开始的文件位置。例如，在我的电脑上，/usr/local/bin/node
    是我的 Node.js 安装位置的绝对路径。从本地目录的相对路径将是 /bin/node。
- en: '|  |'
  id: totrans-304
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Listing 2.2\. Loading a JavaScript file into REPL
  id: totrans-305
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.2\. 将 JavaScript 文件加载到 REPL 中
- en: '[PRE4]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '***1*** **Loading an array with three strings**'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **加载包含三个字符串的数组**'
- en: You plan to list each of the messages to your users through your Node.js application.
    To test this list, loop through the array and broadcast each message by entering
    the code from the next listing directly in the REPL window.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 你计划通过你的 Node.js 应用程序列出每条信息给你的用户。为了测试这个列表，通过在 REPL 窗口中直接输入以下列表中的代码来遍历数组并广播每条信息。
- en: Listing 2.3\. Use a file’s contents in REPL
  id: totrans-309
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.3\. 在 REPL 中使用文件的內容
- en: '[PRE5]'
  id: totrans-310
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '***1*** **Log each message by using a single-line arrow function.**'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **使用单行箭头函数记录每条信息。**'
- en: The messages print in their array order in the terminal window, as shown in
    the following listing.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 消息以它们的数组顺序在终端窗口中打印，如下所示。
- en: Listing 2.4\. Results from the console.log loop
  id: totrans-313
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.4\. 控制台日志循环的结果
- en: '[PRE6]'
  id: totrans-314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '***1*** **Printing messages and showing undefined as the return value**'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **打印信息并显示 undefined 作为返回值**'
- en: If you’re happy with the code you wrote in the REPL window, you can save the
    code to a file called positiveMessages.js by typing `.save positiveMessages.js`
    in REPL. Doing so saves you the trouble of retyping any work that you produce
    in the REPL environment.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对你 REPL 窗口中编写的代码感到满意，你可以通过在 REPL 中输入 `.save positiveMessages.js` 将代码保存到名为
    positiveMessages.js 的文件中。这样做可以避免在 REPL 环境中重新输入任何工作。
- en: '|  |'
  id: totrans-317
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 2.2**'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 2.2**'
- en: '**[1](#ch02qa6q0a1)**'
  id: totrans-319
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa6q0a1)**'
- en: ''
  id: totrans-320
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What are three ways in which you could exit the REPL environment?
  id: totrans-321
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你可以通过哪三种方式退出 REPL 环境？
- en: '**[2](#ch02qa6q0a2)**'
  id: totrans-322
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa6q0a2)**'
- en: ''
  id: totrans-323
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How do you load a file that isn’t in your project folder into REPL?
  id: totrans-324
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你如何将不在你的项目文件夹中的文件加载到 REPL 中？
- en: '**[3](#ch02qa6q0a3)**'
  id: totrans-325
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](#ch02qa6q0a3)**'
- en: ''
  id: totrans-326
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What happens if you run .save with a filename that already exists?
  id: totrans-327
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你使用已存在的文件名运行 .save 会发生什么？
- en: '|  |'
  id: totrans-328
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-329
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**QC 2.2 answer**'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '**QC 2.2 答案**'
- en: '**[1](#ch02qa3q1)**'
  id: totrans-331
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](#ch02qa3q1)**'
- en: ''
  id: totrans-332
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: To exit your Node.js REPL environment, you can type `.exit`, press Ctrl-C twice,
    or press Ctrl-D twice.
  id: totrans-333
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 要退出 Node.js REPL 环境，你可以输入 `.exit`，连续按两次 Ctrl-C，或者连续按两次 Ctrl-D。
- en: '**[2](#ch02qa4q1)**'
  id: totrans-334
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](#ch02qa4q1)**'
- en: ''
  id: totrans-335
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: For files that aren’t located within the directory you navigated to in terminal,
    you may need to use that file’s absolute path.
  id: totrans-336
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 对于不在你在终端中导航到的目录中的文件，你可能需要使用该文件的绝对路径。
- en: '**[3](#ch02qa5q1)**'
  id: totrans-337
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](#ch02qa5q1)**'
- en: ''
  id: totrans-338
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Running `.save` saves your REPL session to a file and overwrites any files that
    have the same name.
  id: totrans-339
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 运行 `.save` 将您的 REPL 会话保存到文件中，并覆盖任何具有相同名称的文件。
- en: '|  |'
  id: totrans-340
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Ease in navigating the Node.js REPL environment comes with practice. Remember
    to access `node` in terminal for quick checking and testing of code that might
    take longer to modify in a big application. Next, you’re off to start building
    web applications and setting them up the right way from scratch.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 通过实践，您可以轻松地导航 Node.js REPL 环境。请记住，在终端中访问 `node` 以快速检查和测试可能需要更长的时间来修改的大型应用程序中的代码。接下来，您将开始从头开始构建
    Web 应用程序并正确设置它们。
- en: '![](../Images/sectionFig.png)Summary'
  id: totrans-342
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '![](../Images/sectionFig.png)总结'
- en: In this lesson, you learned that JavaScript files can be run with Node.js in
    your terminal. In your first outing with Node.js, you created and ran your first
    application. Then you explored the REPL environment by loading your JavaScript
    file and saving your REPL sandbox code. In the next lesson, you create a Node.js
    module and install tools with npm.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，您学习了可以使用 Node.js 在终端中运行 JavaScript 文件。在您第一次使用 Node.js 的经历中，您创建了并运行了您的第一个应用程序。然后，您通过加载您的
    JavaScript 文件并保存您的 REPL 沙盒代码来探索 REPL 环境。在下一课中，您将创建一个 Node.js 模块并使用 npm 安装工具。
- en: '|  |'
  id: totrans-344
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Try this**'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '**尝试以下操作**'
- en: '`console.log` will soon become one of your best friends in web development,
    as log notes will help you find bugs. Get to know your new friend with a little
    practice and variation. As mentioned earlier in this lesson, `console` is a global
    object in Node.js, from the Console class. `log` is only one of many instance
    methods you can run on this object.'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '`console.log` 将很快成为您在 Web 开发中的最佳朋友之一，因为日志注释将帮助您找到错误。通过一些练习和变化来熟悉您的新朋友。如本课之前所述，`console`
    是 Node.js 中的一个全局对象，来自 Console 类。`log` 是您可以在此对象上运行的许多实例方法之一。'
- en: '|  |'
  id: totrans-347
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '|  |'
  id: totrans-348
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-349
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: '*String interpolation* means inserting a piece of text, represented by a variable,
    into another piece of text.'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '*字符串插值* 意味着将代表变量的文本片段插入到另一段文本中。'
- en: '|  |'
  id: totrans-351
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'Try printing the following to console:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试将以下内容打印到控制台：
- en: A message with an interpolated string variable with `console.log(`“`Hello %s`”`,`
    “`Universe`”`);`
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `console.log(`“`Hello %s`”`,` “`Universe`”`);` 包含插值字符串变量的消息
- en: 'A message with an interpolated integer variable with `console.log(`“`Score:
    %d`”`, 100);`'
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '使用 `console.log(`“`Score: %d`”`, 100);` 包含插值整数变量的消息'
- en: Try building a file called `printer.js` with the code in the next listing inside.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试使用下一列表中的代码构建一个名为 `printer.js` 的文件。
- en: Listing 2.5\. String interpolation example
  id: totrans-356
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 2.5\. 字符串插值示例
- en: '[PRE7]'
  id: totrans-357
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '***1*** **Log an interpolated string.**'
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1*** **记录一个插值字符串。**'
- en: What do you expect to happen when you run `node printer.js` in terminal?
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 当您在终端中运行 `node printer.js` 时，您期望发生什么？
