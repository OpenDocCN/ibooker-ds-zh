- en: front matter
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前置内容
- en: preface
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 前言
- en: A few years ago, a Python-based pipeline that my team was working on suddenly
    ground to a halt. A process just kept using CPU and was not finalizing. This function
    was critical to the company and we needed to solve the problem sooner rather than
    later. We looked at the algorithm and it seemed OK—in fact, it was quite a simple
    implementation. After many hours with several engineers looking at the problem,
    we found that it all boiled down to searching on a list—a very big list. The problem
    was trivially solved after converting the list into a set. We ended up with a
    much smaller data structure with search times in milliseconds, not hours.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 几年前，我们团队正在开发的一个基于Python的流水线突然停止了。一个进程一直在使用CPU并且没有完成。这个功能对公司至关重要，我们需要尽快解决这个问题。我们检查了算法，它看起来没问题——事实上，它是一个非常简单的实现。经过几个小时几位工程师的共同努力，我们发现问题归结为在一个列表上进行搜索——一个非常大的列表。在将列表转换为集合后，问题就轻易解决了。我们最终得到了一个更小的数据结构，搜索时间从小时缩短到毫秒。
- en: 'I had several epiphanies at that time:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 那时我有了几个顿悟：
- en: It was a trivial problem, but our development process was not concerned with
    performance issues. For example, if we had routinely used a profiler, we would
    have discovered the performance bug in minutes, not hours.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是一个简单的问题，但我们的开发流程并没有关注性能问题。例如，如果我们经常使用性能分析器，我们会在几分钟内而不是几小时后发现性能问题。
- en: 'This was a win-win situation: we ended up consuming less time and less memory.
    Yes, in many cases, there are tradeoffs to be made, but in others, there are some
    really effective results with no downsides.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是一个双赢的局面：我们最终节省了时间和内存。是的，在许多情况下，需要做出权衡，但在其他情况下，有一些非常有效的结果而没有副作用。
- en: From a larger perspective, this situation was also a win-win. First, faster
    results are great for the company’s bottom line. Second, a good algorithm uses
    less CPU time, which means less electricity, and the use of less electricity (i.e.,
    resources) is better for the planet.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从更广阔的角度来看，这种情况也是一个双赢的局面。首先，更快的结果对公司财务状况大有裨益。其次，一个好的算法使用更少的CPU时间，这意味着更少的电力消耗，而减少电力消耗（即资源使用）对地球更有益。
- en: While our single case doesn’t do much to save energy, it dawned on me that many
    programmers are designing similar solutions.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虽然我们的单一案例对节省能源帮助不大，但我突然意识到许多程序员正在设计类似的解决方案。
- en: I decided to write this book so other programmers could benefit from my epiphanies.
    My objective is to help seasoned Python programmers to design and implement solutions
    that are more efficient, along with with an understanding of the potential tradeoffs.
    I wanted to take a holistic approach to the subject by discussing pure Python
    and important Python libraries, taking an algorithmic perspective and considering
    modern hardware architectures and their implications, and discussing CPU and storage
    performance. I hope this book helps you to be more confident in approaching performance
    problems while developing in the Python ecosystem.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我决定写这本书，让其他程序员也能从我的顿悟中受益。我的目标是帮助经验丰富的Python程序员设计并实现更高效的解决方案，同时理解潜在的权衡。我想通过讨论纯Python和重要的Python库，从算法的角度出发，考虑现代硬件架构及其影响，并讨论CPU和存储性能，来全面地探讨这个主题。我希望这本书能帮助你在Python生态系统开发中更加自信地面对性能问题。
- en: acknowledgments
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 致谢
- en: I would like to thank development editor Frances Lefkowitz for her infinite
    patience. I would also like to thank my daughter and wife, who had to endure my
    absence the last few years while I was writing this book. Thanks also to the production
    team at Manning who helped create this book.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我要感谢开发编辑Frances Lefkowitz，她的耐心无限。我还要感谢我的女儿和妻子，在我写这本书的过去几年里，她们不得不忍受我的缺席。还要感谢Manning出版社的生产团队，他们帮助创建了这本书。
- en: 'To all the reviewers: Abhilash Babu Jyotheendra Babu, Andrea Smith, Biswanath
    Chowdhury, Brian Griner, Brian S Cole, Dan Sheikh, Dana Robinson, Daniel Vasquez,
    David Paccoud, David Patschke, Grzegorz Mika, James Liu, Jens Christian B. Madsen,
    Jeremy Chen, Kalyan Reddy, Lorenzo De Leon, Manu Sareena, Nik Piepenbreier, Noah
    Flynn, Or Golan, Paulo Nuin, Pegah T. Afshar, Richard Vaughan, Ruud Gijsen, Shashank
    Kalanithi, Simeon Leyzerzon, Simone Sguazza, Sriram Macharla, Sruti Shivakumar,
    Steve Love, Walter Alexander Mata López, William Jamir Silva, and Xie Yikuan—your
    suggestions helped make this a better book.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 致所有审稿人：Abhilash Babu、Jyotheendra Babu、Andrea Smith、Biswanath Chowdhury、Brian
    Griner、Brian S Cole、Dan Sheikh、Dana Robinson、Daniel Vasquez、David Paccoud、David
    Patschke、Grzegorz Mika、James Liu、Jens Christian B. Madsen、Jeremy Chen、Kalyan Reddy、Lorenzo
    De Leon、Manu Sareena、Nik Piepenbreier、Noah Flynn、Or Golan、Paulo Nuin、Pegah T.
    Afshar、Richard Vaughan、Ruud Gijsen、Shashank Kalanithi、Simeon Leyzerzon、Simone
    Sguazza、Sriram Macharla、Srutu Shivakumar、Steve Love、Walter Alexander Mata López、William
    Jamir Silva 和 Xie Yikuan——您的建议帮助使这本书变得更好。
- en: about this book
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于这本书
- en: The purpose of this book is to help you write more efficient applications in
    the Python ecosystem. By more efficient, I mean that your code will use fewer
    CPU cycles, less storage space, and less network communication.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书的目的是帮助你编写在 Python 生态系统中的更高效的应用程序。更高效意味着你的代码将使用更少的 CPU 循环、更少的存储空间和更少的网络通信。
- en: 'The book takes a holistic approach to the problem of performance. We not only
    discuss code optimization techniques in pure Python, but we also consider the
    efficient use of widely used data libraries, like NumPy and pandas. Because Python
    is not sufficiently performant in some cases, we also consider Cython when we
    need more speed. In line with this holistic approach, we also discuss the impact
    of hardware on code design: we analyze the impact of modern computer architectures
    on algorithm performance. We also examine the effect of network architectures
    on efficiency, and we explore the usage of GPU computing for fast data analysis.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本书对性能问题采取了整体的方法。我们不仅讨论了纯 Python 中的代码优化技术，还考虑了广泛使用的数据库，如 NumPy 和 pandas 的有效使用。由于
    Python 在某些情况下性能不足，当我们需要更多速度时，我们也考虑了 Cython。与这种整体方法一致，我们还讨论了硬件对代码设计的影响：我们分析了现代计算机体系结构对算法性能的影响。我们还考察了网络架构对效率的影响，并探讨了
    GPU 计算在快速数据分析中的应用。
- en: Who should read this book?
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 谁应该阅读这本书？
- en: 'This book is intended for an intermediate to advanced audience. If you skim
    the table of contents, you should recognize most of the technologies, and you
    probably have used quite a few of them. Except for the sections on IO libraries
    and GPU computing, little introductory material is provided: you need to already
    know the basics. If you are currently writing code to be performant and facing
    real challenges in dealing with so much data efficiently, then this book is for
    you.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书旨在面向中级到高级的读者。如果你浏览了目录，你应该能认出大多数技术，你很可能已经使用过其中的一些。除了关于 IO 库和 GPU 计算的部分，提供的入门材料很少：你需要已经了解基础知识。如果你目前正在编写代码以实现高性能，并面临处理大量数据时的实际挑战，那么这本书适合你。
- en: To gain the most benefit from this book, you should have at least a couple of
    years of Python experience and know Python control structures and what lists,
    sets, and dictionaries are. You should have experience with some of the Python
    standard libraries like os, sys, pickle, and multiprocessing. To take the best
    advantage of the techniques I present here, you should also have some level of
    exposure to standard data analysis libraries, like NumPy—with at least minimal
    exposure to arrays—and pandas—with some experience with data frames.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 为了从这本书中获得最大收益，你应该至少有几年的 Python 经验，并了解 Python 控制结构以及列表、集合和字典。你应该有一些 Python 标准库的经验，如
    os、sys、pickle 和 multiprocessing。为了充分利用我这里介绍的技术，你也应该对标准数据分析库有一定的了解，如 NumPy——至少对数组有最小了解——以及
    pandas——对数据框有一些经验。
- en: It would be helpful if you are aware of, even if you have no direct exposure
    to, ways to accelerate Python code through either foreign language interfaces
    to C or Rust or know of alternative approaches, like Cython or Numba. Experience
    dealing with IO in Python will also help you. Given that IO libraries are less
    explored in the literature, we will start from the very beginning with formats
    like Apache Parquet and libraries like Zarr.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对通过 C 或 Rust 的外部语言接口加速 Python 代码的方式有所了解，即使你没有直接的接触，或者知道像 Cython 或 Numba 这样的替代方法，这将很有帮助。处理
    Python 中的 IO 的经验也会有所帮助。鉴于 IO 库在文献中较少被探索，我们将从 Apache Parquet 这样的格式和 Zarr 这样的库开始。
- en: You should know the basic shell commands of Linux terminals (or MacOS terminals).
    If you are on Windows, please have either a Unix-based shell installed or know
    your way around the command line or PowerShell. And, of course, you need Python
    software installed on your computer.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该了解Linux终端（或MacOS终端）的基本shell命令。如果你使用的是Windows，请安装基于Unix的shell或者熟悉命令行或PowerShell。当然，你需要在电脑上安装Python软件。
- en: In some cases, I will provide tips for the cloud, but cloud access or knowledge
    is not a requirement for reading this book. If you are interested in cloud approaches,
    then you should know how to do basic operations like creating instances and accessing
    the storage of your cloud provider.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，我会提供关于云的一些提示，但阅读这本书并不需要云访问或相关知识。如果你对云方法感兴趣，那么你应该知道如何进行基本操作，比如创建实例和访问云提供商的存储。
- en: While you do not have to be academically trained in the field, a basic notion
    of complexity costs will be helpful—for example, the intuitive notion that algorithms
    that scale linearly with data are better than algorithms that scale exponentially.
    If you plan on using GPU optimizations, you are not expected to know anything
    at this stage.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然你不需要在该领域接受学术训练，但了解复杂度成本的基本概念会有所帮助——例如，直观地认为与数据线性扩展的算法比与数据指数扩展的算法更好。如果你计划使用GPU优化，在这个阶段你不需要了解任何相关内容。
- en: 'How this book is organized: A road map'
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 本书是如何组织的：一个路线图
- en: The chapters in this book are mostly independent, and you can jump to whichever
    chapter is important to you. That being said, the book is divided into four parts.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的章节大多是独立的，你可以跳转到对你重要的任何章节。但话说回来，本书分为四个部分。
- en: Part 1, *Foundational Approaches* (chapters 1–4), covers introductory material.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 第一部分，*基础方法*（第1章至第4章），涵盖了入门材料。
- en: Chapter 1 introduces the problem and explains why we must pay attention to efficiency
    in computing and storage. It also introduces the book’s approach and offers suggestions
    for navigating it for your needs.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第1章介绍了问题，并解释了为什么我们必须关注计算和存储中的效率。它还介绍了本书的方法，并提供了针对你需求的导航建议。
- en: Chapter 2 covers the optimization of native Python. We also discuss the optimization
    of Python data structures, code profiling, memory allocation, and lazy programming
    techniques.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第2章涵盖了原生Python的优化。我们还讨论了Python数据结构的优化、代码分析、内存分配和懒加载编程技术。
- en: Chapter 3 discusses concurrency and parallelism in Python and how to make the
    best use of multiprocessing and multithreading (including the limitations of parallel
    processing when using threads). This chapter also covers asynchronous processing
    as an efficient way to deal with multiple concurrent requests with low workloads,
    typical of web services.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第3章讨论了Python中的并发和并行性以及如何最大限度地利用多进程和多线程（包括使用线程进行并行处理时的限制）。本章还涵盖了异步处理，作为一种处理多个低负载并发请求的高效方式，这在网络服务中很常见。
- en: Chapter 4 introduces NumPy, a library that allows you to process multidimensional
    arrays efficiently. NumPy is at the core of all modern data processing techniques,
    and as such, it is treated as a fundamental library. This chapter shares specific
    NumPy techniques to develop more efficient code, such as views, broadcasting,
    and array programming.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第4章介绍了NumPy库，这是一个允许你高效处理多维数组的库。NumPy是所有现代数据处理技术的核心，因此被视为一个基础库。本章分享了特定的NumPy技术，以开发更高效的代码，例如视图、广播和数组编程。
- en: Part 2, *Hardware* (chapters 5 and 6), is mostly concerned with extracting the
    maximum efficiency of common hardware and networks.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 第二部分，*硬件*（第5章和第6章），主要关注从常见硬件和网络中提取最大效率。
- en: 'Chapter 5 covers Cython, a superset of Python that can generate very efficient
    code. Python is a high-level interpreted language and, as such, is not expected
    to be optimized for the hardware. There are several languages, such as C or Rust,
    that are designed to be as efficient as possible at the hardware level. Cython
    belongs to that domain of languages: while it is very close to Python, it compiles
    to C code. Generating the most efficient Cython code requires being mindful of
    how the code maps to an efficient implementation. In this chapter, we learn how
    to create efficient Cython code.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第5章涵盖了Cython，它是Python的超集，可以生成非常高效的代码。Python是一种高级解释型语言，因此并不期望它在硬件级别上进行优化。有一些语言，如C或Rust，被设计成在硬件级别上尽可能高效。Cython属于这个语言领域：虽然它与Python非常接近，但它编译成C代码。生成最有效的Cython代码需要关注代码如何映射到高效的实现。在本章中，我们学习如何创建高效的Cython代码。
- en: Chapter 6 discusses the effect of modern hardware architectures on the design
    of efficient Python code. Given the way modern computers are designed, some counterintuitive
    programming approaches may be more efficient than expected. For example, in some
    cases, dealing with compressed data may be faster than dealing with uncompressed
    data, even if we need to pay the price of uncompressing the algorithm. This chapter
    also covers the effect of CPU, memory, storage, and network on Python algorithm
    design. We discuss NumExpr, a library that can make NumPy code more efficient
    by using the properties of modern hardware architecture.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第6章讨论了现代硬件架构对高效Python代码设计的影响。鉴于现代计算机的设计方式，一些看似不直观的编程方法可能比预期的更有效。例如，在某些情况下，处理压缩数据可能比处理未压缩数据更快，即使我们需要付出解压缩算法的代价。本章还涵盖了CPU、内存、存储和网络对Python算法设计的影响。我们讨论了NumExpr库，它可以通过利用现代硬件架构的特性来使NumPy代码更高效。
- en: Part 3, *Applications and Libraries for Modern Data Processing* (chapters 7
    and 8), looks at the typical applications and libraries used in modern data processing.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 第3部分，*现代数据处理的应用和库*（第7章和第8章），探讨了现代数据处理中使用的典型应用和库。
- en: Chapter 7 concentrates on using pandas, the data frame library used in Python,
    as efficiently as possible. We’ll look at pandas-related techniques to optimize
    code. Unlike most chapters in the book, this one builds from an earlier chapter.
    pandas works on top of NumPy, so we will draw from what we learn in chapter 4
    and discover NumPy-related techniques to optimize pandas. We also look at how
    to optimize pandas with NumExpr and Cython. Finally, I introduce Arrow, a library
    that, among other functionalities, can be used to increase the performance of
    processing pandas data frames.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第7章专注于尽可能高效地使用pandas，这是Python中使用的DataFrame库。我们将探讨与pandas相关的技术来优化代码。与本书中的大多数章节不同，这一章是从早期章节开始的。pandas建立在NumPy之上，因此我们将从第4章中学到的知识中汲取，并发现与NumPy相关的优化技术。我们还探讨了如何使用NumExpr和Cython来优化pandas。最后，我介绍了Arrow库，这个库除了其他功能外，还可以用于提高处理pandas数据框的性能。
- en: Chapter 8 examines the optimization of data persistence. We discuss Parquet,
    a library to process columnar data efficiently, and Zarr, which can process very
    large on-disk arrays. We also start a discussion about how to deal with datasets
    that are larger than memory.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第8章探讨了数据持久性的优化。我们讨论了Parquet，一个用于高效处理列式数据的库，以及Zarr，它可以处理非常大的磁盘数组。我们还开始讨论如何处理大于内存的数据集。
- en: 'Part 4, *Advanced Topics* (chapters 9 and 10), deals with two final, and very
    different, approaches: working with GPUs and using the Dask library.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 第4部分，*高级主题*（第9章和第10章），处理了两种最终且截然不同的方法：使用GPU以及使用Dask库。
- en: Chapter 9 looks at the uses of graphical processing units (GPUs) to process
    large datasets. We will see that the GPU computing model—using many simple processing
    units—is quite adequate to deal with modern data science problems. We use two
    different approaches to take advantage of GPUs. First, we will discuss existing
    libraries that provide similar interfaces to libraries that you know, such as
    CuPy as a GPU version of NumPy. Second, we will cover how to generate code to
    run on GPUs from Python.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第9章探讨了使用图形处理单元（GPU）处理大型数据集的用途。我们将看到GPU计算模型——使用许多简单的处理单元——对于处理现代数据科学问题来说是相当合适的。我们将采用两种不同的方法来利用GPU。首先，我们将讨论提供类似接口的现有库，例如CuPy作为NumPy的GPU版本。其次，我们将介绍如何从Python生成在GPU上运行的代码。
- en: Chapter 10 discusses Dask, a library that allows you to write parallel code
    that scales out to many machines—either on-premises or in the cloud—while providing
    familiar interfaces similar to NumPy and pandas.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第10章讨论了Dask库，这是一个允许你编写可扩展到多台机器的并行代码的库——无论是在本地还是云端——同时提供类似于NumPy和pandas的熟悉接口。
- en: The book also includes two appendices.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 本书还包括两个附录。
- en: Appendix A walks you through the installation of software necessary to use the
    examples in this book.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 附录A将指导你安装使用本书示例所需的所有软件。
- en: Appendix B discusses Numba, an alternative to Cython to generate efficient low-level
    code. Cython and Numba are the main avenues to generate low-level code. To solve
    real-world problems, I recommend Numba. Why, then, did I dedicate an entire chapter
    to Cython and put Numba at the back of the book? Because the main purpose of this
    book is to give you a solid foundation for writing efficient code in the Python
    ecosystem, and Cython, with its extra hurdles, allows us to dig deeper in terms
    of understanding what is going on.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 附录B讨论了Numba，它是Cython的替代品，用于生成高效的底层代码。Cython和Numba是生成底层代码的主要途径。为了解决现实世界的问题，我推荐使用Numba。那么，为什么我会在整章中专门介绍Cython，而将Numba放在书的后面呢？因为本书的主要目的是为你提供一个坚实的Python生态系统高效编写代码的基础，而Cython的额外障碍使我们能够更深入地理解正在发生的事情。
- en: About the code
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于代码
- en: This book contains many examples of source code both in numbered listings and
    in line with normal text. In both cases, source code is formatted in a `fixed-width
    font like this` to separate it from ordinary text. Sometimes code is also **`in
    bold`** to highlight code that has changed from previous steps in the chapter,
    such as when a new feature adds to an existing line of code.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 本书包含许多源代码示例，既有编号的列表，也有与普通文本混排。在这两种情况下，源代码都以`固定宽度字体`如这样`来格式化，以将其与普通文本区分开来。有时代码也会**`加粗`**，以突出显示与章节中先前步骤不同的代码，例如当新功能添加到现有代码行时。
- en: In many cases, the original source code has been reformatted; we’ve added line
    breaks and reworked indentation to accommodate the available page space in the
    book. In rare cases, even this was not enough, and listings include line-continuation
    markers (➥). Additionally, comments in the source code have often been removed
    from the listings when the code is described in the text. Code annotations accompany
    many of the listings, highlighting important concepts.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，原始源代码已被重新格式化；我们添加了换行并重新调整了缩进，以适应书中的可用页面空间。在极少数情况下，即使这样也不够，列表中还包括了行续接标记（➥）。此外，当代码在文本中描述时，源代码中的注释通常也会从列表中删除。许多列表旁边都有代码注释，突出显示重要概念。
- en: You can get executable snippets of code from the liveBook (online) version of
    this book at [https://livebook.manning.com/book/fast-python](https://livebook.manning.com/book/fast-python).
    The complete code for the examples in the book is available for download from
    GitHub at [https://github.com/tiagoantao/python-performance](https://github.com/tiagoantao/python-performance),
    and from the Manning website at [www.manning.com](http://www.manning.com). I will
    update the repository when bugs are found or when major developments to Python
    and existing libraries require some revisions. As such, please expect some changes
    in the book repository. You will find a directory for each chapter in the repository.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从本书的liveBook（在线）版本中获取可执行的代码片段，网址为[https://livebook.manning.com/book/fast-python](https://livebook.manning.com/book/fast-python)。本书中示例的完整代码可在GitHub上下载，网址为[https://github.com/tiagoantao/python-performance](https://github.com/tiagoantao/python-performance)，以及Manning网站[www.manning.com](http://www.manning.com)。当发现错误或Python和现有库的重大发展需要一些修订时，我将更新存储库。因此，请预期本书存储库中会有一些变化。你将在存储库中找到一个每个章节的目录。
- en: 'Whatever code style you prefer, I have adapted the code herein to work well
    in a printed book. For example, I tend to be partial to long and descriptive variable
    names, but these do not work well with the limitations of book form. I try to
    use expressive names and follow standard Python conventions like PEP8, but book
    legibility takes precedence. The same is valid for type annotations: I would like
    to use them, but they get in the way of code readability. In some very rare cases,
    I use an algorithm to increase readability, even though it doesn’t deal with all
    corner cases or add much to the explanation.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你偏好哪种代码风格，我都已经调整了这里的代码，使其在印刷书籍中运行良好。例如，我倾向于使用长且描述性的变量名，但这些在书籍形式的限制下并不适用。我尝试使用表达性的名称并遵循标准的Python约定，如PEP8，但书籍的可读性更为重要。同样，对于类型注解也是如此：我愿意使用它们，但它们会妨碍代码的可读性。在极少数情况下，我会使用算法来提高可读性，即使它并不处理所有边缘情况或对解释增加多少帮助。
- en: In most cases, the code in this book will work with the standard Python interpreter.
    In some limited scenarios, IPython will be required, especially for the expedient
    performance analysis. You can also use Jupyter Notebook.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，本书中的代码将与标准的Python解释器兼容。在某些有限的场景中，需要IPython，特别是为了方便的性能分析。你也可以使用Jupyter
    Notebook。
- en: Details about the installation can be found in appendix A. If any chapter or
    section requires special software, that will be noted in the appropriate place.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 关于安装的详细信息可以在附录A中找到。如果任何章节或部分需要特殊软件，将在适当的位置注明。
- en: liveBook discussion forum
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: liveBook讨论论坛
- en: Purchase of *Fast Python* includes free access to liveBook, Manning’s online
    reading platform. Using liveBook’s exclusive discussion features, you can attach
    comments to the book globally or to specific sections or paragraphs. It’s a snap
    to make notes for yourself, ask and answer technical questions, and receive help
    from the author and other users. To access the forum, go to [https://livebook.manning.com/book/fast-python/discussion](https://livebook.manning.com/book/fast-python/discussion).
    You can also learn more about Manning’s forums and the rules of conduct at [https://livebook.manning.com/discussion](https://livebook.manning.com/discussion).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 购买《Fast Python》包括对liveBook的免费访问，这是Manning的在线阅读平台。使用liveBook的独特讨论功能，你可以对整本书、特定章节或段落附加评论。为自己做笔记、提出和回答技术问题，以及从作者和其他用户那里获得帮助都非常简单。要访问论坛，请访问[https://livebook.manning.com/book/fast-python/discussion](https://livebook.manning.com/book/fast-python/discussion)。你还可以在[https://livebook.manning.com/discussion](https://livebook.manning.com/discussion)了解更多关于Manning论坛和行为准则的信息。
- en: Manning’s commitment to our readers is to provide a venue where a meaningful
    dialogue between individual readers and between readers and the author can take
    place. It is not a commitment to any specific amount of participation on the part
    of the author, whose contribution to the forum remains voluntary (and unpaid).
    We suggest you try asking the author some challenging questions lest their interest
    stray! The forum and the archives of previous discussions will be accessible from
    the publisher’s website for as long as the book is in print.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: Manning对我们读者的承诺是提供一个平台，让读者之间以及读者与作者之间可以进行有意义的对话。这并不是作者在特定程度上参与的承诺，作者对论坛的贡献仍然是自愿的（且未付费）。我们建议你尝试向作者提出一些挑战性的问题，以免他们的兴趣分散！论坛和以前讨论的存档将可以在书籍印刷期间通过出版社的网站访问。
- en: Hardware and software
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 硬件和软件
- en: You can use any operating system to run the code in this book. That being said,
    Linux is where most production code tends to be deployed, so that is the preferred
    system. MacOS X should also work without any adaptations. If you use Windows,
    I recommend that you install Windows Subsystem for Linux (WSL).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用任何操作系统来运行本书中的代码。话虽如此，Linux是大多数生产代码倾向于部署的地方，因此它是首选的系统。MacOS X也应该无需任何调整即可运行。如果你使用Windows，我建议你安装Windows
    Subsystem for Linux (WSL)。
- en: An alternative to all operating systems is Docker. You can use the Docker images
    provided in the repository. Docker will provide a containerized Linux environment
    to run the code.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 所有操作系统的替代方案是Docker。你可以使用存储库中提供的Docker镜像。Docker将提供一个容器化的Linux环境来运行代码。
- en: I recommend you have at least 16 GB of memory and 150 GB of free disk space.
    Chapter 9, with GPU-related content, requires an NVIDIA GPU, at least based on
    the Pascal architecture; most GPUs released in the last five years should cover
    this requirement. More details about preparing your computer and software to get
    the most from this book can be found in appendix A.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议您至少拥有16 GB的内存和150 GB的空闲磁盘空间。第9章包含与GPU相关的内容，需要至少基于Pascal架构的NVIDIA GPU；过去五年中发布的多数GPU都应满足这一要求。关于如何准备您的计算机和软件以充分利用本书的更多详细信息，请参阅附录A。
- en: about the author
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于作者
- en: Tiago Rodrigues Antão has a BEng in Informatics and a PhD in bioinformatics.
    He currently works in the biotech field. Tiago uses Python with all its libraries
    to perform scientific computing and data engineering tasks. More often than not,
    he also uses low-level programming languages such as C and Rust to optimize critical
    parts of algorithms. He currently develops on an infrastructure based on Amazon
    AWS, but for most of his career, he used on-premises computing and scientific
    clusters.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Tiago Rodrigues Antão拥有信息学学士学位和生物信息学博士学位。他目前从事生物技术领域的工作。Tiago使用Python及其所有库来执行科学计算和数据工程任务。他经常使用诸如C和Rust等底层编程语言来优化算法的关键部分。他目前在一个基于Amazon
    AWS的基础设施上开发，但他在职业生涯的大部分时间里使用的是本地计算和科学集群。
- en: In addition to working in the industry, his experience with the academic side
    of scientific computing includes two data analysis post-docs at Cambridge University
    and Oxford University. As a research scientist at the University of Montana, he
    created, from scratch, the entire scientific computing infrastructure for the
    analysis of biological data.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在工业界工作外，他在科学计算学术方面的经验包括在剑桥大学和牛津大学担任两个数据分析博士后。作为蒙大拿大学的科研人员，他从零开始创建了用于分析生物数据的整个科学计算基础设施。
- en: Tiago is one of the co-authors of *Biopython,* a major bioinformatics package
    written in Python, and is author of the book *Bioinformatics with Python Cookbook*
    (Packt, 2022), which is in its third edition. He has also authored and co-authored
    many important scientific articles in the field of bioinformatics.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Tiago是Python编写的生物信息学主要软件包*Biopython*的合著者之一，也是《Python生物信息学食谱》（Packt，2022年）一书的作者，该书已进入第三版。他还撰写和合著了许多在生物信息学领域的重大科学论文。
- en: about the cover illustration
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于封面插图
- en: The figure on the cover of *Fast Python* is captioned “Bourgeoise de Passeau,”
    or “Bourgeoise of Passeau,” taken from a collection by Jacques Grasset de Saint-Sauveur,
    published in 1797\. Each illustration is finely drawn and colored by hand.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 《快速Python》封面上的插图标题为“Bourgeoise de Passeau”，或“Bourgeoise of Passeau”，取自雅克·格拉塞·德·圣索沃尔（Jacques
    Grasset de Saint-Sauveur）1797年出版的作品集。每一幅插图都是手工精心绘制和着色的。
- en: In those days, it was easy to identify where people lived and what their trade
    or station in life was just by their dress. Manning celebrates the inventiveness
    and initiative of the computer business with book covers based on the rich diversity
    of regional culture centuries ago, brought back to life by pictures from collections
    such as this one.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在那些日子里，人们通过他们的服饰就能轻易地识别出他们的居住地以及他们的职业或社会地位。Manning通过基于几个世纪前丰富多样的地区文化的封面设计，庆祝计算机行业的创新精神和主动性，这些文化通过如这一系列图片被重新带回生活。
