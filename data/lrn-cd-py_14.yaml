- en: 'Lesson 12\. Capstone project: name mashup'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第12课。综合项目：名字混合
- en: After reading [lesson 12](#ch12), you’ll be able to
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第12课](#ch12)之后，你将能够
- en: Write code to solve a programming task
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写代码来解决编程任务
- en: Read requirements for a program
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读程序的要求
- en: Get input from the user for two first and last names, mash them up (combine
    them in some way), and show the user the result
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从用户那里获取两个名和姓的输入，将它们混合（以某种方式组合），并向用户展示结果
- en: Systematically build up code to write program solutions
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统性地构建代码来编写程序解决方案
- en: '|  |'
  id: totrans-6
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  |'
- en: The problem
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_H5
  type: TYPE_NORMAL
  zh: 问题
- en: 'This is your first interactive programming task, so let’s have some fun with
    the user! You want to write a program that automatically combines two names given
    by the user. That’s an open-ended problem statement, so let’s add a few more details
    and restrictions:'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是你的第一个交互式编程任务，所以让我们和用户一起玩得开心！你想要编写一个程序，能够自动将用户提供的两个名字组合起来。这是一个开放性问题陈述，所以让我们添加一些更多细节和限制：
- en: '|  |'
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  |'
- en: Tell the user to give you two names in the format FIRST LAST.
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 告诉用户以“名 姓”的格式提供给你两个名字。
- en: Show the user two possible new names in the format FIRST LAST.
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向用户展示两种可能的新名字，格式为“名 姓”。
- en: The new first name is a combination of the first names given by the user, and
    the new last name is a combination of the last names given by the user. For example,
    if the user gives you `Alice Cat` and `Bob Dog`, a possible mashup is `Bolice
    Dot`.
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新的名字是用户给出的名字的组合，新的姓是用户给出的姓的组合。例如，如果用户给你的是“Alice Cat”和“Bob Dog”，一个可能的混合名字是“Bolice
    Dot”。
- en: 12.1\. Understanding the problem statement
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.1. 理解问题陈述
- en: The checkpoint exercises you’ve seen so far have been simple. This is your first
    complicated program, and you’ll have to think about how you’ll accomplish the
    task rather than starting to code right away.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 你之前看到的检查点练习都很简单。这是你的第一个复杂的程序，你将不得不思考如何完成任务，而不是立即开始编码。
- en: 'When you encounter a problem statement, you should look for the following:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 当你遇到一个问题陈述时，你应该寻找以下内容：
- en: A general description of what the program should accomplish
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 程序应完成的一般描述
- en: The inputs you should get from the user, if any
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你应该从用户那里获取的输入（如果有的话）
- en: What the program should output
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 程序应输出的内容
- en: The behavior of the program in various situations
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 程序在不同情况下的行为
- en: 'You should first organize your thoughts on the task you’re given by using a
    method that works for you. Ideally, you’ll do all three of the following:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该首先使用对你有效的方法来组织你对你所分配的任务的想法。理想情况下，你将完成以下三项：
- en: Draw sketches to understand what’s being asked
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 绘制草图以理解所提要求
- en: Come up with a couple of examples that you can use to test your code
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提出几个你可以用来测试你代码的例子
- en: Abstract your drawing and examples into pseudocode
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将你的草图和示例抽象成伪代码
- en: 12.1.1\. Drawing a sketch of the problem
  id: totrans-24
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.1.1. 绘制问题的草图
- en: In this problem, you’re asked to get input from the user. The user will give
    you two names. You’ll separate the names into first and last names. Then you’ll
    take the two first names and mash them up. Similarly, you’ll take the two last
    names and mash them up. Finally, you’ll present the user with your new first-
    and last-name mashups. [Figure 12.1](#ch12fig01) shows these three parts of the
    problem.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个问题中，你被要求从用户那里获取输入。用户会给你两个名字。然后你将名字分开成名和姓。接下来，你将两个名字混合起来。同样，你将两个姓混合起来。最后，你将向用户展示你的新名字混合。![图12.1](#ch12fig01)展示了这个问题的三个部分。
- en: Figure 12.1\. Drawing the inputs to the program, a sample mashup of the input
    names, and the output shown to the user
  id: totrans-26
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.1. 绘制程序的输入，输入名字的样本混合，以及展示给用户的输出
- en: '![](images/12fig01_alt.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](images/12fig01_alt.jpg)'
- en: 12.1.2\. Coming up with a few examples
  id: totrans-28
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.1.2. 提出几个例子
- en: After you have an idea of the main parts of the program, you should come up
    with a few examples that you’ll be able to use to test your program.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在你对程序的主要部分有了一个想法之后，你应该想出一些例子，你可以使用这些例子来测试你的程序。
- en: This is an important step. You, as a programmer, get to simulate what the user
    might input into the program. Users are unpredictable, and one of their favorite
    pastimes is to try to crash your program.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个重要的步骤。作为程序员，你需要模拟用户可能会输入到程序中的内容。用户是不可预测的，他们最喜欢的消遣之一就是试图让你的程序崩溃。
- en: 'In this step, you should try to come up with as many different inputs as possible.
    Think about short names, long names, and combinations of different lengths of
    first and last names. Are there any unique names? Here are a few sample types
    of names for testing:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个步骤中，你应该尝试尽可能多地想出不同的输入。考虑短名、长名以及不同长度的名和姓的组合。是否有任何独特的名字？以下是一些用于测试的姓名样本类型：
- en: A first/last name that has two letters (CJ Cool and AJ Bool)
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有两个字母的姓名（CJ Cool 和 AJ Bool）
- en: A first/last name that has many letters (Moonandstarsandspace Knight)
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有多个字母的姓名（Moonandstarsandspace Knight）
- en: A first/last name that has an even number of letters (Lego Hurt)
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有偶数个字母的姓名（Lego Hurt）
- en: A first/last name that has an odd number of letters (Sting Bling)
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有奇数个字母的姓名（Sting Bling）
- en: A first/last name with the same letters (Aaa)
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有相同字母的姓名（Aaa）
- en: Two names that are the same (Meg Peg and Meg Peg)
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个相同的姓名（Meg Peg 和 Meg Peg）
- en: You should stick to examples that don’t deviate from what you told the user
    to input. In this case, you ask the user for a first and last name. You don’t
    make any guarantees about how your program works when the user puts in anything
    that doesn’t match this. For example, a user who inputs `Ari L Mermaid` shouldn’t
    expect the program to work as advertised.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该坚持使用不偏离用户输入内容的示例。在这种情况下，你要求用户输入名和姓。你不对用户输入与这些内容不匹配时程序如何工作做出任何保证。例如，输入 `Ari
    L Mermaid` 的用户不应期望程序按广告宣传的方式工作。
- en: 12.1.3\. Abstracting the problem into pseudocode
  id: totrans-39
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.1.3\. 将问题抽象为伪代码
- en: 'Now you’re ready to divide your program into *blocks* of code. In this step,
    you start writing pseudocode: a mix of English and programming syntax. Each block
    will tackle a separate step in your program. Each step aims to gather data in
    a variable for use in a later step. Here are the main steps in this program:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以将你的程序划分为代码的*块*。在这个步骤中，你开始编写伪代码：英语和编程语法的混合。每个块将处理程序中的单独步骤。每个步骤的目的是在变量中收集数据，以便在后续步骤中使用。以下是程序中的主要步骤：
- en: Get user input and store it in variables.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取用户输入并将其存储在变量中。
- en: Split up the full names into first and last names and store them in variables.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将全名拆分为名和姓，并将它们存储在变量中。
- en: Decide how you’ll split up the names. For example, find halfway points in each
    first name and last name. Store the first half of each in variables, and the last
    half of each in variables.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决定你将如何拆分姓名。例如，在每个名和姓中找到中间点。将每个姓名的前半部分存储在变量中，并将每个姓名的后半部分存储在变量中。
- en: Combine the first half of one name with the second half of another name. Repeat
    for as many combinations as you want of first and last names.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个姓名的前半部分与另一个姓名的后半部分组合。重复此操作，直到你想要的第一和姓的组合。
- en: The next few sections discuss each of these steps in detail.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的几节将详细讨论这些步骤。
- en: 12.2\. Splitting up first and last names
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2\. 拆分名和姓
- en: You’ll notice that the purpose of everything you’ve done so far has been to
    try to understand what’s being asked in the problem. Coding should be the last
    step, to reduce the number of errors you might run into.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 你会注意到到目前为止你所做的一切都是为了试图理解问题中要求的内容。编码应该是最后一步，以减少你可能遇到的错误数量。
- en: At this point, you can start to code up the individual blocks of statements.
    When writing interactive programs, you almost always start with getting input
    from the user. The following listing shows the lines of code that achieve this.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你可以开始编写单个语句块。在编写交互式程序时，你几乎总是从获取用户输入开始。以下列表显示了实现此功能的代码行。
- en: Listing 12.1\. Getting user input
  id: totrans-49
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 12.1\. 获取用户输入
- en: '[PRE0]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '***1* Asks the user for input in the desired format**'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 请求用户以期望的格式输入**'
- en: The user input is now stored in two variables, with appropriate names.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 用户输入现在存储在两个变量中，具有适当的名称。
- en: 12.2.1\. Finding the space between the first and last name
  id: totrans-53
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.2.1\. 找到名和姓之间的空格
- en: After getting user input, you should split it into first and last names. You’ll
    have to mash up first names together and mash up last names together, so full
    names stored in one variable aren’t helpful. The first step to splitting up the
    full name is to find the space between the first and last name.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在获取用户输入后，你应该将其拆分为名和姓。你将不得不将名和姓混合在一起，因此存储在一个变量中的全名没有帮助。拆分全名的第一步是找到名和姓之间的空格。
- en: In [lesson 7](kindle_split_018.html#ch07), you learned about various operations
    you can do with strings. One operation, `find`, can tell you the index location
    of a particular character. In this case, you’re interested in the index of the
    space character, `" "`.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第7课](kindle_split_018.html#ch07)中，你学习了可以与字符串进行的各种操作。一个操作，`find`，可以告诉你特定字符的索引位置。在这种情况下，你感兴趣的是空格字符的索引，`"
    "`。
- en: 12.2.2\. Using variables to save calculated values
  id: totrans-56
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.2.2\. 使用变量保存计算值
- en: Now you’ll save the first and last names into variables to use later. [Figure
    12.2](#ch12fig02) shows how to split the full name.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你将名字和姓氏保存到变量中以便以后使用。[图12.2](#ch12fig02)展示了如何通过空格的索引分割全名。
- en: Figure 12.2\. Splitting the full name into first and last names by using the
    index of the space
  id: totrans-58
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.2\. 通过空格的索引将全名分割成名字和姓氏
- en: '![](images/12fig02.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](images/12fig02.jpg)'
- en: You first find the index location of the space. Everything from the start of
    the full name to the location of the space is the first name. Everything from
    one letter past the space is the last name.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 你首先找到空格的索引位置。从全名的开头到空格的位置是名字。从空格后的一个字母开始是姓氏。
- en: You should store the first and last names so that you can work with them later.
    [Listing 12.2](#ch12ex02) shows how to do this. You use the `find` operation on
    strings to get the index location of the space character.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该存储名字和姓氏，以便以后可以处理它们。[列表12.2](#ch12ex02)展示了如何做这件事。你使用字符串上的`find`操作来获取空格字符的索引位置。
- en: Knowing this location, you can take all letters from the start of the full name
    (starting from index 0) until the space character index and store that substring
    as the first name. Recall that indexing into a string with `some_string[a:b]`
    means that you take all letters from index `a` to index `b - 1`. To get the last
    name, you start at one character past the `space` character index and take all
    letters until the end of the full name (up to and including the index of the last
    character in the string).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 知道这个位置后，你可以从全名的开头（从索引0开始）取到空格字符索引，并将该子字符串存储为名字。回想一下，使用`some_string[a:b]`对字符串进行索引意味着你从索引`a`到索引`b
    - 1`取所有字母。要获取姓氏，你从`space`字符索引后的一个字符开始，取到全名的末尾（包括字符串中最后一个字符的索引）。
- en: Listing 12.2\. Storing the first and last names in variables
  id: totrans-63
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表12.2\. 在变量中存储名字和姓氏
- en: '[PRE1]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '***1* Gets and stores the index of the space character, which delineates the
    first and last name**'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 获取并存储空格字符的索引，该字符区分名字和姓氏**'
- en: '***2* Takes all letters from the start of the full name until the space character
    to store the first name**'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 从全名的开头取到空格字符，以存储姓氏**'
- en: '***3* Takes all letters from one character past the space until the end of
    the full name to store the last name**'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 从空格后的一个字符开始，取到全名的末尾，以存储姓氏**'
- en: '***4* Repeats for second name**'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 对第二个名字重复操作**'
- en: At this point, you have the two first names and the two last names stored in
    variables.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，你已经将两个名字和两个姓氏存储在变量中。
- en: 12.2.3\. Testing what you have so far
  id: totrans-70
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.2.3\. 测试到目前为止的结果
- en: With the code in [listing 12.2](#ch12ex02) written up, now is a good time to
    run the program on a couple of test cases. Testing the code so far means printing
    the values of the variables you created. You should check to make sure the output
    is what you expect. If you put in `Aqua Man` and `Cat Woman`, the `print` statements
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在[列表12.2](#ch12ex02)中编写的代码完成后，现在是时候在几个测试用例上运行程序了。测试到目前为止的代码意味着打印你创建的变量的值。你应该检查输出是否符合你的预期。如果你输入`Aqua
    Man`和`Cat Woman`，`print`语句
- en: '[PRE2]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'will print this:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 将打印出以下内容：
- en: '[PRE3]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This checks out, so you can move on to the next part of the code.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这一切看起来都正常，所以你可以继续代码的下一部分。
- en: 12.3\. Storing the halves of all names
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.3\. 存储所有名字的一半
- en: With what you know so far, you can’t do any fancy letter detection to make the
    resulting mashup look and sound just right. Instead, you can do something simpler
    that works well most of the time. Given two first names, take the first half of
    one name and the second half of the other name and combine them, as shown in [figure
    12.3](#ch12fig03).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你目前所知，你不能进行任何复杂的字母检测，以使混合结果看起来和听起来都恰到好处。相反，你可以做一些更简单但大多数时候都有效的方法。给定两个名字，取一个名字的前半部分和另一个名字的后半部分，并将它们合并，如图12.3所示。
- en: Figure 12.3\. Two ways to mash up Aqua Man and Cat Woman. You take half of each
    of the first names and combine them. Then you take half of each of the last names
    and combine them.
  id: totrans-78
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图12.3\. 两种将水人和猫女混合的方法。你取每个名字的一半并合并它们。然后你取每个姓氏的一半并合并它们。
- en: '![](images/12fig03_alt.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](images/12fig03_alt.jpg)'
- en: 12.3.1\. Finding the midpoint of names
  id: totrans-80
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 12.3.1\. 找到名称的中点
- en: You want to find the index in the string that’s halfway in a name. The user
    can enter names of any length, and names that have an even or an odd number of
    characters.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 您想要找到名称中字符串一半的索引。用户可以输入任何长度的名称，包括偶数或奇数个字符的名称。
- en: Names with an even number of characters
  id: totrans-82
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 偶数个字符的名称
- en: With names that have an even number of characters, dividing the name in half
    is easy. You take the length of the word and divide by 2 to give you a whole number
    for the halfway index point in the string. In [figure 12.3](#ch12fig03), the name
    *Aqua* is an example of this.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 对于字符数量为偶数的名称，将其一分为二很容易。您取单词的长度并除以2，以得到字符串中半数索引点的整数值。在[图12.3](#ch12fig03)中，名称*Aqua*是这种情况的例子。
- en: Names with an odd number of characters
  id: totrans-84
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 奇数个字符的名称
- en: What should you do when a name has an odd number of characters? In [figure 12.3](#ch12fig03),
    Cat and Woman are examples. Dividing an odd number by 2 in Python gives you a
    floating-point number, such as 3.5 or 5.5. A floating-point number can’t be used
    as an index into the string.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 当名称字符数量为奇数时，您应该怎么做？在[图12.3](#ch12fig03)中，Cat和Woman是例子。在Python中将奇数除以2会得到一个浮点数，例如3.5或5.5。浮点数不能用作字符串的索引。
- en: 'Recall that you can cast a floating-point number to an integer. For example,
    `int(3.5)` gives you `3`. Now, names that have an odd number of letters will have
    indices that are rounded down for the first half of the name; *Man* in the top
    part of [figure 12.3](#ch12fig03) is an example. Therefore, names with an odd
    number of letters will start one index early for the second half of the name:
    *Woman* in the top part of [figure 12.3](#ch12fig03) is an example.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，您可以将浮点数转换为整数。例如，`int(3.5)`给出`3`。现在，具有奇数个字母的名称将具有向下取整的索引，[图12.3](#ch12fig03)上部的*Man*是一个例子。因此，具有奇数个字母的名称将使第二个半部分的名称提前一个索引：[图12.3](#ch12fig03)上部的*Woman*是一个例子。
- en: The code to save halves into variables
  id: totrans-87
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 将半部分保存到变量中的代码
- en: '[Listing 12.3](#ch12ex03) shows how to store halves of each name. The user
    entered two full names. You have to find halves of each name, but the same basic
    process is repeated for each name.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '[列表12.3](#ch12ex03)展示了如何存储每个名称的半部分。用户输入了两个完整的名称。您必须找到每个名称的半部分，但对于每个名称，重复相同的基本过程。'
- en: You first find the halfway point in the name. You use the casting function in
    Python to deal with names that have an odd number of letters. If a name has five
    letters, the first half will have two letters, and the second half will have three
    letters. Casting to an int doesn’t affect names with an even number of letters
    because, for example, `int(3.0)` is `3`.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 您首先找到名称的中点。您使用Python中的转换函数来处理具有奇数个字母的名称。如果一个名称有五个字母，第一个半部分将有两个字母，第二个半部分将有三个字母。转换为int不会影响具有偶数个字母的名称，因为例如`int(3.0)`是`3`。
- en: Listing 12.3\. Storing halves of each name
  id: totrans-90
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表12.3\. 存储每个名称的半部分
- en: '[PRE4]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '***1* Stores lengths of the first and last names extracted from the input**'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 存储从输入中提取的姓名的第一和最后一个名称的长度**'
- en: '***2* Stores halfway indices of each name by casting the halfway point to an
    integer to round down to get a whole-number index**'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 通过将中点转换为整数并向下取整以获得一个整数值来存储每个名称的中点索引**'
- en: '***3* Name from start to halfway**'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 从开始到中间的名称**'
- en: '***4* Name from halfway to the end**'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***4* 从中间到结尾的名称**'
- en: Now you have all the halves of names stored. The final thing left to do is to
    combine them.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经存储了名称的所有半部分。剩下要做的就是将它们组合起来。
- en: 12.4\. Combining the halves
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.4\. 组合半部分
- en: To combine the halves, you can concatenate the relevant variables. Recall that
    concatenation uses the `+` operator between two strings. Notice that this step
    is now simple because you already computed and stored everything necessary.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要组合半部分，您可以连接相关的变量。回想一下，连接使用两个字符串之间的`+`运算符。注意，这一步现在很简单，因为您已经计算并存储了所有必要的内容。
- en: The code for this is in [listing 12.4](#ch12ex04). In addition to combining
    the halves, you should also make sure to capitalize the relevant half so that
    it looks like a name—for example, `Blah` and not `blah`. You can use the `capitalize`
    operation on the first half to capitalize the first letter only. You use the `lower`
    operation on the second half to make all of its letters lowercase.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 有关此操作的代码在[列表12.4](#ch12ex04)中。除了组合半部分外，您还应该确保将相关的半部分大写，使其看起来像是一个名称——例如，`Blah`而不是`blah`。您可以使用`capitalize`操作在第一个半部分上仅大写第一个字母。您使用`lower`操作在第二个半部分上使所有字母都变为小写。
- en: A final thing to note about the code in [listing 12.4](#ch12ex04) is the use
    of the backslash on some lines. The backslash is used to break up statements in
    your code over more than one line. If you insert a line break in a line of code,
    the backslash tells Python to keep reading the next line to find the rest of the
    statement; without the backslash, you’ll get an error when you run the program.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 关于[列表12.4](#ch12ex04)中的代码，有一点需要注意，那就是一些行上使用了反斜杠。反斜杠用于在代码中拆分跨越多行的语句。如果你在代码行中插入换行符，反斜杠会告诉Python继续读取下一行以找到语句的其余部分；如果没有反斜杠，当你运行程序时会出现错误。
- en: Listing 12.4\. Combining the names
  id: totrans-101
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表12.4\. 合并名字
- en: '[PRE5]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '***1* Capitalizes the first half string**'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 将前半部分字符串大写化**'
- en: '***2* Ensures that the second half string is all lowercase**'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 确保后半部分字符串全部小写**'
- en: '***3* Shows the user two possible names**'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***3* 向用户展示两个可能的名字**'
- en: 'This code repeats the same thing four times: to get two new first-name combinations
    and then to get two new last-name combinations. First, you take the left half
    of the first name from the first user input and use the `capitalize` operation
    to ensure that the first letter is capitalized and all others are lowercase. Then
    you take the second half of the first name from the second user input and ensure
    that all letters are lowercase. The backslash tells Python that the statement
    spans two lines.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码重复了同样的操作四次：获取两个新的名字组合，然后获取两个新的姓氏组合。首先，你从第一个用户的输入中取出名字的前半部分，并使用`capitalize`操作来确保第一个字母是大写的，其余都是小写。然后，你从第二个用户的输入中取出名字的后半部分，并确保所有字母都是小写。反斜杠告诉Python该语句跨越了两行。
- en: After you combine the halves, the final remaining step is to show the user the
    results. Use the `print` operation and display the new names. Try playing around
    with the program and different input names!
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在你合并了两个部分之后，最后一步是向用户展示结果。使用`print`操作并显示新的名字。试着在程序和不同的输入名字上玩玩！
- en: Summary
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this lesson, my objective was for you to write a program that asks the user
    for two names in a specific format. You manipulated the names so that you created
    variables to hold halves of each first name and each last name. You combined the
    halves to mash up the input names and then showed the user the results. Here are
    the main takeaways:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，我的目标是让你编写一个程序，要求用户以特定格式输入两个名字。你操作了这些名字，创建了变量来保存每个名字的前半部分和后半部分。然后你合并了这些部分来混合输入的名字，并向用户展示了结果。以下是主要收获：
- en: The user can provide input more than once in your program.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以在你的程序中多次提供输入。
- en: You can use the `find` operation to find the location of substrings in the user
    input.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以使用`find`操作来查找用户输入中的子字符串的位置。
- en: You saved manipulated strings as variables, and you used the `+` operator to
    concatenate strings together.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你将操作过的字符串保存为变量，并使用`+`操作符将字符串连接起来。
- en: You used the `print` operation to show output to the user.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你使用了`print`操作来向用户展示输出。
