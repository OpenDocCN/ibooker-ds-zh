- en: Appendix C. Vagrant
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 C. Vagrant
- en: At various points in this book we use virtual machines to demonstrate a technique
    for Docker that requires a full machine representation, or even multiple virtual-machine
    orchestration. Vagrant offers a simple way to start, provision, and manage virtual
    machines from the command line, and it’s available on several platforms.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的各个部分，我们使用虚拟机来演示 Docker 需要完整机器表示或甚至多个虚拟机编排的技术。Vagrant 提供了一种简单的方法，可以从命令行启动、配置和管理虚拟机，并且它在多个平台上都可用。
- en: Setting up
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置
- en: Go to [https://www.vagrantup.com](https://www.vagrantup.com) and follow the
    instructions from there to get set up.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 [https://www.vagrantup.com](https://www.vagrantup.com) 并遵循那里的说明来设置。
- en: GUIs
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图形用户界面
- en: When running `vagrant up` to start up a virtual machine, Vagrant reads the local
    file called Vagrantfile to determine the settings.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 当运行 `vagrant up` 以启动虚拟机时，Vagrant 会读取名为 Vagrantfile 的本地文件以确定设置。
- en: 'A useful setting that you can create or change within the section for your
    `provider` is the `gui` one:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在你的 `provider` 部分创建或更改的一个有用设置是 `gui`：
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'For example, if your provider is VirtualBox, a typical config section might
    look like this:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果你的提供者是 VirtualBox，一个典型的配置部分可能看起来像这样：
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You could change the `v.gui` line’s `false` setting to `true` (or add it if
    it isn’t already there) before running `vagrant up` to get a GUI for the running
    VM.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行 `vagrant up` 以启动虚拟机之前，你可以将 `v.gui` 行的 `false` 设置更改为 `true`（或者如果它还没有添加，则添加它）以获得正在运行的虚拟机的图形用户界面。
- en: '|  |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Tip
  id: totrans-12
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 小贴士
- en: A *provider* within Vagrant is the name of the program that provides the VM
    environment. For most users, this will be `virtualbox`, but it might also be `libvirt`,
    `openstack`, or `vmware_fusion` (among others).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Vagrant 中的 *provider* 是提供虚拟机环境的程序的名称。对于大多数用户来说，这将是 `virtualbox`，但它也可能是 `libvirt`、`openstack`
    或 `vmware_fusion`（以及其他）。
- en: '|  |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Memory
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 内存
- en: Vagrant uses VMs to create its environments, and these can be very memory-hungry.
    If you’re running a three-node cluster with each VM taking up 2 GB of memory,
    your machine will require 6 GB of available memory. If your machine is struggling
    to run, this lack of memory is most likely why—the only solution is to stop any
    non-essential VMs or buy more memory. Being able to avoid this is one of the reasons
    Docker is more powerful than a VM—you don’t need to preallocate resources to containers—they’ll
    just consume what they need.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Vagrant 使用虚拟机来创建其环境，这些环境可能会非常消耗内存。如果你正在运行一个由每个虚拟机占用 2 GB 内存的三节点集群，你的机器将需要 6
    GB 的可用内存。如果你的机器运行困难，这种内存不足很可能是原因——唯一的解决方案是停止任何非必要的虚拟机或购买更多内存。能够避免这种情况是 Docker
    比虚拟机更强大的原因之一——你不需要预先为容器分配资源——它们只需消耗它们需要的。
