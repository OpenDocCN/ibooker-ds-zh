- en: '3 Functions: Don’t repeat yourself!'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3个函数：不要重复自己！
- en: In this chapter
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中
- en: Simon explains how to avoid repeating yourself (and why)
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 西蒙解释如何避免重复（以及为什么）
- en: Erik writes his first Python function
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 艾瑞克编写他的第一个Python函数
- en: Erik starts using Python’s interactive tool
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 艾瑞克开始使用Python的交互式工具
- en: Erik improves his function to make his receipt look professional
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 艾瑞克改进了他的函数，使他的收据看起来更专业
- en: “Where did we stop yesterday?” Simon asked Erik the next day.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: “我们昨天做到哪里了？”西蒙第二天问艾瑞克。
- en: “You were going to tell me why bugs are called bugs,” Erik said.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: “你本来要告诉我为什么错误被称为错误的，”艾瑞克说。
- en: “Right!” Simon said. “Believe it or not, many years ago, computers were made
    of electro-mechanical things called relays that had contacts similar to light
    switches. One day, the engineers discovered an error in their program. Their code
    was correct, but they found a bug stuck between the contacts in one of the relays.
    That’s why programmers call errors bugs. The bugs are usually hidden in your code,
    and you must remove them to make your program work. What else?”
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: “对！”西蒙说。“信不信由你，很多年前，计算机是由叫做继电器这样的机电装置组成的，它们有类似于开关的触点。有一天，工程师们发现他们的程序中有一个错误。他们的代码是正确的，但他们发现一个错误卡在了一个继电器触点之间。这就是为什么程序员把错误称为错误。错误通常隐藏在你的代码中，你必须移除它们才能让你的程序工作。还有什么？”
- en: “You said that I shouldn’t repeat myself. And you said we were going to write
    our own function today.”
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: “你说我不应该重复自己。你也说过我们今天要自己写一个函数。”
- en: “Right! First, tell me what you know about functions so far.”
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: “对！首先，告诉我你到目前为止对函数的了解。”
- en: “We used a couple of functions already,” Erik answered. “We used `print()` and
    `input()`. You said that somebody wrote them so we can use them. We can also use
    arguments with functions. We just have to put the arguments between the parentheses,
    and the function will do something with them, like print them.”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: “我们已经使用了一些函数，”艾瑞克回答。“我们使用了 `print()` 和 `input()`。你说有人写了它们，所以我们可以使用它们。我们也可以在函数中使用参数。我们只需要在括号中放入参数，函数就会对它们做些什么，比如打印它们。”
- en: “That’s right! You’re a great student!” Simon smiled. “The important thing about
    functions is that they can do *the same thing* each time, but with different arguments.
    So if you see that you’re doing the same thing several times, you should look
    at whether it can be turned into a function. To decide, you should look at your
    repeating code and ask yourself which parts are the same and which are different.
    Where is your program from yesterday?”
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: “没错！你是个优秀的学生！”西蒙微笑着说。“函数的重要之处在于它们每次都可以做**相同的事情**，但使用不同的参数。所以如果你看到自己在多次做相同的事情，你应该看看是否可以将其转换成一个函数。为了决定，你应该看看你重复的代码，并问自己哪些部分是相同的，哪些是不同的。你的程序昨天是从哪里开始的？”
- en: '“Here.” Erik opened the `menu.py` file in the editor:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: “在这里。”艾瑞克在编辑器中打开了 `menu.py` 文件：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: “Look, what is repeating here?” Simon asked and started drawing a diagram with
    Erik’s code.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: “看，这里有什么是重复的吗？”西蒙问，并开始用艾瑞克的代码画图。
- en: '![](../Images/03-01-repeated_code.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![重复代码](../Images/03-01-repeated_code.png)'
- en: “The loop. The `print()` in the beginning and the `input()` at the end.”
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: “循环。开头的 `print()` 和结尾的 `input()`。”
- en: “And what is different in these three cases?”
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: “这三者有什么不同吗？”
- en: “The prompt for the `input()` is different,” Erik answered. “Also, the title
    is slightly different.”
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “`input()` 的提示不同，”艾瑞克回答。“而且标题也略有不同。”
- en: “And you’re running `for` loops through different lists, like `drinks`, `flavors`,
    and `toppings`, right?” Simon decided to help Erik. “So we’ll *pass* as arguments
    the things that are different. In our case, they will be the list of choices,
    the menu title, and the input prompt.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “而且你正在运行 `for` 循环遍历不同的列表，比如 `drinks`、`flavors` 和 `toppings`，对吧？”西蒙决定帮助艾瑞克。“所以我们将不同的东西作为参数传递。在我们的情况下，它们将是选择列表、菜单标题和输入提示。”
- en: “Let’s start a new file in the editor and call it `menu_function.py`. We’ll
    write our function there.”
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: “让我们在编辑器中新建一个文件，并命名为 `menu_function.py`。我们将在那里写我们的函数。”
- en: Erik clicked New and then Save in the editor. He then typed `menu_function.py`,
    and he was ready to write code.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克在编辑器中点击了“新建”然后“保存”。然后他输入了 `menu_function.py`，准备开始写代码。
- en: “Functions in Python start with the word `def` followed by the name of the function,”
    Simon continued. “Let’s call our function `menu`. Then you open the parentheses
    and list your arguments.”
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: “Python中的函数以单词 `def` 开头，后面跟着函数名，”西蒙继续说。“让我们把我们的函数命名为 `menu`。然后你打开括号，列出你的参数。”
- en: Erik wrote `def menu(` and wasn’t sure what to do next.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克写下了 `def menu(` 并不确定接下来该做什么。
- en: Simon helped, “We just talked about your arguments. I see you’re thinking how
    to name them. Remember, naming variables and arguments is one of the most difficult
    problems in computer science. You’re not alone. Let’s name them `choices`, `title`,
    and `prompt`. Just type them after the opening parenthesis and put a colon after
    the closing parenthesis.”
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙帮忙说，“我们刚刚讨论了你的参数。我看到你在想如何命名它们。记住，命名变量和参数是计算机科学中最困难的问题之一。你不是一个人。让我们将它们命名为`choices`、`title`和`prompt`。只需在开括号后输入它们，并在闭括号后加一个冒号。”
- en: 'Erik typed the following:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克输入了以下内容：
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: He noticed that after he pressed Enter, the cursor moved to the next line, but
    four spaces to the right. “Should I write here?” he asked Simon.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 他注意到在按下 Enter 键后，光标移动到了下一行，但向右移动了四个空格。“我应该在这里写吗？”他问西蒙。
- en: “Yes, sure!” Simon answered. “You see, the editor is helping you to write your
    function! Now look at your code from yesterday and start copying what you want
    to put in the function. First, we printed the title, so let’s do that here too,
    but instead of the actual string we’ll just print the *argument* called `title`.
    You can even put the line of dashes after it like you did before.”
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，当然！”西蒙回答。“你看，编辑器正在帮助你编写函数！现在看看你昨天的代码，开始复制你想放入函数中的内容。首先，我们打印了标题，所以我们也在这里做同样的事情，但不是打印实际的字符串，而是打印名为`title`的*参数*。你甚至可以像之前一样在它后面放上一行破折号。”
- en: 'Erik wrote this:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克写道：
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: “Now write the loop,” Simon continued. “But instead of `drinks` or `flavors`,
    your list is now called `choices`. And you can use the variable `c` in the loop,
    as it’s the first letter of ‘choices’.”
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: “现在写循环，”西蒙继续说。“但你的列表现在叫做`choices`，而不是`drinks`或`flavors`。你可以在循环中使用变量`c`，因为它是`choices`的第一个字母。”
- en: 'Erik copied the loop from his previous program. He added the `input()` function
    with the `prompt` without asking his brother:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克从先前的程序中复制了循环。他没有询问他的哥哥就添加了`input()`函数和`prompt`：
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: “Great!” Simon said when he saw Erik’s code. “Now we have to *return* the choice.”
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: “太好了！”当看到埃里克的代码时，西蒙说。“现在我们必须*返回*选择。”
- en: “Can’t we just print the `choice` variable in our main program?” Erik asked.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: “我们难道不能直接在我们的主程序中打印`choice`变量吗？”埃里克问道。
- en: “No! And this is a very important thing about functions.” Simon was glad that
    Erik had asked this question. “The variables you have inside your function are
    *visible* only within the function. Look here, I’ll draw a picture.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: “不！这是函数的一个重要特性。”西蒙很高兴埃里克提出了这个问题。“你函数内部的变量只对函数内部是*可见*的。看这里，我会画一个图。”
- en: '![](../Images/03-02-visibility.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/03-02-visibility.png)'
- en: “This means that you can’t see what’s inside those variables when you aren’t
    *inside the function*. So if we want our main program to see those values, we
    have to *return* those variables. Usually, we have many variables inside a function,
    but we only want to return one or two as a result. In this case, we can return
    the number that the user entered, which is stored in the variable `choice`.”
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: “这意味着当你不在函数内部时，你无法看到那些变量里面的内容。所以如果我们想让我们的主程序看到这些值，我们必须*返回*这些变量。通常，一个函数内部会有很多变量，但我们只想返回一个或两个作为结果。在这种情况下，我们可以返回用户输入的数字，它存储在变量`choice`中。”
- en: Simon paused and thought for a moment. “But we can do better,” he said. “Look
    at your code from yesterday again. What else is repeating?”
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙停顿了一下，思考了一会儿。“但我们可以做得更好，”他说。“再看看你昨天的代码。还有什么在重复？”
- en: Erik looked and said, “Those `int()` functions, and we had to use `-` `1` three
    times. That was annoying.” He still hadn’t gotten used to the fact that list indices
    start with zero.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克看了看说，“那些`int()`函数，我们不得不使用`-` `1`三次。这很烦人。”他还没有习惯列表索引从零开始的事实。
- en: '“Okay, let’s add them to the function too,” Simon suggested. “We’ll convert
    the user’s answer to an integer, get the item from the list, and return the item,
    not its index. That will make our function even more useful. The main program
    that calls it will get the user’s choice, not just some number. Let me show you,”
    and Simon added the conversion operations and the `return` statement to the function:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: “好的，让我们也将它们添加到函数中，”西蒙建议。“我们将把用户的答案转换为整数，从列表中获取项目，并返回项目，而不是它的索引。这将使我们的函数更有用。调用它的主程序将得到用户的选择，而不仅仅是某个数字。让我给你展示，”西蒙在函数中添加了转换操作和`return`语句：
- en: '[PRE4]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: “Now let’s test it,” Simon said. “In our main program that goes just below the
    function, we’ll call it and print the answer we get. But first, we need our lists
    with drinks and everything. Copy them from the top of yesterday’s program.”
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: “现在让我们测试一下，”Simon说。“在我们的主程序中，就在函数下方，我们将调用它并打印我们得到的答案。但首先，我们需要我们的饮料和其他内容的列表。从昨天的程序顶部复制它们。”
- en: 'Erik added three lists just below the function. This time the lines were not
    shifted right and began in the first position:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: Erik在函数下方添加了三个列表。这次行没有右移，而是从第一个位置开始：
- en: '[PRE5]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: “Good,” Simon said. “Now you’re ready to call your function. Pass the title,
    the list of drinks, and the `input` prompt. Then assign the result from the function
    to a variable. Call it `choice`, for example. And then print it.”
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: “很好，”Simon说。“现在你准备好调用你的函数了。传递标题、饮料列表和`input`提示。然后将函数的结果分配给一个变量。例如，可以叫它`choice`。然后打印它。”
- en: 'Erik followed Simon’s instructions, and this is what he got:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Erik遵循Simon的指示，这是他得到的结果：
- en: '[PRE6]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '*Your Turn!* Create your own function'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的回合！* 创建你自己的函数'
- en: Create your own function similar to the one Erik just created. Use your menu
    lists, titles, and prompts. Try to run it (before Erik!).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个与Erik刚刚创建的类似的自定义函数。使用你的菜单列表、标题和提示。尝试在Erik之前运行它。
- en: “Should I run it?” Erik asked.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: “我应该运行它吗？”Erik问道。
- en: “Yes, it’s now ready. Go ahead!”
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，现在准备好了。继续！”
- en: 'Erik clicked Run, and the program asked him about his drink, exactly the same
    way it did before. Erik answered and got the result he expected:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Erik点击了运行，程序以与他之前相同的方式询问他的饮料。Erik回答后得到了他预期的结果：
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '“It works!” he said. “I’ll add the other menus here,” and he started writing.
    In less than 10 minutes, he was ready to test the whole program. Now it looked
    like this:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: “它工作了！”他说。“我会在这里添加其他菜单，”他开始写作。不到10分钟，他就准备好测试整个程序了。现在它看起来是这样的：
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '*Your Turn!* Add other menus'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的回合！* 添加其他菜单'
- en: Add other menus to your program. They will use the same function but with different
    arguments—lists of choices, titles, and prompts. Try to run it and test with your
    menu choices.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的程序中添加其他菜单。它们将使用相同的函数，但具有不同的参数——选择列表、标题和提示。尝试运行它并使用你的菜单选择进行测试。
- en: 'It worked as expected! Erik ran the program; entered 2, 2, 1 again; and got
    his order:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 它按预期工作了！Erik运行了程序；再次输入2, 2, 1；并得到了他的订单：
- en: '[PRE9]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Simon said, “Notice that your program became shorter. Now if you have to change
    something, you only need to change it in one place.”
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: Simon说，“注意你的程序变短了。现在如果你需要更改某些内容，你只需要在一个地方更改。”
- en: “Why would I want to change it? It works well already,” Erik said.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: “我为什么要改变它？它已经很好工作了，”Erik说。
- en: “Oh, there are always ways to improve your code!” Simon answered. “Let’s make
    its title a little bit better. Did you notice that your line of dashes is now
    longer than the title?”
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: “哦，总有方法可以改进你的代码！”Simon回答。“让我们让它的标题更好一些。你注意到你的破折号行现在比标题长了吗？”
- en: “Really? Oh, yes, you’re right,” Erik said. “It’s because I changed the title
    to just ‘Erik’s drinks’. I can make it shorter, that’s easy.”
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: “真的吗？哦，是的，你是对的，”Erik说。“这是因为我把标题改成了‘Erik的饮料’。我可以让它更短，这很简单。”
- en: “Sure, you can make it shorter, but look—in the `drinks` menu, the title is
    shorter, and in the `toppings` menu, it’s longer. The line of dashes should be
    the same length as your title string.”
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: “当然，你可以让它更短，但看——在`drinks`菜单中，标题更短，而在`toppings`菜单中，它更长。破折号行应该与你的标题字符串长度相同。”
- en: “But how can I do that? Maybe it’s better to remove that line of dashes?” Erik
    was confused.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: “但我该如何做到这一点？也许删除那一行破折号会更好？”Erik感到困惑。
- en: “No, I like your line here; it makes your receipt look more real. I want you
    to keep it. But we have to calculate the length of the title and make the line
    the same length. You’ll learn one new function and one new operation here.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: “不，我喜欢你这里的行；它让你的收据看起来更真实。我想让你保留它。但我们必须计算标题的长度并使破折号行长度相同。你在这里将学习一个新函数和一个新操作。”
- en: “The function we’re going to use is called `len()`. You just put a string argument
    inside the parentheses, and it returns the length of the string. Let me show you.
    We’ll use another feature of the Mu editor, called *REPL*. It stands for *Read–Eval–Print–Loop*,
    and it lets you use Python interactively. I usually use it when I want to test
    something quickly. Or to show something to somebody, like now,” and Simon smiled.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: “我们将要使用的函数叫做`len()`。你只需在括号内放入一个字符串参数，它就会返回字符串的长度。让我给你演示一下。我们将使用Mu编辑器的一个其他功能，叫做*REPL*。它代表*Read–Eval–Print–Loop*，它让你可以交互式地使用Python。我通常在我想快速测试某事时使用它。或者向某人展示某物，就像现在这样，”Simon微笑着。
- en: “Click REPL ![](../Images/icon_repl.png),” Simon continued.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: “点击REPL ![icon_repl](../Images/icon_repl.png)，”西蒙继续说。
- en: Erik clicked, and another window opened at the bottom of the Mu editor window.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克点击了一下，穆编辑器窗口底部又打开了一个新窗口。
- en: “You see—you have interactive Python here,” Simon said. “You can type any Python
    code here, and it will be executed. You can even use it as a calculator. Try typing
    `print('hello world')` or `2 + 2` right after `In [1]:`. In REPL, `In` means input,
    and the number after it is the number of your command. REPL will print `Out[1]:`
    and the answer. You’ll see it.”
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: “你看——你这里有一个交互式的Python环境，”西蒙说。“你可以在这里输入任何Python代码，它会被执行。你甚至可以用它作为计算器。试着在`In [1]:`后面输入`print('hello
    world')`或者`2 + 2`。在REPL中，`In`代表输入，它后面的数字是你的命令编号。REPL会打印`Out[1]:`然后是答案。你会看到的。”
- en: '![](../Images/03-03-repl_window.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![03-03-repl_window](../Images/03-03-repl_window.png)'
- en: 'Erik typed and Simon was right indeed:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克输入了，西蒙确实是对的：
- en: '[PRE10]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: “Now let’s calculate the length of a string. Type `len('abcd')`.”
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: “现在我们来计算字符串的长度。输入`len('abcd')`。”
- en: 'Erik typed and got this:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克输入后得到了这个：
- en: '[PRE11]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: “Now you see that the length of the string `abcd` is 4,” Simon said. “You can
    do the same with string variables too. Use the variable `s`, put the string `'hello'`
    into it, and calculate its length. I’m sure you know how to do it now.”
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: “现在你看到了字符串`abcd`的长度是4，”西蒙说。“你也可以用字符串变量来做同样的事情。使用变量`s`，将字符串`'hello'`放入其中，并计算它的长度。我相信你现在知道怎么做了。”
- en: 'Erik typed in the REPL window and got this result:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克在REPL窗口中输入了，并得到了这个结果：
- en: '[PRE12]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: “Good,” Simon said. “Now you know that if you have a string, you can always
    get its length. Even more, you can get the length of a list this way. Create a
    list of numbers, 1, 2, 3, and get its length. Call it `n`, for example.”
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: “很好，”西蒙说。“现在你知道了，如果你有一个字符串，你总是可以获取它的长度。更进一步，你也可以这样获取列表的长度。创建一个数字列表，1, 2, 3，然后获取它的长度。比如叫它`n`。”
- en: 'Erik typed:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克输入了：
- en: '[PRE13]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: “We’ll use that later, but now let me show you one trick,” Simon continued.
    “What will Python give me if I ask it to take a number, 2, and multiply it by
    2?”
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: “我们稍后会用到这个，但现在让我给你展示一个技巧，”西蒙继续说。“如果我让Python取一个数字，2，然后乘以2，它会给我什么？”
- en: “4?” Erik wasn’t sure that this was a trick. The question was too simple.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: “4？”艾瑞克不确定这算不算是一个技巧。这个问题太简单了。
- en: “Right. What will Python give me if I take a letter, ‘A,’ and multiply it by
    2?”
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: “对。如果我取一个字母，‘A’，然后乘以2，Python会给我什么？”
- en: “I don’t know? 2A, maybe?”
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: “我不知道？2A，可能吧？”
- en: “Go ahead and try it with interactive Python!” Simon suggested.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: “用交互式Python试一试！”西蒙建议。
- en: 'Erik typed and got the result:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克输入后得到了结果：
- en: '[PRE14]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: “Interesting!” Erik was surprised.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: “有趣！”艾瑞克感到惊讶。
- en: “Now what if you take a dash instead of ‘A’ and multiply by 10?”
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: “现在如果你用横线代替‘A’并乘以10会怎样？”
- en: 'Erik started to guess where Simon was leading him, and he typed:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克开始猜测西蒙要带他走到哪里，于是他输入了：
- en: '[PRE15]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: “Now replace the number 10 with the length of the string `'hello'`.”
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: “现在将数字10替换为字符串`'hello'`的长度。”
- en: 'Erik got Simon’s idea now:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克现在明白了西蒙的想法：
- en: '[PRE16]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*Your Turn!* Use REPL and experiment with the `len()` function'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的回合!* 使用REPL并实验`len()`函数'
- en: Start REPL by clicking its icon in the editor. Then repeat all of Erik’s experiments.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在编辑器中点击其图标来启动REPL。然后重复艾瑞克的所有实验。
- en: Try to multiply a number by a string of two or three letters. Can you guess
    what the output will be?
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试将一个数字乘以由两到三个字母组成的字符串。你能猜到输出结果会是什么吗？
- en: “I see it now!” he said. “We take the `title` argument, we calculate its length,
    and we print a line of dashes exactly the same size!”
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: “我现在明白了！”他说。“我们取`title`参数，计算它的长度，然后打印出一条与长度完全相同的横线！”
- en: “Can you change your function now?” Simon asked.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: “你现在可以修改你的函数了吗？”西蒙问道。
- en: '“Yes, sure, I know what to do!” Erik had started typing already. He changed
    only the third line, and now his function looked like this:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: “是的，当然，我知道该怎么做！”艾瑞克已经开始输入了。他只改动了第三行，现在他的函数看起来是这样的：
- en: '[PRE17]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: ❶ Repeats the dash (-) multiple times
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: ❶ 重复横线（-）多次
- en: '*Your Turn!* Change your function to print the correct line of dashes'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '*你的回合!* 将你的函数修改为打印正确的横线'
- en: Make a change in your program to print the correct number of dashes, similar
    to what Erik just did. Try using a different symbol—an equal sign (`=`), or underscore
    (`_`), or something else.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 修改你的程序以打印正确的横线数量，类似于艾瑞克刚才所做的那样。试着使用不同的符号——一个等号（`=`），或者下划线（`_`），或者其他的。
- en: Erik tested the main program, and now all the lines of dashes were exactly the
    same size as their titles.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 艾瑞克测试了主程序，现在所有的横线长度都和它们的标题完全一样。
- en: Simon commented, “Now you see that not only is the result your function returns
    dependent on the arguments, but what it prints can be dependent as well.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙评论说：“现在你看到，不仅你函数返回的结果取决于参数，而且它打印的内容也可以取决于参数。
- en: “It’s always a good idea to analyze the arguments you receive in your function,”
    Simon continued. “In this case, we checked the title’s length. What would your
    function do if it received an empty string with length zero?”
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: “分析你在函数中接收到的参数总是一个好主意，”西蒙继续说。“在这个例子中，我们检查了标题的长度。如果你的函数接收到一个长度为零的空字符串，它会做什么？”
- en: “I don’t know,” Erik answered. “I think it would print an empty string—nothing.”
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: “我不知道，”埃里克回答。“我想它会打印一个空字符串——什么都没有。”
- en: '“Right,” Simon said. “But maybe we can still print something reasonable, even
    if the title is empty. Maybe just ‘Erik’s Menu’ and a line of dashes. For such
    cases in Python, we have *default* values for function arguments. In your function,
    I’d change the first line to this.” Simon edited Erik’s file:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: “对，”西蒙说。“但是也许我们还可以打印一些合理的内容，即使标题是空的。也许只是‘埃里克的菜单’和一串破折号。在Python中，对于函数参数，我们有*默认*值。在你的函数中，我会把第一行改为这样。”西蒙编辑了埃里克的文件：
- en: '[PRE18]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: “In this case, we tell Python, ‘If there *is* a `title` argument, then accept
    its value.’ If you didn’t pass a `title` when you called your function, the function
    will use its default value, which is `Erik’s Menu`. It’s usually recommended that
    you set default values. You can always change them to something else when you
    call your function.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: “在这种情况下，我们告诉Python，‘如果有一个`title`参数，就接受它的值。’如果你在调用函数时没有传递`title`，函数将使用其默认值，即`Erik’s
    Menu`。通常建议你设置默认值。你总是可以在调用函数时将其更改为其他内容。
- en: “Let’s test it,” Simon suggested. “In your first call with `drinks`, remove
    both the title and the prompt. Leave only `drinks` as a single argument.”
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: “我们来测试一下，”西蒙建议。“在你第一次调用`drinks`时，移除标题和提示。只留下`drinks`作为一个单独的参数。”
- en: 'Erik did what Simon suggested, and the first function call looked like this:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 埃里克按照西蒙的建议做了，第一次函数调用看起来是这样的：
- en: '[PRE19]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'He ran the program again and saw the first menu:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 他再次运行了程序，看到了第一个菜单：
- en: '[PRE20]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Here is Erik’s full program.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是埃里克的全程序。
- en: Listing 3.1 The full menu program with a function
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 列表3.1 使用函数的完整菜单程序
- en: '[PRE21]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '*Your Turn!* Use default arguments in your function'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '*轮到你了!* 在你的函数中使用默认参数'
- en: Add default values for your `title` and `prompt` arguments. Try to call your
    function without those arguments and make sure it uses the default values.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 为你的`title`和`prompt`参数添加默认值。尝试不传递这些参数调用你的函数，并确保它使用默认值。
- en: “Of course, now it’s not telling the user that it’s a *drinks* menu, but it’s
    still better than an empty string. This is helpful when you want to test something
    quickly. You can always add more descriptive titles and prompts later.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: “当然，现在它没有告诉用户这是一个*饮料*菜单，但比空字符串要好。当你想快速测试某事时，这很有帮助。你总是可以稍后添加更多描述性的标题和提示。
- en: “I think that’s enough for today,” Simon said. “Let’s recap what you have learned.
    What was the first thing today?”
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: “我想今天就这样吧，”西蒙说。“让我们回顾一下你学到了什么。今天的第一件事是什么？”
- en: “We looked at the program I wrote yesterday and found things that were repeated
    three times. And you told me that we could write our own function. You told me
    about the word `def` and the arguments.”
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: “我们看了我昨天写的程序，发现有些东西重复了三次。然后你告诉我我们可以写自己的函数。你给我介绍了单词`def`和参数。”
- en: “Good, go ahead,” Simon encouraged Erik. “What about those arguments?”
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: “很好，继续，”西蒙鼓励埃里克。“那些参数呢？”
- en: “I used the list of choices, the title, and the prompt as arguments in my function.”
    Erik liked to talk about *his* function—he wrote it himself for the first time!
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: “我在我的函数中使用了选择列表、标题和提示作为参数。”埃里克喜欢谈论*他的*函数——这是他第一次自己写！
- en: “Then you showed me that *REPL* thing in the editor,” Erik continued. “I like
    it! And then we calculated the string’s length.”
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: “然后你向我展示了编辑器中的那个*REPL*东西，”埃里克继续说。“我喜欢它！然后我们计算了字符串的长度。”
- en: “And what did we use it for?” Simon asked.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: “我们用它来做什么？”西蒙问。
- en: “We used it to print our receipts, and now they look beautiful. And then we
    tried to use default values for arguments. It was a bit boring, but it worked.”
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: “我们用它来打印我们的收据，现在它们看起来很漂亮。然后我们尝试为参数使用默认值。有点无聊，但它是有效的。”
- en: Simon said, “This is a very important thing that you just said. Good programming
    solutions often look boring, but they work. Programming is not always about fancy
    tricks and hacks. Most of the time you have to do very boring things, like check
    a user’s input, check for errors, and so on. But if doing this boring stuff makes
    your program work, it’s worth it. Tomorrow we’ll see what you have to do to make
    sure your program works even if your user enters wrong values. But for now—get
    some rest! You did a great job today!”
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 西蒙说：“你刚才说的这件事非常重要。好的编程解决方案通常看起来很无聊，但它们是有效的。编程并不总是关于花哨的技巧和黑客手段。大多数时候，你必须做一些很无聊的事情，比如检查用户的输入，查找错误等等。但如果做这些无聊的事情能让你的程序运行，那么它们就是值得的。明天我们会看看你需要做什么来确保即使用户输入错误值，你的程序也能正常工作。但现在——好好休息一下！你今天做得很好！”
- en: New things you have learned today
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 你今天学到的新知识
- en: '*Function*—A piece of programming code that can be used (called) repeatedly.
    A function can be written by you or somebody else. If it’s written by somebody
    else, it’s usually part of a *library* or a *module* in Python.'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*函数*——可以重复使用（调用）的编程代码块。函数可以由你或其他人编写。如果是由其他人编写的，它通常是Python中的*库*或*模块*的一部分。'
- en: '*Arguments*—Variables that we pass to a function when we call it. The function
    takes the arguments and uses them to prepare its output. The output can be printed
    or *returned* to the main program.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*参数*——当我们调用函数时传递给函数的变量。函数接收这些参数并使用它们来准备其输出。输出可以是打印出来，或者*返回*到主程序。'
- en: '*REPL*—Read–Eval–Print–Loop, a way to run Python interactively. It’s very useful
    for testing functions quickly.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*REPL*——读取-评估-打印-循环，一种交互式运行Python的方法。它对于快速测试函数非常有用。'
- en: Code for this chapter
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 本章代码
- en: 'You can find the code for this chapter here: [https://github.com/pavelanni/pythonicadventure-code/tree/main/ch03](https://github.com/pavelanni/pythonicadventure-code/tree/main/ch03).'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在这里找到本章的代码：[https://github.com/pavelanni/pythonicadventure-code/tree/main/ch03](https://github.com/pavelanni/pythonicadventure-code/tree/main/ch03)。
