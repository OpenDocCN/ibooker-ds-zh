- en: Chapter 8\. Advanced Mathematical Concepts
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 8 章。高级数学概念
- en: The purpose of this chapter is to explore relationships among your data. It’s
    very common to want to explore the relationship between two or more numerical
    metrics, use your time-bound data to determine what may come in the future, or
    to use recurring relationships among dimensions to further categorize and segment.
    The aim of this chapter is to explore all of these concepts.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的目的是探索您数据之间的关系。通常希望探索两个或更多数值指标之间的关系，使用您的时间限定数据来确定未来可能发生的事情，或者使用维度之间的重复关系进一步分类和分段。本章的目的是探索所有这些概念。
- en: We think this chapter is of utmost importance and designed for the individual
    most likely to be exploring data—that is, looking for deeper insights or uncovering
    patterns, which is different from some of the other concepts we’ve explored that
    are aimed at presenting data with evident insights. In this chapter, some of the
    charts you will build may not make it to a large audience but will lead to deeper
    understanding of that data you have to work with.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们认为本章非常重要，专门为最有可能探索数据的个人设计——即寻找更深层次的洞见或揭示模式，这与我们探索的其他一些旨在呈现具有明显洞见的数据的概念不同。在本章中，您将构建的一些图表可能不会被大众看到，但将有助于更深入地理解您所处理的数据。
- en: In the first case study, you will revisit our call center and use Tableau to
    forecast call volumes to help inform staffing levels.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个案例研究中，您将重温我们的呼叫中心，并使用Tableau来预测呼叫量，以帮助确定员工配备水平。
- en: In the second case study, you will work with digital marketing data to help
    marketing teams make optimization decisions on which ads should stay and which
    should go. You’ll also explore the relationship between two marketing metrics
    to determine if you can estimate an outcome or provide a required minimum to reach
    a goal.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二个案例研究中，您将使用数字营销数据来帮助营销团队做出优化决策，确定哪些广告应该保留，哪些应该删除。您还将探索两个营销指标之间的关系，以确定是否可以估计结果或提供达到目标所需的最低要求。
- en: In the third case study, you’ll explore alternative axes and visualize COVID-19
    data. You’ll see how working with different axes types can lead to better data
    stories.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在第三个案例研究中，您将探索替代轴并可视化COVID-19数据。您将看到如何使用不同的轴类型可以带来更好的数据故事。
- en: Finally, in the last section of this chapter, we’ll discuss when to and when
    not to use other analytics add-ins to extend your types of analyses even further.
    We’ll provide two generalized case studies, one on A/B testing and one on text
    analysis that can easily be ported over to your own use cases.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在本章的最后一节中，我们将讨论何时以及何时不使用其他分析插件来进一步扩展您的分析类型。我们将提供两个泛化案例研究，一个是关于A/B测试，另一个是文本分析，这些都可以轻松应用到您自己的用例中。
- en: Forecasting
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预测
- en: '*Forecasting* is the process of fitting models by using historical data to
    predict future observations. It is also one of the most common use cases for time-bound
    data. Many industries, like retail, rely on historical data that displays seasonality
    to predict or provide direction as to what’s coming in the following months. And
    while that may seem unsophisticated, many processes do follow seasonal trends
    that can be well predicted. In retail, you know that each year an uptick in sales
    will occur during the last quarter, driven by holiday shopping. Similarly, in
    the US healthcare industry, a large increase in utilization often occurs as Americans’
    insurance benefits reset each calendar year—allowing them to avoid paying out-of-pocket
    costs for capping out on their healthcare benefits.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '*预测*是通过使用历史数据拟合模型以预测未来观察结果的过程。这也是时间限定数据最常见的用例之一。许多行业，如零售，依赖展示季节性的历史数据来预测或提供接下来几个月的方向。虽然这可能看起来不够复杂，但许多过程确实遵循季节性趋势，可以很好地预测。在零售业中，你知道每年在最后一个季度会有销售增长，这是由假日购物推动的。同样，在美国的医疗保健行业中，每当美国人的保险福利每年重置时，通常会出现大幅增加的使用量——这使他们能够避免自己支付超出医疗福利限额的费用。'
- en: 'That said, forecasting is not foolproof and cannot react to unforeseen events
    like natural disasters, rapid economic changes, social unrest, or a global pandemic.
    The COVID-19 pandemic is a perfect example: no forecasting model in existence
    could have accurately predicted the dramatic changes in consumer habits that resulted.
    You can bet that any forecasting models for retail, major sports, food service,
    travel, and recreational industries were rendered completely useless during this
    global pandemic.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，预测并非万全之策，无法应对自然灾害、经济快速变化、社会动荡或全球大流行等无法预见的事件。COVID-19 大流行就是一个完美的例子：不存在任何预测模型能够准确预测导致的消费习惯剧烈变化。可以肯定，在全球大流行期间，零售、主要体育、食品服务、旅行和娱乐行业的任何预测模型都变得完全无效。
- en: When you use forecasting, think of it as guidance of what is to come, and specifically
    think of it in terms of “what’s to come if it’s business as usual.” If you present
    it in that lens to your audience and in your visualization practice, it can be
    a useful tool in planning for future outcomes.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用预测时，将其视为未来即将发生事情的指导，并特别考虑它在“业务如常”情况下的作用。如果您向受众和可视化实践中如此展示它，它可以成为规划未来结果的有用工具。
- en: 'Using Forecasting to Predict Staffing Needs: CaB Call Center Case Study'
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用预测来预测人员需求：CaB 呼叫中心案例研究
- en: One industry for which it is critical to predict future events is *customer
    service*. Many organizations have minimum service-level requirements to keep their
    customers satisfied, and often the business-to-business (B2B) world has service-level
    agreements (SLAs). So, in these situations it is critical to have the correct
    number of employees staffed.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 一个需要关注未来事件的行业是*客户服务*。许多组织有保持客户满意的最低服务水平要求，商业到商业（B2B）世界通常有服务级别协议（SLA）。因此，在这些情况下，正确配置员工的数量至关重要。
- en: The call center of automotive parts manufacturer CaB can average 3,000 calls
    or more each month. Calls can spike around standing order deliveries and new product
    releases. The company wants to be able to more accurately forecast its call loads
    to manage staff hours, reduce caller wait time, and improve customer satisfaction.
    How can you take advantage of the vast amount of time-bound data available to
    predict future call volumes at many levels of time (monthly, weekly, daily)?
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 汽车零部件制造商 CaB 的呼叫中心每月平均可以接待 3,000 通以上的呼叫。在定期订单交付和新产品发布期间，呼叫可能会急剧增加。公司希望能够更准确地预测其呼叫负荷，以管理员工工时，减少呼叫者等待时间，并提高客户满意度。如何利用大量的时间限制数据来预测各级别时间（月度、周度、日度）的未来呼叫量？
- en: 'Strategy: Create a Monthly Forecast'
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建月度预测
- en: 'The manager of the CaB call center wants to know what monthly call volumes
    are going to be in the future. She wants to use this information to estimate the
    number of additional employees she may need to hire, given current employee attrition.
    You’ll create a monthly forecast as follows:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: CaB 呼叫中心的经理想要知道未来每月的呼叫量会是多少。她希望利用这些信息来估计可能需要雇佣的额外员工数量，考虑到当前员工的流失情况。您将按如下步骤创建月度预测：
- en: Create a line chart that trends Calls by Month. Do this by dragging `SUM([Calls])`
    onto the Rows shelf and Month(Start Date Time) onto Columns.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个趋势为按月呼叫的折线图。通过将`SUM([Calls])`拖放到行架上，并将 Month(Start Date Time) 拖放到列中来实现。
- en: Tip
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: We chose to limit data to between 1/1/18 and 3/31/20\. This was done to keep
    whole months of data and to ensure that the forecasting model wasn’t incorrectly
    influenced by partial-data months. When you are forecasting, always choose the
    most relevant time periods for your analysis.
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们选择将数据限制在18年1月1日至20年3月31日之间。这是为了保留完整的月份数据，并确保预测模型不受部分数据月份的错误影响。在进行预测时，始终选择最相关的时间段进行分析。
- en: On the Analysis pane, drag and drop [Forecast] onto your chart ([Figure 8-1](#dragging_and_dropping_a_forecast_line_on)).
    The data in your chart should extend and show forecast values for the future ([Figure 8-2](#chart_showing_call_volume_by_month_with)).
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在分析窗格中，将[预测]拖放到您的图表上（[图 8-1](#dragging_and_dropping_a_forecast_line_on)）。您的图表中的数据应该延伸并显示未来的预测值（[图
    8-2](#chart_showing_call_volume_by_month_with)）。
- en: '![Dragging and dropping a forecast line onto a line chart](Images/TAST_0801.png)'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![将预测线拖放到折线图上](Images/TAST_0801.png)'
- en: Figure 8-1\. Dragging and dropping a forecast line onto a line chart
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-1\. 将预测线拖放到折线图上
- en: '![Chart showing call volume by month with automatically generated forecast](Images/TAST_0802.png)'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![显示按月呼叫量及自动生成的预测的图表](Images/TAST_0802.png)'
- en: Figure 8-2\. Chart showing call volume by month with automatically generated
    forecast
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-2\. 显示按月呼叫量的图表，带有自动生成的预测
- en: Remove the break in the line between actual data and estimated data by removing
    the automatically generated Forecast indicator from Color on the Marks card.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从颜色标记卡中删除自动生成的预测指示器来去除实际数据和估计数据之间的断点。
- en: Customize the forecast by choosing Analysis → Forecast → Forecasting Options.
    Change the length to 24 months. Adjust the prediction intervals to 99%. Your chart
    should now match [Figure 8-3](#customized_forecast_of_monthly_call_volu).
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择分析 → 预测 → 预测选项来定制预测。将长度更改为 24 个月。将预测区间调整为 99%。现在你的图表应该与[图 8-3](#customized_forecast_of_monthly_call_volu)相匹配。
- en: '![Customized forecast of monthly call volume that extends for 24 months and
    includes a 99% prediction interval](Images/TAST_0803.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![自定义预测月呼叫量，为期 24 个月，包括 99% 预测区间](Images/TAST_0803.png)'
- en: Figure 8-3\. Customized forecast of monthly call volume that extends for 24
    months and includes a 99% prediction interval
  id: totrans-27
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-3\. 自定义预测月呼叫量，为期 24 个月，包括 99% 预测区间
- en: View the summary of the Forecast output by choosing Analysis → Forecast → Describe
    Forecast to open the Describe Forecast dialog box ([Figure 8-4](#forecast_summary_description_generated_b)).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择分析 → 预测 → 描述预测来查看预测输出的摘要，以打开描述预测对话框（[图 8-4](#forecast_summary_description_generated_b)）。
- en: '![Forecast summary description generated by Tableau](Images/TAST_0804.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![由 Tableau 生成的预测摘要描述](Images/TAST_0804.png)'
- en: Figure 8-4\. Forecast summary description generated by Tableau
  id: totrans-30
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-4\. 由 Tableau 生成的预测摘要描述
- en: Tip
  id: totrans-31
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: After creating forecasts in Tableau, it is critical to review the summary. Here
    you will find key information, including the quality of the model (valued at Good,
    Ok, or Poor). Mastering what’s in the Summary and Models sections will help you
    to gain confidence in describing and using the model generated.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Tableau 中创建预测后，审查摘要非常关键。在这里，您将找到关键信息，包括模型的质量（评为好、中等或差）。掌握摘要和模型部分的内容将有助于您增强描述和使用生成的模型的信心。
- en: 'In the previous strategy, we just scratched the surface on forecasting in Tableau.
    It is worth mentioning you can access detailed documentation on how forecasts
    are generated and how to interpret all of the statistical components that are
    output by clicking the “Learn more about the forecast summary” link at the bottom
    of the Describe Forecast dialog box. It also offers guidance on customizing your
    forecast model. When explaining the key properties of forecasting in Tableau to
    others, we narrow our focus of key features as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的策略中，我们只是初步涉及了 Tableau 中的预测。值得一提的是，您可以通过点击“了解更多关于预测摘要”的链接来访问详细文档，了解预测是如何生成的，以及如何解释所有输出的统计组件的详细信息。它还提供了有关自定义预测模型的指导。在向他人解释
    Tableau 中预测的关键特性时，我们将注意力集中在以下关键功能：
- en: Uses exponential smoothing, a method that decreases the weight of older observations
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用指数平滑法，这是一种减少旧观测权重的方法。
- en: Uses both trend and seasonality to generate a forecast, and both can be customized
    to be additive or multiplicative, based on your existing understanding of the
    data
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用趋势和季节性来生成预测，两者都可以根据您对数据的现有理解进行加法或乘法的定制化调整。
- en: You can visit Tableau Desktop’s help article to learn more about [describing
    a forecast output](https://oreil.ly/c0Ngi).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以访问 Tableau Desktop 的帮助文章，了解更多关于[描述预测输出](https://oreil.ly/c0Ngi)的信息。
- en: Relationships Between Two Numerical Values
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 两个数值之间的关系
- en: Another powerful type of analysis is exploring the relationship between two
    metrics. Most data points are likely to have more than one numerical metric, so
    it is natural to want to explore those properties and see what, if any, relationship
    or influence the metrics have on one another.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种强大的分析类型是探索两个指标之间的关系。大多数数据点可能具有多个数值指标，因此自然希望探索这些属性，并查看这些指标在彼此之间是否存在任何关系或影响。
- en: A practical example is looking at the life expectancy of a country’s population
    against the percentage of population living in poverty ([Figure 8-5](#a_scatter_plot_showing_the_percent_of_th)).
    You or your audience may have a natural inclination that a relationship exists,
    but by using the concepts explored in this chapter, you can present the findings
    along with statistical significance.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一个实际的例子是，比较一个国家人口的预期寿命与生活在贫困中的百分比（[图 8-5](#a_scatter_plot_showing_the_percent_of_th)）。您或您的观众可能自然地认为存在某种关系，但通过使用本章探讨的概念，您可以呈现研究结果及其统计学显著性。
- en: '![A scatter plot showing the percent of the population living in poverty compared
    to the average life expectancy](Images/TAST_0805.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![一个散点图，显示人口中生活在贫困中的百分比与平均预期寿命的比较](Images/TAST_0805.png)'
- en: Figure 8-5\. A scatter plot showing the percent of the population living in
    poverty compared to the average life expectancy
  id: totrans-41
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-5\. 一个散点图，显示人口中生活在贫困中的百分比与平均预期寿命的比较
- en: After inspecting [Figure 8-5](#a_scatter_plot_showing_the_percent_of_th), it
    would certainly be appropriate to say that, in general, countries with less poverty
    have longer life expectancy—but the next level of this analysis, and the scope
    of this chapter, would be to explore it mathematically. This eliminates overestimation
    and intuition-based inferences to describe the data presented to the audience.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 检查了 [图 8-5](#a_scatter_plot_showing_the_percent_of_th) 之后，可以肯定地说，在一般情况下，贫困率较低的国家寿命更长——但这项分析的下一个层次和本章的范围是通过数学方法来探索。这样可以消除对数据呈现给观众时的过度估计和基于直觉的推断。
- en: It is also worth noting that you don’t always have to apply additional statistical
    processing when exploring two metrics. It is enough to use these methods to gain
    a deeper understanding of your data and how the distributions of two metrics relate
    to one another. You can also use this type of analysis as a simple way to organize
    data points for your audience in an actionable way.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，在探索两个度量之间的关系时，并不总是需要应用额外的统计处理。仅仅使用这些方法就足以深入了解数据及两个度量分布之间的关系。您还可以将这种类型的分析用作为观众提供数据点的一种可操作的方式。
- en: 'Using Scatter Plots to See Relationships Between Spend and Conversions: SAGE
    Digital Marketing Case Study'
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用散点图查看支出和转化之间的关系：SAGE 数字营销案例研究
- en: In marketing, there is always a drive to optimize—for example, optimizing each
    ad to achieve the greatest results, frequently measured by the number of consumers
    purchasing versus the amount of money invested. Achieving this optimization can
    take the form of changing the medium of the ad or the location (think social media
    or search results).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在营销中，始终有优化的驱动力——例如，优化每个广告以获得最佳结果，通常以消费者购买的数量与投资金额的比例来衡量。实现这种优化可以通过改变广告的媒介或位置（如社交媒体或搜索结果）来实现。
- en: To address this ever-pressing need, a practical tool is the scatter plot. A
    *scatter plot* positions one metric on the x-axis and the other on the y-axis.
    The dots plotted depend on the level of data you want to display and can range
    from individual records (think a specific ad) or more aggregated results (like
    a whole marketing campaign).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 要解决这个迫切的需求，一个实用的工具是散点图。一个*散点图*将一个度量指标放在 x 轴上，另一个放在 y 轴上。所绘制的点取决于您希望显示的数据级别，可以是个别记录（比如特定广告）或更为聚合的结果（如整个营销活动）。
- en: In this case study, SAGE Digital Marketing is seeking to quickly identify which
    campaigns in a given marketing channel were most effective at driving consumers
    to purchase. How would you design a scatterplot to visualize this data?
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个案例研究中，SAGE 数字营销希望快速确定在特定营销渠道中哪些营销活动最有效地推动消费者购买。您如何设计一个散点图来可视化这些数据？
- en: 'Strategy: Create a Scatter Plot'
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个散点图
- en: 'Starting with a new worksheet, you’ll construct a scatter plot to compare two
    measures:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 从一个新的工作表开始，您将构建一个散点图来比较两个度量：
- en: Drag SUM(Spend) to the Columns shelf and drag SUM(Conversions) to the Rows shelf.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 SUM(Spend) 拖到列架上，将 SUM(Conversions) 拖到行架上。
- en: Drag [Channel] to Color and Label. Drag [Platform] and [Campaign] to Detail.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [Channel] 拖到颜色和标签中。将 [Platform] 和 [Campaign] 拖到详细信息中。
- en: Adjust the marks to be circles, make the size larger, and adjust the opacity
    of the dots to 75%.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整标记为圆圈，使大小更大，并将点的不透明度调整为 75%。
- en: Stop here and take a moment to review the plot shown in [Figure 8-6](#scatter_plot_showing_spend_versus_conver).
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 到此为止，请花点时间回顾 [图 8-6](#scatter_plot_showing_spend_versus_conver) 中显示的情节。
- en: In general, what conclusions can you draw?
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，您可以得出什么结论？
- en: OOH (Out of Home aka Billboards) is extremely expensive, yet yields relatively
    few conversions.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OOH（户外广告，又称广告牌）非常昂贵，但转化率相对较低。
- en: There’s one Paid Search that performed tremendously well, netting almost three
    times the number of conversions as the other initiatives.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有一个付费搜索表现非常出色，几乎比其他倡议的转化率高出三倍。
- en: The rest of the data points are dispersed relatively evenly in the bottom-left
    sector of the chart—having similar spend and conversion outcomes.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 剩余的数据点相对均匀地分布在图表的左下方区域——支出和转化率的结果相似。
- en: '![Scatter plot showing Spend versus Conversions for marketing data](Images/TAST_0806.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![散点图显示了营销数据中支出与转化率的关系](Images/TAST_0806.png)'
- en: Figure 8-6\. Scatter plot showing Spend versus Conversions for marketing data
  id: totrans-59
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: Figure 8-6\. 散点图显示了营销数据中支出与转化率之间的关系
- en: This scatter plot by itself has a wealth of insights that the audience can now
    describe. But what if we want to take this view and make it even more actionable?
    In the next strategy, we’ll explore how to turn your scatter plot into a chart
    that categorizes the outcome of each data point.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这个散点图本身就包含了观众可以描述的丰富洞察。但是，如果我们想把这个视图变得更具操作性呢？在下一个策略中，我们将探讨如何将您的散点图转化为一个分类每个数据点结果的图表。
- en: 'Strategy: Create a Quadrant Chart'
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建象限图
- en: As you just saw, the scatter plot constructed in the previous strategy tells
    a compelling story around two critical metrics. To make this dialog of insight
    more visible and understandable to your audience, you can turn the scatter plot
    into a quadrant chart. A *quadrant chart* is a transformed scatter plot, in which
    average lines are used on both the x-axis and y-axis metrics to segment your data
    into four sections, or quadrants. Once the data is sectioned into quadrants, you
    can label them into groups that generalize their performance.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您刚刚看到的，在前一策略中构建的散点图讲述了两个关键指标的引人注目的故事。为了使这种洞察的对话对您的受众更加可见和可理解，您可以将散点图转化为象限图。*象限图*
    是一种转换后的散点图，其中在x轴和y轴指标上使用了平均线来将数据分成四个部分或象限。一旦数据分成四个象限，您可以将它们标记为概括其表现的组。
- en: 'For our marketing optimization scenario, we want to end up with four categories:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的营销优化场景，我们希望最终得到四个类别：
- en: Low impact, high cost
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 低影响，高成本
- en: High impact, low cost
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高影响，低成本
- en: Low impact, low cost
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 低影响，低成本
- en: High impact, high cost
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高影响，高成本
- en: 'Stakeholders who are tasked with making optimizations under these categories
    face a simpler process of deciding which initiatives to keep or invest in further,
    and which ones may need to be removed. The steps for this strategy are as follows:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 负责在这些类别下进行优化的利益相关者面临一个更简单的流程，即决定哪些倡议应保留或进一步投资，哪些可能需要移除。此策略的步骤如下：
- en: From the Analysis pane, click and drag an Average Line for both `SUM(Spend)`
    and `SUM([Conversions])`, as shown in [Figure 8-7](#the_drag-and-drop_menu_that_appears_when).
    Both should be for the Table.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从分析窗格中，单击并拖动 `SUM(Spend)` 和 `SUM([Conversions])` 的平均线，如[图 8-7](#拖放菜单，在将参考线拖动到视图时)
    所示。两者都应适用于表格。
- en: '![The drag-and-drop menu that appears when dragging a reference line to a view](Images/TAST_0807.png)'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![拖放菜单，在将参考线拖动到视图时出现](Images/TAST_0807.png)'
- en: Figure 8-7\. The drag-and-drop menu that appears when dragging a reference line
    to a view
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: Figure 8-7\. 拖放菜单，在将参考线拖动到视图时出现
- en: Tip
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: When adding a reference line, there are three ways to address your data based
    on the dimensions on Rows and Columns. *Table* reads across all data (think left
    to right); *Pane* will construct a line that is for the subset of data delineated
    by a header; and *Cell* will construct a line for the innermost header or individual
    data point.
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在添加参考线时，根据行和列的维度有三种处理数据的方式。*表格* 读取所有数据（从左到右思考）；*窗格* 将构建一个适用于由标头划分的数据子集的线；*单元格*
    将为最内层标头或单个数据点构建线。
- en: Right-click each Average line, select Edit, and modify settings so you have
    a dashed line with the value displayed along with the average. Uncheck “Show recalculated
    line for highlighted or selected data points.” [Figure 8-8](#the_first_step_in_transforming_a_scatter)
    shows the result.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击每条平均线，选择“编辑”，并修改设置，使其成为一个虚线，并显示该平均值。取消选中“显示重新计算的高亮或选定数据点的线”。[图 8-8](#将散点图转化为象限图的第一步)
    显示了结果。
- en: '![The first step in transforming a scatter plot to a quadrant chart; average
    lines have been added for each axis.](Images/TAST_0808.png)'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![将散点图转化为象限图的第一步；已添加了每个轴的平均线。](Images/TAST_0808.png)'
- en: Figure 8-8\. The first step in transforming a scatter plot to a quadrant chart;
    average lines have been added for each axis.
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-8\. 将散点图转换为象限图表的第一步；每个轴上已添加了平均线。
- en: 'Next, you’ll complete two items: one is a calculated field that will categorize
    the data points into the four labels we’ve mentioned, and the other is to annotate
    the chart to emphasize those categories.'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，您将完成两个项目：一个是计算字段，将数据点分类为我们提到的四个标签之一，另一个是注释图表以强调这些类别。
- en: 'Create a calculated field called `**[Average Spend]**` and a field called `**[Average
    Conversions]**`. These two fields will match the value of the average lines on
    the chart:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[平均支出]**`和一个名为`**[平均转化率]**`的计算字段。这两个字段将与图表上的平均线值匹配：
- en: '[PRE0]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Tip
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: We’re using table calculations to construct the same values as the reference
    lines. Working with reference lines and table calculations together is an easy
    way to validate that your table calculation is accurate.
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用表格计算来构建与参考线相同的数值。同时使用参考线和表格计算是验证你的表格计算准确性的简便方法。
- en: 'Create a calculated field called `**[Optimization Category]**`:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[优化类别]**`的计算字段：
- en: '[PRE1]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Drag [Optimization Category] onto Color, replacing [Channel]. Right-click [Optimization
    Category] and ensure that it is computed across all dimensions at the deepest
    level.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[优化类别]拖动到颜色上，替换[渠道]。右键单击[优化类别]，确保在所有维度的最深层级上计算。
- en: Right-click the whitespace of a quadrant and select Annotate → Area. Enter the
    Optimization Category that represents the quadrant. Adjust formatting as desired.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击象限的空白处，选择注释 → 区域。输入代表该象限的优化类别。按需调整格式。
- en: Filter your data to August 2020, September 2020, and October 2020—fiscal quarters
    for SAGE. [Figure 8-9](#a_quadrant_chart_showing_the_four_catego) shows the plot
    at this stage.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据筛选到2020年8月、2020年9月和2020年10月——SAGE的财政季度。[图8-9](#a_quadrant_chart_showing_the_four_catego)显示了此阶段的图表。
- en: Now you have a completed quadrant chart, one that you can present on a dashboard
    or to stakeholders. Executives will now be able to derive insights from this two-dimensional
    chart, which makes it easy to focus on a subset of items for optimization.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你有了一个完成的象限图表，可以在仪表板上或向利益相关者展示。高管们现在可以从这个二维图表中获取洞察，这使得集中优化部分项目变得更加简单。
- en: The final concept we’ll cover with scatter plots is trend lines. A *trend line*
    is added to a chart to show the general direction of data or the relationships
    among numerical data. Constructing and including trend lines is useful when you
    explicitly want to demonstrate a correlation between variables or to estimate/predict
    a variable.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在散点图中最后讨论的概念是趋势线。*趋势线*被添加到图表中以显示数据的一般方向或数字数据之间的关系。构建和包含趋势线在您明确想要展示变量之间的相关性或估计/预测变量时非常有用。
- en: When you create trend lines with data, you’re generating a mathematical equation,
    with an x-axis metric, or the *independent variable*, and an output that is the
    y-axis variable, or *dependent variable*. The type of equation you generate depends
    on the relationships among your data (line of best fit), and similarly in Tableau
    you can generate various line types. The most commonly known type of trend line
    is a *linear trend* that follows the pattern *y* = *mx* + *b*, where *m* is the
    slope or angle of the line, and *b* is the y-intercept, or the point where the
    line crosses the y-axis.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用数据创建趋势线时，您正在生成一个数学方程，其中x轴度量或*自变量*，以及y轴度量或*因变量*。您生成的方程类型取决于数据之间的关系（最佳拟合线），类似地，在Tableau中您可以生成各种线条类型。最常见的趋势线类型是*线性趋势*，其遵循*y*
    = *mx* + *b*的模式，其中*m*是线的斜率或角度，*b*是y轴截距，即线与y轴交点。
- en: '![A quadrant chart showing the four categories of optimization the data falls
    into](Images/TAST_0809.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![显示数据所属四个优化类别的象限图表](Images/TAST_0809.png)'
- en: Figure 8-9\. A quadrant chart showing the four categories of optimization the
    data falls into
  id: totrans-91
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-9\. 显示数据所属四个优化类别的象限图表
- en: It is worth noting that you can always place a trend line on a chart, selecting
    the line of best fit, but drawing/constructing a line does not guarantee a statistical
    or mathematical relationship among your metrics. You’ll need to use the outputs
    provided from the trend line to determine whether the line is trustworthy for
    predictions or explanations.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，您始终可以在图表上放置一个趋势线，选择最佳拟合线，但绘制/构建一条线并不保证您的指标之间存在统计或数学关系。您需要使用趋势线提供的输出来确定该线对于预测或解释是否值得信赖。
- en: 'Strategy: Add a Trend Line to a Scatter Plot'
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：向散点图添加趋势线
- en: 'In this strategy, you are going to continue working with marketing data, but
    change the two metrics being examined. This time, you are going to use impressions
    and conversions, and instead of breaking apart the data by marketing channel and
    campaign, we’ll break the data apart by day. This will facilitate answering the
    question, “How many conversions can we anticipate receiving based on the number
    of impressions for a piece of marketing content?” The relevance of this exercise
    is being able to predict and have an estimated outcome if you know the number
    of impressions something will receive:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种策略中，您将继续使用营销数据，但改变被审视的两个指标。这一次，您将使用印象和转化，而不是按营销渠道和活动分析数据，而是按天拆分数据。这将有助于回答以下问题：“基于一则营销内容的印象数量，我们可以预期收到多少转化？”这项练习的相关性在于，如果您知道某事物将获得多少印象，可以预测并估计结果：
- en: Drag SUM(Impressions) onto the Columns shelf and SUM(Conversions) onto the Rows
    shelf.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 SUM(Impressions) 拖放到列架上，将 SUM(Conversions) 拖放到行架上。
- en: Right-click and drag the date onto Detail, dropping it with the selection on
    the continuous date value.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并拖动日期到详细信息上，在连续日期值的选择上放置它。
- en: Filter the data to include only the Search Channel ([Figure 8-10](#a_scatter_plot_of_impressions_versus_con)).
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据筛选为仅包括搜索渠道（[图 8-10](#a_scatter_plot_of_impressions_versus_con)）
- en: '![A scatter plot of Impressions versus Conversions by day for paid search marketing](Images/TAST_0810.png)'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![按天为付费搜索营销创建的印象与转化的散点图](Images/TAST_0810.png)'
- en: Figure 8-10\. A scatter plot of Impressions versus Conversions by day for paid
    search marketing
  id: totrans-99
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-10\. 按天为付费搜索营销创建的印象与转化的散点图
- en: From this visual you’ve just created, it might already be obvious that a strong
    relationship exists between these two metrics (variables). But next, you will
    add a trend line to express the relationship mathematically and get an output
    that demonstrates the confidence you can have with the model.
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从您刚创作的可视化效果中，很可能已经显而易见这两个指标（变量）之间存在强关系。但接下来，您将添加一个趋势线来数学表达这种关系，并获得能够展示模型置信度的输出。
- en: From the Analytics pane, drag the Trend Line and drop it on Linear.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从分析窗格中拖动趋势线，放置到线性上。
- en: Tip
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'Tableau provides five equations for generating a trend line ([Figure 8-11](#the_types_of_trend_line_models_that_are)):'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Tableau 提供五个方程式来生成趋势线（[图 8-11](#the_types_of_trend_line_models_that_are)）
- en: '*Linear* follows the format *y* = *mx* + *b.*'
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Linear* 遵循 *y* = *mx* + *b* 的格式。'
- en: '*Logarithmic* generates a curved line that plateaus at one end.'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Logarithmic* 生成一个在一端形成高原的曲线。'
- en: '*Exponential* also creates a curved line, often used when there is rapid increase
    or decrease.'
  id: totrans-106
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Exponential* 也创建一个曲线，通常用于快速增长或减少的情况。'
- en: '*Polynomial* generates curved lines that bend one or more times.'
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Polynomial* 生成弯曲一次或多次的曲线。'
- en: '*Power* creates a curved line with a slope that is changing at a known rate.'
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Power* 创建一个带有以已知速率变化的斜率的曲线。'
- en: Since there are many options, we encourage you to explore them and find the
    one that fits best.
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于选项很多，我们鼓励您探索它们并找到最合适的选项。
- en: '![The types of trend line models that are built into Tableau](Images/TAST_0811.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![Tableau 内置的趋势线模型类型](Images/TAST_0811.png)'
- en: Figure 8-11\. The types of trend line models that are built into Tableau
  id: totrans-111
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-11\. Tableau 内置的趋势线模型类型
- en: Now that you’ve built the trend line ([Figure 8-12](#a_linear_trend_line_fit_to_the_chart_sho)),
    here comes the important part—evaluating the model.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经构建了趋势线（[图 8-12](#a_linear_trend_line_fit_to_the_chart_sho)），接下来就是评估模型的重要部分。
- en: Anytime Tableau generates a trend line, it includes the equation of the line
    along with a menu you can access that describes the trend model. You can access
    this menu by right-clicking the line and selecting Describe Trend Model. This
    opens the dialog box shown in [Figure 8-13](#accessing_a_description_of_the_trend_lin).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 当 Tableau 生成趋势线时，会包括线性方程以及一个菜单，您可以通过右键单击该线并选择“描述趋势模型”来访问该菜单。这将打开 [图 8-13](#accessing_a_description_of_the_trend_lin)
    中显示的对话框。
- en: '![A linear trend line fit to the chart showing Impressions versus Conversions](Images/TAST_0812.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![一个线性趋势线适合显示印象与转化的图表](Images/TAST_0812.png)'
- en: Figure 8-12\. A linear trend line fit to the chart showing Impressions versus
    Conversions
  id: totrans-115
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-12\. 一个线性趋势线适合显示印象与转化的图表
- en: '![Accessing a description of the trend line](Images/TAST_0813.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![访问趋势线描述](Images/TAST_0813.png)'
- en: Figure 8-13\. Accessing a description of the trend line
  id: totrans-117
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-13\. 访问趋势线描述
- en: 'When we review these models, we hone in on two key components: the p-value
    and R-Squared value. The *p-value* is the probability that the output is caused
    by random chance. The smaller this value, the more likely it is that the output
    is statistically significant. Said in laymen’s terms, the closer the p-value is
    to 0, the more likely it is that a statistical relationship exists between the
    two variables. The *R-Squared* value is a number between 0 and 1 used to describe
    the amount of variability in the trend line. The closer R-Squared is to 1, the
    better the line fits the data.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们审查这些模型时，我们关注两个关键组成部分：p 值和 R-Squared 值。*p 值* 是输出由随机机会引起的概率。这个值越小，输出与统计上显著性相关的可能性就越大。换句话说，p
    值越接近 0，两个变量之间存在统计关系的可能性就越大。*R-Squared* 值是一个介于 0 和 1 之间的数字，用于描述趋势线中的变异量。R-Squared
    值越接近 1，说明该线对数据的拟合程度越好。
- en: Tip
  id: totrans-119
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: If you are getting very small p-values, but not high R-Squared values, test
    a different model type to see if you can get a better line of fit.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您得到非常小的 p 值，但 R-Squared 值不高，请尝试不同的模型类型，看看是否能获得更好的拟合线。
- en: The model generated in [Figure 8-12](#a_linear_trend_line_fit_to_the_chart_sho)
    is fantastic—the p-value is very small, and R-Squared is very close to 1\. If
    you knew the number of impressions that were going to be served, you could confidently
    predict or estimate the number of conversions. For the strategy, the specific
    model equation is Conversions = 0.0595388 × Impressions – 24.6459\. Stated more
    clearly, on any given day, you’re likely to receive 19 conversions for every 100
    impressions.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [图 8-12](#a_linear_trend_line_fit_to_the_chart_sho) 中生成的模型非常出色——p 值非常小，而 R-Squared
    非常接近 1。如果您知道将要服务的印象次数，您可以自信地预测或估计转化次数。对于策略而言，具体的模型方程式是转化 = 0.0595388 × 印象 - 24.6459。更明确地说，任何给定的一天，您可能会在每
    100 次印象中收到 19 次转化。
- en: Bringing it back around to our marketing case study, this means that we can
    also conversely figure out the number of ads to serve to reach a specific conversion
    value, equating to revenue generation. Essentially, if we want to sell 100,000
    units of a product, we will need to generate about 1.68 million impressions.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 回到我们的市场营销案例研究，这意味着我们也可以相反地计算出需要展示的广告数量，以达到特定的转化值，从而产生收入。基本上，如果我们想销售 100,000
    个产品单位，我们将需要生成约 1.68 百万次印象。
- en: Cluster Analysis
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聚类分析
- en: With the explosion of technology surrounding data storage and data processing,
    the domain of data analytics has extended to include more statistical and mathematical
    methods of processing data. Data science is increasingly playing a common role
    in the world of business. Data science takes advanced mathematical and statistical
    concepts, along with machine learning, and applies it to data models. The algorithms
    used in data science rely heavily on some form of programming, since the way they
    are generated is usually complex, involves many iterations, or has an element
    of recursion.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 随着围绕数据存储和数据处理的技术爆炸，数据分析领域已扩展到包括更多处理数据的统计和数学方法。数据科学在商业世界中的普及越来越普遍。数据科学将高级数学和统计概念与机器学习结合，并应用于数据模型。数据科学中使用的算法主要依赖于某种形式的编程，因为它们的生成通常复杂，涉及多次迭代，或者具有递归元素。
- en: 'In the last part of this chapter, we will explore integrating two data science
    applications into your Tableau visualizations, but for now, we want to start with
    a type of analysis that is built into Tableau: cluster analysis. *Cluster analysis*
    is the task of taking similar data points and grouping them together. Different
    from manual grouping or categorization, cluster analysis uses an algorithm to
    determine similarities and differences among data points. Tableau uses the k-means
    clustering algorithm to generate clusters.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后部分，我们将探讨如何将两种数据科学应用集成到您的Tableau可视化中，但现在我们想从内置于Tableau中的一种分析开始：聚类分析。*聚类分析*是将相似的数据点聚集在一起的任务。与手动分组或分类不同，聚类分析使用算法确定数据点之间的相似性和差异。Tableau使用k均值聚类算法生成聚类。
- en: Cluster analysis has many practical applications in business analytics. It can
    be used for population segmentation, development of customer personas, fraud and
    anomaly detection, and optimization. It can be used when you have numerical data
    values, categorical data values, or both. It also works well because it works
    with many variables or fields, when it may not be feasible to plot four or five
    different data points on a single chart and assess for similarities.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 聚类分析在业务分析中有许多实际应用。它可以用于人群分割、客户画像的开发、欺诈和异常检测以及优化。它可以处理数值数据值、分类数据值或两者兼而有之。它之所以效果好，是因为在许多变量或字段上工作时，可能不太可行将四五个不同的数据点绘制在单个图表上，并评估它们的相似性。
- en: Just like forecasting, cluster analysis isn’t a panacea for categorizing your
    data. Instead, consider it a suggestion of a way to group, categorize, or segment
    your data. Because it relies on mathematical outputs, business acumen and domain
    knowledge should be applied in conjunction to the output to determine whether
    the results will be useful to your organization and use case.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 就像预测一样，聚类分析并非处理数据分类的万灵药。相反，可以将其视为对数据进行分组、分类或细分的建议方式。由于它依赖于数学输出，应在输出结果中结合业务眼光和领域知识，以确定结果是否对您的组织和用例有用。
- en: 'Creating Segmentation Among Employees to Assess Differences in Attrition: Banco
    de Tableau Case Study'
  id: totrans-128
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Banco de Tableau案例研究中创建员工分割以评估流失差异
- en: Banco de Tableau is considering offering remote employment opportunities to
    some of its customer support and IT staff. Company executives are aware that advances
    in technology are having a broad impact on the landscape of office work and want
    to understand whether a link exists between an employee’s proximity to the office
    and staff attrition rates. In particular, they are seeking to understand whether
    they are losing top talent because of concerns such as a long commute.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau银行正在考虑为其部分客服和IT人员提供远程就业机会。公司高管意识到技术进步对办公工作景观产生广泛影响，并希望了解员工接近办公室与员工流失率之间是否存在关联。特别是，他们希望了解是否由于担心长途通勤等问题而失去顶尖人才。
- en: 'The HR team has narrowed its focus to three key contributors to work-life balance
    and happiness at work: tenure, monthly income, and distance from the office. How
    would you use cluster analysis to take these three variables and segment them
    into groups?'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 人力资源团队已将注意力集中在影响工作生活平衡和工作幸福感的三个关键因素上：任职时间、月收入和距办公室的距离。您将如何利用聚类分析将这三个变量分组？
- en: 'Strategy: Add Cluster Analysis to a Scatter Plot and Use Analysis in Another
    Chart'
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：在散点图中添加聚类分析，并在另一个图表中使用分析
- en: 'Before you get started, we want to note that most often when you see cluster
    analysis done, it starts with a scatter plot. That’s not by coincidence; since
    you’ll generally be working with three or more variables, it is natural to start
    with a scatter plot to begin to explore relationships among the variables. That
    said, it is not required for cluster analysis, and specifically won’t work if
    you have a series of dimensions you want to group together instead of numerical
    and categorical data. Let’s get started:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，我们想指出，大多数情况下，当您看到聚类分析完成时，它通常从散点图开始。这不是巧合；因为您通常会处理三个或更多变量，所以从散点图开始探索变量之间的关系是很自然的。尽管如此，聚类分析并不要求使用散点图，特别是如果您想将一系列维度组合在一起而不是数值和分类数据。让我们开始吧：
- en: Create a scatter plot that has [Years at Company] versus [Monthly Income] by
    [Employee Number].
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个散点图，其中包含[在公司工作年限]与[月收入]按[员工编号]。
- en: Limit the data to the Sales Department.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据限制在销售部门。
- en: Include the third metric, [Distance from Home], by adding it to Size; change
    the mark type to Circle and set the opacity to 70%. [Figure 8-14](#a_scatter_plot_that_has_an_additional_va)
    shows the resulting scatter plot.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将[Distance from Home]添加到Size中，并将标记类型更改为Circle，并将不透明度设置为70%，包括第三个指标。[图8-14](#a_scatter_plot_that_has_an_additional_va)显示了结果散点图。
- en: '![A scatter plot that has an additional variable, Distance from Home, on Size](Images/TAST_0814.png)'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![一个散点图，额外变量是离家距离，大小为Size](Images/TAST_0814.png)'
- en: Figure 8-14\. A scatter plot that has an additional variable, Distance from
    Home, on Size
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-14\. 散点图，额外变量是离家距离，大小为Size
- en: Now stop and review this visualization. If you had to group similar dots, where
    would you begin? Unfortunately, for most humans, once we introduce a third dimension,
    it becomes increasingly difficult to complete the task. But that’s exactly where
    cluster analysis comes into play.
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在停下来，审查这个可视化结果。如果您必须分组类似的点，您会从哪里开始？不幸的是，对于大多数人类来说，一旦引入第三维度，完成任务就变得越来越困难。但这正是聚类分析发挥作用的地方。
- en: From the Analytics pane, drag [Clusters] onto the worksheet. [Figure 8-15](#the_result_of_adding_cluster_analysis_to)
    shows the result.
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从分析面板中，将[Clusters]拖到工作表中。[图8-15](#the_result_of_adding_cluster_analysis_to)显示了结果。
- en: Tip
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: When you create clusters in Tableau, you have control over what is used in the
    analysis and the number of clusters. There’s no right or wrong answer, so work
    with variables that you think may have an impact and refine the number of clusters
    for your use case. Just know that Tableau defaults to an automatic, or optimized,
    number of clusters (meaning the greatest number of clusters that have the most
    dissimilarity to the other clusters and similarity to other members within a cluster).
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当您在Tableau中创建聚类时，可以控制分析使用的内容和聚类的数量。没有正确或错误的答案，因此，请使用您认为可能会产生影响的变量，并为您的用例优化聚类数量。请注意，Tableau默认为自动或优化的聚类数量（意味着聚类之间的差异最大，而聚类内部的相似性最大）。
- en: '![The result of adding cluster analysis to Figure 8-13](Images/TAST_0815.png)'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![将聚类分析结果添加到图8-13](Images/TAST_0815.png)'
- en: Figure 8-15\. The result of adding cluster analysis to [Figure 8-13](#accessing_a_description_of_the_trend_lin)
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-15\. 将聚类分析结果添加到[图8-13](#accessing_a_description_of_the_trend_lin)
- en: Right-click the [Clusters] field on the Marks card and select Describe Clusters.
    You’ll see the summary of details in [Figure 8-16](#the_summary_details_related_to_the_clust).
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击标记卡上的[Clusters]字段，然后选择描述聚类。您将看到[图8-16](#the_summary_details_related_to_the_clust)中详细信息的摘要。
- en: '![The summary details related to the cluster analysis of HR data](Images/TAST_0816.png)'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![与HR数据相关的聚类分析摘要详情](Images/TAST_0816.png)'
- en: Figure 8-16\. The summary details related to the cluster analysis of HR data
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-16\. 与HR数据相关的聚类分析摘要详情
- en: 'This step is important. This is where you will provide a semantic description
    and interpretation to the clusters generated. The values shown for each metric
    in the description represent the mathematical center of each cluster—not quite
    the average. Instead, imagine the cluster as a circle or oval and the data point
    at the center. In this example, we have three clusters, which we would define
    as follows:'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这一步很重要。这是您为生成的聚类提供语义描述和解释的地方。描述中显示的每个指标的值代表每个聚类的数学中心，不完全是平均值。相反，想象聚类为圆形或椭圆形，数据点位于中心。在本例中，我们有三个聚类，我们将其定义如下：
- en: Cluster 1
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 聚类1
- en: Short Commute, Low Income, Low Tenure
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 短途通勤，低收入，低任期
- en: Cluster 2
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 聚类2
- en: Short Commute, High Income, High Tenure
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 短途通勤，高收入，高任期
- en: Cluster 3
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 聚类3
- en: Long Commute, Low Income, Low Tenure
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 长途通勤，低收入，低任期
- en: Now hold down Ctrl and drag the [Clusters] field to your Data pane to save it
    as a field. Name it `**[Employee Groupings]**`.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在按住Ctrl键，将[Clusters]字段拖到数据窗格中保存为字段。将其命名为`**[Employee Groupings]**`。
- en: Right-click and edit the group to rename the clusters to match the descriptions
    we’ve chosen. As we said before, this is just the beginning of using cluster analysis.
    The fun comes when we apply these new segmentations to other variables.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并编辑组以重命名聚类，以匹配我们选择的描述。正如我们之前所说，这只是使用聚类分析的开始。当我们将这些新的分段应用于其他变量时，就会变得有趣。
- en: In a new sheet, construct a bar chart showing the number of employees by [Employment
    Status].
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新表中，制作一个条形图显示[Employment Status]的员工人数。
- en: Drag [Employee Groupings] to Color and change the metric to percentage of total
    for each status. [Figure 8-17](#stacked_bars_showing_the_distribution_co) shows
    the completed chart.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[员工分组]拖到颜色，并将度量单位更改为每个状态的总百分比。[图 8-17](#stacked_bars_showing_the_distribution_co)显示了完成的图表。
- en: '![Stacked bars showing the distribution comparison among active and inactive
    employees](Images/TAST_0817.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![堆叠条形图显示活跃和非活跃员工分布比较](Images/TAST_0817.png)'
- en: Figure 8-17\. Stacked bars showing the distribution comparison among active
    and inactive employees
  id: totrans-159
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-17\. 堆叠条形图显示活跃和非活跃员工分布比较
- en: Now you have some fascinating results. Clearly there is a difference of the
    proportions between the active and inactive employees. Most strikingly, there’s
    a larger proportion of employees who are no longer with the company and who had
    a long commute, low income, and low tenure. And what’s even more useful is that
    you can use the centers produced by the analysis as guidelines to identify which
    employees, both current and future, may be at higher risk of leaving the organization.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你有了一些迷人的结果。显然，活跃员工和非活跃员工之间的比例有所不同。最引人注目的是，那些已经离开公司的员工中有更大比例的人，他们通勤时间长、收入低、任职时间短。更有用的是，你可以利用分析产生的中心作为指导，识别出哪些现有和未来的员工可能更有可能离开组织。
- en: Alternative Axis and Many Multiples
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Alternative Axis and Many Multiples
- en: If you’ve ever encountered a dataset that is tough to visualize, this section
    is made just for you. Some datasets simply don’t conform to conventional visualizations.
    Maybe the data is changing exponentially, making it difficult to plot over time,
    or there are too many attributes to make a compelling comparison.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您曾经遇到过难以可视化的数据集，那么这一部分正是为您而设。有些数据集简单地不能符合传统的可视化方法。也许数据正在呈指数增长，使得难以随时间绘制，或者属性过多以至于无法进行有力的比较。
- en: When we encounter these situations, it’s even more important to step back and
    try to find the right visualization to communicate the data. Because the properties
    of the dataset are complex, it’s probably even more important to lean on visualizations
    to synthesize and communicate it. And as we write this, there’s no better example
    than COVID-19 data. Unlike traditional data you’re likely to encounter, it has
    unique properties that must be mastered. Depending on the given month, the number
    of positive people can be doubling or tripling daily. And the headline and major
    insight is exactly that point—clearly demonstrating how rapidly the virus is spreading.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们遇到这些情况时，更重要的是退后一步，尝试找到合适的可视化方式来传达数据。由于数据集的特性较为复杂，借助可视化进行综合和传达可能更为重要。而在我们写这篇文章时，COVID-19
    数据就是最好的例子。与您可能遇到的传统数据不同，它具有必须掌握的独特特性。根据给定的月份，阳性人数可能每天增加一倍或三倍。标题和主要见解恰好是这一点——清楚地展示病毒传播的迅速程度。
- en: To deal with rapidly changing numerical values, and especially those that have
    a massive range (think 1 to 1 million), we recommend a logarithmic scale. A *logarithmic
    scale*, or *log scale*, is a nonlinear scale with tick marks that aren’t spaced
    out by the same amount. Instead, they are spaced out by multiples, or factors,
    of a base scale. The beauty of a log scale is that it can display a massive data
    range quite compactly and can aid in providing a chart narrative; the language
    of visual math becomes “*x* times more” or “*x* times greater” instead of an additive
    amount.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 要处理快速变化的数值，特别是那些数值范围广泛的情况（比如从 1 到 100 万），我们建议使用对数刻度。*对数刻度* 是一种非线性刻度，其刻度标记的间距不是相同的量级。而是以倍数或基本刻度的因子间隔。对数刻度的美妙之处在于它能够紧凑地显示大范围的数据，并有助于提供图表叙述；可视数学的语言变成了“*x*
    倍”或“*x* 倍更大”，而不是加法量。
- en: 'Tracking Positive Cases of COVID-19 Globally: Logistics Case Study'
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 全球 COVID-19 阳性病例追踪：物流案例研究
- en: With the global pandemic of COVID-19 came the immediate need to understand and
    analyze the virus. Organizations, world leaders, media, health experts, and individuals
    around the globe were looking for ways to understand the situation and potential
    impact the virus would have.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 随着全球 COVID-19 大流行的到来，迫切需要了解和分析这种病毒。全球的组织、世界领导人、媒体、健康专家以及个人都在寻找了解情况和病毒可能带来影响的方式。
- en: The first instinct most global leaders had when they learned of the severity
    of COVID-19 was to start assessing the total number of positive cases in a given
    country compared to its peers. This was useful for figuring out where the greatest
    need was and which preventative measures were contributing to positive outcomes.
    How would you design a logarithmic scale to visualize daily infection rates by
    country?
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 全球领导人在了解 COVID-19 严重性后的第一反应是开始评估某个国家的总阳性病例数与同行的比较。这对于确定最大需求和哪些预防措施有助于积极结果是非常有用的。您将如何设计一个对数比例尺来可视化每个国家的每日感染率？
- en: 'Strategy: Use a Logarithmic Axis to Understand Rate of Change'
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：使用对数轴理解变化率
- en: 'In this strategy, you will use a log axis to plot eight countries across the
    globe—Argentina, China, France, Italy, South Korea, Spain, United States, and
    Zambia:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种策略中，您将使用对数轴来绘制全球八个国家的图表 — 阿根廷、中国、法国、意大利、韩国、西班牙、美国和赞比亚：
- en: 'Create a trend line showing SUM(People Positive Case Count) by day. *Note:
    this measure is a cumulative total.*'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个趋势线，显示按日累计的“阳性病例总数”。*注意：此测量是累计总数。*
- en: Filter the data to the eight countries mentioned and place [Country Short Name]
    on Color.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据筛选为提到的八个国家，并将[国家简称]放置在颜色上。
- en: Right-click the y-axis and change the Scale to Logarithmic; leave it set to
    Positive. You can also hide the indicator at the bottom right noting that there
    are negative values. [Figure 8-18](#total_covid-nineteen_cases_by_day_for_ei)
    shows the resulting visualization.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击 y 轴，将比例尺修改为对数轴；保持设置为正数。您还可以隐藏右下角指示器，指示存在负值。[图 8-18](#total_covid-nineteen_cases_by_day_for_ei)
    显示了生成的可视化效果。
- en: Tip
  id: totrans-173
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: Logarithmic scales typically work only with positive numbers, but Tableau also
    allows users to select Symmetric, which includes negative numbers also displayed
    logarithmically.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 对数刻度通常仅适用于正数，但 Tableau 还允许用户选择对称轴，这样也可以显示对数化的负数。
- en: '![Total COVID-19 cases by day for eight countries, displayed on a logarithmic
    scale](Images/TAST_0818.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![显示在对数尺度上的八个国家每日的总 COVID-19 病例](Images/TAST_0818.png)'
- en: Figure 8-18\. Eight countries, plotted on a linear axis
  id: totrans-176
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-18\. 八个国家在线性轴上的图示
- en: Now compare the outcome to a chart with a linear axis, as in [Figure 8-19](#eight_countriescomma_plotted_on_a_linear).
    How does your visual interpretation and the story change?
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 现在将结果与线性轴图表进行比较，如[图 8-19](#eight_countriescomma_plotted_on_a_linear)。您的视觉解释和故事发生了怎样的变化？
- en: '![Eight countries, plotted on a linear axis](Images/TAST_0819.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![八个国家在线性轴上的图示](Images/TAST_0819.png)'
- en: Figure 8-19\. Total COVID-19 cases by day for eight countries, displayed on
    a logarithmic scale
  id: totrans-179
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-19\. 显示在对数尺度上的八个国家每日的总 COVID-19 病例
- en: With the log axis, it is immediately clear to the audience how quickly cases
    surged in the eight target countries. It also does a great job of displaying nuances
    among the countries. China, for example, hits a peak reported cumulative total
    around 75,000 and then tapers out to a completely flat line. Zambia, on the other
    hand, has seen two or three surges since it has begun reporting. And the US in
    the linear plot dwarfs the other countries, but in the log axis view can more
    clearly be compared to peers. At the time of this writing, the US has almost seven
    times more total positive reported cases than France.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 通过对数轴，观众立即可以清楚地看到这八个目标国家病例迅速激增的情况。它还很好地显示了各国之间的细微差别。例如，中国的累计总数达到约 75,000 后，然后变得完全平缓。与此相反，赞比亚自报告以来已经出现了两次或三次激增。而美国在线性图中的数据遥遥领先于其他国家，但在对数轴视图中更容易与同行进行比较。在撰写本文时，美国报告的总阳性病例几乎是法国的七倍。
- en: While here we’re focused on COVID-19, logarithmic axes are useful anywhere you
    have a metric with exponential growth. Other common subject areas that are typically
    plotted logarithmically include growth and adoption (of technology or a product),
    money interest and savings, and (uncontrolled) population growth.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们在这里关注的是 COVID-19，但对数轴在任何指数增长的度量标准中都很有用。通常以对数方式绘制的其他常见主题领域包括增长和采用（技术或产品）、货币利息和储蓄以及（无控制的）人口增长。
- en: As we move on, there’s one additional tactic we employed to really help demonstrate
    COVID-19 data—and that is normalizing the x-axis, or time. Remember we said our
    stakeholders wanted to know how effective various mitigation strategies were in
    the countries? In the current view, it would be difficult to see whether a full
    shutdown order in China in February had the same impact as a partial stay-at-home
    order in the US. But by now you’re an expert in Tableau, so this should be an
    easy solve!
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们的进展，我们采用了一个额外的策略来帮助展示 COVID-19 数据——即标准化 x 轴，即时间。记住我们说过我们的利益相关者想知道各种缓解策略在各国的有效性吗？在当前视图中，要看到中国在二月份的全面封锁命令是否与美国的部分居家命令产生了相同的影响是困难的。但现在您已经是
    Tableau 的专家，这应该是一个简单的解决方案！
- en: 'Strategy: Normalize a Date Axis'
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：标准化日期轴
- en: 'In this strategy, we will normalize the reporting date so that each day is
    in reference to when the virus was first reported in a given country:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种策略中，我们将标准化报告日期，使得每一天都参照病毒在特定国家首次报告的时间：
- en: 'Create an LOD expression called `**[First Date per Country]**`; this calculation
    will be the first reported date for each country:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `**[每个国家的第一次日期]**` 的 LOD 表达式；这个计算将是每个国家的首次报告日期：
- en: '[PRE2]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Tip
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: This data contains records for every country going back to 12/31/19, regardless
    of whether any cases were reported. Adding the `IF` statement requiring positive
    cases to be greater than 0 ensures that the minimum date indicates when the first
    case was reported.
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此数据包含从 2019 年 12 月 31 日起每个国家的记录，无论是否报告了任何病例。添加 `IF` 语句要求确保正案例大于 0，以确保最小日期指示报告第一例病例的时间。
- en: 'Create another calculated field called `**[Days Since First Case]**`:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另一个名为 `**[第一例病例后的天数]**` 的计算字段：
- en: '[PRE3]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Before dragging [Days Since First Case] onto Columns, turn it into a continuous
    dimension by right-clicking and selecting Convert to Dimension and then Convert
    to Continuous.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在将 [第一例病例后的天数] 拖放到列上之前，请通过右键单击并选择转换为维度，然后再转换为连续，将其转换为连续维度。
- en: Tip
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: Remember, you can change the property of a field in Tableau at any time. When
    you set this field as a dimension, you tell Tableau you don’t want it to be aggregated
    when it is used in a worksheet. By making it continuous, you’re also telling Tableau
    that you want an infinite number line or axis when it is plotted.
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 记住，您可以随时更改 Tableau 中字段的属性。当您将此字段设为维度时，您告诉 Tableau 在工作表中使用时不对其进行聚合。通过使其连续，您还告诉
    Tableau 在绘制时要求一个无限数线或轴。
- en: Drag [Days Since First Case] on top of DAY(Report Date) to replace it.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [第一例病例后的天数] 拖放到 DAY(Report Date) 的上方以替换它。
- en: As we review this final transformation ([Figure 8-20](#covid-nineteen_data_on_a_log_axis_with_r)),
    we ask again, how has the data story changed?
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们回顾这最终的转换（[图 8-20](#covid-nineteen_data_on_a_log_axis_with_r)）时，我们再次问，数据故事发生了什么变化？
- en: '![COVID-19 data on a log axis with reporting dates normalized](Images/TAST_0820.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![COVID-19 数据在对数轴上，并通过标准化的报告日期](Images/TAST_0820.png)'
- en: Figure 8-20\. COVID-19 data on a log axis with reporting dates normalized
  id: totrans-197
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-20\. COVID-19 数据在对数轴上，并通过标准化的报告日期
- en: With each country set to the same timescale, it becomes easier to compare and
    contrast how actions taken have impacted outcomes. Within 50 days of the first
    reported case, South Korea was able to completely flatten out the total number
    of cases, whereas the US experienced two initial large climbs, one up through
    day 40, and another up through day 90\. This chart also gives guidance to countries
    like Argentina and Zambia, which are behind others, on where to look globally
    for success stories as well as on pitfalls that should be avoided.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 随着每个国家设置相同的时间轴，比较和对比行动如何影响结果变得更加容易。在首次报告病例后的 50 天内，韩国能够完全平稳地减少总病例数，而美国经历了两次初始大幅攀升，一次在第
    40 天，另一次在第 90 天。这张图表还为阿根廷和赞比亚等落后于其他国家的国家提供了指导，可以全球寻找成功案例以及避免的陷阱。
- en: 'Before we close the case study on COVID-19, we also want to address dealing
    with the many members (like countries, states, and regions) that come with this
    dataset. With eight members in the previous two strategies, our line charts are
    already at capacity for the amount of information that can be shared without becoming
    spaghetti. So, we want to address one final item: how to dynamically display many
    dimensions in one chart.'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们结束 COVID-19 的案例研究之前，我们还想解决如何处理众多成员（如国家、州和地区）的问题。在前两个策略中有八个成员，我们的折线图已经达到信息分享的极限，而不会变成混乱的程度。所以，我们要解决的最后一个问题是：如何在一个图表中动态显示多个维度。
- en: In [Chapter 1](ch01.xhtml#categorical_analysis), we created small multiples
    when we had five members of the dimension, but that tactic won’t always work,
    especially if you have ten or more members. Instead, we want to introduce a method
    to dynamically create many small multiples, a tactic that is configurable based
    on the screen space you may have available.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 1 章](ch01.xhtml#categorical_analysis)中，我们在维度有五个成员时创建了小多图，但这种策略不总是适用，特别是当您有十个或更多成员时。相反，我们想引入一种方法，动态创建许多小多图，这是一种根据您可能可用的屏幕空间进行配置的策略。
- en: 'Strategy: Create a Trellis Chart'
  id: totrans-201
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 策略：创建一个格子图
- en: 'As you know from previous chapters, a *trellis chart* is a fancy term to describe
    small multiples. Imagine a trellis that supports vines climbing up the side of
    a wall. That same structure describes the axes lines and grid pattern created
    by having many small multiples in one chart. In this strategy, you’ll create a
    trellis chart for our COVID-19 data:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您从前几章中所了解的那样，*格子图*是描述小多图的一个花哨术语。想象一下支持藤蔓攀爬到墙壁一侧的格子图。这种结构描述了通过在一个图表中创建许多小多图而形成的轴线和网格模式。在这个策略中，您将为我们的COVID-19数据创建一个格子图：
- en: Use the same principles from the former strategy to construct a chart that shows
    total COVID-19 positive cases for each US State and Region by Report Date using
    a logarithmic axis ([Figure 8-21](#total_covid-nineteen_cases_for_each_stat)).
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用与前一策略相同的原则构建一个图表，该图表使用对数轴显示每个美国州和地区按报告日期的总COVID-19阳性病例数（[图 8-21](#total_covid-nineteen_cases_for_each_stat)）。
- en: '![Total COVID-19 cases for each state and region in the US](Images/TAST_0821.png)'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![美国每个州和地区的总COVID-19病例](Images/TAST_0821.png)'
- en: Figure 8-21\. Total COVID-19 cases for each state and region in the US
  id: totrans-205
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-21\. 美国每个州和地区的总COVID-19病例
- en: 'Create a calculated field called `**[Index]**`:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[索引]**`的计算字段：
- en: '[PRE4]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Tip
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: Index is our favorite table calculation because of its utility. It allows you
    to number data in your view, something that can be done at the level of data you
    assign it to.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 索引是我们最喜欢的表计算，因为它非常实用。它允许您对数据进行编号，可以在您分配它的数据级别上完成此操作。
- en: Create an integer parameter called `**[Total Columns]**`; set it to 8.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[总列]**`的整数参数；将其设置为 8。
- en: 'Create two additional calculated fields, one called `**[Column]**` and one
    called `**[Row]**`:'
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另外两个计算字段，一个称为`**[列]**`，另一个称为`**[行]**`：
- en: '[PRE5]'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Tip
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: Bookmark these calculations! The parameter, Column, and Row calculations are
    all you need to create small multiples whose size you can dynamically adjust by
    simply changing a parameter value.
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 收藏这些计算！参数、列和行计算是您创建小多图所需的全部内容，您可以通过简单更改参数值动态调整其大小。
- en: Convert both calculated fields to be Discrete and then drag [Row] and [Column]
    to their respective shelves.
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将两个计算字段都转换为离散，然后将[行]和[列]拖到各自的架上。
- en: Right-click [Column] and choose Edit Table Calculation. Set the Compute Using
    option to Specific Dimensions and select Province State Name. Repeat this for
    [Row].
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击[列]，选择编辑表计算。设置计算使用选项为特定维度，并选择省/州名称。对[行]重复此操作。
- en: Tip
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: Here is where you’re setting how Tableau will number the data in the view. By
    specifying Province State Name and not including the Day of Report Date, Tableau
    will number the Province State Names from 0 up through *N*, ignoring the date.
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，您正在设置Tableau如何对视图中的数据进行编号。通过指定省/州名称而不包括报告日期的日期，Tableau将从0到*N*编号省/州名称，忽略日期。
- en: Right-click and hide the Columns and Rows headers. Add formatting to have the
    latest date show the total number of cases and the name of the State/Region ([Figure 8-22](#covid-nineteen_total_cases_by_day_for_ev)).
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击并隐藏列和行标题。添加格式，以便最新日期显示总病例数和州/地区的名称（[图 8-22](#covid-nineteen_total_cases_by_day_for_ev)）。
- en: '![COVID-19 total cases by day for every state and region in the US](Images/TAST_0822.png)'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![美国每个州和地区每日的COVID-19总病例](Images/TAST_0822.png)'
- en: Figure 8-22\. COVID-19 total cases by day for every state and region in the
    US
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-22\. 美国每个州和地区每日的COVID-19总病例
- en: As a last step, we want to add just a tiny bit more value to this chart by sorting
    the states/regions based on their total case count.
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 作为最后一步，我们希望通过基于其总病例数对州/地区进行排序，为此图表增加一点点价值。
- en: 'Create a calculated field called `**[Max per State]**` that returns the maximum
    total number of cases per state:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`**[每个州的最大]**`的计算字段，返回每个州的最大总病例数：
- en: '[PRE6]'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Tip
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 小贴士
- en: We’re using a nested LOD here because data is reported at the County level.
    So the LOD first finds the maximum People Positive Case Count per County and then
    sums up that value at the State level.
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们在这里使用了嵌套的LOD，因为数据是在县级报告的。因此，LOD首先找到每个县的最大阳性病例数，然后在州级别上总结该值。
- en: Right-click [Province State Name] on the Marks card and Sort it in Descending
    order by the Maximum of Max per State. [Figure 8-23](#covid-nineteen_total_cases_by_date_for_e)
    shows the resulting chart.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在标记卡上右键单击[省州名称]，按最大州级最大值降序排序。[图8-23](#covid-nineteen_total_cases_by_date_for_e)显示了生成的图表。
- en: '![COVID-19 total cases by date for every US state, sorted by total case count](Images/TAST_0823.png)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![按日期排序的每个美国州COVID-19总病例数，按总病例数排序](Images/TAST_0823.png)'
- en: Figure 8-23\. COVID-19 total cases by date for every US state, sorted by total
    case count
  id: totrans-229
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-23。按照总病例数排序的每个美国州按日期排序的COVID-19总病例数
- en: While the topic is grim, the chart produced is effective. Your audience can
    now see the shape of the COVID-19 virus in all regions of the US and assess the
    impact the virus has had on each area’s community.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然话题很严峻，但生成的图表效果很好。您的观众现在可以看到COVID-19病毒在美国各地区的形状，并评估该病毒对每个地区社区的影响。
- en: Advanced Modeling Using Statistical Add-Ons
  id: totrans-231
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用统计附加组件进行高级建模
- en: For the last section of this chapter, we want to discuss even more ways that
    you can extend the types of analysis of your data. As we touched on, data science
    is becoming a more common practice in the analyst’s everyday life. Fortunately,
    Tableau makes it easy to integrate two of the most common languages with advanced
    statistical and mathematical modeling, Python and R. Tableau calls these *Analytics
    Extensions*.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后一节中，我们将讨论更多扩展数据分析类型的方法。正如我们所提到的，数据科学正在分析师日常生活中变得越来越普遍。幸运的是，Tableau使得集成两种最常见的高级统计和数学建模语言Python和R变得轻而易举。Tableau将这些称为*分析扩展*。
- en: Before you begin using these tools, it’s important to know when to use them.
    Tableau considers the outputs of the integration of these tools as table calculations.
    This is a critical notion, because it means that you’ll be passing the data available
    in your view (worksheet) through to be processed and then further outputted. Also,
    by virtue of Tableau’s Order of Operations, this step will happen after everything
    else, immediately before visualization rendering.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始使用这些工具之前，了解何时使用它们非常重要。Tableau认为这些工具的集成输出是表计算。这是一个关键概念，因为它意味着您将传递视图（工作表）中可用的数据进行处理，然后进一步输出。此外，由于Tableau的操作顺序，这一步将在所有其他操作之后立即发生，即在可视化渲染之前。
- en: 'We recommend using these integrations under the following scenarios:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 我们建议在以下情况下使用这些集成：
- en: You or your audience need to change your algorithm output on the fly. A great
    example is calculating a forecast output after filtering other fields. If you
    have many combinations of filtering, or you aren’t quite sure which combination
    will yield the best result, computing a forecast output on the fly is your best
    option.
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您或您的观众需要随时更改算法输出。一个很好的例子是在过滤其他字段后计算预测输出。如果您有许多过滤的组合，或者您不太确定哪种组合会产生最佳结果，即时计算预测输出是您的最佳选择。
- en: You want to do advanced statistical significance tests, like the test of two
    proportions, and need to display the p-value. Although you’ve seen that it is
    possible to view the p-value of a trend line, it is not possible to visualize
    it in a chart; it simply remains as a tooltip. So, if you are testing many combinations
    of proportions and want to generate a table of p-values, your best bet is to let
    Python or R render them as a calculated field.
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您想进行高级统计显著性测试，如两个比例的检验，并需要显示p值。尽管您已经看到可以查看趋势线的p值，但无法在图表中可视化它；它只能作为工具提示保留。因此，如果您正在测试多种比例组合并希望生成p值表格，则最好让Python或R将它们呈现为计算字段。
- en: Your data will be changing or growing. If your model will constantly be taking
    in new inputs or using data as it becomes available, it is best to do the processing
    in Tableau Desktop. Since Tableau will read all available data and pass it through,
    you can use the same algorithm to continuously generate new outputs.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您的数据将会变化或增长。如果您的模型将不断接收新的输入或使用新的数据，最好在Tableau Desktop中进行处理。由于Tableau将读取所有可用数据并通过，您可以使用相同的算法持续生成新的输出。
- en: You are doing data transformations that are beyond the scope of normal Tableau
    functions. Because both Python and R have a myriad of libraries and functions,
    it may be easy to connect and use one of those packages to transform your data.
    A practical use case we’ve encountered is translating IPv4 IP addresses to IPv6\.
    There’s an algorithmic way to do it that has many steps but is just one function
    in Python.
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你正在进行超出普通Tableau功能范围的数据转换。因为Python和R都有许多库和函数，连接并使用其中一个包来转换数据可能会很容易。我们遇到过的一个实际用例是将IPv4
    IP地址转换为IPv6。有一种算法方法可以做到这一点，虽然步骤很多，但在Python中只需要一个函数。
- en: 'Conversely, here are some scenarios of when *not* to use Analytics Extensions:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，这里是一些不使用分析扩展的情景：
- en: You want to work with your data to find the best algorithm. If you are trying
    to find the best algorithm to fit your data, consider working completely in Python
    or R. After finding the best fit, use Tableau to visualize your output.
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你想要处理数据以找到最佳算法。如果你试图找到最适合你数据的算法，考虑完全在Python或R中工作。找到最佳匹配后，使用Tableau来可视化你的输出。
- en: You are doing a one-time processing step, like sentiment analysis, on a dataset.
    If you are relying on a library or package to do text analysis or scoring, there’s
    no need to process that data on the fly with Tableau. Instead, process all of
    your data beforehand and then visualize in Tableau.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你正在对数据集进行一次性处理步骤，例如情感分析。如果你依赖库或包进行文本分析或评分，没有必要在使用Tableau时即时处理数据。相反，预先处理所有数据，然后在Tableau中进行可视化。
- en: 'You want to create a trend line or forecasting with minimal feature changes
    to the model. If you can achieve results by using the built-in Tableau functionality,
    save yourself some time and avoid these add-ons. As you saw in [“Strategy: Add
    a Trend Line to a Scatter Plot”](#strategycolon_add_a_trend_line_to_a_scat), we
    created a linear trend line with an exceptional R-squared value. We recommend
    you test out these statistical tools in Tableau first before investing additional
    time.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你想要创建一个趋势线或预测，而对模型的特征变化要求最小。如果你可以通过使用内置的Tableau功能实现结果，那就节省一些时间，避免使用这些附加组件。正如在[“策略：向散点图添加趋势线”](#strategycolon_add_a_trend_line_to_a_scat)中所看到的，我们创建了一条线性趋势线，并且具有出色的R方值。我们建议你首先在Tableau中测试这些统计工具，然后再投入额外的时间。
- en: You are using machine learning to create a model and have a training dataset.
    Machine learning models rely on first inputting a training dataset and then applying
    the algorithm on your actual dataset. Since you’ll be limited to using data in
    a view, it may become overly complicated to try to pass through a training dataset
    and the actual dataset in a single script-calculated field.
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你正在使用机器学习来创建模型，并且有一个训练数据集。机器学习模型依赖于首先输入训练数据集，然后在你的实际数据集上应用算法。由于你将被限制使用视图中的数据，尝试在单个脚本计算字段中通过训练数据集和实际数据集可能会变得过于复杂。
- en: You are using any type of recursion or looping. If you are iterating over your
    data at a variable length, this preprocessing should be done outside Tableau.
    Imagine counting the number of words for every sentence in a book.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你正在使用任何类型的递归或循环。如果你正在迭代处理可变长度的数据，这种预处理应该在Tableau之外完成。想象一下计算书中每个句子的字数。
- en: Your visualizations need to be super-fast for end users. This may sound like
    a silly reason, but if you have an impatient audience, consider preprocessing
    your data. Passing through data subsets to another application, having that application
    process the data, pushing back the results, and finally rendering the visualization
    can be costly—especially if it is a complicated task or done over many rows of
    data.
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的可视化需要对最终用户非常快速。这可能听起来像一个愚蠢的原因，但如果你的观众不耐烦，考虑预处理你的数据。通过数据子集传递到另一个应用程序，让该应用程序处理数据，推回结果，最后呈现可视化结果可能会很昂贵，特别是如果是一个复杂的任务或在许多数据行上完成。
- en: Now that we’ve walked through a few best practices, let’s take a closer look
    at statistical add-ons.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经讨论了一些最佳实践，让我们更仔细地看看统计附加组件。
- en: 'Using Python Analytics Extension for Web Page A/B Testing: Squeaks Pet Supply
    Case Study'
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Python分析扩展进行网页A/B测试：Squeaks宠物供应案例研究
- en: '*A/B testing* is a common practice for anyone with a website. It is a great
    way to test multiple iterations of content, get results back, and determine which
    version generates more engagement. For ecommerce organizations, it can be an invaluable
    tool for finding the perfect fit of content that will cause the greatest conversion
    (and ultimately purchase) from a customer. That said, to evaluate A/B tests, you
    must use hypothesis testing for two sample proportions, otherwise known as a *t-test*.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '*A/B 测试* 对于任何拥有网站的人来说都是一种常见的实践。这是一种测试内容的多个迭代版本、获取结果并确定哪个版本能够产生更多参与度的好方法。对于电子商务组织来说，它可以是一种无价的工具，用于找到能够引起顾客最终购买的内容的最佳匹配。也就是说，要评估
    A/B 测试，必须使用假设检验来进行两个样本比例的测试，也称为 *t 检验*。'
- en: Squeaks Pet Supply is a pet product company looking to launch several A/B tests
    across many products. It’s testing two layouts of its website to determine whether
    one version increases likelihood of a customer purchasing a product. Company executives
    are interested in seeing the results for all products in a single visualization.
    How would you represent this? Note, while the content format was the same across
    the respective versions, the content team would like to know if there are impact
    variations among the individual products versus the overall test results.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: Squeaks Pet Supply 是一家宠物产品公司，计划在多个产品上推出几项 A/B 测试。它正在测试网站的两种布局，以确定是否有一种版本能增加顾客购买产品的可能性。公司高管希望在单个可视化中看到所有产品的结果。如何表示这些结果？注意，尽管内容格式在各自的版本中保持一致，内容团队仍希望了解个别产品与整体测试结果之间是否存在影响变化。
- en: 'To accomplish this task, we turned to using the Python Analytics Extension
    (TabPy). The high-level workflow to using TabPy in this scenario is as follows:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成这项任务，我们转向使用 Python Analytics 扩展（TabPy）。在这种情况下，使用 TabPy 的高级工作流程如下：
- en: Install TabPy locally on your machine or on a standalone server. You can find
    documentation on how to install TabPy in its [GitHub repo](https://github.com/tableau/TabPy).
    If you install using the default settings, you should see that it is active by
    going to `**localhost:9004**` in a browser, as shown in [Figure 8-24](#after_tabpy_is_installed_locally_on_a_wi).
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的机器上或独立服务器上安装 TabPy。您可以在其 [GitHub 仓库](https://github.com/tableau/TabPy) 中找到有关如何安装
    TabPy 的文档。如果您使用默认设置安装，可以通过在浏览器中输入 `**localhost:9004**` 来检查其是否处于活动状态，如 [图 8-24](#after_tabpy_is_installed_locally_on_a_wi)
    所示。
- en: '![After TabPy is installed locally on a Windows machine, it can be accessed
    via port 9004 on the localhost](Images/TAST_0824.png)'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![在本地 Windows 机器上安装 TabPy 后，可以通过 localhost 的 9004 端口访问](Images/TAST_0824.png)'
- en: Figure 8-24\. After TabPy is installed locally on a Windows machine, it can
    be accessed via port 9004 on the localhost
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-24\. 在本地 Windows 机器上安装 TabPy 后，可以通过 localhost 的 9004 端口访问
- en: After installing TabPy, we enable connection to the TabPy server in Tableau
    Desktop; see Figures [8-25](#accessing_the_analytics_extension_connec) and [8-26](#adding_connection_information_for_a_loca).
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完 TabPy 后，我们在 Tableau Desktop 中启用连接到 TabPy 服务器；参见图 [8-25](#accessing_the_analytics_extension_connec)
    和 [8-26](#adding_connection_information_for_a_loca)。
- en: '![Accessing the Analytics Extension connection](Images/TAST_0825.png)'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![访问 Analytics 扩展连接](Images/TAST_0825.png)'
- en: Figure 8-25\. Accessing the Analytics Extension connection
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-25\. 访问 Analytics 扩展连接
- en: '![Adding connection information for a local instance of TabPy](Images/TAST_0826.png)'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![为本地 TabPy 实例添加连接信息](Images/TAST_0826.png)'
- en: Figure 8-26\. Adding connection information for a local instance of TabPy
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-26\. 为本地 TabPy 实例添加连接信息
- en: 'Script code is written in Tableau Desktop and passed to the TabPy server. Both
    the Python code and the fields, which are called *arguments*, are used in the
    function:'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 脚本代码是在 Tableau Desktop 中编写并传递给 TabPy 服务器的。Python 代码和称为 *参数* 的字段都用于该函数：
- en: '[PRE7]'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: You can test this code yourself by modifying the four arguments that are referencing
    fields with constant integers.
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以通过修改引用常量整数字段的四个参数来测试此代码。
- en: Tip
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: 'When working with Analytics Extensions, you will pass in fields as arguments.
    You will also use Script functions to return the values from the Analytics Extension.
    There are four Script functions:'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在处理 Analytics 扩展时，您将将字段作为参数传递。您还将使用脚本函数从 Analytics 扩展返回值。有四个脚本函数：
- en: '`SCRIPT_BOOL()` returns a Boolean data type value.'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SCRIPT_BOOL()` 返回布尔数据类型值。'
- en: '`SCRIPT_INT()` returns an integer data type value.'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SCRIPT_INT()` 返回整数数据类型值。'
- en: '`SCRIPT_REAL()` returns a real number (or float) data type.'
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SCRIPT_REAL()` 返回实数（或浮点数）数据类型值。'
- en: '`SCRIPT_STR()` returns a string data type value.'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SCRIPT_STR()` 返回一个字符串数据类型的值。'
- en: Finally, the output from the script is returned and shown in a visualization
    in Tableau ([Figure 8-27](#the_far-right_column_shows_the_p-value_o)). You will
    have to specify the Compute Using option for the `SCRIPT_REAL()` function table
    calculation. For this example, we’re using Cell since the successes and sample
    sizes are aggregated per row in the visualization.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，脚本的输出被返回并显示在 Tableau 的可视化中（参见[图 8-27](#the_far-right_column_shows_the_p-value_o)）。您需要为
    `SCRIPT_REAL()` 函数的表计算指定计算使用选项。在此示例中，我们使用 Cell，因为成功和样本大小在可视化的每行中聚合。
- en: '![The far-right column shows the p-value of the 2t test based on the inputs](Images/TAST_0827.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![最右列显示基于输入的两个比例检验的 p 值](Images/TAST_0827.png)'
- en: Figure 8-27\. The far-right column shows the p-value of the 2t test based on
    the inputs
  id: totrans-270
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-27\. 最右列显示基于输入的两个比例检验的 p 值
- en: Because there are relatively few inputs for a test of two proportions, and the
    resulting p-value was output from a single function in Python, it saved our team
    members valuable time and allowed them to accrue data over time to see whether
    the test outcomes changed as time went on. They were also able to slice and dice
    data by customer demographic information to determine whether the behavior was
    consistent across all customers or resonated with a subset.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 由于两个比例检验的输入相对较少，并且结果 p 值是从 Python 的单个函数输出的，这节省了我们团队成员宝贵的时间，并允许他们随着时间的推移积累数据，以查看测试结果是否随时间改变。他们还能够通过客户人口统计信息对数据进行切分和分析，以确定行为是否在所有客户中保持一致或者在某个子集中引起共鸣。
- en: 'Sentiment Analysis on Customer Reviews: Amazing Products Case Study'
  id: totrans-272
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户评论的情感分析：Amazing Products 案例研究
- en: Have you ever read customer reviews for a product? For companies that sell products,
    customer endorsements or complaints can be the difference between product success
    and failure. But with the proliferation of the internet, reading, interpreting,
    and classifying the vast amount of reviews can be very difficult.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 您是否曾经阅读过产品的客户评论？对于销售产品的公司来说，客户的认可或投诉可能是产品成功与失败的分水岭。但是随着互联网的普及，阅读、解释和分类大量评论可能非常困难。
- en: Amazing Products is considering refreshing its digital streaming device, the
    Amazing Fire TV. First, however, company executives want to know more about the
    pain points and how customers feel about the existing version. They’ve asked for
    an analysis of online reviews and want to see this data quantified. What role
    could sentiment analysis play as you approach this task?
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: Amazing Products 正考虑更新其数字流媒体设备 Amazing Fire TV。但是，公司高管首先想了解更多关于痛点及客户对现有版本感受的信息。他们要求分析在线评论，并希望看到这些数据量化。在您处理这项任务时，情感分析可以扮演什么角色呢？
- en: '*Sentiment analysis* scores words, phrases, or sentences based on a preset
    knowledge dictionary that provides positive or negative (emotion) scoring. When
    working with sentiment analysis, you can choose default dictionaries or customize
    your own. When we did this practice with Amazing Products (see [Figure 8-28](#jitterplot_showing_individual_product_re)),
    we started with a base library. Because the output was a number between –1 and
    1, we passed the script through TabPy and plotted the results in a jitterplot:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '*情感分析* 根据预设的知识词典对单词、短语或句子进行评分，提供积极或消极（情感）评分。在进行情感分析时，您可以选择默认词典或自定义词典。当我们在进行这项与Amazing
    Products相关的实践时（参见[图 8-28](#jitterplot_showing_individual_product_re)），我们从一个基础库开始。由于输出是在
    -1 到 1 之间的数字，我们通过 TabPy 处理了脚本并将结果绘制在抖动图中：'
- en: '[PRE8]'
  id: totrans-276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: You can test the code yourself by replacing `Review Text` with a sentence in
    quotes.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过用引号括起来的句子替换 `Review Text` 来测试代码。
- en: '![Jitterplot showing individual product reviews and their sentiments](Images/TAST_0828.png)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![展示个别产品评论及其情感的抖动图](Images/TAST_0828.png)'
- en: Figure 8-28\. Jitterplot showing individual product reviews and their sentiments
  id: totrans-279
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-28\. 展示个别产品评论及其情感的抖动图
- en: Conclusion
  id: totrans-280
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: While the topics explored in this chapter are a little more mathematically intense
    than others, we hope you’ve seen the virtue of the examples presented. You’ve
    learned how to create forecasts and follow forecasting best practices when working
    with time series, a technique to use when you have reasonably predictable data,
    like call center volume. You’ve also learned how to create both scatter plots
    and quadrant charts, tools critical for evaluating the relationship between two
    numerical variables. And specifically, with the quadrant chart, you’ve learned
    to further segment your data to communicate it clearly to the audience.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然本章探讨的主题比其他章节的数学内容更为深奥，但我们希望你已经看到了所呈现示例的优点。你学会了如何在处理时间序列等有合理可预测数据时创建预测和遵循预测最佳实践的技巧，这是一种技术。你还学会了如何创建散点图和象限图，这些工具对于评估两个数值变量之间的关系至关重要。特别是，通过象限图，你学会了如何进一步分段你的数据，以清晰地传达给观众。
- en: 'You have also learned more-advanced mathematical analysis techniques built
    into Tableau: constructing trend lines and creating clusters via k-means clustering.
    Quickly dragging and dropping trend lines is a good way to statistically evaluate
    whether a legitimate statistical relationship exists between two variables. If
    it does, you also know how to use that output to further inform business decisions.
    And with k-means clustering, you’ve learned to work with relationships among more
    than two variables (often three or more) to segment your data. You used cluster
    analysis to segment employees as an organization to compare whether certain attributes
    led to more likelihood of attrition.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 你还学习了内置于 Tableau 中的更高级的数学分析技术：构建趋势线和通过 k-means 聚类创建集群。快速拖放趋势线是统计评估两个变量之间是否存在合理的统计关系的好方法。如果有的话，你还知道如何使用这些输出来进一步指导业务决策。而通过
    k-means 聚类，你学会了处理三个或更多变量之间关系的方法，将数据分段。你使用集群分析来对组织中的员工进行分段，比较某些属性是否导致更高的离职可能性。
- en: Additionally, we tackled COVID-19, a complicated data topic that doesn’t conform
    to normal chart standards. You used alternative axes to transform both the total
    number of cases and dates to tell clear data stories. With the transformed axes,
    you could construct a tough, but clear comparison among various countries of the
    world. You were also able to enumerate COVID-19 cases for every state and region
    in the US in a compact and dynamic trellis chart. With the technique covered,
    you can quickly change the shape of the trellis scaffolding to best fit the space
    the visualization will reside in.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，我们解决了 COVID-19，这是一个复杂的数据主题，不符合正常的图表标准。你使用了替代轴来转换确诊病例总数和日期，以清晰展示数据故事。通过转换后的轴，你可以在世界各国之间进行艰难但清晰的比较。你还能够以紧凑动态的小区图表列举出美国每个州和地区的
    COVID-19 病例。掌握了这一技术后，你可以快速调整小区脚手架的形状，以最佳方式适应可视化的空间。
- en: And finally, we discussed additional statistical concepts and the best times
    to use analytics extensions and when not to. You’ve learned the two most popular
    ways to integrate statistical languages with Tableau for visualizations, including
    a use case that allows for on-the-fly processing.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们讨论了其他额外的统计概念以及使用分析扩展的最佳时机和不适合的时机。你已经了解了将统计语言与 Tableau 结合进行可视化的两种最流行方法，包括一种允许即时处理的用例。
- en: At this point, you’ve also reached the conclusion of chapters designed to teach
    you how to build charts. You now have a broad foundation of data visualization
    best practices and analytical techniques designed in Tableau Desktop, foundations
    that you will be able to work with in concert to create dynamic analyses, which
    is the focus of the next chapter.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，你也已经完成了旨在教授如何构建图表的章节的结论。现在你已经掌握了 Tableau Desktop 中设计的数据可视化最佳实践和分析技术的广泛基础，这些将帮助你共同创建动态分析，这也是下一章的重点。
