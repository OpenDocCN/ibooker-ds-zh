- en: 4 Metrics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4 指标
- en: This chapter covers
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Defining metrics to set your projects up for success
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义指标以使你的项目取得成功
- en: Identifying bad metrics that measure the wrong things
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别错误的指标，这些指标衡量了错误的事情
- en: Evaluating the effects of your chosen metrics
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估所选指标的影响
- en: At some point in your career, you will likely be asked to create and maintain
    a dashboard that tracks key performance indicators (KPIs) for the business. That’s
    because there is so much going on in a business that simple, summary-level metrics
    are the most common way to measure and analyze what is happening. Rather than
    getting detailed verbal summaries from every business unit or employee, executives
    look at which direction figures such as turnover, profit, or margin are trending.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的职业生涯中，你可能会被要求创建和维护一个跟踪业务关键绩效指标（KPIs）的仪表板。这是因为业务中发生的事情很多，简单的、总结性的指标是最常见的衡量和分析发生情况的方式。而不是从每个业务单元或员工那里获取详细的口头总结，高管们会查看诸如周转率、利润或利润率等关键数字的趋势。
- en: 'Real business case: Defining key business metrics'
  id: totrans-6
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 真实业务案例：定义关键业务指标
- en: An important metric in the used car auction domain, where I worked for years,
    is conversion. The business had multiple analyses and dashboards dedicated to
    questions about conversion.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在我工作多年的二手车拍卖领域，一个重要的指标是转化率。该业务有多个分析和仪表板专门针对转化率相关的问题。
- en: Conversion was used to measure the percentage of cars in an auction we were
    able to sell for our customers, the vendors. This seems straightforward, but it
    turned out that people across the business did not agree on a definition of conversion,
    especially when aggregating multiple auction events. There was also a separate
    but related metric called “first-time conversion,” which was even harder for stakeholders
    to agree on.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 转化率被用来衡量我们能够为我们客户、即卖家，出售的拍卖汽车的比例。这似乎很简单，但结果却是业务中的每个人都对转化的定义没有达成一致，尤其是在汇总多个拍卖活动时。还有一个与之相关但不同的指标，称为“首次转化率”，这对利益相关者来说更难达成一致。
- en: What started as a simple metric turned into a large project where multiple areas
    of the business were corralled to define these fundamental terms. Metric definitions
    are crucial, and they form the basis of this chapter’s project.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 最初只是一个简单的指标，最终变成了一个大项目，涉及业务多个领域的协作来定义这些基本术语。指标定义至关重要，它们构成了本章项目的基石。
- en: The metrics we choose define everything we do, from the executive board down
    to the individual analyst, so we need to be sure that they are well defined.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们选择的指标定义了我们所做的每一件事，从董事会到个人分析师，因此我们需要确保它们有很好的定义。
- en: 4.1 The importance of well-defined metrics
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.1 明确定义指标的重要性
- en: Sometimes, you will be asked to measure and track a metric that is insufficiently
    defined or ill suited to the problem. The first step in any analysis, and our
    results-driven approach, is to understand the problem—in this case, the metric
    we are being asked to measure. Words such as “best” (e.g., “what’s the best month
    to run an advertising campaign?”) are giveaways that something hasn’t been properly
    defined.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，你会被要求衡量和跟踪一个定义不足或不适合问题的指标。任何分析的第一步，以及我们的以结果为导向的方法，是理解问题——在这种情况下，我们被要求衡量的指标。像“最佳”这样的词（例如，“什么月份是运行广告活动的最佳月份？”）表明某些事情还没有得到适当的定义。
- en: Some of the common ways the use of metrics can go wrong are
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 一些常见的使用指标出错的方式包括
- en: Overreliance on a metric has unintended consequences. An example would be social
    media platforms trying to maximize users’ attention as their key metric. This
    incentivizes clickbait and content that elicits strong emotions.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过度依赖指标会有意想不到的后果。一个例子是社交媒体平台试图最大化用户的注意力作为他们的关键指标。这激励了点击诱饵和引发强烈情感的内容。
- en: The metric doesn’t incorporate every important element of the business. Schools
    being incentivized to maximize student attendance rather than the quality of education
    is one example.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该指标没有包含业务中每个重要的元素。学校被激励最大化学生出勤率而不是教育质量就是一个例子。
- en: The metric doesn’t measure the intended outcome. A common measure of customer
    satisfaction is the net promoter score or NPS. The way this score is calculated
    means only users who give a 9 or 10 out of 10 are deemed “promoters” and even
    scores of 8 out of 10 are discarded. This means it is possible to get a high average
    score but a low NPS, which can be misleading.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该指标没有衡量预期的结果。客户满意度的常见衡量标准是净推荐者分数或NPS。这个分数的计算方式意味着只有给出10分中的9分或10分的用户才被认为是“推荐者”，而8分中的10分也被丢弃。这意味着可能得到一个很高的平均分数，但NPS却很低，这可能会误导。
- en: In each of these cases, the solution is to either choose a metric that better
    captures all aspects of the problem, choose additional metrics to complement the
    single chosen metric, or, ideally, choose both. We should always be skeptical
    of single metrics that claim to perfectly summarize a complex problem and look
    at solutions from different angles instead.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些情况中，解决方案是选择一个更好地捕捉问题所有方面的指标，选择额外的指标来补充所选的单个指标，或者理想情况下，两者都选择。我们始终应该对声称完美总结复杂问题的单个指标持怀疑态度，并从不同的角度考虑解决方案。
- en: Single metrics can give us at-a-glance views of an entire business’s operations,
    but the oversimplification often has consequences. A relevant aphorism, Goodhart’s
    law, states, “When a measure becomes a target, it ceases to be a good measure.”
    Once you start optimizing for a single metric, it becomes a bad metric to use
    as a measurement. This does not mean using simplifying metrics is wrong, but only
    that we should understand the consequences.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 单个指标可以让我们一目了然地了解整个企业的运营情况，但过度简化往往会有后果。一个相关的格言，Goodhart定律，指出：“当一个衡量标准成为目标时，它就不再是一个好的衡量标准。”一旦你开始针对单个指标进行优化，它就不再是一个好的测量指标。这并不意味着使用简化的指标是错误的，但只是我们应该了解其后果。
- en: The project in this chapter explores this idea; it is all about defining metrics
    based on a vague stakeholder request, so let’s dive right in.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的项目探讨了这一想法；它完全是关于根据模糊的利益相关者请求定义指标，所以让我们直接进入正题。
- en: '4.2 Project 3: Defining precise metrics for better decision making'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.2 项目3：为更好的决策制定定义精确的指标
- en: Let’s take a look at the project, in which we will be asked to define and calculate
    metrics to find the best-performing products. The data is available for you to
    attempt it yourself at [https://davidasboth.com/book-code](https://davidasboth.com/book-code).
    You will find the datasets you can use to attempt the project, as well as the
    example solution in the form of a Jupyter notebook.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看这个项目，我们将被要求定义和计算指标以找到表现最佳的产品。数据可在[https://davidasboth.com/book-code](https://davidasboth.com/book-code)上找到，你可以尝试该项目，以及以Jupyter笔记本形式的示例解决方案。
- en: First, let’s look at the problem statement and examine the business context.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们看一下问题陈述并检查业务背景。
- en: 4.2.1 Problem statement
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2.1 问题陈述
- en: In this scenario, you are a junior analyst working for an e-commerce startup,
    Online Odyssey Outlet. If you have already attempted the project in chapter 3,
    it is in fact the same sort of startup. The data will be of a similar, if not
    identical, structure.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，你是一名为电子商务初创公司Online Odyssey Outlet工作的初级分析师。如果你已经尝试了第3章的项目，实际上它就是同类型的初创公司。数据将与第3章的数据结构相似，如果不是完全相同。
- en: NOTE  Thanks again to REES46 for providing the original transaction data ([https://mng.bz/6eZo](https://mng.bz/6eZo)),
    which has only been altered for this project by filtering it to a manageable size
    by removing “view” events and only keeping registered users (those with a valid
    `user_id`).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：再次感谢REES46提供原始交易数据([https://mng.bz/6eZo](https://mng.bz/6eZo))，该数据仅为此项目进行了调整，通过过滤掉“查看”事件并仅保留注册用户（那些有有效`user_id`的用户）来缩小到可管理的规模。
- en: The date is January 2020, and the startup has just been through its first winter
    sale. Senior stakeholders are interested in knowing which products performed best
    during the Christmas period so that they can streamline the products they advertise
    in future sale periods. You will do this by analyzing up to two months of events
    data, presented as two separate data sources with identical structures. Events
    refer not just to sales but to more general customer actions, such as viewing
    a product on the website or placing it into their virtual cart.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 日期是2020年1月，该初创公司刚刚经历了第一个冬季大促销。高级利益相关者希望了解哪些产品在圣诞节期间表现最好，以便他们可以简化未来促销期间宣传的产品。你将通过分析最多两个月的事件数据来完成这项工作，这些数据以两个具有相同结构的数据源的形式呈现。事件不仅指销售，还包括更普遍的客户行为，如在网上查看产品或将产品放入他们的虚拟购物车。
- en: 'The challenge is that, when pressed, stakeholders aren’t exactly sure what
    they mean by “best.” In an initial brainstorming session, they highlight some
    aspects they care about when ranking their products:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 挑战在于，当被追问时，利益相关者并不确切知道他们所说的“最佳”是什么意思。在最初的头脑风暴会议中，他们强调了在产品排名时关心的某些方面：
- en: Volume of sales
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售量
- en: Total revenue from a single product
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单个产品的总收入
- en: Popularity, measured by the number of unique customers who bought a product
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 人气，通过购买产品的独特客户数量来衡量
- en: Conversion, meaning the percentage of time a product is bought once it has been
    placed in the virtual shopping cart
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转化率，即产品被放入虚拟购物车后购买的比例
- en: Products with increased performance from November to December
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 11月到12月表现提升的产品
- en: Your stakeholders do not assign weights to these factors, so their relative
    importance is unclear, but you should consider one or more of these metrics when
    presenting your findings. They are also open to suggestions for additional metrics
    that would help improve the performance of future sales.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 你的利益相关者没有为这些因素分配权重，因此它们相对的重要性不明确，但你应该在呈现你的发现时考虑一个或多个这些指标。他们也对提出有助于提高未来销售表现的额外指标的建议持开放态度。
- en: 4.2.2 Data dictionary
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2.2 数据字典
- en: Table 4.1 shows the data dictionary for the events data, and figure 4.1 shows
    some sample data. The November and December events are in separate tables but
    have the same structure and are therefore easily combined.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 表4.1显示了事件数据的数据字典，图4.1显示了部分样本数据。11月和12月的事件分别在不同的表中，但结构相同，因此可以很容易地合并。
- en: Table 4.1 Data dictionary for events data
  id: totrans-36
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 表4.1 事件数据的数据字典
- en: '| Column | Description |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| 列 | 描述 |'
- en: '| --- | --- |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `event_time`  | The date and time of the transaction  |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| `event_time`  | 交易日期和时间  |'
- en: '| `event_type`  | The type of the user event, either `cart` (the customer placed
    a product into their cart) or `purchase` (the customer bought the item)  |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| `event_type`  | 用户事件的类型，要么是`cart`（客户将产品放入购物车）要么是`purchase`（客户购买了商品）  |'
- en: '| `product_id`  | The unique identifier of the product  |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| `product_id`  | 产品的唯一标识符  |'
- en: '| `category_id`  | The unique identifier of the product category  |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| `category_id`  | 产品类别的唯一标识符  |'
- en: '| `category_code`  | A code that describes the product’s main and subcategories  |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| `category_code`  | 描述产品主要和子类别的代码  |'
- en: '| `brand`  | The brand of the product (if applicable)  |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| `brand`  | 产品品牌（如果适用）  |'
- en: '| `price`  | The price of the product (listed price when adding to cart, or
    sold price when the event is `purchase`) in USD  |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| `price`  | 产品的价格（添加到购物车时的列表价格，或事件为`购买`时的销售价格）以美元计  |'
- en: '| `user_id`  | The unique identifier of the registered customer  |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| `user_id`  | 已注册客户的唯一标识符  |'
- en: '| `user_session`  | The unique identifier of the user’s browsing session  |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| `user_session`  | 用户浏览会话的唯一标识符  |'
- en: '![figure](../Images/4-1.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-1.png)'
- en: Figure 4.1 A snapshot of the events data
  id: totrans-49
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.1 事件数据的快照
- en: 4.2.3 Desired outcomes
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2.3 预期结果
- en: The output of the analysis should be recommendations of the best-performing
    products on whichever dimension(s) you choose. The recommendation could be for
    single product IDs or broader ones relating to brands or product categories, as
    long as your choice of best product is justified in your analysis. The recommendation
    could be presented to a stakeholder in any format. This could be a whole presentation
    deck, some choice visualizations, or even just data tables produced by your analysis
    tool.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 分析的输出应该是针对你选择的维度上表现最佳产品的推荐。推荐可以是单个产品ID，也可以是更广泛的相关于品牌或产品类别的推荐，只要你在分析中合理地证明了最佳产品的选择。推荐可以以任何格式呈现给利益相关者。这可能是一整套演示文稿，一些精选的可视化，或者甚至只是由你的分析工具生成的数据表。
- en: 'Activity: Presentation'
  id: totrans-52
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 活动：演示
- en: Think about how you would present your findings. What format would be most appropriate?
    What details would your stakeholders be most interested in hearing? Crucially,
    what unnecessary details would you want to leave out? Knowing how to summarize
    your work for the right audience is an important analyst skill to practice.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑你将如何呈现你的发现。哪种格式最合适？你的利益相关者最感兴趣的是哪些细节？关键的是，你想要省略哪些不必要的细节？知道如何为合适的受众总结你的工作是重要的分析技能之一。
- en: 4.2.4 Required tools
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2.4 必需工具
- en: For this chapter’s example solution, I will use the Python library `pandas`
    to read and manipulate the datasets, the `numpy` library for additional numerical
    computations, and `matplotlib` to create visualizations. As with each of the projects,
    the specific technology you use does not matter as long as it satisfies the criteria
    for each project. For this project, you need a tool that can
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章的示例解决方案，我将使用Python库`pandas`来读取和处理数据集，使用`numpy`库进行额外的数值计算，以及使用`matplotlib`来创建可视化。与每个项目一样，你使用的具体技术并不重要，只要它满足每个项目的标准。对于这个项目，你需要一个可以
- en: Load a dataset in the order of millions of rows from CSV files
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从CSV文件中按百万行顺序加载数据集
- en: Create new columns and manipulate existing ones
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建新列并操作现有列
- en: Combine (union) two datasets of the same structure
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并（联合）具有相同结构的两个数据集
- en: Perform basic manipulation tasks such as sorting, grouping, and reshaping data
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行基本的数据操作任务，如排序、分组和重塑数据
- en: Create data visualizations (optional)
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建数据可视化（可选）
- en: 4.3 Applying the results-driven method to different metric definitions
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.3 将结果驱动方法应用于不同的指标定义
- en: Let’s use the results-driven approach again to break the problem down. In a
    problem that is as open ended as this one, it is particularly important to understand
    what our stakeholders want from the analysis. We need to understand the minimum
    viable answer that would be acceptable to present and could form the basis for
    future work iterations.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再次使用以结果为导向的方法来分解问题。在像这样一个开放性问题中，了解我们的利益相关者希望从分析中获得什么尤为重要。我们需要了解一个最小可行答案，这个答案可以被接受并可能成为未来工作迭代的基石。
- en: '![figure](../Images/4-unnumb-1.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-1.png)'
- en: This step is always critical before starting the work itself, but even more
    so in open-ended questions like this one. What would it mean to focus on the different
    metrics the stakeholders have suggested?
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这一步在开始工作之前总是至关重要的，但在像这样一个开放性问题中尤其如此。关注利益相关者建议的不同指标意味着什么？
- en: Focusing on volume alone could overinflate the importance of products that people
    simply buy in bulk more than others.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅关注数量可能会过分夸大人们大量购买的产品相对于其他产品的价值。
- en: Focusing on total revenue alone could overemphasize expensive products.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅关注总收入可能会过分强调昂贵的产品。
- en: Prioritizing popularity might simply reveal products that everyone buys, such
    as smartphones, clothes, or kitchen appliances. However, it might help distinguish
    the “better” products from similar ones in their category (i.e., we can assume
    almost everyone will buy a smartphone, but not the same one).
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 优先考虑流行度可能仅仅揭示了每个人都购买的产品，例如智能手机、衣服或厨房电器。然而，它可能有助于区分其类别中的“更好”产品（即，我们可以假设几乎每个人都将购买一部智能手机，但不是同一部）。
- en: Focusing on conversion would highlight products that people are less likely
    to change their minds on, but it is unclear if that has a direct relationship
    with “best performance” particularly.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅关注转化率可能会突出那些人们不太可能改变主意的产品，但与“最佳表现”是否有直接关系尚不清楚。
- en: Comparing performance between November and December specifically would target
    the stakeholders’ questions directly since they asked about best performers over
    the Christmas period.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特定比较11月和12月之间的表现将直接针对利益相关者的问题，因为他们询问了圣诞节期间的最佳表现者。
- en: '![figure](../Images/4-unnumb-2.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-2.png)'
- en: This step forces us to think about the output of our work before we even begin.
    In this case, the output has not been explicitly defined. However, we know that
    our minimum viable answer should contain
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这一步迫使我们甚至在开始之前就考虑我们工作的输出。在这种情况下，输出尚未明确定义。然而，我们知道我们的最小可行答案应该包含
- en: Measurements of our chosen metrics at a product level (e.g., a table of total
    revenue in December by product, sorted in descending revenue order)
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在产品层面（例如，按产品排序的12月总收入表）对我们选择的指标进行测量
- en: A ranking so we can highlight top performers
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个排名，以便我们可以突出表现最好的
- en: Justifications for which metrics were chosen
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择哪些指标的理由
- en: A summary of our findings in tabular or visual form
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以表格或视觉形式总结我们的发现
- en: Recommendations for further iterations (if requested)
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果需要，提供进一步迭代的建议
- en: These end goals help us identify what to focus on during our analysis, so we
    are less likely to unnecessarily go down rabbit holes.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这些最终目标帮助我们确定在分析过程中应关注什么，因此我们不太可能无谓地陷入死胡同。
- en: '![figure](../Images/4-unnumb-3.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-3.png)'
- en: As in chapter 3, our data has been provided for us, and there is nothing to
    explicitly identify or obtain. However, one task we might want to perform here
    is to check whether all the possible metrics can be measured with the available
    data. This can be done by looking at the data dictionary and verifying our assumptions
    during the analysis. One choice to make is whether to focus on December’s events
    only or include the November data so that we can compare product performance before
    and during the Christmas period. In future iterations, we might also request data
    from the previous year to do a year-on-year comparison, which is not possible
    with the available data.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 与第3章一样，我们的数据已经提供给我们，没有必要明确标识或获取。然而，我们可能想要执行的一个任务是检查所有可能的指标是否都可以用现有数据进行测量。这可以通过查看数据字典并在分析过程中验证我们的假设来完成。一个需要做出的选择是是否只关注12月的事件，还是包括11月的数据，以便我们可以在圣诞节前后比较产品性能。在未来的迭代中，我们也可能要求获取上一年的数据来进行年度比较，这是现有数据无法实现的。
- en: '![figure](../Images/4-unnumb-4.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-4.png)'
- en: During the analysis, some steps to consider are
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在分析过程中，需要考虑的一些步骤包括
- en: Merge the November and December data if we decide to investigate those comparison
    metrics.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们决定调查这些比较指标，则合并11月和12月的数据。
- en: Explore the events data. We are specifically interested in questions like
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索事件数据。我们特别感兴趣的问题包括
- en: What makes a product unique? Is its ID sufficient, and is the ID truly a unique
    identifier? Some product catalogs might have the same product ID listed multiple
    times for different color variants, in which case ID would not be sufficient as
    a unique identifier.
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么使产品独特？其ID是否足够，ID是否真的是一个唯一的标识符？有些产品目录可能会为不同的颜色变体多次列出相同的产品ID，在这种情况下，ID将不足以作为唯一的标识符。
- en: Are there any gaps in our data (e.g., dates for which we do not have events)?
    Identifying gaps would help us understand the limitations of the available data.
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的数据中是否存在任何空白（例如，我们没有事件日期的日期）？识别空白将有助于我们了解可用数据的局限性。
- en: What are the generally best-performing categories/subcategories/brands? This
    will help determine if our later results make sense in context.
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通常表现最好的类别/子类别/品牌是什么？这将有助于确定我们后来的结果是否在上下文中合理。
- en: What is the distribution of product price? Are there outliers to investigate
    further? This is particularly important if we choose to explore product revenue.
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品价格分布如何？是否有需要进一步调查的异常值？如果我们选择探索产品收入，这一点尤为重要。
- en: What are some baselines for product popularity and conversion? Again, knowing
    the conversion rate for a typical product or how many people generally buy something
    will help put results into context.
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品流行度和转换率的基线是什么？再次强调，了解典型产品的转换率或一般有多少人购买某样东西将有助于将结果置于适当的背景中。
- en: Aggregate the data to a product level since the raw data is at a transaction
    level
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据聚合到产品级别，因为原始数据是在交易级别。
- en: Calculate the chosen metrics for each product
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算每个产品的选择指标
- en: Compare products across multiple metrics if we have chosen to measure more than
    one
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们选择测量多个指标，则比较多个指标的产品
- en: Summarize our findings in tabular or visual form
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以表格或视觉形式总结我们的发现
- en: Recommend further work in case stakeholders want to dive deeper into the problem
    based on our findings
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果利益相关者希望根据我们的发现深入了解问题，则建议进一步的工作
- en: '![figure](../Images/4-unnumb-5.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-5.png)'
- en: When presenting our findings, we want to focus on summarizing our method, our
    chosen metrics, and the resulting best products. The important aspect to focus
    on is “so what?” Our findings should be presented in a way that suggests concrete
    action that can be taken. Telling a stakeholder that socks tend to sell well all
    year round with a spike of sales around Christmas is unlikely to be news to them.
    If we choose to create slides, we should aim for three to four slides with a natural
    flow, succinct messages, and appropriate visualizations. In our code, that means
    we should create visualizations that most effectively communicate our findings.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在展示我们的发现时，我们希望专注于总结我们的方法、我们选择的指标以及产生的最佳产品。需要关注的重要方面是“那么呢？”我们的发现应以建议采取具体行动的方式呈现。告诉利益相关者袜子全年销量良好，圣诞节期间销量激增，对他们来说可能不是新闻。如果我们选择创建幻灯片，我们应该力争三到四张幻灯片，自然流畅，简洁的信息，以及适当的可视化。在我们的代码中，这意味着我们应该创建最有效地传达我们发现的可视化。
- en: '![figure](../Images/4-unnumb-6.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-unnumb-6.png)'
- en: We generally want to present our findings to a stakeholder as soon as we have
    a minimum viable answer. This might mean iterating before our analysis is complete.
    However, in this instance, the possible metrics to investigate are well defined,
    and we should have a value calculated for each metric across our products and
    perhaps summarized across categories and brands, too. That way, when discussing
    future iterations, we could focus on metrics beyond those already suggested.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通常希望在有一个最小可行答案时就向利益相关者展示我们的发现。这可能意味着在分析完成之前进行迭代。然而，在这个例子中，要调查的可能指标已经明确定义，我们应该为每个指标在我们的产品和可能还在类别和品牌上计算出一个值。这样，在讨论未来的迭代时，我们可以关注那些已经提出的指标之外的指标。
- en: 4.3.1 Questions to consider
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.3.1 需要考虑的问题
- en: 'During this analysis, you should always be thinking about the following:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个分析过程中，你应该始终思考以下内容：
- en: What is the definition of each chosen metric? Words like “volume” or “revenue”
    sound self-explanatory, but they need to be strictly defined before they are calculated.
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个选择的指标的定义是什么？像“量”或“收入”这样的词听起来很直观，但在计算之前需要严格定义。
- en: What are the effects of choosing a particular metric as the definition for “best”?
    What should “best” measure, and how will our definition be useful to our stakeholders?
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择特定指标作为“最佳”定义的影响是什么？“最佳”应该衡量什么，我们的定义将如何对利益相关者有用？
- en: '4.4 An example solution: Finding the best performing products'
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.4 一个示例解决方案：寻找表现最佳的产品
- en: Let’s go through an example solution to the problem. As with every project,
    I encourage you to attempt the project yourself before reviewing the solution
    and bear in mind this is one of many possible ways to tackle the problem. The
    order of the exploratory steps is not always important. You may choose to investigate
    different aspects of the data first compared to what I have chosen, and again,
    that is to be expected.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个示例解决方案来解决这个问题。就像每个项目一样，我鼓励你在查看解决方案之前先尝试自己完成项目，并记住这只是一多种可能的解决问题的方法之一。探索步骤的顺序并不总是重要的。你可能会选择先调查数据的不同方面，而不是我选择的那些，这也是可以预料的。
- en: As for our action plan, we will first combine the November and December events
    and explore the combined data, resolving any data problems along the way. Next,
    we will aggregate the data to produce a product-level dataset. We can then define
    and calculate multiple metrics to see how product rankings differ among the different
    metrics. Finally, we will summarize our findings to see what initial recommendations
    we can make to our stakeholders.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 至于我们的行动计划，我们首先将11月和12月的事件合并，并探索合并后的数据，同时解决任何数据问题。接下来，我们将数据聚合以生成产品级别的数据集。然后我们可以定义和计算多个指标，以查看产品排名在不同指标中的差异。最后，我们将总结我们的发现，看看我们可以向利益相关者提出哪些初步建议。
- en: 4.4.1 Combining and exploring product data
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.4.1 合并和探索产品数据
- en: 'Because our two datasets, November and December events, are identical in structure,
    we will explore the data only once they have been combined. Let’s start there:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们的两个数据集，11月和12月的事件，在结构上是相同的，我们将在它们合并后只探索一次数据。让我们从这里开始：
- en: '[PRE0]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Here, we use the `pandas` library to concatenate the two datasets. If you are
    familiar with SQL, this is the equivalent of a union operation. The output of
    the code is `(7033125,` `9)`, meaning we have over 7 million rows and nine columns
    of data.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们使用`pandas`库来连接两个数据集。如果你熟悉SQL，这相当于一个并操作。代码的输出是`(7033125,` `9)`，这意味着我们有超过700万行和九列的数据。
- en: 'Now it’s time for some basic sanity checks of the data. Do we have any missing
    values? Figure 4.2 shows the output of looking for missing data:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候对数据进行一些基本合理性检查了。我们有没有任何缺失值？图4.2显示了查找缺失数据的输出：
- en: '[PRE1]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![figure](../Images/4-2.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-2.png)'
- en: Figure 4.2 The number of rows with missing values for each column in our events
    data
  id: totrans-112
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.2 我们事件数据中每列缺失值的行数
- en: We have some user sessions missing, which means we don’t know which unique browsing
    session those 27 events belong to. That shouldn’t affect our analysis as we’re
    interested in products, so we can leave those rows in. The same goes for the `brand`
    column—missing values aren’t necessarily a worry at this stage because we don’t
    yet know to what extent we will use that information.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有一些用户会话缺失，这意味着我们不知道这27个事件属于哪个独特的浏览会话。这不应该影响我们的分析，因为我们感兴趣的是产品，所以我们可以保留这些行。对于`品牌`列来说，缺失值在这个阶段并不一定是个问题，因为我们还不知道我们将如何使用这些信息。
- en: Let’s start building our diagram to record our steps. So far, we completed the
    step shown in figure 4.3.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始构建我们的图表来记录我们的步骤。到目前为止，我们已经完成了图4.3中显示的步骤。
- en: '![figure](../Images/4-3.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-3.png)'
- en: Figure 4.3 The first step in our analysis, visualized
  id: totrans-116
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.3 我们分析的第一步，可视化展示
- en: It’s time to move on and validate different assumptions in our data, including
    ones about the date range and product categorization.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候继续前进，验证我们数据中的不同假设了，包括关于日期范围和产品分类的假设。
- en: Validating assumptions in the data
  id: totrans-118
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 验证数据中的假设
- en: 'Our next assumption is that we really do have November and December data, which
    we should verify independently. Figure 4.4 shows the output of checking for the
    date range in our data:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的下一个假设是我们确实有11月和12月的数据，我们应该独立验证。图4.4显示了检查我们数据中日期范围的输出：
- en: '[PRE2]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![figure](../Images/4-4.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-4.png)'
- en: Figure 4.4 The date range in our data
  id: totrans-122
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.4 我们数据中的日期范围
- en: 'Our data is in the expected range (November 1 through December 31), but we
    still don’t know if we have event data for every single date in between. The following
    code calculates the number of unique days for each month, the output of which
    is shown in figure 4.5:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据在预期的范围内（11月1日至12月31日），但我们仍然不知道我们是否每天都有事件数据。以下代码计算了每个月的独特天数，其输出结果如图4.5所示：
- en: '[PRE3]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '#1 Using the assign function to create temporary columns for day and month'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 使用assign函数创建临时列用于日和月'
- en: '#2 The nunique function calculates the number of unique days per month.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 nunique函数计算每个月的独特天数。'
- en: '![figure](../Images/4-5.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-5.png)'
- en: Figure 4.5 The unique number of days encountered per month
  id: totrans-128
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.5 每月遇到的天数的唯一数量
- en: 'The output is what we’d expect, so we have at least one event for each day
    in our data. Finally, we also want to know if the number of events is consistent
    across these days. The following code calculates and visualizes this, and the
    output chart is shown in figure 4.6:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 输出结果符合预期，因此我们数据中的每一天至少有一个事件。最后，我们还想了解事件数量是否在这些天中保持一致。以下代码计算并可视化了这个结果，输出图表如图4.6所示：
- en: '[PRE4]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '#1 Creates custom axis labels based on dates in the data'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 根据数据中的日期创建自定义轴标签'
- en: '#2 Formats labels as “month day” (e.g., “Nov 1”)'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 标签格式化为“月日”（例如，“Nov 1”）'
- en: '![figure](../Images/4-6.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-6.png)'
- en: Figure 4.6 Number of events per calendar day, visualized
  id: totrans-134
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.6 每个日历日的活动数量，可视化展示
- en: Our data clearly shows a wide range of volumes across the days. What we’re interested
    in with this chart is whether there are any outliers in either direction. There
    are seven low-activity days, and they correspond to the first week of November.
    This could mean customers hadn’t been using the platform as often yet, and knowing
    exactly when the startup launched the website would help put this into context.
    There are also three days of particularly high activity in mid-November. Again,
    this could be because of an organic increase in user engagement or a social media
    post that went viral. It could be artificial due to an advertising campaign that
    ran at that time, or there could have been a sale on. Without further information,
    we are only speculating, but it is the kind of speculating we would need to do
    upon seeing these results.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据清楚地显示了每天都有广泛的量级范围。我们关注的是图表中是否存在任何方向上的异常值。有七天低活动日，它们对应于11月的第一周。这可能意味着客户还没有像现在这样频繁地使用该平台，知道网站启动的确切时间将有助于将这些情况置于上下文中。在11月中旬也有三天特别高的活动。同样，这可能是因为用户参与度的自然增长或社交媒体帖子走红。这可能是由于当时进行的广告活动或促销活动造成的，或者可能是因为有销售活动。没有更多信息，我们只能猜测，但这是我们看到这些结果时需要做的猜测。
- en: 'The next column to turn our attention to is the event type. What is the proportion
    of the different events in our data? Figure 4.7 shows the output of the following
    code:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来要关注的是事件类型。我们数据中不同事件的比例是多少？图4.7显示了以下代码的输出：
- en: '[PRE5]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![figure](../Images/4-7.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-7.png)'
- en: Figure 4.7 The proportion of different event types
  id: totrans-139
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.7 不同事件类型的比例
- en: In a typical e-commerce environment, there is a funnel of events from users
    exploring, then placing items into a cart, and finally purchasing them. As expected,
    in this case, we observe that this funnel narrows, meaning we see much fewer purchase
    events than cart ones.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在典型的电子商务环境中，用户从探索开始，然后把商品放入购物车，最后购买它们，形成了一个事件漏斗。正如预期的那样，在这种情况下，我们观察到这个漏斗变窄了，这意味着我们看到的购买事件比购物车事件少得多。
- en: 'Time to turn our attention to the product catalog and investigate what kind
    of products the e-commerce platform offers. First, what is the typical price range
    for our products? Figure 4.8 shows the output of our investigation into prices:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候将我们的注意力转向产品目录，并调查电子商务平台提供的产品类型。首先，我们产品的典型价格范围是多少？图4.8显示了我们对价格的研究结果：
- en: '[PRE6]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '#1 Disables scientific notation'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 禁用科学记数法'
- en: '![figure](../Images/4-8.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-8.png)'
- en: Figure 4.8 The distribution of product prices
  id: totrans-145
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.8 产品价格分布
- en: This output is common in price data, that is, a clustering of small values and
    a long skew to the right. This means most of our products are listed or sold under
    $500, with some outliers up to $2,500.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这种输出在价格数据中很常见，即小值的聚类和向右的长偏斜。这意味着我们的大部分产品都标价或销售在500美元以下，有些异常值高达2500美元。
- en: 'What about brands? Figure 4.9 shows the top 10 brands obtained with the following
    code. Missing brands are intentionally not included:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，品牌情况如何？图4.9展示了使用以下代码获取的前10大品牌。故意不包括缺失的品牌：
- en: '[PRE7]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![figure](../Images/4-9.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-9.png)'
- en: Figure 4.9 Top 10 brands by number of events
  id: totrans-150
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.9 按事件数量排名的前10大品牌
- en: At a glance, this suggests most of our user events are focused on the technology
    category. The actual makeup of our unique product catalog might differ, as might
    the top 10 brands if we only look at purchase events. Now that we’ve looked at
    brands, let’s also take a look at product categories.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 一眼看上去，这似乎表明我们的大部分用户事件都集中在技术类别上。我们独特的商品目录的实际构成可能不同，如果我们只看购买事件，前10大品牌也可能不同。现在我们已经看了品牌，让我们也看看产品类别。
- en: Investigating consistency of product categories
  id: totrans-152
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 调查产品类别的一致性
- en: 'Are our products correctly categorized? This is a question that we should ask
    every time we have a dataset with IDs and associated assigned categories. One
    way to check this is to ask, do we have any product IDs that are assigned to multiple
    categories? The following code investigates this, and the output is shown in figure
    4.10:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的产品是否被正确分类？这是我们每次拥有带有ID和相关分配类别的数据集时都应该提出的问题。一种检查方法是问，我们是否有任何产品ID被分配到多个类别？以下代码对此进行了调查，输出显示在图4.10中：
- en: '[PRE8]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '#1 First, counts the number of unique category codes encountered per product
    ID'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 首先，计算每个产品ID遇到的唯一类别代码的数量'
- en: '#2 Finds instances where that count is more than 1'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 查找计数超过1的实例'
- en: '![figure](../Images/4-10.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-10.png)'
- en: Figure 4.10 The result of investigating products assigned to multiple categories
  id: totrans-158
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.10 调查分配给多个类别的产品的结果
- en: 'As we can see, almost 13,000 products are assigned to multiple categories.
    This suggests there is an error somewhere in our underlying product catalog. Let’s
    look at the top category codes to investigate further. Figure 4.11 shows the output
    of looking at the top 10 most common category codes:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，近13000个产品被分配到多个类别。这表明我们的基础产品目录中可能存在某个错误。让我们查看顶级类别代码以进一步调查。图4.11显示了查看前10个最常见类别代码的输出：
- en: '[PRE9]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![figure](../Images/4-11.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-11.png)'
- en: Figure 4.11 Top 10 category codes by number of rows
  id: totrans-162
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.11 按行数排名的前10个类别代码
- en: 'This doesn’t necessarily mean most of our products are in the “light construction
    tools” category because this is the number of events, not the number of unique
    products, but it does suggest a problem similar to the one we uncovered in figure
    4.10\. Let’s look at how brand and category codes intersect by looking at the
    top 10 brands in this “light construction tools” category. The following code
    produces the output in figure 4.12:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不一定意味着我们的大部分产品都在“轻型建筑工具”类别中，因为这是事件数量，而不是独特产品的数量，但它确实表明了一个与我们在图4.10中发现的类似问题。让我们通过查看这个“轻型建筑工具”类别中的前10大品牌来了解品牌和类别代码如何交叉。以下代码生成了图4.12中的输出：
- en: '[PRE10]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![figure](../Images/4-12.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-12.png)'
- en: Figure 4.12 Top 10 brands in the `construction.tools.light` category
  id: totrans-166
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.12 “construction.tools.light”类别中的前10大品牌
- en: 'Unless technology manufacturers have secretly branched out into construction
    tools, we have a problem with our product categories. Most of these brands are
    typically known for smartphones, and we can look at some examples to verify this.
    The following code finds all product IDs that have multiple codes against them
    so that we know which ones to focus on. Figure 4.13 shows a sample of this subset
    of product IDs:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 除非技术制造商秘密扩展到建筑工具领域，否则我们在产品类别上存在问题。这些品牌通常以智能手机而闻名，我们可以看看一些例子来验证这一点。以下代码找出所有针对多个代码的产品ID，以便我们知道哪些需要关注。图4.13显示了这些产品ID子集的样本：
- en: '[PRE11]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![figure](../Images/4-13.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-13.png)'
- en: Figure 4.13 A subset of product IDs with multiple assigned categories
  id: totrans-170
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.13 具有多个分配类别的产品ID子集
- en: 'From this subset of data, we can find instances where one category is “light
    construction tools” and see what other categories that product is assigned to.
    An example is shown in the following code and figure 4.14:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个数据子集中，我们可以找到一类是“轻型建筑工具”的实例，并查看该产品被分配到哪些其他类别。以下代码和图4.14展示了示例：
- en: '[PRE12]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![figure](../Images/4-14.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-14.png)'
- en: Figure 4.14 Breakdown of categories for a particular erroneous product
  id: totrans-174
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.14 特定错误产品的类别分解
- en: 'In this instance, we have a smartphone that is also incorrectly categorized
    as a construction tool. We have a major decision to make now: How do we handle
    these products? We have several options:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们有一部也被错误分类为建筑工具的手机。我们现在必须做出一个重大决定：我们如何处理这些产品？我们有几个选择：
- en: '*Ignore this problem* —The downside is we won’t be able to use the category
    code to investigate top-performing products since we know it is often incorrectly
    assigned.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*忽略这个问题* — 缺点是，由于我们知道它经常被错误分配，我们将无法使用分类代码来调查表现最好的产品。'
- en: '*Drop products that are incorrectly categorized* —The problem is this could
    be a significant portion of our data.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*丢弃错误分类的产品* — 问题在于这可能是我们数据中相当大的一部分。'
- en: '*Fix the product categorization* —This seems like the best approach, but we
    might not have enough information to find the correct category for each product.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*修复产品分类* — 这看起来是最好的方法，但我们可能没有足够的信息来为每个产品找到正确的类别。'
- en: In reality, we would want more information about how these product categories
    came about and, ideally, fix the problem at the source. However, in this case,
    we only have this data to work with, so let’s attempt a fix using the data we
    have.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实中，我们希望了解更多关于这些产品类别是如何产生的信息，理想情况下，我们应该从源头解决问题。然而，在这种情况下，我们只有这些数据可以工作，所以让我们尝试使用我们拥有的数据来修复问题。
- en: Correcting inconsistencies in data categories
  id: totrans-180
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 修复数据类别的不一致性
- en: Our plan of action is to find products with duplicate categories, and for cases
    where one category is `construction.tools.light`, we use the other category. In
    instances where we have duplication that doesn’t involve the `construction.tools.light`
    category, we would need to investigate accordingly or use the majority one. For
    example, if a product ID is mostly categorized as a refrigerator but is sometimes
    categorized as a smartphone, we overwrite the data so that the product ID is always
    in the refrigerator category. There is the danger that we incorrectly categorize
    some products, but we will also fix the problem with the construction tools category.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的行动计划是找到具有重复类别的产品，对于其中一个是`construction.tools.light`的情况，我们使用另一个类别。对于不涉及`construction.tools.light`类别的重复情况，我们需要相应地调查或使用多数类别。例如，如果一个产品ID主要被分类为冰箱，但有时被分类为智能手机，我们将覆盖数据，使产品ID始终位于冰箱类别中。存在错误分类某些产品的风险，但我们也将会修复建筑工具类别的错误。
- en: 'The following code defines a method to fix the category codes of a single product
    ID and applies it to all the duplicated product ID data. The output is a new category
    code for each of the affected product IDs, as shown in figure 4.15:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码定义了一个修复单个产品ID分类代码的方法，并将其应用于所有重复的产品ID数据。输出是受影响的产品ID的每个新分类代码，如图4.15所示：
- en: '[PRE13]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '#1 product_id_rows contains all rows for a product ID so we can find the two
    categories associated with this ID.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 `product_id_rows` 包含一个产品ID的所有行，因此我们可以找到与该ID相关的两个类别。'
- en: '#2 If one is construction.tools.light, return the other one.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 如果一个是`construction.tools.light`，则返回另一个。'
- en: '#3 Otherwise, return the majority category.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '#3 否则，返回多数类别。'
- en: '![figure](../Images/4-15.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-15.png)'
- en: Figure 4.15 A preview of the data we will use to correct product ID categories
  id: totrans-188
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.15 我们将使用以纠正产品ID类别的数据预览
- en: 'As figure 4.15 shows, we have plenty of products that should be smartphones
    but aren’t always categorized that way. Now, we will join this corrected category
    data to our original events dataset and overwrite the categories where the original
    and the corrected categories do not match. To verify our changes, we will look
    at the top category codes again and compare our results to figure 4.11\. The following
    code produces a similar result, as shown in figure 4.16:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 如图4.15所示，我们有很多产品应该是智能手机，但并不总是被这样分类。现在，我们将这个修正后的分类数据与我们的原始事件数据集合并，并覆盖原始和修正分类不匹配的分类。为了验证我们的更改，我们将再次查看顶级分类代码，并将我们的结果与图4.11进行比较。以下代码产生了一个类似的结果，如图4.16所示：
- en: '[PRE14]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![figure](../Images/4-16.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-16.png)'
- en: Figure 4.16 A breakdown of category codes after applying our fixes
  id: totrans-192
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.16 应用我们的修正后分类代码的细分
- en: Now, our data mostly consists of smartphones, which is more in line with our
    findings around the most popular brands. It is important to note that we may have
    inflated the prevalence of smartphones because we made specific assumptions about
    how to fix our data, which may not be correct. However, we do not have enough
    information in the available data to investigate this further.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们的数据主要是由智能手机组成，这与我们关于最受欢迎的品牌的研究结果更为一致。需要注意的是，我们可能高估了智能手机的普及率，因为我们对如何处理数据做出了特定的假设，这些假设可能并不正确。然而，在现有数据中，我们没有足够的信息来进一步调查这一点。
- en: 'Upon inspection, this category code column also contains a “main” category,
    corresponding to the first part of the string up to the first period character,
    that may be useful in our analysis, so let’s isolate it. The output of the following
    code shows the breakdown of this main category, as shown in figure 4.17:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 检查后，这个分类代码列还包含一个“主要”类别，对应于字符串的第一个部分，直到第一个点字符，这可能对我们的分析有用，所以让我们将其隔离出来。以下代码的输出显示了这一主要类别的细分，如图4.17所示：
- en: '[PRE15]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![figure](../Images/4-17.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-17.png)'
- en: Figure 4.17 A breakdown of the “main” category of products
  id: totrans-197
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.17 产品“主要”类别的细分
- en: This table further convinces us that most of our products are electronics of
    some kind. Before we continue to summarize our data at the product level, we will
    want to make sure that a particular product ID only ever refers to one product.
    We will come to this step soon. Before we move on, let’s summarize our work so
    far. Figure 4.18 shows the steps we have taken and where our decisions could have
    diverged.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这个表格进一步使我们相信，我们的大部分产品都是某种类型的电子产品。在我们继续在产品级别总结数据之前，我们想要确保特定的产品ID只指代一个产品。我们将很快到达这一步。在继续之前，让我们总结一下到目前为止的工作。图4.18显示了我们所采取的步骤以及我们的决策可能发生分歧的地方。
- en: '![figure](../Images/4-18.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-18.png)'
- en: Figure 4.18 The steps in our analysis so far
  id: totrans-200
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.18 我们到目前为止的分析步骤
- en: Another way products are categorized is with their brand. We should also investigate
    whether there are any product IDs that have multiple brands against them. Considering
    that we have missing data for the `brand` column, this seems like a relevant step
    to take.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 产品分类的另一种方式是使用它们的品牌。我们也应该调查是否有任何产品ID对应多个品牌。考虑到我们对`brand`列有缺失数据，这似乎是一个相关的步骤。
- en: Investigate consistency of brand labels
  id: totrans-202
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 调查品牌标签的一致性
- en: 'Here, to investigate whether each product only has one brand attached to it,
    we follow a process very similar to when we did this for product categories. The
    output of the following code is shown in figure 4.19:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，为了调查每个产品是否只附有一个品牌，我们遵循了一个与我们在产品分类时非常相似的过程。以下代码的输出显示在图4.19中：
- en: '[PRE16]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '#1 Temporarily fills missing brand data with a placeholder because the nunique
    function ignores missing values'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 使用占位符暂时填充缺失的品牌数据，因为nunique函数忽略了缺失值'
- en: '![figure](../Images/4-19.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-19.png)'
- en: Figure 4.19 The result of investigating products labeled with multiple brands
  id: totrans-207
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.19 检查带有多个品牌的产品的结果
- en: 'There are 1,245 products in our catalog that have either two different brands
    against them or have the `brand` column missing some of the time. To clean this
    data up, we will apply logic similar to what we used for categories: for products
    with multiple brands against them, we pick the majority non-null brand. The following
    code block implements this logic, and the output is a mapping of product IDs to
    the brand they should be assigned to. A subset of this output is shown in figure
    4.20:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的目录中有1,245个产品，它们要么有两个不同的品牌，要么有时缺少`brand`列。为了清理这些数据，我们将应用类似于我们用于类别的逻辑：对于有多个品牌的产品，我们选择多数非空品牌。以下代码块实现了此逻辑，输出是产品ID到它们应分配的品牌映射。图4.20显示了此输出的一个子集：
- en: '[PRE17]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '#1 product_id_rows contains all rows for a product ID, so we can find the brands
    associated with this ID. Using value_counts will give us only non-NA values.'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 product_id_rows 包含一个产品ID的所有行，因此我们可以找到与该ID关联的品牌。使用 value_counts 将只给出非NA值。'
- en: '#2 If there are no NA values, just return the majority brand.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '#2 如果没有NA值，则直接返回多数品牌。'
- en: '#3 Now, if np.NaN is the only value, return it.'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '#3 现在，如果 np.NaN 是唯一值，则返回它。'
- en: '#4 Otherwise, return the second value (the majority non-null value).'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '#4 否则，返回第二个值（多数非空值）。'
- en: '![figure](../Images/4-20.png)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-20.png)'
- en: Figure 4.20 Product IDs against the brand to which they should be allocated
  id: totrans-215
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.20 产品ID与它们应分配的品牌
- en: Similarly to how we handled categories, we can join these corrected brands to
    the original events data and overwrite the `brand` column where necessary.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于我们处理类别的方式，我们可以将这些修正后的品牌与原始事件数据连接起来，并在必要时覆盖`brand`列。
- en: Correcting inconsistencies in brand labels
  id: totrans-217
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 修正品牌标签的不一致性
- en: 'We do this with the following code, after which we verify whether there are
    any product IDs that still have multiple combinations of brand and category. The
    expected output is that there are no such product IDs, and the number of unique
    product ID, category, and brand combinations should match the number of unique
    product IDs. Running the following code block does not result in an assertion
    error, meaning the condition is met, and product IDs are finally categorized in
    a unique way:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用以下代码执行此操作，之后我们验证是否有任何产品ID仍然有多个品牌和类别的组合。预期的输出是没有这样的产品ID，唯一的产品ID、类别和品牌组合的数量应与唯一产品ID的数量相匹配。运行以下代码块不会导致断言错误，这意味着条件得到满足，产品ID最终以独特的方式分类：
- en: '[PRE18]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'In the remainder of the project, we will be working with product-level data,
    so a useful step is to give each product a more descriptive name, especially because
    we don’t have a “product name” column. Each product ID should have a unique name,
    meaning the product ID should be a part of the name since that’s what makes products
    unique in our dataset. We can combine the product’s ID, brand, and category code
    to get a more readable string for each product. The following code does this,
    and an output of the data with this additional column is shown in figure 4.21:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在项目的剩余部分，我们将处理产品级数据，因此一个有用的步骤是为每个产品赋予一个更具描述性的名称，尤其是因为我们没有“产品名称”列。每个产品ID应该有一个唯一名称，这意味着产品ID应该是名称的一部分，因为这是我们数据集中产品独特性的原因。我们可以将产品的ID、品牌和类别代码组合起来，为每个产品得到一个更易读的字符串。以下代码执行此操作，并显示了包含此附加列的数据输出，如图4.21所示：
- en: '[PRE19]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '#1 Only include brand if it''s available.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '#1 仅当品牌可用时包含品牌。'
- en: '![figure](../Images/4-21.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-21.png)'
- en: Figure 4.21 A snapshot of the new columns added to the events data
  id: totrans-224
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.21 新增到事件数据中的列的快照
- en: Finally, we may wish to export this modified data to an intermediate dataset,
    which we can use for analysis. Some of the operations so far may take a few minutes
    due to the size of the data, and we do not want that to be a bottleneck every
    time we come back to work on our analysis.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们可能希望将此修改后的数据导出到一个中间数据集中，我们可以使用它进行分析。由于数据量较大，一些操作可能需要几分钟，我们不希望每次回到分析工作时都成为瓶颈。
- en: Exporting an intermediate data model to separate data cleaning from analysis
  id: totrans-226
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 将中间数据模型导出以将数据清洗与分析分离
- en: It is good practice to separate the code that cleans the data from the code
    that analyzes it. One way to do this is to output the cleaned data to a separate
    file, which the analysis code can read directly.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 将清理数据的代码与分析数据的代码分开是一种良好的做法。一种方法是将清理后的数据输出到单独的文件中，分析代码可以直接读取。
- en: 'The intermediate data can be any format, but *parquet* is useful because it
    is a compressed data format that stores type information, unlike other formats,
    such as CSVs. This means that when we read in a parquet file in the future, we
    do not have to convert date columns to date types as our code will already know
    about them:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 中间数据可以是任何格式，但*parquet*很有用，因为它是一种压缩的数据格式，它存储类型信息，与CSV等其他格式不同。这意味着当我们未来读取parquet文件时，我们不需要将日期列转换为日期类型，因为我们的代码已经知道它们：
- en: '[PRE20]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Let’s summarize this part of the analysis before moving on. Figure 4.22 shows
    the steps we have taken so far, up to the point where we exported our intermediate
    dataset. Notice that our investigations into categories and brands are represented
    side by side because they are independent of each other and could have been done
    in any order.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，让我们总结一下这一部分的分析。图4.22显示了到目前为止我们所采取的步骤，直到我们导出我们的中间数据集。请注意，我们对类别和品牌的调查是并排表示的，因为它们是相互独立的，可以按任何顺序完成。
- en: '![figure](../Images/4-22.png)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-22.png)'
- en: Figure 4.22 All the steps in part 1 of our analysis
  id: totrans-232
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.22 分析第一部分的所有步骤
- en: Now, we are ready to move on to part 2 of our solution, which is summarizing
    data to the product level and calculating all the relevant metrics.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们准备继续进行解决方案的第二部分，即总结数据到产品级别并计算所有相关指标。
- en: 4.4.2 Calculating product-level metrics
  id: totrans-234
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.4.2 计算产品级指标
- en: We have explored and cleaned our data and are now ready to start looking at
    our desired metrics. However, first we need to transform data to be at the right
    granularity.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经探索并清理了我们的数据，现在准备开始查看我们想要的指标。然而，首先我们需要将数据转换到正确的粒度。
- en: Changing the granularity of the data to suit the question
  id: totrans-236
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 改变数据的粒度以适应问题
- en: The raw data is at the event level, and we are interested in products, so we
    should aggregate the data to be one row per product. In doing so, we need to define
    various aggregations to summarize data at the right level. To understand what
    aggregations we need, we must define our metrics precisely. Based on our project
    brief, the metrics we will calculate are
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 原始数据在事件级别，而我们感兴趣的是产品，因此我们应该将数据聚合，使每行对应一个产品。在这样做的时候，我们需要定义各种聚合来在正确的级别上总结数据。为了了解我们需要哪些聚合，我们必须精确地定义我们的指标。根据我们的项目概述，我们将计算的指标是
- en: '*Volume* —The count of purchase events for a given product ID. We do not have
    a “quantity” column, meaning if a particular user bought the same product twice,
    there would be two separate rows in the data to indicate this. Therefore, counting
    rows that correspond to purchase events is how we can count the sales volume for
    a product.'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*体积* — 指定产品ID的购买事件数量。我们没有“数量”列，这意味着如果某个用户购买了同一产品两次，数据中会有两行分别表示这一情况。因此，通过计算对应购买事件的行数，我们可以统计产品的销售量。'
- en: '*Revenue* —The sum of the `price` column. We have no information about shipping
    costs, wholesale cost of products, or the amount of tax, so we can only calculate
    the gross total income from each product.'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*收入* — `价格`列的总和。我们没有关于运费、产品的批发成本或税额的信息，因此我们只能计算每个产品的毛总收入。'
- en: '*Popularity* —The number of unique users who bought a product. This will ignore
    cases where a single user bought multiples of a product but is a good proxy for
    popularity.'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*受欢迎程度* — 购买产品的独特用户数量。这将忽略单个用户购买多个产品的情况，但可以作为受欢迎程度的良好代理。'
- en: '*Change in performance* —For this, we will simply calculate each metric separately
    for November and December events.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*性能变化* — 对于这一点，我们将简单地分别计算11月和12月事件中的每个指标。'
- en: '*Conversion* —Given the data, it will be defined as the number of purchase
    events as a percentage of cart events in a given period. That is, out of all the
    times someone put an item into a cart, what percentage became a purchase event?
    Ideally, we would also consider what percentage of viewed items turned into sales,
    but we do not have the data to answer that question.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*转化率* — 给定数据，它将被定义为在给定期间内购买事件作为购物车事件的百分比。也就是说，在所有有人将商品放入购物车的情况下，有多少百分比变成了购买事件？理想情况下，我们也会考虑有多少百分比查看的商品变成了销售，但我们没有数据来回答这个问题。'
- en: Conversion is a tricky metric because the denominator can be interpreted in
    multiple ways. For example, if a user puts an item into the cart, removes it,
    then adds it again, and finally purchases it, we may have two events contributing
    to the denominator instead of one. Our choice of whether to deduplicate these
    events as a single instance or to use both rows will affect our conversion figures.
    Here, when calculating conversion, we will keep things simple and count all cart
    events as our denominator and all purchase events as our numerator.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 转化率是一个棘手的指标，因为分母可以有多种解释方式。例如，如果用户将一个项目放入购物车，然后移除它，再次添加，并最终购买，我们可能会有两个事件贡献给分母而不是一个。我们是否将这些事件作为单个实例去重或使用两行将影响我们的转化率。在这里，在计算转化率时，我们将保持简单，将所有购物车事件作为我们的分母，所有购买事件作为我们的分子。
- en: Given the kinds of metrics we are interested in, our aggregations at a product
    level will include
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到我们感兴趣的指标类型，我们在产品级别的聚合将包括
- en: November and December data separately for month-on-month comparison
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 11月和12月的数据分别进行月度比较
- en: Sum of the `price` column for revenue
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收入的`价格`列总和
- en: Count of rows for volume
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 行数计数以衡量数量
- en: Number of unique users for popularity
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独特用户数量以衡量受欢迎程度
- en: The difference between the monthly figures
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每月数字之间的差异
- en: Number of cart and purchase events so we can calculate conversion
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 购物车和购买事件的次数，以便我们可以计算转化率
- en: For all but the conversion metrics, we only need the purchase events. It is
    only when introducing conversion that we want to look at cart events as well.
    Therefore, to make our code more efficient, we will calculate most of the metrics
    on the purchases before calculating conversion metrics separately and joining
    them afterward.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 对于除了转化率以外的所有指标，我们只需要购买事件。只有在引入转化率时，我们才想查看购物车事件。因此，为了使我们的代码更高效，我们将在单独计算转化率指标并将其加入之后，在购买事件之前计算大多数指标。
- en: 'To do this, we need to separate the cart events data from the purchase events:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 要做到这一点，我们需要将购物车事件数据与购买事件数据分开：
- en: '[PRE21]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Now, let’s construct a league table (ranking system) of metrics at the individual
    product level step by step.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们逐步构建一个按产品级别的指标联赛表（排名系统）。
- en: Calculating multiple metrics at once
  id: totrans-255
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 同时计算多个指标
- en: 'Creating this league table will be a dense piece of code because it is where
    we end up doing more of our calculations, so let’s deconstruct it into its individual
    steps. First, we create new indicator columns to calculate monthly values. Indicators
    are columns that contain either a value or a fallback value like 0 if a row of
    data does not meet the desired criteria. In this case, `november_revenue` will
    contain the value from the `price` column if the event is in November. Otherwise,
    it will contain 0\. Calculating the sum of this column for a given product ID
    will therefore give us the total revenue for November alone. The following code
    creates the indicator columns:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 创建这个联赛表将是一段密集的代码，因为这是我们进行更多计算的地方，所以让我们将其分解为其单独的步骤。首先，我们创建新的指标列来计算月度值。指标是包含值或回退值（如0）的列，如果数据行不符合所需的条件。在这种情况下，`november_revenue`将包含11月份事件的价格列的值。否则，它将包含0。因此，计算给定产品ID此列的总和将只给我们11月份的总收入。以下代码创建了指标列：
- en: '[PRE22]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Next, we group our data by product ID and summarize these new indicator columns
    to get monthly revenue, row count, and unique user ID count:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们按产品ID分组我们的数据，并总结这些新的指标列以获取月收入、行数和唯一用户ID计数：
- en: '[PRE23]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Finally, we create new columns that calculate the difference between November
    and December figures. This gives us all our desired metrics that only require
    the purchase events data. It is this dataset to which we will join our conversion
    metrics. Here is the final complete code block, and figure 4.23 shows a snapshot
    of the created league table:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们创建新的列来计算11月和12月数字之间的差异。这给我们所有所需的指标，这些指标只需要购买事件数据。这就是我们将加入我们的转化率指标的数据库。以下是最终的完整代码块，图4.23显示了创建的联赛表的快照：
- en: '[PRE24]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '![figure](../Images/4-23.png)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-23.png)'
- en: Figure 4.23 A snapshot of the purchases league table data
  id: totrans-263
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.23 购买联赛表数据的快照
- en: From this table, we get a lot of information at a glance, including
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 从这张表中，我们可以一目了然地获取大量信息，包括
- en: Products that sold more in November than in December and vice versa
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 11月份比12月份销售更多，反之亦然的产品
- en: Products that did not sell at all in November but did sell in December
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 11月份没有销售但在12月份销售的产品
- en: Products bought by more or fewer customers month-on-month
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较每月购买产品数量多或少
- en: 'In some ways, we could even stop here and use this table to answer our questions
    by simply sorting it based on the column that we believe represents our metric
    for the best product. However, we also wanted to calculate conversion metrics
    first. The following code calculates the number of rows per event type for each
    product ID per month:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些方面，我们甚至可以在这里停下来，通过根据我们认为代表最佳产品指标的列对这张表进行排序来简单地使用这张表来回答我们的问题。然而，我们还想首先计算转换指标。以下代码计算了每个月每个产品ID每个事件类型的行数：
- en: '[PRE25]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Using the `pivot_table` function in `pandas` means this table would extend to
    counting any number of event types and could be used if we were to obtain data
    for view events as well. This isn’t strictly necessary here, but it requires a
    bit of prophylactic coding to prepare for future eventualities. Figure 4.24 shows
    a snapshot of this conversion league table.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`pandas`中的`pivot_table`函数意味着这个表可以扩展到计算任何数量的事件类型，如果我们要获取查看事件的数据，也可以使用。这在这里不是严格必要的，但它需要一点预防性的编码来为未来的情况做准备。图4.24显示了这个转换联赛表的快照。
- en: '![figure](../Images/4-24.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-24.png)'
- en: Figure 4.24 A snapshot of the conversion league table data
  id: totrans-272
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.24 转换联赛表数据的快照
- en: From this snapshot, we have already found a problem; this data will contain
    missing values. Having no cart or purchase events results in a missing value,
    rather than a zero, because strictly speaking, 0 conversion would mean we had
    cart events, and none of them resulted in a purchase. Whenever you calculate a
    division, you should also be prepared to encounter infinity values, which happen
    when you try to divide by zero.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个快照中，我们已经发现了一个问题；这些数据将包含缺失值。没有购物车或购买事件会导致缺失值，而不是零，因为严格来说，0转换意味着我们有了购物车事件，但没有一个导致了购买。每次你计算除法时，你也应该准备好遇到无穷大的值，这发生在你尝试除以零时。
- en: 'For now, let’s merge these two product league tables and ensure that product
    IDs are unique. Figure 4.25 shows the output when we look at the columns in this
    merged metrics dataset:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，让我们合并这两个产品联赛表，并确保产品ID是唯一的。图4.25显示了当我们查看这个合并的指标数据集的列时的输出：
- en: '[PRE26]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '![figure](../Images/4-25.png)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-25.png)'
- en: Figure 4.25 Columns in our metrics table and their data types
  id: totrans-277
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.25我们的指标表中的列及其数据类型
- en: Let’s add these latest steps to our growing diagram to show our analytical steps.
    Figure 4.26 shows the latest version. I put the investigations of product brands
    and categories alongside one another to indicate that they happen independently
    and don’t necessarily follow each other in a specific order.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们将这些最新的步骤添加到我们不断增长的图中，以展示我们的分析步骤。图4.26显示了最新版本。我将产品品牌和类别的调查并排放置，以表明它们是独立发生的，并且不一定按照特定的顺序依次进行。
- en: '![figure](../Images/4-26.png)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-26.png)'
- en: Figure 4.26 Steps taken so far up to the creation of the metrics league table
  id: totrans-280
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.26到目前为止采取的步骤，直到创建指标联赛表
- en: Now, we have all the metrics we could be interested in, and the next step is
    to look at products that perform well.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们有了所有我们可能感兴趣的指标，下一步是查看表现良好的产品。
- en: 4.4.3 Finding the best products using our defined metrics
  id: totrans-282
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.4.3 使用我们定义的指标寻找最佳产品
- en: With all these metrics in place, how do we use them to find the “best” product?
    The answer is, as is often the case, it depends.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有这些指标都到位的情况下，我们如何使用它们来找到“最佳”产品？答案是，正如通常情况下那样，这取决于。
- en: Defining metrics based on the specific question
  id: totrans-284
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 根据具体问题定义指标
- en: We have multiple options, such as
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有多种选择，例如
- en: Picking a single metric to sort the league table by and thinking of the top
    *N* products as being the best.
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择一个单一指标来对联赛表进行排序，并将前*N*名产品视为最佳。
- en: We could weight each metric by its relative importance, create a weighted combination
    of metric values to come up with a single value to define each product, and use
    that value to find the top *N*.
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以通过每个指标的相对重要性对其进行加权，创建一个加权指标值的组合，以得出一个单一值来定义每个产品，并使用该值来找到前*N*名。
- en: If we care specifically about December performers, we could look at outliers
    in our difference metrics, such as the difference in volume between November and
    December.
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我们特别关注12月份的表现者，我们可以查看差异指标中的异常值，例如11月和12月之间的数量差异。
- en: There are many more options, but since the brief was specifically about the
    December sale period, we will focus our efforts on products that showed the biggest
    month-on-month increases. For which of the metrics should we focus on this difference?
    Our options are
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 选项还有很多，但由于简要报告特别关注的是12月份的销售期，我们将集中精力在那些月销量增长最大的产品上。我们应该关注哪些指标来衡量这种差异？我们的选项有
- en: '*Change in revenue* —Focusing on absolute revenue might mean expensive items
    skew our results.'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*收入变化* — 关注绝对收入可能会使贵重商品扭曲我们的结果。'
- en: '*Change in the number of unique users* —This might be a good measure for products
    that perform better month-on-month.'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*唯一用户数量变化* — 这可能是一个衡量产品月度表现良好的良好指标。'
- en: '*Change in volume* —This seems like a solid, logical place to start as simply
    selling more of an item month-on-month is an indicator of good performance.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*销量变化* — 这似乎是一个坚实、合理的起点，因为仅仅每月销量增加就是一个良好表现的指标。'
- en: 'We should first understand the typical month-on-month change in volume. Figure
    4.27 shows the histogram produced by the following code:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先应该了解典型月份间的销量变化。图4.27显示了以下代码生成的直方图：
- en: '[PRE27]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![figure](../Images/4-27.png)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-27.png)'
- en: Figure 4.27 Histogram of month-on-month change in product sales volume
  id: totrans-296
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.27产品月销量变化的直方图
- en: 'Clearly, there are outliers that skew this histogram beyond usefulness. Let’s
    zoom into the middle to see if the month-on-month change is centered around zero.
    The following code produces the histogram in figure 4.28:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，存在异常值，这些异常值使这个直方图失去了实用性。让我们放大中间部分，看看月销量变化是否围绕零中心。以下代码生成了图4.28中的直方图：
- en: '[PRE28]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '![figure](../Images/4-28.png)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-28.png)'
- en: Figure 4.28 A zoomed-in version of the histogram from figure 4.27
  id: totrans-300
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.28图4.27的放大版本
- en: 'Looking at this histogram more closely, we see that most products haven’t changed
    much in sales volume month-on-month, and some products sold more, while others
    sold less. However, these are absolute values. Products that generally sell only
    a handful per month would be underrepresented in these graphs. Therefore, we should
    really calculate and look at the percentage change in sales volume. The following
    code calculates this value and produces a histogram of percentage change, as shown
    in figure 4.29\. Note the code also removes missing percentage change values,
    as well as infinity values produced when dividing by zero:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 仔细观察这个直方图，我们发现大多数产品的月销量变化不大，有些产品销量增加，而有些产品销量减少。然而，这些都是绝对值。每月通常只卖出少量商品的产品在这些图表中可能被低估。因此，我们实际上应该计算并查看销量变化的百分比。以下代码计算了这个值，并生成了如图4.29所示的百分比变化直方图。请注意，代码还移除了缺失的百分比变化值，以及除以零时产生的无穷大值：
- en: '[PRE29]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '![figure](../Images/4-29.png)'
  id: totrans-303
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-29.png)'
- en: Figure 4.29 Distribution of percentage month-on-month change in sales volume
  id: totrans-304
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.29销售量月度百分比变化的分布
- en: This chart shows us that most products seem to have actually sold nothing in
    December versus November since a –100% change means zero items sold in December.
    There are also products that sold two, three, four, and five times more month-on-month.
    With percentage values, we need to be mindful of biases that can arise. For example,
    if we sold one of a product in November and five in December, that is a 500% change
    but is unlikely to be as significant as selling 1,000 of something when we sold
    only 500 in the previous month, although that is technically a smaller percentage
    change. One way to mitigate this problem is to exclude items that only typically
    sell a handful.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 此图表显示，与11月相比，大多数产品在12月实际上没有卖出任何东西，因为-100%的变化意味着12月没有卖出任何商品。也有一些产品月销量增加了两倍、三倍、四倍和五倍。使用百分比值时，我们需要注意可能出现的偏差。例如，如果我们11月卖出了一件产品，12月卖出了五件，这是500%的变化，但可能不像在上一月只卖出500件时卖出1000件那样具有重大意义，尽管从技术上讲这是一个更小的百分比变化。减轻这种问题的一种方法是不包括那些通常只卖出少量商品的项目。
- en: Before we continue our analysis, however, we should include additional product
    details in our league table so that when we identify high performers, we can look
    at what categories or brands they represent.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续分析之前，我们应该在我们的排行榜中包含更多的产品细节，这样当我们识别出高绩效产品时，我们可以查看它们代表哪些类别或品牌。
- en: Iterating on our metrics based on our findings
  id: totrans-307
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 根据我们的发现迭代我们的指标
- en: 'We could have enhanced our products with this additional data when creating
    the league table, but we are doing it at this stage of the analysis in response
    to our desire to investigate further. The following code creates a product catalog,
    which we can join to our league table to add additional product details. Figure
    4.30 shows a snapshot of this product catalog:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 我们本可以在创建排行榜时使用这些额外数据来增强我们的产品，但我们现在在分析的这个阶段这样做是为了响应我们进一步调查的愿望。以下代码创建了一个产品目录，我们可以将其与排行榜连接以添加额外的产品细节。图4.30显示了该产品目录的快照：
- en: '[PRE30]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '![figure](../Images/4-30.png)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-30.png)'
- en: Figure 4.30 A snapshot of the product catalog
  id: totrans-311
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.30 产品目录快照
- en: 'Now, we continue our analysis by defining cutoffs for how many of a particular
    product we must have sold to consider it when we look for top performers. Discounting
    products that only sell a handful at a time means that high percentage change
    values are more likely to be meaningful:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们通过定义特定产品销售数量作为寻找顶级表现者的截止点来继续我们的分析。排除每次只售出少量产品的产品意味着高百分比变化值更有可能是有意义的：
- en: '[PRE31]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Here, we defined some cutoffs that mean we only consider products that
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们定义了一些截止点，这意味着我们只考虑那些
- en: Sold at least twice as many in December as November
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在十二月售出的数量是十一月的两倍以上
- en: Sold at least 10 in November
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在十一月至少售出10件
- en: Sold at least 100 in December
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在十二月至少售出100件
- en: 'These cutoffs are somewhat arbitrary, and changing them will change our results,
    but they do ensure we only identify products that really did outperform themselves
    in December. Our particular choice of cutoffs resulted in 449 products. We could
    provide these directly to our stakeholders, or we could do further analysis to
    see what kinds of products show up more often as high performers. Let us look
    at the top categories, subcategories, and brands among these high-performing products.
    These are shown in figures 4.31 through 4.33, respectively:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 这些截止点有些是任意选择的，改变它们将会影响我们的结果，但它们确实确保我们只识别出在十二月真正超越自己的产品。我们特定的截止点产生了449个产品。我们可以直接将这些产品提供给我们的利益相关者，或者我们可以进行进一步的分析，看看哪些类型的产品更频繁地出现在高绩效者名单中。让我们来看看这些高绩效产品的顶级类别、子类别和品牌。这些分别显示在图4.31至图4.33中：
- en: '[PRE32]'
  id: totrans-319
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '![figure](../Images/4-31.png)'
  id: totrans-320
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-31.png)'
- en: Figure 4.31 Top-performing product categories
  id: totrans-321
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.31 顶级产品类别
- en: '![figure](../Images/4-32.png)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-32.png)'
- en: Figure 4.32 Top-performing product subcategories
  id: totrans-323
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.32 顶级产品子类别
- en: '![figure](../Images/4-33.png)'
  id: totrans-324
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-33.png)'
- en: Figure 4.33 Top-performing product brands
  id: totrans-325
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.33 顶级产品品牌
- en: 'It appears that smartphones, various kinds of clothing, and products made by
    Lucente top the rankings in terms of December’s best performers. There are also
    some coffee grinders that appear to have performed well. In fact, digging into
    the results a bit more suggests that these coffee grinders account for most of
    Lucente’s success in the league table. The following code shows the top unique
    combinations of category, subcategory, and brand, as shown in figure 4.34:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 从结果中可以看出，智能手机、各种服装和Lucente制造的产品在十二月的最佳表现者排名中位居前列。还有一些咖啡研磨机似乎表现良好。实际上，更深入地挖掘结果表明，这些咖啡研磨机占Lucente在排行榜上成功的大部分。以下代码显示了如图4.34所示的类别、子类别和品牌的顶级唯一组合：
- en: '[PRE33]'
  id: totrans-327
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '![figure](../Images/4-34.png)'
  id: totrans-328
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-34.png)'
- en: Figure 4.34 Top-performing products by category and brand
  id: totrans-329
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.34 按类别和品牌划分的顶级产品
- en: One aspect of this final table that might catch the eye is the presence of shoes
    made by Sony, which may warrant some investigation. They could be legitimate Sony-branded
    shoes or products categorized incorrectly.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 最终表格中的一个可能引起注意的方面是索尼制造的鞋子的存在，这可能需要一些调查。它们可能是真正的索尼品牌鞋子，或者是不正确分类的产品。
- en: We now have enough results to present to stakeholders. To recap, we have
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在有足够的结果可以向利益相关者展示。为了回顾，我们有
- en: Combined the events datasets
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并了事件数据集
- en: Cleaned up incorrectly categorized product data
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 清理了错误分类的产品数据
- en: Calculated all possible metrics of interest
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算了所有感兴趣的可能的指标
- en: Decided what to use as a measure of “best”
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 决定将什么作为“最佳”的衡量标准
- en: Extracted the highest-performing products based on our chosen metric
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据我们选择的指标提取了最高绩效的产品
- en: Investigated these high performers in more detail
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对这些高绩效者进行了更详细的研究
- en: Whichever metric(s) you chose, the process would have been similar to that shown
    in this example solution. We are unlikely to have reached the same conclusions
    because those depend entirely on your analytical choices throughout.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 无论您选择哪个（些）度量，过程都将与这个示例解决方案中显示的过程相似。我们不太可能得出相同的结论，因为这些结论完全取决于您在整个分析过程中的选择。
- en: Let us briefly look at what happens when we use a different metric to define
    the best product and how that affects our results.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们简要看看当我们使用不同的度量来定义最佳产品时会发生什么，以及这如何影响我们的结果。
- en: Investigating alternative metric definitions
  id: totrans-340
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 调查替代的度量定义
- en: 'What happens if we decide the best products are the ones that converted the
    most cart events into purchase ones in the month of December? First, we use the
    following code to produce the histogram in figure 4.35, showing the distribution
    of December conversion:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们决定最佳产品是那些在12月份将最多购物车事件转化为购买事件的，会发生什么？首先，我们使用以下代码生成图4.35中的直方图，显示12月份的转化率分布：
- en: '[PRE34]'
  id: totrans-342
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '![figure](../Images/4-35.png)'
  id: totrans-343
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-35.png)'
- en: Figure 4.35 Distribution of conversion percentage in December
  id: totrans-344
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.35 12月份转化率分布
- en: 'Most products convert at around the 30% mark, but a lot of products convert
    at 100% and even more. That latter option shouldn’t be possible since we should
    logically not have more products purchased than were put into a cart. Let’s investigate
    these records. The following code extracts only rows with over 99% conversion
    and excludes infinite values and other data errors. Using those results, we examine
    a single example of high conversion, shown in figure 4.36:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数产品的转化率大约在30%左右，但有很多产品的转化率是100%，甚至更多。后者理论上是不可能的，因为我们逻辑上不应该有比放入购物车的商品更多的购买。让我们调查这些记录。以下代码仅提取转化率超过99%的行，并排除无限值和其他数据错误。使用这些结果，我们检查了一个高转化率的单个示例，如图4.36所示：
- en: '[PRE35]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '![figure](../Images/4-36.png)'
  id: totrans-347
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-36.png)'
- en: Figure 4.36 An example of raw data leading to over 100% conversion
  id: totrans-348
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.36 导致超过100%转化率的原始数据示例
- en: There is a scarf that was bought three times by the same user on two different
    dates but with only one associated cart event. This could mean either a data error
    where we are missing two cart events or that we made incorrect assumptions about
    the data-generating process. When we said conversion should not be over 100%,
    we assumed a linear process where a user cannot make a purchase without putting
    an item into their cart. However, it is possible there is an “orders” page where
    a user could review their past orders and reorder products, while bypassing the
    cart screens. If this were the case, the data shown in figure 4.35 would not be
    unexpected.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个围巾，同一个用户在两个不同的日期购买了三次，但只关联了一个购物车事件。这可能意味着我们遗漏了两个购物车事件的数据错误，或者我们对数据生成过程做出了错误的假设。当我们说转化率不应超过100%时，我们假设了一个线性过程，其中用户在将商品放入购物车之前不能进行购买。然而，可能存在一个“订单”页面，用户可以查看他们的过去订单并重新订购产品，同时绕过购物车屏幕。如果情况如此，图4.35中显示的数据就不会令人意外。
- en: 'As it stands, we have no way of knowing whether these instances are valid,
    so to get our top performers, we can simply restrict our data to under 100% conversion.
    Let us also stipulate some cutoffs and say that a product must have been bought
    by at least *N* users with a total of *M* sales to be included in our top conversion
    performers. The following code identifies the top performers, totaling 55 rows:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 如此看来，我们无法知道这些实例是否有效，因此为了得到我们的顶级表现者，我们可以简单地限制我们的数据在100%以下转化率。让我们还规定一些截止点，并说一个产品必须至少被*N*个用户购买，总销售量达到*M*，才能包括在我们的顶级转化表现者中。以下代码确定了顶级表现者，总共有55行：
- en: '[PRE36]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'This means there are 55 products in total that were bought by at least five
    different users, totaling a minimum of 10 sales, and converted over 70% of their
    cart events to purchase ones. We could now look at what kinds of products these
    correspond to by looking at their categories. This output is shown in figure 4.37:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着总共有55个产品至少被五个不同的用户购买，总销售量至少为10，并且将超过70%的购物车事件转化为购买事件。现在我们可以通过查看它们的类别来查看这些产品对应的是什么。这个输出在图4.37中显示：
- en: '[PRE37]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '![figure](../Images/4-37.png)'
  id: totrans-354
  prefs: []
  type: TYPE_IMG
  zh: '![图](../Images/4-37.png)'
- en: Figure 4.37 Top-performing categories among highest-converting products
  id: totrans-355
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.37 最高转化率产品类别
- en: 'The results are quite different from the volume-based rankings. When conversion
    is considered the key metric, furniture and construction items come up as the
    highest performers. Looking into this deeper, using the following code gives us
    the output in figure 4.38:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 结果与基于体积的排名大相径庭。当考虑转换率为关键指标时，家具和建筑用品成为表现最好的类别。进一步分析，使用以下代码可以得到图4.38所示的结果：
- en: '[PRE38]'
  id: totrans-357
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '![figure](../Images/4-38.png)'
  id: totrans-358
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-38.png)'
- en: Figure 4.38 Furniture and construction products that converted best in December
  id: totrans-359
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.38 12月份转换率最高的家具和建筑产品
- en: What this tells us is that once most people have identified a faucet, drill,
    or sofa, they will most likely go ahead and purchase it. Smartphones feature less
    in conversion-based rankings, perhaps indicating that people are unsure about
    their smartphone purchase even after placing the item in their cart.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 这告诉我们，一旦大多数人已经识别了一个水龙头、钻头或沙发，他们很可能会继续购买。智能手机在基于转换率的排名中占比较少，这可能表明即使在将商品放入购物车后，人们对智能手机的购买也可能不确定。
- en: Before summarizing our conclusions, let’s recap the entire analysis process
    as a diagram to remind ourselves of the steps we took and where our choices might
    have diverged. Figure 4.39 shows the final diagram.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 在总结我们的结论之前，让我们以图表的形式回顾整个分析过程，以便提醒自己采取的步骤以及我们的选择可能出现的分歧。图4.39展示了最终的图示。
- en: '![figure](../Images/4-39.png)'
  id: totrans-362
  prefs: []
  type: TYPE_IMG
  zh: '![figure](../Images/4-39.png)'
- en: Figure 4.39 The final diagram showing all the steps and decision points in our
    analysis
  id: totrans-363
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图4.39 显示我们分析中所有步骤和决策点的最终图示
- en: We are now ready to summarize our results in preparation for presenting them
    to our stakeholders.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已准备好总结我们的结果，以便向我们的利益相关者展示。
- en: Project outcomes
  id: totrans-365
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 项目成果
- en: Based on these results, it looks like a safe bet to recommend to our stakeholders
    that classic Christmas present items like smartphones and kitchen appliances are
    likely to be high performers in December. The results based on conversion are
    less convincing since they only highlight products that people buy once they’ve
    added them to their cart, but they may not tell us anything about the success
    of those products.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些结果，向我们的利益相关者推荐经典圣诞礼物，如智能手机和厨房电器，在12月份可能表现良好。基于转换率的结果说服力较弱，因为它们只突出了人们在将产品添加到购物车后购买的产品，但它们可能不会告诉我们关于这些产品成功与否的任何信息。
- en: As always, there are limitations to our analysis. We did not look at the correlation
    between product price and performance. It is possible that our data implicitly
    tells us when a sale was on, which we could identify by looking at products whose
    price suddenly dropped, and this could inform our decision about which products
    sell best during sale periods. We could also request additional pricing data,
    such as postage costs, tax, or item wholesale costs. This latter figure could
    tell us not just which products generate the most revenue but also which ones
    generate the highest profit.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 与以往一样，我们的分析存在局限性。我们没有考虑产品价格与性能之间的相关性。我们的数据可能隐含地告诉我们何时有促销活动，我们可以通过观察价格突然下降的产品来识别这些促销活动，这可以为我们决定在促销期间哪些产品销售最好提供信息。我们还可以请求额外的定价数据，例如邮费、税费或商品批发成本。这个数据可以告诉我们哪些产品创造了最多的收入，也可以告诉我们哪些产品创造了最高的利润。
- en: Our restriction to two months of data also means our analysis is incomplete.
    Having more data would let us benchmark our products better and see which products
    deviate most from their average baseline performance. As it stands, we based this
    on a single month of data, which may be insufficient.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 我们仅限于两个月的数据也意味着我们的分析是不完整的。拥有更多数据将使我们能够更好地基准测试我们的产品，并看到哪些产品的表现与平均基线性能差异最大。目前，我们基于一个月的数据进行分析，这可能是不足够的。
- en: Our initial findings warrant a further discussion with our stakeholders, and
    hopefully, showing them the effects of choosing different metrics will help focus
    them on the ones that truly matter to them. When choosing what to present to them,
    it is important to consider whether our recommendations are actionable. Telling
    stakeholders that people generally buy the faucets they have identified is less
    likely to result in them taking action than telling them that smartphones increase
    their sales the most in the December period.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 我们最初的发现需要与我们的利益相关者进行进一步讨论，并且，希望向他们展示选择不同指标的影响能帮助他们关注真正重要的指标。在选择向他们展示的内容时，考虑我们的建议是否可行很重要。告诉利益相关者人们通常购买他们已经识别的水龙头、钻头或沙发，这不太可能促使他们采取行动，而告诉他们智能手机在12月期间最能增加他们的销售额则更有可能促使他们采取行动。
- en: 'Activity: Further project ideas with this data'
  id: totrans-370
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 活动：使用这些数据的进一步项目想法
- en: The e-commerce data in this chapter gives you plenty of opportunities to practice
    calculating and reflecting on different metrics. As with all projects, I recommend
    considering different research questions, such as
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中的电子商务数据为你提供了大量练习计算和反思不同指标的机会。与所有项目一样，我建议考虑不同的研究问题，例如
- en: What are some products whose prices fluctuate more than others? There is no
    reason to assume the same product ID sold for the same amount each time.
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 哪些产品的价格波动比其他产品更大？没有理由假设同一产品ID每次都以相同的金额出售。
- en: Are there temporal patterns in the data (products that sell more or convert
    better on weekends than weekdays, for example)?
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据中是否存在时间模式（例如，周末比工作日销售更多或转化更好的产品）？
- en: You could go deeper into the product catalog and look for subcategories that
    perform better than others. What would “better” mean here?
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以深入产品目录，寻找表现优于其他子类别的子类别。这里的“更好”意味着什么？
- en: 4.5 Closing thoughts on metrics
  id: totrans-375
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.5 关于指标的结束语
- en: As an analyst, you will encounter many projects like this one, where metrics
    will be insufficiently defined. Your job is not simply to perform the calculations
    given to you by a stakeholder, but to have a conversation with them to define
    metrics that are clear and measurable, given the available data, and that capture
    the right underlying concepts. We should generally be wary of summarizing complex
    problems into a single metric and should feel comfortable pushing back to help
    stakeholders create more usable problem definitions.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名分析师，你将遇到许多类似的项目，其中指标可能定义不足。你的工作不仅仅是执行利益相关者给出的计算，而是与他们进行对话，定义在现有数据下清晰可衡量，并能捕捉到正确的基本概念的指标。我们通常应该对将复杂问题简化为单一指标持谨慎态度，并且应该感到舒适地拒绝，以帮助利益相关者创建更可用的问题定义。
- en: 'There are two avenues to explore these concepts further: one is to understand
    different business metrics generally so that business terminology is more familiar
    to you, and the other is to research metrics specific to the industry you work
    in.'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 有两条途径可以进一步探索这些概念：一条是了解不同的商业指标通常，以便使你更熟悉商业术语；另一条是研究你所在行业的特定指标。
- en: 'How do you know what to read on the topic? As it turns out, generating reading
    lists for a new topic is a great use of generative AI tools, for example, large
    language models such as Open AI’s ChatGPT. I gave it the following prompt:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 你如何知道该阅读哪些关于这个主题的内容？事实证明，为新的主题生成阅读列表是生成式AI工具的绝佳用途，例如Open AI的ChatGPT这样的大型语言模型。我给出了以下提示：
- en: Give me a reading list for someone who is interested in exploring different
    business metrics and their impact
  id: totrans-379
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 给我一份阅读列表，供对探索不同商业指标及其影响感兴趣的人阅读
- en: 'ChatGPT was able to generate a reading list of books to explore metrics further.
    The list includes general works such as *The Balanced Scorecard: Translating Strategy
    into Action* (Harvard Business School Press, 1996) by Robert S. Kaplan and David
    P. Norton, which “goes beyond financial metrics to measure various dimensions
    of organizational performance,” or a title focusing on a more specific domain,
    social media, in *Measure What Matters: Online Tools For Understanding Customers,
    Social Media, Engagement, and Key Relationships* (Wiley, 2011) by Katie Delahaye
    Paine.'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: ChatGPT能够生成一份阅读列表，以进一步探索指标。该列表包括像罗伯特·S·卡普兰和戴维·P·诺顿所著的《平衡计分卡：将战略转化为行动》（哈佛商学院出版社，1996年）这样的通用作品，该书“超越了财务指标，以衡量组织的各个方面绩效”，或者专注于更具体领域，如社交媒体的《衡量什么重要：在线工具理解客户、社交媒体、参与度和关键关系》（威利出版社，2011年）凯蒂·德拉海耶·佩恩所著的标题。
- en: While not all recommendations by the AI might be usable, employing it to kickstart
    the research process is one way in which it becomes a valuable tool in the analyst’s
    toolkit.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然AI提出的所有建议可能并不都能使用，但将其用于启动研究过程是它成为分析师工具箱中一项有价值的工具的一种方式。
- en: 4.5.1 Skills for defining better metrics for any project
  id: totrans-382
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.5.1 定义任何项目更好指标所需的技能
- en: In this chapter, our biggest challenge was turning a vague request into measurable
    metrics that we could analyze. The key skills learned for defining metrics that
    are applicable to any similar project include
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们最大的挑战是将模糊的要求转化为我们可以分析的衡量指标。适用于任何类似项目的关键技能包括
- en: Ensuring that definitions within the data are consistent (e.g., the same product
    is always assigned to the same category)
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保数据中的定义是一致的（例如，同一产品始终被分配到同一类别）
- en: Exporting intermediate versions of the data to separate exploration and cleaning
    from analysis
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据的中级版本导出，以便将探索和清洗与分析分离
- en: Changing the granularity of the data to suit the question (e.g., summarizing
    transaction-level data to the product level)
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改变数据的粒度以适应问题（例如，将交易级别的数据汇总到产品级别）
- en: Calculating multiple metrics to investigate the problem from different angles
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算多个指标以从不同角度研究问题
- en: Iterating on our chosen metrics once we have some initial findings
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在获得一些初步发现后，迭代我们选择的指标
- en: Investigating alternative metrics to present to our stakeholders for a more
    complete picture
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调查替代指标，以便向我们的利益相关者展示更全面的图景
- en: Summary
  id: totrans-390
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Choosing the right metric is a vital professional skill for analysts to develop.
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择合适的指标是分析师发展的重要专业技能。
- en: Any metric you choose to measure performance will affect the entire analysis
    path.
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你选择的任何用于衡量性能的指标都将影响整个分析路径。
- en: Be wary of summarizing complex problems into a single metric.
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谨慎将复杂问题简化为单一指标。
- en: Definitions of key metrics should be unambiguous to avoid analytical errors.
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关键指标的定义应当明确，以避免分析错误。
