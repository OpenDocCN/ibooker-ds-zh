- en: Chapter 13  Designing Responsive Web Pages
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第13章  设计响应式网页
- en: Rather than tailoring disconnected designs to each of an ever-increasing number
    of web devices, we can treat them as facets of the same experience. We can design
    for an optimal viewing experience, but embed standards-based technologies into
    our designs to make them not only more flexible, but more adaptive to the media
    that renders them. In short, we need to practice *responsive web design*. *—Ethan
    Marcotte*
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 而不是为不断增多的各种网络设备量身定制独立的设计，我们可以将它们视为同一体验的各个面。我们可以设计出最佳的观看体验，但将基于标准的科技嵌入到我们的设计中，使它们不仅更加灵活，而且更能适应渲染它们的媒体。简而言之，我们需要实践*响应式网页设计*。*——伊森·马科特*
- en: '**This chapter covers**'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**本章涵盖**'
- en: Learning why you should avoid fixed-width layouts
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习为什么你应该避免固定宽度布局
- en: Creating page layouts that are liquid and flexible
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建流动和灵活的页面布局
- en: Using media queries to build pages that adapt to changing screen sizes
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用媒体查询构建适应屏幕尺寸变化的页面
- en: Creating layouts designed first for mobile screens
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先为移动屏幕设计布局
- en: 'I’ll begin by defining what I mean when I describe a web page as responsive:
    A *responsive* page is one that automatically adapts its layout, typography, images,
    and other content to fit whatever size screen a site visitor is using to access
    the page. In other words, the page content should be usable, readable, and navigable
    regardless of the dimensions of the screen it''s being displayed on.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 我将从定义我所说的“响应式网页”开始：一个*响应式*的页面是指它能够自动调整其布局、排版、图片和其他内容以适应访问页面时使用的任何屏幕尺寸。换句话说，页面内容应该在任何显示它的屏幕尺寸下都是可用的、可读的和可导航的。
- en: Responsive web design—or RWD, as it's colloquially known in the web-design community—wouldn't
    be a big deal if only the occasional site user were surfing with a smartphone
    or tablet. However, sometime back in 2014 the worldwide percentage of web users
    on mobile devices *surpassed* that of users with desktop browsers.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 响应式网页设计——或简称RWD，在网页设计社区中通常这样称呼——如果只有少数网站用户使用智能手机或平板电脑上网，那它就不会成为一个大问题。然而，在2014年左右，全球使用移动设备的网络用户比例*超过了*使用桌面浏览器的用户比例。
- en: Web design is responsive design. Responsive web design is web design, done right.
    *—Andy Clarke*
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 网页设计就是响应式设计。响应式网页设计是正确的网页设计。*——安迪·克拉克*
- en: 'There are many reasons why it''s good practice to make all your pages responsive,
    and you''ll learn about many of them as you progress through this chapter. But
    arguably the most important reason is also the most basic:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多原因说明为什么使所有页面都响应式是一个好的实践，随着你通过本章的学习，你会了解到其中许多原因。但可以说，最重要的原因也是最基础的：
- en: '*When reading a web page, nobody should have to scroll horizontally.*'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*在阅读网页时，没有人应该需要水平滚动。*'
- en: Although it's true that a few pages are designed to be navigated by scrolling
    from left to right, the vast majority of pages are oriented vertically, so you
    read or scan them from top to bottom. One of the most annoying and maddening web
    page experiences occurs when a page doesn't fit the width of your screen, so seeing
    all the content requires scrolling to the right, back to the left, then to the
    right again, and so on. It's maddening and a sure way to drive people to another
    site—any site—within seconds.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然确实有一些页面是为从左到右滚动导航而设计的，但绝大多数页面是垂直方向的，因此你从顶部到底部阅读或扫描它们。最令人烦恼和沮丧的网页体验之一就是当页面宽度不适应你的屏幕时，要看到所有内容就需要向右滚动，然后回到左边，再向右滚动，如此循环。这是令人沮丧的，也是人们几秒钟内就会离开网站——任何网站——的可靠方式。
- en: 'Lesson 13.1: Why Fixed-Width Layouts Are the Enemy'
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13.1课：为什么固定宽度布局是敌人
- en: 'Covers: Fixed-width page layouts'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 涵盖：固定宽度页面布局
- en: 'Online: [wdpg.io/13-1-1](http://wdpg.io/13-1-1)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-1-1](http://wdpg.io/13-1-1)
- en: Why don't web pages fit whatever screen they're being displayed on? In most
    cases, the culprit is the use of large, fixed-width elements. These elements stay
    the same size no matter how wide a screen they're shown on, so if their width
    is greater than that of the screen, the dreaded horizontal scrollbar appears.
    To see what I mean, consider the following example.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么网页不能适应它们显示的任何屏幕？在大多数情况下，罪魁祸首是使用大型的固定宽度元素。这些元素无论在多宽的屏幕上显示，大小都保持不变，所以如果它们的宽度大于屏幕宽度，就会出现令人讨厌的水平滚动条。为了理解我的意思，请考虑以下示例。
- en: Example
  id: totrans-17
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/13-1-1](http://wdpg.io/13-1-1)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-1-1](http://wdpg.io/13-1-1)
- en: This example shows you the bare-bones version of a typical fixed-width layout.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子展示了典型固定宽度布局的简化版本。
- en: CSS
  id: totrans-20
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: ①  The `body` element uses a fixed width of `960px`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ①  `body` 元素使用固定的宽度为 `960px`。
- en: ②  The `article` element uses a fixed width of `640px`.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ②  `article` 元素使用固定的宽度为 `640px`。
- en: ③  The `aside` element uses a fixed width of `320px`.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ③  `aside` 元素使用固定的宽度为 `320px`。
- en: HTML
  id: totrans-25
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE1]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This example is a basic two-column floated layout where the `body` and the page's
    two columns—the `article` and `aside` elements—all used widths with fixed values
    in pixels. If the browser viewport is at least 960 pixels wide, this web page
    displays well, as shown in [Figure 13.1](#figure13.1). But what happens when the
    page is accessed by a smaller screen? As you can see in [Figure 13.2](#figure13.2),
    a tablet in portrait mode isn't wide enough, so some content gets cut off, and
    the horizontal scrollbar appears. Even worse is the page on a smartphone screen,
    as shown in [Figure 13.3](#figure13.3), where even less of the content is visible,
    which means even more horizontal scrolling for the poor reader.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子是一个基本的两列浮动布局，其中 `body` 和页面的两列——`article` 和 `aside` 元素——都使用了像素值固定的宽度。如果浏览器视口至少有
    960 像素宽，这个网页显示得很好，如图 [图 13.1](#figure13.1) 所示。但当页面通过较小的屏幕访问时会发生什么？如图 [图 13.2](#figure13.2)
    所见，纵向模式的平板电脑不够宽，因此一些内容被裁剪掉，并且出现了水平滚动条。更糟糕的是，如图 [图 13.3](#figure13.3) 所示，智能手机屏幕上的页面甚至更少的内容可见，这意味着读者需要更多的水平滚动。
- en: '[Figure 13.1](#figureanchor13.1) The web page fits a desktop screen.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 13.1](#figureanchor13.1) 网页适合桌面屏幕。'
- en: '![13_01.png](Images/13_01.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![13_01.png](Images/13_01.png)'
- en: '[Figure 13.2](#figureanchor13.2) The web page is a bit too wide for a tablet
    screen.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 13.2](#figureanchor13.2) 网页宽度对于平板屏幕来说略宽。'
- en: '![13_02.png](Images/13_02.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![13_02.png](Images/13_02.png)'
- en: '[Figure 13.3](#figureanchor13.3) The web page is far too wide for a smartphone
    screen.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 13.3](#figureanchor13.3) 网页宽度对于智能手机屏幕来说太宽了。'
- en: '![13_03.png](Images/13_03.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![13_03.png](Images/13_03.png)'
- en: Developing fixed-size web pages is a fundamentally flawed practice. Not only
    does it result in web pages that remain at a constant size regardless of the user’s
    browser size, but it fails to take advantage of the medium’s flexibility. *—Jim
    Kalbach*
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 开发固定大小的网页是一种根本性的错误做法。这不仅会导致网页无论用户浏览器大小如何都保持恒定的大小，而且未能充分利用媒介的灵活性。*——吉姆·卡尔巴赫*
- en: Creating a Responsive Layout
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建响应式布局
- en: Now that you know fixed-width layouts are bad, you can take steps to make sure
    that your layouts display nicely on any size screen. You have several ways to
    achieve this responsive ideal, and the next few sections take you through these
    methods. But first, you need to take care of some prerequisites.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经知道固定宽度布局是糟糕的，你可以采取措施确保你的布局在任何尺寸的屏幕上都能良好显示。你有几种方法可以实现这种响应式理想，接下来的几节将带你了解这些方法。但首先，你需要处理一些先决条件。
- en: 'First, you need to make sure that all your block-level elements are being sized
    out to the border and not to the content, which is the default sizing. As I explained
    in Chapter 9, the easiest way to do this is to include the following rule at the
    top of your CSS:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要确保所有你的块级元素都被调整到边界而不是内容，这是默认的调整方式。正如我在第 9 章中解释的，这样做最简单的方法是在你的 CSS 顶部包含以下规则：
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Second, you need to configure the browser viewport''s default width and scale
    by adding the following tag somewhere within your page''s `<head>` section:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，你需要配置浏览器视口的默认宽度和缩放，通过在页面 `<head>` 部分添加以下标签来实现：
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: By setting `width=device-width`, you're telling the browser to set the width
    of the page to be the same as the width of whatever device the page is being displayed
    on. By setting `initial-scale=1.0`, you're telling the browser to display the
    page initially without zooming in or out.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 通过设置 `width=device-width`，你告诉浏览器将页面宽度设置为与显示页面的设备宽度相同。通过设置 `initial-scale=1.0`，你告诉浏览器初始时不放大也不缩小地显示页面。
- en: With those tweaks added, you're ready to get responsive.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 添加了这些调整后，你就可以准备实现响应式布局了。
- en: 'Lesson 13.2: Creating a Liquid Layout'
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 13.2 节：创建流动布局
- en: 'Covers: Using percentages for liquid layouts'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 涵盖：使用百分比进行流动布局
- en: 'Online: [wdpg.io/13-2-0](http://wdpg.io/13-2-0)'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-2-0](http://wdpg.io/13-2-0)
- en: As you saw earlier, the real problem with a fixed-width layout is setting the
    `width` property to an absolute value, such as `960px`. You can remedy that problem
    by converting your absolute `width` values to relative widths that use percentages
    instead of pixels. This solution is often called a *liquid layout*.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 如你之前所见，固定宽度布局的真正问题是将 `width` 属性设置为绝对值，例如 `960px`。你可以通过将你的绝对 `width` 值转换为使用百分比而不是像素的相对宽度来解决这个问题。这种解决方案通常被称为
    *流动布局*。
- en: Remember
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: A layout that uses relative measurement units, such as percentages, is known
    as a *liquid layout*.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 使用相对测量单位（如百分比）的布局称为*流动布局*。
- en: 'Converting a fixed-width layout to a liquid layout is most often a three-stage
    process. The first stage is deciding a maximum width for your layout. The goal
    of a liquid layout is to allow the content to scale down when faced with smaller
    screen sizes and to scale up when a larger screen comes along. Most of the time,
    however, you don''t want the content to get too wide, because that can result
    in text lines that are too long for comfortable reading. Examine your content
    and then decide on the maximum width that still allows for good reading and navigation.
    With that number in mind, apply the `max-width` property to the outermost container
    (such as the `body` element). The following example declares the `body` element
    with a maximum width of 960 pixels:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 将固定宽度布局转换为流动布局通常是一个三阶段的过程。第一阶段是决定布局的最大宽度。流动布局的目标是在面对较小的屏幕尺寸时允许内容缩小，在遇到较大屏幕时允许内容放大。然而，大多数情况下，您不希望内容变得太宽，因为这可能导致阅读时文本行太长。检查您的内容，然后确定一个最大宽度，这个宽度仍然允许良好的阅读和导航。有了这个数字，将`max-width`属性应用于最外层容器（如`body`元素）。以下示例将`body`元素的最大宽度声明为960像素：
- en: '[PRE4]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The second stage is determining the percentage widths to use for the rest of
    the elements. By default, any block-level element takes up 100 percent of its
    parent''s width, so you need to calculate percentages only for elements that you
    want to use less than the full parent width. If an `article` element is 1,000
    pixels wide, and a child `div` is declared with `width: 75%`, that `div` is 750
    pixels wide. If the screen is resized so that the `article` element is 800 pixels
    wide, the child `div` automatically scales down to 600 pixels wide.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '第二阶段是确定其余元素要使用的百分比宽度。默认情况下，任何块级元素都占用其父元素宽度的100%，因此您只需要计算您想要使用小于父元素全宽度的元素的百分比。如果一个`article`元素宽度为1,000像素，并且一个子`div`声明了`width:
    75%`，那么这个`div`宽度为750像素。如果屏幕大小调整，使得`article`元素宽度为800像素，那么子`div`会自动缩小到600像素宽。'
- en: Remember
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: When using percentages for widths, remember that CSS doesn’t base that percentage
    on the viewport width. Instead, it calculates that percentage based on the width
    of the element's parent.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用百分比设置宽度时，请记住CSS不是基于视口宽度来计算这个百分比的。相反，它是基于元素父元素的宽度来计算这个百分比的。
- en: 'To convert your fixed-width elements to percentages, you apply the following
    formula to each:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 要将固定宽度元素转换为百分比，您需要将以下公式应用于每个元素：
- en: '[PRE5]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The example shown in Lesson 13.1 earlier in this chapter has two fixed-width
    components:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章前面13.1节中展示的示例有两个固定宽度组件：
- en: An `article` element set to 640 pixels wide. Because the parent (the `body`
    element) is 960 pixels wide, the `article` element's percentage width value is
    (640 / 960) * 100 = 66.67%.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个宽度设置为640像素的`article`元素。因为父元素（`body`元素）宽度为960像素，所以`article`元素的百分比宽度值为(640 /
    960) * 100 = 66.67%。
- en: An `aside` element set to 320 pixels wide. Again, the parent (the `body` element)
    is 960 pixels wide, so the `aside` element's percentage width value is (320 /
    960) * 100 = 33.33%.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个宽度设置为320像素的`aside`元素。同样，父元素（`body`元素）宽度为960像素，因此`aside`元素的百分比宽度值为(320 / 960)
    * 100 = 33.33%。
- en: 'The third stage in converting a fixed-width layout to a liquid layout is applying
    the same formula to any other horizontal items that are part of the layout, such
    as margins and padding. If an element is declared with `padding: 12px`, and its
    parent is 960 pixels wide, the liquid margin width becomes (12 / 960) * 100 =
    1.25%.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '将固定宽度布局转换为流动布局的第三阶段是将相同的公式应用于布局中的任何其他水平元素，例如边距和填充。如果一个元素声明了`padding: 12px`，并且其父元素宽度为960像素，那么流动边距宽度变为(12
    / 960) * 100 = 1.25%。'
- en: The following updates the earlier example with a liquid layout.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例展示了如何将之前的示例转换为流动布局。
- en: Example
  id: totrans-61
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/13-2-1](http://wdpg.io/13-2-1)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-2-1](http://wdpg.io/13-2-1)
- en: This code shows the conversion of the fixed-width layout to a liquid layout.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码展示了将固定宽度布局转换为流动布局的过程。
- en: CSS
  id: totrans-64
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE6]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: ①  The `body` element now has a maximum width of `960px`.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: ①  `body`元素现在的最大宽度为`960px`。
- en: ②  The `article` element now has a width of `66.67%`.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ②  `article`元素现在的宽度为`66.67%`。
- en: ④  The `padding` properties are now percentages.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ④  `padding`属性现在是百分比。
- en: ③  The `aside` element now has a width of `33.33%`.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ③  `aside`元素现在的宽度为`33.33%`。
- en: HTML
  id: totrans-70
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE7]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Play
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: You can get some practice converting a fixed-width layout to a liquid layout
    on the Playground. Online:[wdpg.io/13-2-2](http://wdpg.io/13-2-2)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在Playground上练习将固定宽度布局转换为流体布局。在线：[wdpg.io/13-2-2](http://wdpg.io/13-2-2)
- en: With the liquid layout in place, you can see in [Figure 13.4](#figure13.4) that
    a tablet in portrait mode displays the web page content completely. Looking good!
    [Figure 13.5](#figure13.5) shows that a smartphone screen also displays the content
    without requiring the reader to scroll horizontally. Nice. But you can also clearly
    see that the resulting columns are alarmingly narrow, which makes reading difficult.
    To fix that problem, you need to learn another responsive design technique. But
    first, an aside on viewport units.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置了流体布局后，你可以在[图13.4](#figure13.4)中看到，纵向模式的平板可以完全显示网页内容。看起来不错！[图13.5](#figure13.5)显示智能手机屏幕也可以显示内容，而不需要读者水平滚动。很好。但你也可以清楚地看到，生成的列非常窄，这使阅读变得困难。要解决这个问题，你需要学习另一种响应式设计技术。但在那之前，让我们先谈谈视口单位。
- en: '[Figure 13.4](#figureanchor13.4) With a liquid layout, the web page fits a
    tablet screen perfectly.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.4](#figureanchor13.4) 在流体布局中，网页完美地适应了平板屏幕。'
- en: '![13_04.png](Images/13_04.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![13_04.png](Images/13_04.png)'
- en: '[Figure 13.5](#figureanchor13.5) The liquid layout also fits a smartphone screen
    but at the cost of too-narrow columns.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.5](#figureanchor13.5) 流体布局也适合智能手机屏幕，但代价是列太窄。'
- en: '![13_05.png](Images/13_05.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![13_05.png](Images/13_05.png)'
- en: Liquid Layouts with Viewport Units
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用视口单位的流体布局
- en: 'When dealing with percentage units, it''s important to remember that assigning
    a percentage width to an element means that you''re styling that element to be
    a percentage of its *parent''s* width. If a parent element is 800 pixels wide,
    and you declare `width: 75%` on a child element, that child is 600 pixels wide.
    It doesn''t matter whether the browser''s screen width is 2,000 pixels; that child
    takes up only 600 pixels across the screen.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '当处理百分比单位时，重要的是要记住，将百分比宽度分配给一个元素意味着你正在将该元素样式设置为其*父元素*宽度的百分比。如果父元素宽度为800像素，你在子元素上声明`width:
    75%`，则该子元素宽度为600像素。浏览器屏幕宽度是2,000像素并不重要；该子元素在屏幕上仅占用600像素。'
- en: What if you want that child element to be 75 percent of the screen instead of
    its parent? In that case, you need to switch from percentages to viewport units,
    which act as percentage-like units that apply to the entire browser viewport.
    The four units you can use are
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想让子元素宽度为屏幕宽度的75%，而不是其父元素宽度，那么在这种情况下，你需要从百分比转换为视口单位，这些单位类似于百分比单位，适用于整个浏览器视口。你可以使用的四个单位是
- en: '`vw`—The viewport width unit, where `100vw` equals 100 percent of the current
    viewport width. If the viewport is 1,600 pixels wide, `1vw` is equivalent to `16px`.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vw`—视口宽度单位，其中`100vw`等于当前视口宽度的100%。如果视口宽度为1,600像素，则`1vw`相当于`16px`。'
- en: '`vh—`The viewport height unit, where `100vh` equals 100 percent of the current
    viewport height. If the viewport is 2,000 pixels high, `1vh` is equivalent to
    `20px`.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vh—`视口高度单位，其中`100vh`等于当前视口高度的100%。如果视口高度为2,000像素，则`1vh`相当于`20px`。'
- en: '`vmin`—The viewport minimum unit, where `100vmin` equals 100 percent of the
    smaller of the two viewport dimensions. If the viewport is 800 pixels wide and
    600 pixels high, `1vmin` is equivalent to `6px` (because in this case, the viewport
    height is the smaller of the two dimensions).'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vmin`—视口最小单位，其中`100vmin`等于两个视口尺寸中较小的100%。如果视口宽度为800像素，高度为600像素，则`1vmin`相当于`6px`（因为在这种情况下，视口高度是两个尺寸中较小的一个）。'
- en: '`vmax`—The viewport maximum unit, where `100vmax` equals 100 percent of the
    larger of the two viewport dimensions. If the viewport is 1,200 pixels wide and
    1,024 pixels high, `1vmax` is equivalent to 12`px` (because the viewport width
    is the larger of the two dimensions).'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`vmax`—视口最大单位，其中`100vmax`等于两个视口尺寸中较大的100%。如果视口宽度为1,200像素，高度为1,024像素，则`1vmax`相当于12`px`（因为视口宽度是两个尺寸中较大的一个）。'
- en: 'Suppose that you want to display an image so that it automatically takes up
    the entire height of the viewport. You can do that by applying the following rule
    to the image:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想显示一个图像，使其自动占据视口的整个高度。你可以通过将以下规则应用于图像来实现这一点：
- en: '[PRE8]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'I added the `width: auto` declaration to tell the browser to calculate the
    width automatically based on the height, which maintains the image''s original
    aspect ratio.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '我添加了`width: auto`声明来告诉浏览器根据高度自动计算宽度，这保持了图像的原始宽高比。'
- en: Play
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: You can try out this full-height image technique on the Playground. Online:[wdpg.io/13-2-4](http://wdpg.io/13-2-4)
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在Playground上尝试这种全高图像技术。在线：[wdpg.io/13-2-4](http://wdpg.io/13-2-4)
- en: 'Lesson 13.3: Creating a Flexible Layout'
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13.3课：创建弹性布局
- en: 'Covers: Using flexbox to wrap elements'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 涵盖：使用flexbox包裹元素
- en: 'Online: [wdpg.io/13-3-0](http://wdpg.io/13-3-0)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-3-0](http://wdpg.io/13-3-0)
- en: When the screen gets too narrow to display side-by-side content effectively,
    it's time for your layout to change. Specifically, you need your layout to stop
    using side-by-side columns and switch to a more vertical layout that gives each
    element the full width of the screen.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 当屏幕变得太窄，无法有效地并排显示内容时，是时候改变你的布局了。具体来说，你需要你的布局停止使用并排列，并切换到一个更垂直的布局，使每个元素都能占据整个屏幕的宽度。
- en: You'll see in the next section that CSS offers a technique that enables you
    to directly access the width of the current device. That tool is a powerful one,
    but for many layouts it's overkill, because you have ways to get elements to wrap
    automatically and create a so-called *flexible layout*.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，你会看到CSS提供了一种技术，允许你直接访问当前设备的宽度。这个工具非常强大，但对于许多布局来说，它可能有些过度，因为你有方法让元素自动换行并创建所谓的*弹性布局*。
- en: Remember
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: A layout in which elements wrap when there isn't enough horizontal room to display
    them side by side is known as a *flexible layout*.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 当没有足够水平的空间来并排显示元素时，元素会自动换行，这种布局被称为*弹性布局*。
- en: One possibility is to convert your floats to inline blocks. When you set the
    widths to percentages and add a `min-width` declaration to ensure that your blocks
    are always greater than or equal to some minimum size, your blocks will wrap when
    the viewport no longer has enough horizontal room to display the blocks. Unfortunately,
    if you use the faux-column trick that I told you about in Chapter 11, there are
    certain widths at which the block gets wrapped but you can still see part of the
    faux column, which is unsightly. Inline blocks are suitable only if you don't
    use the faux-column technique.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 一种可能性是将你的浮动转换为内联块。当你将宽度设置为百分比并添加一个`min-width`声明以确保你的块始终大于或等于某个最小尺寸时，你的块将在视口没有足够的水平空间来显示块时自动换行。不幸的是，如果你使用了我在第11章中提到的假列技巧，在特定的宽度下块会换行，但你仍然可以看到假列的一部分，这看起来很不好。内联块只适用于你没有使用假列技巧的情况。
- en: Play
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: You can see the inline-block technique in action on the Playground. Online:[wdpg.io/13-3-2](http://wdpg.io/13-3-2)
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在Playground上看到内联块技术的实际应用。在线：[wdpg.io/13-3-2](http://wdpg.io/13-3-2)
- en: A better solution is flexbox, which offers the `flex-wrap` property to activate
    wrapping within a container. It also enables you to use `flex-grow` to ensure
    that your blocks use the proportions you want, and you can establish minimum block
    widths by adding a `flex-basis` value and setting `flex-shrink` to `0`.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更好的解决方案是flexbox，它提供了`flex-wrap`属性来激活容器内的换行。它还允许你使用`flex-grow`来确保你的块使用你想要的比率，并且你可以通过添加`flex-basis`值并将`flex-shrink`设置为`0`来建立最小块宽度。
- en: The following updates the earlier example with a flexible layout.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例使用弹性布局更新了之前的例子。
- en: Example
  id: totrans-103
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/13-3-1](http://wdpg.io/13-3-1)
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-3-1](http://wdpg.io/13-3-1)
- en: This code shows the conversion of the liquid layout to a flexible layout.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码展示了将流动布局转换为弹性布局的过程。
- en: CSS
  id: totrans-106
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE9]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: ①  The `body` element is a column flex container.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: ①  `body` 元素是一个列弹性容器。
- en: ②  The `container` element is a column flex container.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: ②  `container` 元素是一个列弹性容器。
- en: ③  The `main` element is a flex container that wraps.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ③  `main` 元素是一个包裹的弹性容器。
- en: ④  The `article` element can grow, but not shrink, from a basis of 300px.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: ④  `article` 元素可以从300px的基础值增长，但不能缩小。
- en: ⑤  The `aside` element can grow, but not shrink, from a basis of 150px.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ⑤  `aside` 元素可以从150px的基础值增长，但不能缩小。
- en: HTML
  id: totrans-113
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE10]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Here, I''m using the `body` element as a column flex container, which enables
    me to center the `div` horizontally by using `align-items: center`. The `main`
    element is also set up as a flex container with `flex-wrap: wrap` declared. The
    `article` and `aside` elements (which are flex items) get `flex-grow` values of
    `2` and 1, respectively, which are the flex equivalents of the 66.67 percent and
    33.33 percent `width` values from the liquid layout. In both cases, I also added
    a `flex-basis` to each (`300px` and `150px`, respectively) and set `flex-shrink`
    to `0`, which creates a minimum width value for each element.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '在这里，我使用`body`元素作为列flex容器，这使我能够通过使用`align-items: center`水平居中`div`。`main`元素也被设置为flex容器，并声明了`flex-wrap:
    wrap`。`article`和`aside`元素（作为flex项目）分别具有`flex-grow`值为`2`和`1`，这是从液体布局中66.67%和33.33%的`width`值的flex等效值。在两种情况下，我还为每个元素添加了`flex-basis`（分别为`300px`和`150px`）并将`flex-shrink`设置为`0`，这为每个元素创建了一个最小宽度值。'
- en: The web’s greatest strength, I believe, is often seen as a limitation, as a
    defect. It is the nature of the web to be flexible, and it should be our role
    as designers and developers to embrace this flexibility and produce pages which,
    by being flexible, are accessible to all. *—John Allsop*
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 我认为，网络的最大的优势通常被视为一种限制，一种缺陷。网络的本质是灵活的，作为设计师和开发者，我们应该拥抱这种灵活性，制作出通过灵活性对所有用户都适用的页面。*——约翰·奥尔斯普*
- en: '[Figure 13.6](#figure13.6) shows the flexible page layout as it appears on
    a smartphone screen. If you scroll down, as shown in [Figure 13.7](#figure13.7),
    you see that the `aside` element has wrapped under the `article` element.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.6](#figure13.6) 展示了在智能手机屏幕上出现的灵活页面布局。如果你向下滚动，如[图13.7](#figure13.7)所示，你会看到`aside`元素在`article`元素下换行。'
- en: '[Figure 13.6](#figureanchor13.6) The top portion of the flexible page layout
    as viewed on a smartphone screen'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.6](#figureanchor13.6) 在智能手机屏幕上查看的灵活页面布局的顶部部分'
- en: '![13_06.png](Images/13_06.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![13_06.png](Images/13_06.png)'
- en: '[Figure 13.7](#figureanchor13.7) The bottom portion of the flexible layout
    shows that the `aside` element has wrapped under the `article` element.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.7](#figureanchor13.7) 灵活布局的底部部分显示`aside`元素在`article`元素下换行。'
- en: '![13_07.png](Images/13_07.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![13_07.png](Images/13_07.png)'
- en: 'Lesson 13.4: Creating an Adaptive Layout'
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13.4课：创建自适应布局
- en: 'Covers: Using `@media` queries'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 涵盖：使用`@media`查询
- en: 'Online: [wdpg.io/13-4-0](http://wdpg.io/13-4-0)'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-4-0](http://wdpg.io/13-4-0)
- en: In Lesson 13.3, you learned how to use flexbox to get liquid elements to wrap
    when the device viewport gets too narrow to accommodate the elements' minimum
    widths. That technique is handy, but it's not always going to be one you can turn
    to, because there may be times when you can't use flexbox (because you need to
    support older versions of Internet Explorer, for example).
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在第13.3课中，你学习了如何使用flexbox使液体元素在设备视口变得太窄而无法容纳元素的最低宽度时进行换行。这个技术很实用，但并不总是可以依赖，因为可能有些时候你不能使用flexbox（例如，你需要支持旧版本的Internet
    Explorer）。
- en: On a different but related note, take a look back at [Figure 13.6](#figure13.6).
    See how the page title (Responsive Web Design) barely fits the width of the smartphone
    viewport? If that element were even a few pixels bigger or a few letters longer,
    it would wrap and look quite awful, as shown in [Figure 13.8](#figure13.8).
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在另一个但相关的方面，回顾一下[图13.6](#figure13.6)。看看页面标题（响应式网页设计）几乎适合智能手机视口的宽度吗？如果这个元素再大几像素或者再长几个字母，它就会换行，看起来会很糟糕，如[图13.8](#figure13.8)所示。
- en: '[Figure 13.8](#figureanchor13.8) Increase the size of the page title a bit,
    and the design breaks.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.8](#figureanchor13.8) 稍微增加页面标题的大小，设计就会破裂。'
- en: '![13_08.png](Images/13_08.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![13_08.png](Images/13_08.png)'
- en: 'How are these scenarios related? You can solve the underlying problems by asking
    questions about the width of the browser viewport:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 这些场景是如何相关的？你可以通过询问浏览器视口宽度的问题来解决潜在的问题：
- en: Is the viewport width less than 450 pixels? If so, remove the floats from the
    elements so that they display in the default stacked layout.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视口宽度是否小于450像素？如果是，从元素中移除浮动，以便它们以默认堆叠布局显示。
- en: Is the viewport width less than 350 pixels? If so, reduce the type size of the
    page title to 24px.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视口宽度是否小于350像素？如果是，将页面标题的字体大小减少到24px。
- en: Is the viewport width greater than 1,024 pixels? If so, display the `aside`
    element.
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视口宽度是否大于1,024像素？如果是，显示`aside`元素。
- en: You can ask these and many other types of questions by defining *media queries*
    within your CSS. A *media query* is an expression accompanied by a code block
    consisting of one or more style rules. The expression interrogates some feature
    of the screen, such as its width. If that expression is true for the current device,
    the browser applies the media query's style rules; if the expression is false,
    the browser ignores the media query's rules. A layout that uses media queries
    is often called an *adaptive layout* because it adapts itself to the screen on
    which it's displayed.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在 CSS 中定义 *媒体查询* 来提出这些问题以及许多其他类型的问题。一个 *媒体查询* 是一个表达式，后面跟着一个包含一个或多个样式规则的代码块。该表达式调查屏幕的某个特性，如其宽度。如果该表达式对当前设备为真，则浏览器应用媒体查询的样式规则；如果表达式为假，则浏览器忽略媒体查询的规则。使用媒体查询的布局通常称为
    *自适应布局*，因为它会根据显示它的屏幕进行自我调整。
- en: Remember
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: A layout that uses media queries to adjust page elements and properties based
    on screen features such as width, is known as an *adaptive layout*.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 使用媒体查询根据屏幕特性（如宽度）调整页面元素和属性的布局称为 *自适应布局*。
- en: 'Here''s the general syntax:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一般语法：
- en: '[PRE11]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Remember
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: Technically, the `@media` rule can be followed by a keyword that specifies the
    type of media, such as `print` or `tv`. The default keyword is `screen`, however,
    which is the value you want on the web, so you can leave this out.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 从技术上讲，`@media` 规则可以跟一个关键字来指定媒体类型，例如 `print` 或 `tv`。默认关键字是 `screen`，然而，这是你希望在网页上使用的值，所以你可以省略这一点。
- en: The `*expression*` is most often `min-width` or `max-width`, followed by a colon
    and a value.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '`*expression*` 最常见的是 `min-width` 或 `max-width`，后面跟一个冒号和一个值。'
- en: 'If you want to apply styles on a screen no wider than a specified value, use
    `max-width`. The following code tells the browser to display the `h1` element
    with a type size of `24px` whenever the screen width is less than or equal to
    350 pixels:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想在屏幕宽度不超过指定值的情况下应用样式，请使用 `max-width`。以下代码告诉浏览器，当屏幕宽度小于或等于 350 像素时，以 `24px`
    的字体大小显示 `h1` 元素：
- en: '[PRE12]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'If you want to apply styles on a screen that’s at least as wide as a specified
    value, use `min-width`. The following code sets `display: inline-block` on the
    `aside` element whenever the screen width is greater than or equal to 1,024 pixels:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '如果你想在屏幕宽度至少与指定值相同的情况下应用样式，请使用 `min-width`。以下代码在屏幕宽度大于或等于 1,024 像素时，将 `display:
    inline-block` 应用于 `aside` 元素：'
- en: '[PRE13]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Learn
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 学习
- en: The vast majority of the media queries you’ll write use `min-width` or `max-width`
    in the expression. But you can query several other media features, including height,
    resolution, and aspect ratio. To see the complete list, check out the Mozilla
    Developer Network page at [https://developer.mozilla.org/en-US/docs/Web/CSS/@media#Media_features](https://developer.mozilla.org/en-US/docs/Web/CSS/@media#Media_features).
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 你将要编写的绝大多数媒体查询都使用 `min-width` 或 `max-width` 在表达式中。但你可以查询其他几个媒体特性，包括高度、分辨率和宽高比。要查看完整列表，请查看
    Mozilla 开发者网络页面 [https://developer.mozilla.org/en-US/docs/Web/CSS/@media#Media_features](https://developer.mozilla.org/en-US/docs/Web/CSS/@media#Media_features)。
- en: The following code updates the example to use a media query that removes the
    floats from the `article` and `aside` elements whenever the screen width drops
    to 450 pixels or less.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码更新示例，使用一个媒体查询，在屏幕宽度降至 450 像素或更少时移除 `article` 和 `aside` 元素的浮动。
- en: Play
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: Given a three-column flexbox layout, write a media query that displays the middle
    column first on smaller screens. Online:[wdpg.io/13-4-3](http://wdpg.io/13-4-3)
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 给定一个三列弹性盒布局，编写一个媒体查询，在较小屏幕上首先显示中间列。在线：[wdpg.io/13-4-3](http://wdpg.io/13-4-3)
- en: 'For good measure, the media query also does the following:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保险起见，媒体查询还执行以下操作：
- en: 'It applies `width: 100%` to the `article` and the `aside` element.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将 `article` 和 `aside` 元素的宽度设置为 `100%`。
- en: It reduces the font size of the `h1` element (that is, the page title) to `24px`.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将 `h1` 元素（即页面标题）的字体大小减少到 `24px`。
- en: It changes the background color of the `main` element to white, which effectively
    turns off the faux-column effect because you don't need it while the `aside` element
    isn't floated.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将 `main` 元素的背景颜色更改为白色，这有效地关闭了假列效果，因为当 `aside` 元素未浮动时，你不需要它。
- en: Example
  id: totrans-154
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/13-4-1](http://wdpg.io/13-4-1)
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-4-1](http://wdpg.io/13-4-1)
- en: This code uses a media query to remove the floats from the `article` and `aside`
    elements, as well as perform a few other tasks as noted.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码使用媒体查询从 `article` 和 `aside` 元素中移除浮动，并执行一些其他任务，如注释所述。
- en: CSS
  id: totrans-157
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE14]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: ①  The media query applies to screen widths up to `450px`.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ① 媒体查询适用于屏幕宽度最多为 `450px`。
- en: ②  Floats are removed from the `article` and `aside` elements.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: ② 从 `article` 和 `aside` 元素中移除了浮动。
- en: ③  The page title is reduced to `24px`.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: ③ 页面标题缩小到 `24px`。
- en: ④  The `main` element background color is changed to white.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ④ 将 `main` 元素的背景颜色更改为白色。
- en: '[Figure 13.9](#figure13.9) shows how the page layout appears on a screen with
    a width greater than 450 pixels. As shown in Figures 13.10 and 13.11, however,
    the layout changes on a screen with a width of 450 pixels or less.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.9](#figure13.9) 展示了屏幕宽度大于450像素时页面布局的外观。然而，如图13.10和13.11所示，当屏幕宽度为450像素或更小时，布局会发生变化。'
- en: '[Figure 13.9](#figureanchor13.9) Here''s the page layout you see when the screen
    width is greater than 450 pixels.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.9](#figureanchor13.9) 这是屏幕宽度大于450像素时你看到的页面布局。'
- en: '![13_09.png](Images/13_09.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![13_09.png](Images/13_09.png)'
- en: Figure 13.10 Here's the top portion of the page layout that appears on a screen
    that is less than 450 pixels wide.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.10 这是屏幕宽度小于450像素时页面布局的顶部部分。
- en: '![13_10.png](Images/13_10.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![13_10.png](Images/13_10.png)'
- en: Figure 13.11 The bottom portion of the screen confirms that the floats have
    been removed from the `article` and `aside` elements.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.11 屏幕底部部分确认了已从 `article` 和 `aside` 元素中移除了浮动。
- en: '![13_11.png](Images/13_11.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![13_11.png](Images/13_11.png)'
- en: Play
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: Given a version of the example layout in which the `aside` element is hidden
    by default, write a media query that displays the `aside` element when the viewport
    is at least 1,024 pixels wide. Online:[wdpg.io/13-4-2](http://wdpg.io/13-4-2)
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 给定一个示例布局版本，其中 `aside` 元素默认隐藏，编写一个媒体查询，当视口宽度至少为1,024像素时显示 `aside` 元素。在线：[wdpg.io/13-4-2](http://wdpg.io/13-4-2)
- en: A Note about Media Query Breakpoints
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于媒体查询断点的说明
- en: You may be tempted to set up your media queries to target specific device widths,
    such as 320px for an iPhone 5 and earlier, 400px for a Galaxy Note, 768px for
    an iPad 4 and earlier, and so on. Alas, that way lies madness. There are just
    too many devices with too many different widths for you to have a hope of targeting
    them all. Even if you could somehow do that, your code would be out of date by
    the end of the day, because new devices with new widths are being released constantly.
    Forget it.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想设置媒体查询以针对特定的设备宽度，例如320px针对iPhone 5及更早版本，400px针对Galaxy Note，768px针对iPad
    4及更早版本，等等。然而，这条路是疯狂的道路。有太多不同宽度的设备，你不可能希望针对它们全部。即使你能够以某种方式做到这一点，你的代码也会在一天结束时过时，因为不断有新宽度的设备被发布。忘掉它吧。
- en: Instead, it's much better to let your content dictate the `min-width` and `max-width`
    values you use in your media queries. On a desktop screen, for example, you might
    determine that your text lines are at their most readable when they have about
    75 characters per line. If you can get that line length when the container element
    is 600 pixels wide, it makes sense to set that element's `max-width` property
    to `600px`. Suppose that you also determine that your lines remain readable down
    to about 50 characters per line and that you get that line length when the container
    element is 400 pixels wide.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，最好让内容决定你在媒体查询中使用的 `min-width` 和 `max-width` 值。例如，在桌面屏幕上，你可能确定你的文本行在每行大约有75个字符时最易读。如果你在容器元素宽度为600像素时能够达到这个行长度，那么将这个元素的
    `max-width` 属性设置为 `600px` 是有意义的。假设你还确定你的行在每行大约有50个字符时仍然可读，并且当容器元素宽度为400像素时达到这个行长度。
- en: 'Experiment with different screen widths to see when that container''s width
    falls below this 400-pixel threshold. This depends on your overall page layout,
    but suppose that it happens when the screen width falls below 550 pixels because
    you''ve got the container floated next to a 150-pixel-wide sidebar. Your page
    becomes less readable below that width, so the design *breaks* at 550px. That
    value becomes the *breakpoint* for a media query:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试不同的屏幕宽度，以查看容器宽度何时低于这个400像素的阈值。这取决于你的整体页面布局，但假设当屏幕宽度低于550像素时发生这种情况，因为你将容器浮动在宽度为150像素的侧边栏旁边。当宽度低于这个值时，你的页面可读性会降低，因此设计在550px处断裂。这个值成为媒体查询的
    *断点*：
- en: '[PRE15]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'In general, you vary the width of the browser window and watch for widths at
    which the design breaks: text lines getting too short or too long, a type size
    becoming too big, a block element that ends up in a weird place, and so on. Then
    use the width as a breakpoint for a media query.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你改变浏览器窗口的宽度，并注意设计断裂的宽度：文本行变得太短或太长，字体大小变得太大，块元素最终出现在奇怪的位置，等等。然后使用这个宽度作为媒体查询的断点。
- en: 'Lesson 13.5: Creating a Mobile-First Layout'
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13.5课：创建移动优先布局
- en: 'Covers: Using `@media` for nonmobile screens'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 包括：使用 `@media` 为非移动屏幕
- en: 'Online: [wdpg.io/13-5-0](http://wdpg.io/13-5-0)'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-5-0](http://wdpg.io/13-5-0)
- en: In Lesson 13.4, you saw how to use media queries to target mobile screens and
    adjust layout features such as removing floats. That works fine, but a school
    of web-design thought says that all CSS should be additive instead of subtractive.
    That is, your CSS should add or modify properties values, never remove them. Why?
    In a sense, CSS is like cooking; it's a lot easier to add salt and other seasonings
    than to remove them. In your web-design kitchen, it's always best to start with
    the most minimal layout that works and then add things to it.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在第 13.4 节中，你看到了如何使用媒体查询来针对移动屏幕并调整布局功能，如移除浮动。这没问题，但有一种网络设计思想认为，所有 CSS 都应该是累加的，而不是减法的。也就是说，你的
    CSS 应该添加或修改属性值，而不是删除它们。为什么？在某种程度上，CSS 就像烹饪；添加盐和其他调味料比移除它们要容易得多。在你的网页设计厨房里，始终最好从最简单的布局开始，然后添加内容。
- en: In almost every conceivable web page scenario, the most minimal layout is the
    one that's designed to work on the smallest devices, which these days means smartphones.
    The idea, then, is to build your page to look and work well on the smallest smartphone
    screen (typically, 320 pixels wide). Only then do you add to and modify the layout
    for larger screens. This layout is called a *mobile-first* *layout*, and it's
    at the heart of responsive web design today.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在几乎每一种可想象的网页场景中，最简单的布局是专为在最小的设备上工作而设计的，这些设备如今意味着智能手机。因此，你的想法是构建你的页面，使其在最小的智能手机屏幕上看起来和工作得很好（通常是
    320 像素宽）。然后你才为更大的屏幕添加和修改布局。这种布局被称为 *移动优先* 布局，它是当今响应式网页设计的核心。
- en: Remember
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: You don't necessarily have to start with a width as small as 320px. If you have
    access to your site analytics, they should tell you what devices your visitors
    use. If you find that all or most of your mobile users are on devices that are
    at least 400 pixels wide, you should start there.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 你不一定必须从 320px 这样小的宽度开始。如果你可以访问你的网站分析数据，它们应该告诉你访客使用哪些设备。如果你发现所有或大多数移动用户都在至少 400
    像素宽的设备上，你应该从这里开始。
- en: Remember
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: A layout that begins with a structure designed for mobile devices and adds complexity
    only when the screen is wide enough is known as a *mobile-first layout*.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 一种从为移动设备设计的结构开始，并在屏幕足够宽时增加复杂性的布局被称为 *移动优先布局*。
- en: One of the tenets of mobile-first design is to include in the initial, mobile-focused
    layout only those page elements that are essential to the user's experience of
    the page. Many mobile users are surfing over slow connections with limited data
    plans, so as a conscientious web designer, it's your job to ensure that these
    users are served nothing frivolous. What counts as "frivolous" or "nonessential"
    is often a tough call, because what's trivial to one person might be vital to
    another. You'll need to exercise some judgment here, but that's why they pay you
    the big bucks.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 移动优先设计的一个原则是在初始的以移动为中心的布局中只包含对用户页面体验至关重要的页面元素。许多移动用户使用缓慢的连接和有限的数据计划上网，因此作为一名负责任的网页设计师，你的任务是确保这些用户不会得到任何无用的内容。什么算是“无用的”或“非必要的”往往是一个棘手的问题，因为对一个人来说是微不足道的，而对另一个人来说可能是至关重要的。你在这里需要做出一些判断，这也是他们付给你高薪的原因。
- en: Mobile devices require software development teams to focus on only the most
    important data and actions in an application. There simply isn't room in a 320
    by 480 pixel screen for extraneous, unnecessary elements. You have to prioritize.
    *—Luke Wroblewski*
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 移动设备要求软件开发团队只关注应用程序中最重要数据和操作。在 320x480 像素的屏幕上根本无法容纳多余的、不必要的元素。你必须优先考虑。*——卢克·沃罗布列夫斯基*
- en: 'As an illustration, suppose that you modify the example page so that it includes
    a second `aside` element on the left, which you’ll use to display a quotation
    related to responsive web design. This touch is nice but not essential, particularly
    because in the normal flow of the web page, this element would appear before the
    `article` element. As shown in the following code, add this new `aside` element
    with the `display: none` declaration to hide it by default. Then use a media query
    to display the element on screens that are at least 750 pixels wide.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '为了说明这一点，假设你修改了示例页面，使其包含一个左侧的第二个 `aside` 元素，你将使用它来显示与响应式网页设计相关的引言。这个细节很好，但不是必需的，尤其是在网页的正常流程中，这个元素会出现在
    `article` 元素之前。如下面的代码所示，添加这个新的 `aside` 元素并使用 `display: none` 声明来默认隐藏它。然后使用媒体查询在至少
    750 像素宽的屏幕上显示该元素。'
- en: Example
  id: totrans-190
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/13-5-1](http://wdpg.io/13-5-1)
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/13-5-1](http://wdpg.io/13-5-1)
- en: This code uses a media query to display the otherwise-hidden `<aside class="quotation">`
    element on screens that are at least 750 pixels wide.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码使用媒体查询在至少750像素宽的屏幕上显示其他隐藏的 `<aside class="quotation">` 元素。
- en: CSS
  id: totrans-193
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE16]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: ①  The `quotation` class is hidden by default.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: ①  `quotation` 类默认是隐藏的。
- en: ②  On screens at least `750px` wide, the element is displayed.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: ②  在至少 `750px` 宽的屏幕上，元素会被显示。
- en: HTML
  id: totrans-197
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE17]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: ③  The new `quotation` element
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: ③  新的 `quotation` 元素
- en: '[Figure 13.12](#figure13.12) shows that on a smartphone, the layout doesn’t
    include the quotation sidebar, but it does appear on a wider screen like the tablet
    shown in Figure 13.13.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.12](#figure13.12) 显示，在智能手机上，布局不包括引用侧边栏，但它会在如图13.13所示的平板电脑等更宽的屏幕上出现。'
- en: '[Figure 13.12](#figureanchor13.12) The quotation sidebar doesn’t appear on
    a narrow smartphone screen.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '[图13.12](#figureanchor13.12) 引用侧边栏在窄智能手机屏幕上不会出现。'
- en: '![13_12.png](Images/13_12.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![13_12.png](Images/13_12.png)'
- en: Figure 13.13 The quotation sidebar does appear on a wider screen, such as a
    tablet.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.13 引用侧边栏在更宽的屏幕上（如平板电脑）会出现。
- en: '![13_13.png](Images/13_13.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![13_13.png](Images/13_13.png)'
- en: Which Layout Is the Responsive One?
  id: totrans-205
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 哪种布局是响应式的？
- en: 'That''s a good question. The answer is that together, they *all* add up to
    the modern conception of a responsive layout: one that uses relative measurements,
    a flexible grid, and media queries, all presented with a mobile-first approach.
    If you incorporate these concepts into your pages, you''ll be well along the road
    to your ultimate destination: a fully responsive web design.'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个很好的问题。答案是，它们**全部**加起来构成了现代响应式布局的概念：一种使用相对度量、灵活的网格和媒体查询的布局，所有这些都以移动优先的方法呈现。如果你将这些概念融入你的页面，你将走在通往最终目的地的路上：一个完全响应式的网页设计。
- en: Remember
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: A layout that uses relative measurement units, a flexible grid, media queries,
    and a mobile-first approach is known as a *responsive layout*.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 使用相对度量单位、灵活的网格、媒体查询和移动优先方法的布局被称为**响应式布局**。
- en: But you're not quite there yet. To complete the journey, you need to know how
    to make your images and text responsive. You learn how to do that in Chapter 14.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 但你还没有完全到达那里。为了完成这段旅程，你需要知道如何让你的图片和文本响应式。你将在第14章学习如何做到这一点。
- en: Summary
  id: totrans-210
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Avoid fixed-width layouts in which page elements are sized by using absolute
    measurements such as pixels.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 避免使用固定宽度布局，其中页面元素的大小是通过使用像素等绝对度量来确定的。
- en: Use liquid layouts in which horizontal measures such as widths, paddings, and
    margins are expressed in percentages.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用流体布局，其中水平度量（如宽度、填充和边距）以百分比表示。
- en: If doing so is appropriate for your design, use flexbox or inline blocks to
    create a flexible layout that allows page elements to wrap as the screen size
    gets smaller.
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果这样做适合你的设计，使用flexbox或内联块来创建一个灵活的布局，允许页面元素在屏幕尺寸变小时进行包裹。
- en: To create an adaptive layout, use media queries to adjust element sizes, change
    the layout, and hide or display elements depending on the screen size.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了创建自适应布局，使用媒体查询调整元素大小、更改布局，并根据屏幕大小隐藏或显示元素。
- en: Use a mobile-first approach in which your initial page layout is optimized for
    a smartphone, and use media queries to add features and change the layout as needed
    for larger screens.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用移动优先的方法，其中你的初始页面布局针对智能手机优化，并使用媒体查询根据需要为更大的屏幕添加功能和更改布局。
