- en: Appendix. Masking multiple containers with Arquillian Chameleon
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录。使用 Arquillian Chameleon 隐藏多个容器
- en: 'Testing against several containers (WildFly, Glassfish, Tomcat, and so on)
    or even switching between different modes (managed, remote, or embedded) invariably
    results in a bloated pom.xml file. You’ll encounter the following problems:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 对多个容器（如 WildFly、Glassfish、Tomcat 等）进行测试，或者在不同模式（管理、远程或嵌入式）之间切换，不可避免地会导致 pom.xml
    文件膨胀。您会遇到以下问题：
- en: You need to register a specific dependency for each container and mode that
    you want to test against, which also requires several profiles.
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您需要为每个容器和您想要测试的模式注册特定的依赖项，这也需要几个配置文件。
- en: In the case of a managed container, you need to download, install, and possibly
    configure the application server.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在管理容器的情况下，您需要下载、安装，并且可能还需要配置应用程序服务器。
- en: '*Chameleon containers* ([https://github.com/arquillian/arquillian-container-chameleon](https://github.com/arquillian/arquillian-container-chameleon))
    can quickly adapt to your needs without requiring additional dependency configuration.
    To use this approach, do as you usually would in Arquillian, but add a Chameleon
    container to pom.xml instead of an application server–specific artifact:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '*Chameleon 容器* ([https://github.com/arquillian/arquillian-container-chameleon](https://github.com/arquillian/arquillian-container-chameleon))
    可以快速适应您的需求，而无需进行额外的依赖项配置。要使用这种方法，就像在 Arquillian 中通常所做的那样，但将 Chameleon 容器添加到 pom.xml
    而不是特定应用程序服务器的组件中：'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then, add this configuration to arquillian.xml:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，将此配置添加到 arquillian.xml 文件中：
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '***1* Selects the container, version, and mode**'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***1* 选择容器、版本和模式**'
- en: '***2* Specific properties of the adapter**'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***2* 适配器的特定属性**'
- en: This example tells Arquillian to use WildFly 9.0.0 in managed mode. When running
    a test, Chameleon checks whether the configured container is installed; if it
    isn’t, Chameleon downloads and installs it. Then, Chameleon registers the required
    underlying adapter on the classpath. After that, the container is started, and
    the test is executed normally.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例告诉 Arquillian 使用管理模式的 WildFly 9.0.0。当运行测试时，Chameleon 会检查配置的容器是否已安装；如果没有安装，Chameleon
    会下载并安装它。然后，Chameleon 在类路径上注册所需的底层适配器。之后，容器启动，并正常执行测试。
- en: Notice that any properties that are set are passed to the underlying adapter.
    This effectively means that with Chameleon, you can use any property that’s valid
    in the adapters.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，任何设置的属性都会传递给底层的适配器。这意味着使用 Chameleon，您可以使用在适配器中有效的任何属性。
- en: You can read more about Arquillian Chameleon and the advantages of using it
    at [https://github.com/arquillian/arquillian-container-chameleon](https://github.com/arquillian/arquillian-container-chameleon).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在 [https://github.com/arquillian/arquillian-container-chameleon](https://github.com/arquillian/arquillian-container-chameleon)
    上了解更多关于 Arquillian Chameleon 以及使用它的优势。
