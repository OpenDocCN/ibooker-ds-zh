- en: Chapter 14  Making Your Images and Typography Responsive
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第14章  使你的图片和排版响应式
- en: 'The most important thing about responsive design is *flexibility*. Everything
    must be flexible: layouts, image sizes, text blocks—absolutely everything. Flexibility
    gives your site the fluidity it needs to fit inside any container. *—Nick Babich*'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 响应式设计最重要的特点是 *灵活性*。一切都必须是灵活的：布局、图片大小、文本块——绝对一切。灵活性给你的网站提供了所需的流动性，使其能够适应任何容器。*——尼克·巴比奇*
- en: '**This chapter covers**'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**本章涵盖**'
- en: Making fluid images that respond to screen size
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 制作响应式屏幕尺寸的流体图片
- en: Delivering different-size images based on the user's screen size
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据用户的屏幕尺寸提供不同大小的图片
- en: Making text adapt to the screen size by specifying responsive font sizes
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过指定响应式字体大小使文本适应屏幕尺寸
- en: Making other page elements adapt to the screen size by specifying responsive
    measurements
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过指定响应式度量使其他页面元素适应屏幕尺寸
- en: In Chapter 13, you learned not only why you shouldn't use a fixed-width layout,
    but also why (and how) you should use responsive layouts that are both flexible
    and adaptive. Having your page layout change in response to different screen widths
    is a must in these days of wildly different screen sizes, but it's only part of
    the total responsive package. To make your pages truly adaptable to any device,
    you need to sprinkle both your page images and
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在第13章中，你不仅学习了为什么不应该使用固定宽度布局，还学习了为什么（以及如何）应该使用既灵活又适应的响应式布局。在屏幕尺寸千差万别的今天，让页面布局根据不同的屏幕宽度变化是必不可少的，但这只是响应式设计的部分内容。为了让你的页面真正适应任何设备，你需要对你的页面图片和
- en: page typography with responsive pixie dust. You need to style images to scale
    up or down depending on the screen width, deliver different images based on the
    screen size, and use responsive type sizes. You learn these and other powerful
    responsive techniques in this chapter.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 使用响应式像素魔法对页面排版进行样式化。你需要根据屏幕宽度对图片进行缩放或缩小，根据屏幕大小提供不同的图片，并使用响应式字体大小。你将在本章学习这些以及其他强大的响应式技术。
- en: Making Images Responsive
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 制作响应式图片
- en: 'Making an image responsive is one of the biggest challenges that web designers
    face. The scale of the challenge comes from two problems associated with making
    images responsive:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 使图片响应式是网页设计师面临的最大挑战之一。挑战的规模来自于与使图片响应式相关的两个问题：
- en: Making a fixed-size image fit into a container with fluid dimensions. An image
    that's 600 pixels wide will fit nicely inside an element that's 800 pixels wide,
    but it overflows if that element is scaled down to 400 pixels wide. Solving this
    problem requires making images fluid so that the size adjusts to the changing
    screen size.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使固定大小的图片适应具有流体尺寸的容器。宽度为 600 像素的图片可以很好地适应宽度为 800 像素的元素，但如果该元素缩小到 400 像素宽，则会溢出。解决这个问题需要使图片变为流体，以便其大小根据屏幕大小的变化进行调整。
- en: Delivering a version of an image that's sized appropriately for the user's screen
    dimensions. It’s one thing to offer up a 2,000 x 1,500-pixel image to desktop
    users, but sending the same image to smartphone users is a waste of upload time
    and bandwidth.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供适合用户屏幕尺寸的图片版本。向桌面用户提供 2,000 x 1,500 像素的图片是一回事，但向智能手机用户发送相同的图片是浪费上传时间和带宽。
- en: The next two lessons show you some basic methods for overcoming these problems.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 下两个课程将向你展示一些基本方法来克服这些问题。
- en: 'Lesson 14.1: Creating Fluid Images'
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第14.1课：创建流体图片
- en: 'Covers: Styling the `img` element for responsiveness'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖内容：为响应式设计样式化 `img` 元素
- en: 'Online:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：
- en: An image comes with a predetermined width and height, so at first blush, it
    seems impossible to overcome these fixed dimensions. Fortunately, an `<img>` tag
    is another page element. Yes, by default the image is displayed at its full width
    and height, like a `div` or any other block element. But in the same way that
    you can make a block element fluid by using percentages, you can make an image
    fluid.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一张图片带有预定的宽度和高度，乍一看，似乎无法克服这些固定尺寸。幸运的是，`<img>` 标签是页面元素之一。是的，默认情况下，图片会以全宽度和高度显示，就像
    `div` 或其他任何块元素一样。但就像你可以通过使用百分比使块元素变为流体一样，你也可以使图片变为流体。
- en: 'You need to be a bit careful when working with images:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理图片时，你需要稍微小心一些：
- en: In most cases, you don't want the image to scale larger than its original size
    since, for most images, this scaling will result in ugly pixilation and jagged
    edges.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大多数情况下，你不想让图片放大超过其原始大小，因为对于大多数图片来说，这种缩放会导致难看的像素化和锯齿边缘。
- en: If you change one dimension of an image, it will almost certainly appear to
    be skewed because its original aspect ratio—the ratio of the width to the height
    of the image—will have been altered. Therefore, you have to change both the width
    and the height proportionally to retain the image’s original aspect ratio. Fortunately,
    you can get the browser to do some of the work for you.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你改变图片的一个维度，它几乎肯定会看起来是倾斜的，因为它的原始宽高比——图片宽度与高度的比例——已经被改变。因此，你必须成比例地改变宽度和高度以保持图片的原始宽高比。幸运的是，你可以让浏览器为你做部分工作。
- en: 'To handle both concerns, you can create a fluid image that responds to changes
    in screen size by applying the following rule:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 为了处理这两个问题，你可以创建一个响应式图片，通过应用以下规则来响应屏幕大小的变化：
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Setting `max-width: 100%` allows the image to scale smaller or larger as its
    parent container changes size but also specifies that the image can never scale
    larger than its original width. Setting `height: auto` tells the browser to maintain
    the image''s original aspect ratio by calculating the height based on the image''s
    current width.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '设置 `max-width: 100%` 允许图片根据其父容器大小的变化而缩小或放大，但同时也指定图片的宽度永远不会超过其原始宽度。设置 `height:
    auto` 告诉浏览器通过根据图片当前宽度计算高度来保持图片的原始宽高比。'
- en: Play
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 播放
- en: 'In some cases, you don''t want the image height to scale larger than its original
    height, so you need to set `max-height: 100%` and `width: auto` on the image.
    Online:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '在某些情况下，你不想让图片的高度超过其原始高度，因此需要在图片上设置 `max-height: 100%` 和 `width: auto`。在线：'
- en: The following code shows an example.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码展示了示例。
- en: Example
  id: totrans-27
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/14-1-1](http://wdpg.io/14-1-1)
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/14-1-1](http://wdpg.io/14-1-1)
- en: This code creates a fluid image that scales smaller or larger as the screen
    size changes but doesn’t scale larger than its original dimensions.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码创建了一个响应式图片，当屏幕大小变化时，图片会相应地缩小或放大，但不会放大超过其原始尺寸。
- en: CSS
  id: totrans-30
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE1]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: ①  The rule that makes images fluid
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ①  使图片流动的规则
- en: HTML
  id: totrans-33
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE2]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: ②  An image added to the `aside` element
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ②  添加到 `aside` 元素中的图片
- en: Figures 14.1 and 14.2 show how the image size changes as the width of its parent
    `aside` element changes.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.1和14.2展示了当其父 `aside` 元素的宽度变化时，图片大小如何变化。
- en: Figure 14.1 The image as it appears when its `aside` parent element is given
    the full width of a smartphone screen
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.1 当其 `aside` 父元素被赋予智能手机屏幕的全宽时，图片的显示效果
- en: '![14_01.png](Images/14_01.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![14_01.png](Images/14_01.png)'
- en: Figure 14.2 When the `aside` element is displayed at a narrower width, the image
    scales down accordingly.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.2 当 `aside` 元素以较窄的宽度显示时，图片相应地缩小。
- en: '![14_02.png](Images/14_02.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![14_02.png](Images/14_02.png)'
- en: 'Lesson 14.2: Delivering Images Responsively'
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第14.2课：响应式图片交付
- en: 'Covers: The `sizes` and `srcset` attributes'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖：`sizes` 和 `srcset` 属性
- en: 'Online:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：
- en: 'The other side of the responsive-image coin involves delivering to the user
    a version of the image that has a size that''s appropriate for the device screen.
    You might deliver a small version of the image for smartphone screens, a medium
    version for tablets, and a large version for desktops. In the past, you needed
    a script to handle this task, but in HTML5, you can do everything right in your
    `<img>` tag thanks to two new attributes: `sizes` and `srcset`.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 响应式图片的另一面涉及向用户交付一个适合设备屏幕大小的图片版本。你可能为智能手机屏幕提供图片的小版本，为平板电脑提供中等版本，为桌面电脑提供大版本。在过去，你需要一个脚本来处理这个任务，但在HTML5中，你可以通过两个新属性
    `sizes` 和 `srcset` 在 `<img>` 标签中完成所有操作。
- en: 'The `sizes` attribute is similar to a media query in that you use an expression
    to specify a screen feature, such as a minimum or maximum height, and then specify
    how wide you want the image to be displayed on screens that match that configuration.
    You can specify multiple expression-width pairs, separated by commas. Here''s
    the general syntax:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '`sizes` 属性类似于媒体查询，你使用一个表达式来指定屏幕特性，例如最小或最大高度，然后指定你希望在匹配该配置的屏幕上显示图片的宽度。你可以指定多个表达式-宽度对，用逗号分隔。以下是通用语法：'
- en: '[PRE3]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Beware
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 谨慎
- en: When you're testing the `srcset` attribute by changing the browser window size,
    you may find that the browser doesn't always download a different-size image.
    Although the browser may detect that a smaller image should be used based on the
    `srcset` values, it may opt to resize the existing image, because it has already
    downloaded that image.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 当你通过改变浏览器窗口大小来测试 `srcset` 属性时，你可能会发现浏览器并不总是下载不同大小的图片。尽管浏览器可能会根据 `srcset` 值检测到应该使用较小的图片，但它可能会选择调整现有图片的大小，因为它已经下载了该图片。
- en: Remember
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: The default image—that is, the image specified with the `src` attribute—is the
    fallback image that will be displayed in older browsers that don't support the
    `srcset` attribute. Good mobile-first practice is to make the default image the
    one you prefer to deliver to mobile users.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 默认图像，即使用`src`属性指定的图像，是作为不支持`srcset`属性的旧浏览器的回退图像显示的。良好的移动优先实践是将默认图像设置为你希望提供给移动用户的图像。
- en: 'Notice that if the last item doesn''t specify an expression, the specified
    width applies to any screen that doesn''t match any of the expressions. Suppose
    that you want images to be displayed with width 90vw on screens that are less
    than or equal to 500px and 50vw on all other screens. Here''s how you''d set that
    up:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，如果最后一个项目没有指定表达式，则指定的宽度适用于任何不匹配任何表达式的屏幕。假设你想要图像在屏幕小于或等于500px时以90vw的宽度显示，在其他所有屏幕上以50vw的宽度显示。以下是设置方法：
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, add to your `<img>` tag the `srcset` attribute, which you set to a comma-separated
    list of image file locations, each followed by the image width and letter `w`.
    Here''s the general syntax:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，向你的`<img>`标签添加`srcset`属性，将其设置为以逗号分隔的图像文件位置列表，每个位置后跟图像宽度和字母`w`。以下是通用语法：
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'This code gives the browser a choice of image sizes, and it picks the best
    one based on the current device’s screen dimensions and the preferred widths you
    specified in the `sizes` attribute. Here''s an example:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码为浏览器提供了一组图像大小选择，并根据当前设备的屏幕尺寸和你在`sizes`属性中指定的首选宽度选择最佳图像。以下是一个示例：
- en: '[PRE6]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The following example puts everything together to show you how to deliver images
    responsively.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例将所有内容组合起来，向你展示如何响应式地提供图像。
- en: Example
  id: totrans-58
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/14-2-1](http://wdpg.io/14-2-1)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/14-2-1](http://wdpg.io/14-2-1)
- en: This example uses the `<img>` tag's `sizes` and `srcset` attributes to deliver
    an image responsively based on the browser viewport size.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例使用`<img>`标签的`sizes`和`srcset`属性，根据浏览器视口大小响应式地提供图像。
- en: HTML
  id: totrans-61
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HTML
- en: '[PRE7]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: ①  The default image for older browsers
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ① 为旧浏览器提供的默认图像
- en: ②  The sizes to display the image
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ② 显示图像的大小
- en: ③  The images that the browser can choose among
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ③ 浏览器可以选择的图像
- en: Figures [14.3](#figure14.3) through [14.5](#figure14.5) show how the image that's
    delivered to the browser changes as the size of the screen changes.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.3至图14.5展示了浏览器提供的图像如何随着屏幕大小的变化而变化。
- en: Figure 14.3 A wide browser viewport gets the large image.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.3 宽浏览器视口获取大图像。
- en: '![14_03.png](Images/14_03.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![14_03.png](Images/14_03.png)'
- en: Figure 14.4 A tablet-size viewport gets the medium image.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.4 平板尺寸视口获取中等图像。
- en: '![14_04.png](Images/14_04.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![14_04.png](Images/14_04.png)'
- en: Figure 14.5 A smartphone-size viewport gets the small image.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.5 智能手机尺寸视口获取小图像。
- en: '![14_05.png](Images/14_05.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![14_05.png](Images/14_05.png)'
- en: Making Typography Responsive
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使排版响应式
- en: 'Is your goal to enrage some of the people who visit your website? I thought
    not, but you may be doing that if you use pixels for your site typography. Web
    browsers such as Google Chrome and Mozilla Firefox enable users to specify a default
    font size, which is set to `16px` in all modern browsers, but people with aging
    eyesight or visual impairments often bump this default to `24px`, `32px`, or even
    higher. If you use the declaration `font-size: 16px` for, say, your page''s body
    text, *all* your visitors—and in particular those who increased their default
    font size—will see your text at that size. Cue the rage.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '你的目标是要激怒访问你网站的一些人吗？我想不是，但如果你为你的网站排版使用像素，你可能会这样做。像Google Chrome和Mozilla Firefox这样的网络浏览器允许用户指定默认字体大小，在所有现代浏览器中默认设置为`16px`，但视力逐渐衰退或视力受损的人经常将其增加到`24px`、`32px`甚至更高。如果你为页面正文使用`font-size:
    16px`这样的声明，*所有*访问者——特别是那些增加了默认字体大小的人——将看到以该大小显示的文本。愤怒的导火索。'
- en: Remember
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: To run your own tests in Chrome, change the default font size by opening Settings,
    clicking Customize Fonts, and then using the Font Size slider to set the size
    you want.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Chrome中进行自己的测试，请通过打开设置、点击自定义字体，然后使用字体大小滑块设置你想要的字体大小。
- en: Fortunately, it's easy to avoid that scenario by switching to relative units
    for your `font-size` values. One possibility is the `em` unit, where `1em` corresponds
    to the browser's default font size—or, crucially, the *user's* specified default
    font size. If that default is `16px`, `1.5em` corresponds to `24px`, and `3em`
    corresponds to `48px`. If the default is `24px`, `1.5em` would render at `36px`,
    and `3em` would render at `72px`.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，通过将 `font-size` 值切换为相对单位，可以轻松避免这种情况。一种可能性是 `em` 单位，其中 `1em` 对应浏览器的默认字体大小——或者，更重要的是，*用户*
    指定的默认字体大小。如果默认值为 `16px`，则 `1.5em` 对应 `24px`，而 `3em` 对应 `48px`。如果默认值为 `24px`，则
    `1.5em` 将渲染为 `36px`，而 `3em` 将渲染为 `72px`。
- en: 'That solution may seem to be perfect, but there''s an inheritance fly in this
    responsive soup. First, let me point out that *inheritance* means that for certain
    CSS properties, if a parent element is styled with the `font-size` property, its
    child and descendant elements are automatically styled the same way. (See Chapter
    19 to learn more about this crucial CSS concept.) To see the problem, first consider
    the following HTML and CSS and then answer one question: If the default font size
    is `16px`, what is the font size, in pixels, of the `h1` element?'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 那种解决方案看起来似乎是完美的，但在这个响应式汤中有一个继承的飞虫。首先，让我指出，*继承* 意味着对于某些 CSS 属性，如果父元素使用 `font-size`
    属性进行了样式设置，其子元素和后代元素将自动以相同的方式样式化。（参见第 19 章了解更多关于这个重要 CSS 概念的信息。）为了看到这个问题，首先考虑以下
    HTML 和 CSS，然后回答一个问题：如果默认字体大小是 `16px`，则 `h1` 元素的字体大小是多少像素？
- en: 'HTML:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 'HTML:'
- en: '[PRE8]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'CSS:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 'CSS:'
- en: '[PRE9]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Your intuitive guess may be that because the `h1` element is declared with
    `font-size: 2em`, it must get rendered at `32px`. Alas, that''s not the case,
    and to understand why, you need to know that the `font-size` property is inherited,
    which leads to the following sequence:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '你的直观猜测可能是，因为 `h1` 元素声明为 `font-size: 2em`，它必须以 `32px` 渲染。唉，情况并非如此，要了解原因，你需要知道
    `font-size` 属性是继承的，这导致了以下序列：'
- en: The `body` element's font size (`1em`) is set to `16px`.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`body` 元素的字体大小（`1em`）被设置为 `16px`。'
- en: The `header` element inherits the font size from the `body` element, so the
    `header` element's font size (`1.5em`) is set to `24px`.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`header` 元素从 `body` 元素继承了字体大小，因此 `header` 元素的字体大小（`1.5em`）被设置为 `24px`。'
- en: The `h1` element inherits the font size from the `header` element, so the `h1`
    element's font size (`2em`) is set to `48px`.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`h1` 元素从 `header` 元素继承了字体大小，因此 `h1` 元素的字体大小（`2em`）被设置为 `48px`。'
- en: That's not a deal-breaker when it comes to using `em` units; you need to be
    aware of this fact and take the inherited font sizes into account.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `em` 单位时，这并不是一个破坏性交易；你需要意识到这个事实，并考虑继承的字体大小。
- en: 'If you don''t feel like doing the math required to work successfully with `em`
    units, there''s an alternative: the `rem` unit. `rem` is short for *root em* and
    refers to the font size of the page root, which is the `html` element. Two things
    to note:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不想做数学运算来成功使用 `em` 单位，有一个替代方案：`rem` 单位。`rem` 是 *root em* 的缩写，指的是页面根的字体大小，即
    `html` 元素。有两点需要注意：
- en: Because the root's font size is the same as the default font size, and because
    the `rem` unit scales in the same way as the `em` unit, the `rem` unit is responsive.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因为根的字体大小与默认字体大小相同，并且因为 `rem` 单位以与 `em` 单位相同的方式缩放，所以 `rem` 单位是响应式的。
- en: 'Because the `rem` unit always inherits its font size only from the `html` element,
    there are no inheritance gotchas to worry about. An `h1` element declared with
    `font-size: 2rem` will always render at twice the default font size.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '因为 `rem` 单位始终只从 `html` 元素继承其字体大小，所以没有继承的陷阱需要担心。声明为 `font-size: 2rem` 的 `h1`
    元素将始终以默认字体大小的两倍渲染。'
- en: This isn't to say that you should always use `rem` over `em`. There may be situations
    in which you *want* a child element's font size to be relative to its parent's
    font size, in which case `em` units are the best choice.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不是说你应该总是使用 `rem` 而不是 `em`。可能存在一些情况，你*希望*子元素的字体大小相对于其父元素的字体大小，在这种情况下，`em` 单位是最好的选择。
- en: 'Lesson 14.3: Using Responsive Font Sizes'
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 14.3 节：使用响应式字体大小
- en: 'Covers: Using `rem` units for `font-size`'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖内容：使用 `rem` 单位设置 `font-size`
- en: 'Online:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：
- en: The following code updates the example page to replace the `font-size` property's
    absolute `px` units with relative `rem` units.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码将示例页面更新为将 `font-size` 属性的绝对 `px` 单位替换为相对的 `rem` 单位。
- en: Example
  id: totrans-96
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/14-3-1](http://wdpg.io/14-3-1)
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/14-3-1](http://wdpg.io/14-3-1)
- en: This code updates the example page to replace the `font-size` property’s absolute
    `px` units with relative `rem` units.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码将示例页面更新为将 `font-size` 属性的绝对 `px` 单位替换为相对的 `rem` 单位。
- en: CSS
  id: totrans-99
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE10]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: ①  The header elements are given mobile-first `rem` font sizes.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ①  标题元素设置了移动优先的`rem`字体大小。
- en: ②  The header elements are also given large-screen `rem` font sizes.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: ②  标题元素也设置了大屏幕的`rem`字体大小。
- en: 'Lesson 14.4: Using Responsive Measurements'
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第14.4课：使用响应式度量
- en: 'Covers: Using `rem` units for measurements'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 涵盖：使用`rem`单位进行度量
- en: 'Online:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：
- en: 'Unfortunately, the bad design results that come from using absolute units such
    a `px` aren’t restricted to font sizes. To see what I mean, consider the following
    code, the results of which are shown in [Figure 14.6](#figure14.6):'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，使用绝对单位如`px`导致的糟糕设计结果并不仅限于字体大小。为了说明我的意思，考虑以下代码，其结果如[图14.6](#figureanchor14.6)所示：
- en: '[PRE11]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[Figure 14.6](#figureanchor14.6) The `h1` text looks good at `2rem`.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[图14.6](#figureanchor14.6) `h1`文本在`2rem`时看起来不错。'
- en: '![14_06.png](Images/14_06.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![14_06.png](Images/14_06.png)'
- en: Looks good! But what happens when I change the default font in my web browser
    (Firefox) to 30px? [Figure 14.7](#figure14.7) shows the sad story.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来不错！但是，当我将我的网络浏览器（Firefox）中的默认字体更改为30px时会发生什么？[图14.7](#figure14.7)展示了这个悲伤的故事。
- en: '[Figure 14.7](#figureanchor14.7) The element doesn''t render so well when a
    larger default font is used.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[图14.7](#figureanchor14.7) 当使用较大的默认字体时，元素渲染效果不佳。'
- en: '![14_07.png](Images/14_07.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![14_07.png](Images/14_07.png)'
- en: Remember
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 记住
- en: This example is artificial because in practice, you’d rarely set an explicit
    height on an element. Instead, it’s always better to let the content dictate an
    element’s height naturally.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子是人为的，因为在实践中，你很少会显式设置元素的高度。相反，总是让内容自然地决定元素的高度更好。
- en: At the larger default size, the heading is larger than the `header` element
    in which it's contained, resulting in an overall crowded feel to the text and
    (much worse) to cutting off the descenders of the *p* and *g*.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在较大的默认字体大小下，标题比包含它的`header`元素要大，导致文本整体显得拥挤，并且（更糟糕的是）切断了`p`和`g`的下降部分。
- en: 'Why did this happen? The header element''s `height` property uses an absolute
    value of `64px`. That height won''t budge a pixel no matter what font size you
    use as the default. But consider the following revised code and the result shown
    in [Figure 14.8](#figure14.8):'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么会发生这种情况？标题元素的`height`属性使用的是绝对值`64px`。无论你使用什么默认字体大小，这个高度都不会移动一个像素。但是，考虑以下修改后的代码和[图14.8](#figure14.8)中显示的结果：
- en: '[PRE12]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[Figure 14.8](#figureanchor14.8) With the `header` element''s `height` property
    now using relative `rem` units, the `header` scales along with the text as the
    default font size changes.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[图14.8](#figureanchor14.8) 现在标题元素的`height`属性使用相对的`rem`单位，随着默认字体大小的变化，标题会随着文本一起缩放。'
- en: '![14_08.png](Images/14_08.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![14_08.png](Images/14_08.png)'
- en: 'The only change I made was to declare `height: 4rem` on the `header` element.
    Using the relative unit makes the height responsive, so it increases (or decreases)
    along with the font size when the default font value is changed.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '我所做的唯一改变是在`header`元素上声明`height: 4rem`。使用相对单位使高度响应式，因此当默认字体值更改时，它会增加（或减少）。'
- en: 'How you use relative units for measurements depends on many factors, not least
    of which is the design effect you''re trying to achieve. It’s possible, however,
    to suggest a few guidelines:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 你如何使用相对单位进行度量取决于许多因素，其中最重要的因素之一是你试图实现的设计效果。然而，可以提出一些指导原则：
- en: For vertical measures such as `padding-top`, `padding-bottom`, `margin-top`,
    and `margin-bottom`, use `rem` units.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于垂直度量，如`padding-top`、`padding-bottom`、`margin-top`和`margin-bottom`，使用`rem`单位。
- en: For horizontal measures such as `width`, `padding-right`, `padding-left`, `margin-right`,
    and `margin-left`, use percentages.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于横向度量，如`width`、`padding-right`、`padding-left`、`margin-right`和`margin-left`，使用百分比。
- en: BEware
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: BEware
- en: Because a percentage is relative to the parent element, you may find that using
    percentages for padding or margins leads to unexpected or bizarre results. In
    such cases, you should switch to `rem` units for more control.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 因为百分比是相对于父元素而言的，你可能发现使用百分比来设置填充或边距会导致意想不到或奇怪的结果。在这种情况下，你应该切换到`rem`单位以获得更多控制。
- en: For horizontal measures in which you want more control of properties such as
    `width`, `max-width`, and `min-width`, use `rem` units.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于你想要对`width`、`max-width`和`min-width`等属性有更多控制的横向度量，使用`rem`单位。
- en: For vertical measures that you want to scale in relation to the viewport height,
    use `vh` units.
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于你想要相对于视口高度进行缩放的垂直度量，使用`vh`单位。
- en: For horizontal measures that you want to scale in relation to the viewport width,
    use `vw` units.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于你想要相对于视口宽度进行缩放的横向度量，使用`vw`单位。
- en: Example
  id: totrans-129
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 示例
- en: Online:[wdpg.io/14-4-1](http://wdpg.io/14-4-1)
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在线：[wdpg.io/14-4-1](http://wdpg.io/14-4-1)
- en: This code updates the example page to replace all the absolute `px` measurements
    with relative `rem` or percentage units.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码更新示例页面，将所有绝对`px`度量替换为相对`rem`或百分比单位。
- en: CSS
  id: totrans-132
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CSS
- en: '[PRE13]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: ①  `rem` units used for greater control
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: ①  用于更大控制的`rem`单位
- en: ②  `rem` units used on all vertical measures
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: ②  所有垂直度量使用的`rem`单位
- en: ③  Percentages used on all the other horizontal measures
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: ③  所有其他水平度量使用的百分比
- en: Gallery of Responsive Sites
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 响应式网站画廊
- en: Hicks Design ([https://hicksdesign.co.uk](https://hicksdesign.co.uk)) offers
    a gallerylike layout that presents a clean, uncluttered look that scales perfectly
    to any size screen.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: Hicks Design ([https://hicksdesign.co.uk](https://hicksdesign.co.uk)) 提供了一种类似画廊的布局，它呈现出干净、整洁的外观，能够完美地适应任何屏幕尺寸。
- en: '![unn14_01.png](Images/unn14_01.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![unn14_01.png](Images/unn14_01.png)'
- en: The Andersson-Wise site ([www.anderssonwise.com](http://www.anderssonwise.com))
    gracefully restructures its layout as it scales from the desktop version to the
    tablet and smartphone versions.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 当Andersson-Wise网站([www.anderssonwise.com](http://www.anderssonwise.com))从桌面版本缩放到平板电脑和智能手机版本时，它优雅地重新构建了其布局。
- en: '![unn14_02.png](Images/unn14_02.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![unn14_02.png](Images/unn14_02.png)'
- en: The Boston Globe front page ([www.bostonglobe.com](http://www.bostonglobe.com))
    responsively changes from a three-column layout on the desktop to a two-column
    layout on a tablet and to a one-column layout on a smartphone.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 波士顿环球报首页([www.bostonglobe.com](http://www.bostonglobe.com))能够响应式地从桌面上的三栏布局变为平板电脑上的两栏布局，再到智能手机上的单栏布局。
- en: '![unn14_03.png](Images/unn14_03.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![unn14_03.png](Images/unn14_03.png)'
- en: The Authentic Jobs site ([https://authenticjobs.com](https://authenticjobs.com))
    displays a simple job list on a smartphone-size screen and progressively adds
    more detailed information as the screen size increases.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: Authentic Jobs网站([https://authenticjobs.com](https://authenticjobs.com))在智能手机尺寸的屏幕上显示简单的职位列表，并在屏幕尺寸增加时逐步添加更多详细信息。
- en: '![unn14_04.png](Images/unn14_04.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![unn14_04.png](Images/unn14_04.png)'
- en: Summary
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: 'Make your images fluid by styling them with the declarations `max-width: 100%`
    and `height: auto`.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '通过使用声明`max-width: 100%`和`height: auto`来使您的图片流动。'
- en: In your `<img>` tags, add the `sizes` and `srcset` attributes to scale and deliver
    images that are appropriate for any screen size.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您的`<img>`标签中，添加`sizes`和`srcset`属性以缩放并传递适合任何屏幕尺寸的图片。
- en: When styling font sizes, avoid absolute pixel values in favor of `rem` units.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置字体大小时，避免使用绝对像素值，而是使用`rem`单位。
- en: Also use `rem` units when styling vertical measures such as height, padding,
    and margins.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置垂直度量（如高度、填充和边距）时，也使用`rem`单位。
