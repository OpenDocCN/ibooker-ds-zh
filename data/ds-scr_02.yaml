- en: Chapter 1\. Introduction
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章 介绍
- en: “Data! Data! Data!” he cried impatiently. “I can’t make bricks without clay.”
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “数据！数据！数据！”他不耐烦地喊道。“没有粘土我无法制造砖块。”
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Arthur Conan Doyle
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 亚瑟·柯南·道尔
- en: The Ascendance of Data
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据的崛起
- en: We live in a world that’s drowning in data. Websites track every user’s every
    click. Your smartphone is building up a record of your location and speed every
    second of every day. “Quantified selfers” wear pedometers-on-steroids that are
    always recording their heart rates, movement habits, diet, and sleep patterns.
    Smart cars collect driving habits, smart homes collect living habits, and smart
    marketers collect purchasing habits. The internet itself represents a huge graph
    of knowledge that contains (among other things) an enormous cross-referenced encyclopedia;
    domain-specific databases about movies, music, sports results, pinball machines,
    memes, and cocktails; and too many government statistics (some of them nearly
    true!) from too many governments to wrap your head around.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们生活在一个数据泛滥的世界。网站跟踪每个用户的每一次点击。你的智能手机每天每秒都在记录你的位置和速度。“量化自我”的人们穿着像计步器一样的设备，始终记录着他们的心率、运动习惯、饮食和睡眠模式。智能汽车收集驾驶习惯，智能家居收集生活习惯，智能营销人员收集购买习惯。互联网本身就是一个包含巨大知识图谱的网络，其中包括（但不限于）一个庞大的交叉参考百科全书；关于电影、音乐、体育结果、弹珠机、网络文化和鸡尾酒的专业数据库；以及来自太多政府的太多（有些几乎是真实的！）统计数据，以至于你无法完全理解。
- en: Buried in these data are answers to countless questions that no one’s ever thought
    to ask. In this book, we’ll learn how to find them.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些数据中埋藏着无数问题的答案，这些问题甚至没有人曾想过去问。在本书中，我们将学习如何找到它们。
- en: What Is Data Science?
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是数据科学？
- en: There’s a joke that says a data scientist is someone who knows more statistics
    than a computer scientist and more computer science than a statistician. (I didn’t
    say it was a good joke.) In fact, some data scientists are—for all practical purposes—statisticians,
    while others are fairly indistinguishable from software engineers. Some are machine
    learning experts, while others couldn’t machine-learn their way out of kindergarten.
    Some are PhDs with impressive publication records, while others have never read
    an academic paper (shame on them, though). In short, pretty much no matter how
    you define data science, you’ll find practitioners for whom the definition is
    totally, absolutely wrong.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个笑话说，数据科学家是那些比计算机科学家懂更多统计学、比统计学家懂更多计算机科学的人。（我并不是说这是个好笑话。）事实上，一些数据科学家在实际上更像是统计学家，而另一些则几乎无法与软件工程师区分开来。有些是机器学习专家，而另一些甚至无法从幼儿园的机器学习出来。有些是拥有令人印象深刻出版记录的博士，而另一些从未读过学术论文（虽然他们真是太可耻了）。简而言之，几乎无论你如何定义数据科学，你都会找到那些对于定义完全错误的从业者。
- en: Nonetheless, we won’t let that stop us from trying. We’ll say that a data scientist
    is someone who extracts insights from messy data. Today’s world is full of people
    trying to turn data into insight.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，我们不会因此而放弃尝试。我们会说，数据科学家是那些从杂乱数据中提取见解的人。今天的世界充满了试图将数据转化为见解的人们。
- en: For instance, the dating site OkCupid asks its members to answer thousands of
    questions in order to find the most appropriate matches for them. But it also
    analyzes these results to figure out innocuous-sounding questions you can ask
    someone to find out [how likely someone is to sleep with you on the first date](https://theblog.okcupid.com/the-best-questions-for-a-first-date-dba6adaa9df2).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，约会网站OkCupid要求其会员回答成千上万个问题，以便找到最合适的匹配对象。但它也分析这些结果，以找出你可以问某人的听起来无伤大雅的问题，来了解[在第一次约会时某人愿意与你发生关系的可能性有多大](https://theblog.okcupid.com/the-best-questions-for-a-first-date-dba6adaa9df2)。
- en: Facebook asks you to list your hometown and your current location, ostensibly
    to make it easier for your friends to find and connect with you. But it also analyzes
    these locations to [identify global migration patterns](https://www.facebook.com/notes/facebook-data-science/coordinated-migration/10151930946453859)
    and [where the fanbases of different football teams live](https://www.facebook.com/notes/facebook-data-science/nfl-fans-on-facebook/10151298370823859).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Facebook要求你列出你的家乡和当前位置，表面上是为了让你的朋友更容易找到并联系你。但它也分析这些位置，以[识别全球迁移模式](https://www.facebook.com/notes/facebook-data-science/coordinated-migration/10151930946453859)和[不同足球队球迷居住地的分布](https://www.facebook.com/notes/facebook-data-science/nfl-fans-on-facebook/10151298370823859)。
- en: As a large retailer, Target tracks your purchases and interactions, both online
    and in-store. And it uses the [data to predictively model](https://www.nytimes.com/2012/02/19/magazine/shopping-habits.html)
    which of its customers are pregnant, to better market baby-related purchases to
    them.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一家大型零售商，Target跟踪你的在线和门店购买及互动行为。它使用[数据来预测模型](https://www.nytimes.com/2012/02/19/magazine/shopping-habits.html)，以更好地向客户市场化婴儿相关购买。
- en: In 2012, the Obama campaign employed dozens of data scientists who data-mined
    and experimented their way to identifying voters who needed extra attention, choosing
    optimal donor-specific fundraising appeals and programs, and focusing get-out-the-vote
    efforts where they were most likely to be useful. And in 2016 the Trump campaign
    [tested a staggering variety of online ads](https://www.wired.com/2016/11/facebook-won-trump-election-not-just-fake-news/)
    and analyzed the data to find what worked and what didn’t.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在2012年，奥巴马竞选团队雇用了数十名数据科学家，通过数据挖掘和实验，找到需要额外关注的选民，选择最佳的特定捐款呼吁和方案，并将选民动员工作集中在最有可能有用的地方。而在2016年，特朗普竞选团队[测试了多种在线广告](https://www.wired.com/2016/11/facebook-won-trump-election-not-just-fake-news/)，并分析数据找出有效和无效的广告。
- en: 'Now, before you start feeling too jaded: some data scientists also occasionally
    use their skills for good—[using data to make government more effective](https://www.marketplace.org/2014/08/22/tech/beyond-ad-clicks-using-big-data-social-good),
    [to help the homeless](https://dssg.uchicago.edu/2014/08/20/tracking-the-paths-of-homelessness/),
    and to [improve public health](https://plus.google.com/communities/109572103057302114737).
    But it certainly won’t hurt your career if you like figuring out the best way
    to get people to click on advertisements.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在你开始感到太厌倦之前：一些数据科学家偶尔也会运用他们的技能来做些善事——[使用数据使政府更有效](https://www.marketplace.org/2014/08/22/tech/beyond-ad-clicks-using-big-data-social-good)，[帮助无家可归者](https://dssg.uchicago.edu/2014/08/20/tracking-the-paths-of-homelessness/)，以及[改善公共健康](https://plus.google.com/communities/109572103057302114737)。但如果你喜欢研究如何最好地让人们点击广告，那对你的职业生涯肯定也是有好处的。
- en: 'Motivating Hypothetical: DataSciencester'
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 激励假设：DataSciencester
- en: Congratulations! You’ve just been hired to lead the data science efforts at
    DataSciencester, *the* social network for data scientists.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 祝贺！你刚刚被聘为DataSciencester的数据科学主管，*数据科学家*的社交网络。
- en: Note
  id: totrans-17
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: When I wrote the first edition of this book, I thought that “a social network
    for data scientists” was a fun, silly hypothetical. Since then people have actually
    created social networks for data scientists, and have raised much more money from
    venture capitalists than I made from my book. Most likely there is a valuable
    lesson here about silly data science hypotheticals and/or book publishing.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 当我写这本书的第一版时，我认为“为数据科学家建立社交网络”是一个有趣、愚蠢的假设。自那时以来，人们实际上创建了为数据科学家建立的社交网络，并从风险投资家那里筹集到比我从我的书中赚到的钱多得多的资金。很可能这里有一个关于愚蠢的数据科学假设和/或图书出版的宝贵教训。
- en: Despite being *for* data scientists, DataSciencester has never actually invested
    in building its own data science practice. (In fairness, DataSciencester has never
    really invested in building its product either.) That will be your job! Throughout
    the book, we’ll be learning about data science concepts by solving problems that
    you encounter at work. Sometimes we’ll look at data explicitly supplied by users,
    sometimes we’ll look at data generated through their interactions with the site,
    and sometimes we’ll even look at data from experiments that we’ll design.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管*数据科学家*为核心，DataSciencester实际上从未投资于建立自己的数据科学实践。（公平地说，DataSciencester从未真正投资于建立自己的产品。）这将是你的工作！在本书中，我们将通过解决你在工作中遇到的问题来学习数据科学概念。有时我们会查看用户明确提供的数据，有时我们会查看通过他们与网站的互动生成的数据，有时甚至会查看我们设计的实验数据。
- en: And because DataSciencester has a strong “not-invented-here” mentality, we’ll
    be building our own tools from scratch. At the end, you’ll have a pretty solid
    understanding of the fundamentals of data science. And you’ll be ready to apply
    your skills at a company with a less shaky premise, or to any other problems that
    happen to interest you.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 而且因为DataSciencester有着强烈的“非自主创新”精神，我们将从头开始建立自己的工具。最后，你将对数据科学的基础有相当扎实的理解。你将准备好在一个基础更稳固的公司应用你的技能，或者解决任何其他你感兴趣的问题。
- en: Welcome aboard, and good luck! (You’re allowed to wear jeans on Fridays, and
    the bathroom is down the hall on the right.)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎加入，并祝你好运！（星期五可以穿牛仔裤，洗手间在右边的走廊尽头。）
- en: Finding Key Connectors
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 寻找关键联络人
- en: It’s your first day on the job at DataSciencester, and the VP of Networking
    is full of questions about your users. Until now he’s had no one to ask, so he’s
    very excited to have you aboard.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你在DataSciencester的第一天上班，网络副总裁对你的用户充满了疑问。直到现在，他没有人可以问，所以他对你的加入非常兴奋。
- en: In particular, he wants you to identify who the “key connectors” are among data
    scientists. To this end, he gives you a dump of the entire DataSciencester network.
    (In real life, people don’t typically hand you the data you need. [Chapter 9](ch09.html#getting_data)
    is devoted to getting data.)
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 他特别想让你识别出数据科学家中的“关键连接者”。为此，他给了你整个DataSciencester网络的数据转储。（在现实生活中，人们通常不会把你需要的数据直接交给你。[第9章](ch09.html#getting_data)专门讨论获取数据的问题。）
- en: 'What does this data dump look like? It consists of a list of users, each represented
    by a `dict` that contains that user’s `id` (which is a number) and `name` (which,
    in one of the great cosmic coincidences, rhymes with the user’s `id`):'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数据转储看起来是什么样子？它包含了一个用户列表，每个用户由一个`dict`表示，其中包含该用户的`id`（一个数字）和`name`（在一个伟大的宇宙巧合中，与用户的`id`押韵）：
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'He also gives you the “friendship” data, represented as a list of pairs of
    IDs:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 他还给了你“友谊”数据，表示为一组ID对的列表：
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: For example, the tuple `(0, 1)` indicates that the data scientist with `id`
    0 (Hero) and the data scientist with `id` 1 (Dunn) are friends. The network is
    illustrated in [Figure 1-1](#datasciencester_network_ch01).
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，元组`(0, 1)`表示`id`为0（Hero）的数据科学家和`id`为1（Dunn）的数据科学家是朋友。网络在[图1-1](#datasciencester_network_ch01)中有所展示。
- en: '![The DataSciencester network.](assets/dsf2_0101.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![DataSciencester网络。](assets/dsf2_0101.png)'
- en: Figure 1-1\. The DataSciencester network
  id: totrans-31
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-1\. 数据科学家网络
- en: Having friendships represented as a list of pairs is not the easiest way to
    work with them. To find all the friendships for user 1, you have to iterate over
    every pair looking for pairs containing 1\. If you had a lot of pairs, this would
    take a long time.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 将友谊表示为一组对并不是最容易处理它们的方式。要找出用户1的所有友谊，你必须遍历每一对，查找包含1的对。如果有很多对，这将需要很长时间。
- en: Instead, let’s create a `dict` where the keys are user `id`s and the values
    are lists of friend `id`s. (Looking things up in a `dict` is very fast.)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，让我们创建一个`dict`，其中键是用户的`id`，值是朋友的`id`列表。（在`dict`中查找东西非常快。）
- en: Note
  id: totrans-34
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Don’t get too hung up on the details of the code right now. In [Chapter 2](ch02.html#python),
    I’ll take you through a crash course in Python. For now just try to get the general
    flavor of what we’re doing.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 现在先别太过于纠结代码的细节。在[第2章](ch02.html#python)，我将带你快速入门Python。现在只需试着把握我们正在做的大致意思。
- en: 'We’ll still have to look at every pair to create the `dict`, but we only have
    to do that once, and we’ll get cheap lookups after that:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们仍然必须查看每一对来创建`dict`，但我们只需这样做一次，之后查找将会很快：
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Now that we have the friendships in a `dict`, we can easily ask questions of
    our graph, like “What’s the average number of connections?”
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经将友谊关系存入`dict`中，我们可以轻松地询问我们的图形问题，比如“平均连接数是多少？”
- en: 'First we find the *total* number of connections, by summing up the lengths
    of all the `friends` lists:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们通过总结所有`friends`列表的长度来找到*总*连接数：
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'And then we just divide by the number of users:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们只需通过用户数量来除以：
- en: '[PRE4]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: It’s also easy to find the most connected people—they’re the people who have
    the largest numbers of friends.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 要找到最连接的人也很容易 —— 他们是朋友最多的人。
- en: 'Since there aren’t very many users, we can simply sort them from “most friends”
    to “least friends”:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 由于用户数量不多，我们可以简单地按“最多朋友”到“最少朋友”的顺序排序：
- en: '[PRE5]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: One way to think of what we’ve done is as a way of identifying people who are
    somehow central to the network. In fact, what we’ve just computed is the network
    metric *degree centrality* ([Figure 1-2](#network_sized_by_degree)).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种理解我们所做的是作为识别网络中某些关键人物的一种方式。事实上，我们刚刚计算的是网络度量指标*度中心性*（[图1-2](#network_sized_by_degree)）。
- en: '![The DataSciencester network sized by degree.](assets/dsf2_0102.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![DataSciencester网络按度数排列大小。](assets/dsf2_0102.png)'
- en: Figure 1-2\. The DataSciencester network sized by degree
  id: totrans-48
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-2\. 数据科学家网络按度数排列大小
- en: This has the virtue of being pretty easy to calculate, but it doesn’t always
    give the results you’d want or expect. For example, in the DataSciencester network
    Thor (`id` 4) only has two connections, while Dunn (`id` 1) has three. Yet when
    we look at the network, it intuitively seems like Thor should be more central.
    In [Chapter 22](ch22.html#network_analysis), we’ll investigate networks in more
    detail, and we’ll look at more complex notions of centrality that may or may not
    accord better with our intuition.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这个方法非常容易计算，但不总是给出你希望或预期的结果。例如，在 DataSciencester 网络中，Thor（`id` 4）只有两个连接，而 Dunn（`id`
    1）有三个。然而，当我们查看网络时，直觉上 Thor 应该更为核心。在[第22章](ch22.html#network_analysis)中，我们将更详细地研究网络，并且会探讨可能与我们直觉更符合的更复杂的中心性概念。
- en: Data Scientists You May Know
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 可能认识的数据科学家
- en: While you’re still filling out new-hire paperwork, the VP of Fraternization
    comes by your desk. She wants to encourage more connections among your members,
    and she asks you to design a “Data Scientists You May Know” suggester.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 当你还在填写新员工文件时，友谊副总裁来到你的办公桌前。她希望在你的成员之间建立更多连接，她要求你设计一个“数据科学家你可能认识”的建议者。
- en: 'Your first instinct is to suggest that users might know the friends of their
    friends. So you write some code to iterate over their friends and collect the
    friends’ friends:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你的第一反应是建议用户可能认识他们朋友的朋友。因此，你编写了一些代码来迭代他们的朋友并收集朋友的朋友：
- en: '[PRE6]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'When we call this on `users[0]` (Hero), it produces:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们在`users[0]`（Hero）上调用它时，它产生：
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'It includes user 0 twice, since Hero is indeed friends with both of his friends.
    It includes users 1 and 2, although they are both friends with Hero already. And
    it includes user 3 twice, as Chi is reachable through two different friends:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 它包括用户0两次，因为Hero确实与他的两个朋友都是朋友。它包括用户1和2，尽管他们已经是Hero的朋友。它包括用户3两次，因为通过两个不同的朋友可以到达Chi：
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Knowing that people are friends of friends in multiple ways seems like interesting
    information, so maybe instead we should produce a *count* of mutual friends. And
    we should probably exclude people already known to the user:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 知道人们通过多种方式是朋友的信息似乎是有趣的信息，因此也许我们应该产生共同朋友的计数。而且我们可能应该排除用户已知的人：
- en: '[PRE9]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This correctly tells Chi (`id` 3) that she has two mutual friends with Hero
    (`id` 0) but only one mutual friend with Clive (`id` 5).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这正确地告诉了 Chi（`id` 3），她与 Hero（`id` 0）有两个共同的朋友，但只有一个与 Clive（`id` 5）有共同朋友。
- en: 'As a data scientist, you know that you also might enjoy meeting users with
    similar interests. (This is a good example of the “substantive expertise” aspect
    of data science.) After asking around, you manage to get your hands on this data,
    as a list of pairs `(user_id, interest)`:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名数据科学家，您知道您也可能喜欢与兴趣相似的用户会面。（这是数据科学“实质性专业知识”方面的一个很好的例子。）在询问之后，您成功获取了这些数据，作为一对（用户ID，兴趣）的列表：
- en: '[PRE10]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: For example, Hero (`id` 0) has no friends in common with Klein (`id` 9), but
    they share interests in Java and big data.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，Hero（`id` 0）与 Klein（`id` 9）没有共同朋友，但他们分享 Java 和大数据的兴趣。
- en: 'It’s easy to build a function that finds users with a certain interest:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 建立一个找出具有特定兴趣的用户的函数很容易：
- en: '[PRE11]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'This works, but it has to examine the whole list of interests for every search.
    If we have a lot of users and interests (or if we just want to do a lot of searches),
    we’re probably better off building an index from interests to users:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这样做虽然有效，但每次搜索都需要检查整个兴趣列表。如果我们有很多用户和兴趣（或者我们想进行大量搜索），我们可能最好建立一个从兴趣到用户的索引：
- en: '[PRE12]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'And another from users to interests:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个从用户到兴趣的：
- en: '[PRE13]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Now it’s easy to find who has the most interests in common with a given user:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在很容易找出与给定用户共同兴趣最多的人：
- en: Iterate over the user’s interests.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 迭代用户的兴趣。
- en: For each interest, iterate over the other users with that interest.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于每个兴趣，迭代具有该兴趣的其他用户。
- en: Keep count of how many times we see each other user.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记录我们看到每个其他用户的次数。
- en: 'In code:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码中：
- en: '[PRE14]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: We could then use this to build a richer “Data Scientists You May Know” feature
    based on a combination of mutual friends and mutual interests. We’ll explore these
    kinds of applications in [Chapter 23](ch23.html#recommender_systems).
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以利用这一点来构建一个更丰富的“数据科学家你可能认识”的功能，基于共同朋友和共同兴趣的组合。我们将在[第23章](ch23.html#recommender_systems)中探讨这些应用的类型。
- en: Salaries and Experience
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 薪水和经验
- en: 'Right as you’re about to head to lunch, the VP of Public Relations asks if
    you can provide some fun facts about how much data scientists earn. Salary data
    is of course sensitive, but he manages to provide you an anonymous dataset containing
    each user’s `salary` (in dollars) and `tenure` as a data scientist (in years):'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 正在准备去午餐时，公共关系副总裁问您是否可以提供一些关于数据科学家赚多少钱的有趣事实。薪资数据当然是敏感的，但他设法为您提供了一个匿名数据集，其中包含每个用户的`薪资`（以美元计）和作为数据科学家的`任期`（以年计）：
- en: '[PRE15]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The natural first step is to plot the data (which we’ll see how to do in [Chapter 3](ch03.html#visualizing_data)).
    You can see the results in [Figure 1-3](#salaries).
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 自然的第一步是绘制数据（我们将在[第3章](ch03.html#visualizing_data)中看到如何做到这一点）。您可以在[图1-3](#salaries)中看到结果。
- en: '![Salary by Years Experience.](assets/dsf2_0103.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![按年经验计算的工资。](assets/dsf2_0103.png)'
- en: Figure 1-3\. Salary by years of experience
  id: totrans-82
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-3\. 按经验年限计算的工资
- en: 'It seems clear that people with more experience tend to earn more. How can
    you turn this into a fun fact? Your first idea is to look at the average salary
    for each tenure:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来明显，有更多经验的人往往赚更多。您如何将其转化为有趣的事实？您的第一个想法是查看每个任期的平均工资：
- en: '[PRE16]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'This turns out to be not particularly useful, as none of the users have the
    same tenure, which means we’re just reporting the individual users’ salaries:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 结果证明这并不特别有用，因为没有一个用户拥有相同的任期，这意味着我们只是报告个别用户的薪水：
- en: '[PRE17]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'It might be more helpful to bucket the tenures:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 对职位进行分桶可能更有帮助：
- en: '[PRE18]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Then we can group together the salaries corresponding to each bucket:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以将对应于每个桶的工资分组在一起：
- en: '[PRE19]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'And finally compute the average salary for each group:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 最后为每个组计算平均工资：
- en: '[PRE20]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Which is more interesting:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 哪个更有趣：
- en: '[PRE21]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'And you have your soundbite: “Data scientists with more than five years’ experience
    earn 65% more than data scientists with little or no experience!”'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 而你的声音片段是：“有五年以上经验的数据科学家比没有经验或经验较少的数据科学家赚65%的工资！”
- en: But we chose the buckets in a pretty arbitrary way. What we’d really like is
    to make some statement about the salary effect—on average—of having an additional
    year of experience. In addition to making for a snappier fun fact, this allows
    us to *make predictions* about salaries that we don’t know. We’ll explore this
    idea in [Chapter 14](ch14.html#simple_linear_regression).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 但我们选择桶的方式相当随意。我们真正想要的是对增加一年经验的平均薪水效应做一些说明。除了制作更生动的趣味事实外，这还允许我们对我们不知道的工资做出*预测*。我们将在[第14章](ch14.html#simple_linear_regression)中探讨这个想法。
- en: Paid Accounts
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 付费帐户
- en: When you get back to your desk, the VP of Revenue is waiting for you. She wants
    to better understand which users pay for accounts and which don’t. (She knows
    their names, but that’s not particularly actionable information.)
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 当您回到桌前时，收入副总裁正在等待您。她想更好地了解哪些用户为帐户付费，哪些不付费。（她知道他们的名字，但那不是特别可行的信息。）
- en: 'You notice that there seems to be a correspondence between years of experience
    and paid accounts:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 您注意到经验年限与付费帐户之间似乎存在对应关系：
- en: '[PRE22]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Users with very few and very many years of experience tend to pay; users with
    average amounts of experience don’t. Accordingly, if you wanted to create a model—though
    this is definitely not enough data to base a model on—you might try to predict
    “paid” for users with very few and very many years of experience, and “unpaid”
    for users with middling amounts of experience:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 经验非常少或非常多的用户往往会支付；经验平均的用户则不会。因此，如果你想创建一个模型——尽管这绝对不是足够的数据来建立模型——你可以尝试预测经验非常少或非常多的用户的“有偿”情况，以及经验适中的用户的“无偿”情况：
- en: '[PRE23]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Of course, we totally eyeballed the cutoffs.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，我们完全是靠眼睛估计的分界线。
- en: With more data (and more mathematics), we could build a model predicting the
    likelihood that a user would pay based on his years of experience. We’ll investigate
    this sort of problem in [Chapter 16](ch16.html#logistic_regression).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 有了更多数据（和更多数学），我们可以构建一个模型，根据用户的经验年限来预测他是否会付费。我们将在[第16章](ch16.html#logistic_regression)中研究这类问题。
- en: Topics of Interest
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 兴趣主题
- en: 'As you’re wrapping up your first day, the VP of Content Strategy asks you for
    data about what topics users are most interested in, so that she can plan out
    her blog calendar accordingly. You already have the raw data from the friend-suggester
    project:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 当您完成第一天工作时，内容战略副总裁要求您提供关于用户最感兴趣的主题的数据，以便她能够相应地规划博客日历。你已经有了来自朋友推荐项目的原始数据：
- en: '[PRE24]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'One simple (if not particularly exciting) way to find the most popular interests
    is to count the words:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 找到最受欢迎的兴趣的一种简单（如果不是特别令人兴奋）的方法是计算单词数：
- en: Lowercase each interest (since different users may or may not capitalize their
    interests).
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个兴趣都转换为小写（因为不同用户可能会或不会将其兴趣大写）。
- en: Split it into words.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其分割成单词。
- en: Count the results.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算结果。
- en: 'In code:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码中：
- en: '[PRE25]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'This makes it easy to list out the words that occur more than once:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 这使得可以轻松列出出现超过一次的单词：
- en: '[PRE26]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'which gives the results you’d expect (unless you expect “scikit-learn” to get
    split into two words, in which case it doesn’t give the results you expect):'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这会得到您预期的结果（除非您期望“scikit-learn”被分成两个单词，在这种情况下它不会得到您期望的结果）：
- en: '[PRE27]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: We’ll look at more sophisticated ways to extract topics from data in [Chapter 21](ch21.html#natural_language_processing).
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第21章](ch21.html#natural_language_processing)中探讨从数据中提取主题的更复杂方法。
- en: Onward
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 继续
- en: It’s been a successful first day! Exhausted, you slip out of the building before
    anyone can ask you for anything else. Get a good night’s rest, because tomorrow
    is new employee orientation. (Yes, you went through a full day of work *before*
    new employee orientation. Take it up with HR.)
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个成功的第一天！精疲力尽地，你溜出大楼，趁没人找你要事情之前。好好休息，因为明天是新员工入职培训。（是的，你在新员工入职培训*之前*已经度过了一整天的工作。这个问题可以找HR解决。）
