- en: Appendix D. Raspberry Pi projects
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录D. 树莓派项目
- en: In this appendix, you’ll find short discussions and descriptions of projects
    you can do with your Raspberry Pi. The goal is to launch you on your way. This
    isn’t a detailed set of instructions, but rather hints and basic steps for how
    you can make some of these projects.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本附录中，你可以找到关于你可以用树莓派做的项目的简短讨论和描述。目标是让你开始行动。这不是一套详细的说明，而是关于如何制作这些项目的提示和基本步骤。
- en: Halloween heads
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 万圣节头部
- en: Halloween can be an inspiring time to use your Raspberry Pi to create a fun
    or scary display for your home. Let’s face it—it’s fun to scare people on Halloween.
    This project is about building a system for surprising trick-or-treaters who come
    to your door. When they approach, their movement will trigger a motion sensor
    that will display a video of a face talking or singing. The video is projected
    onto a Styrofoam head that is placed next to the door.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 万圣节可以是一个使用树莓派为你的家创建有趣或恐怖展示的鼓舞人心的时刻。让我们面对现实——在万圣节吓人是件有趣的事情。这个项目是关于建立一个系统，用来惊喜那些来你门口的万圣节糖果收集者。当他们接近时，他们的动作会触发一个运动传感器，显示一个说话或唱歌的视频。视频被投影到一个放在门旁边的泡沫塑料头上。
- en: 'Here is what you’ll need for this project:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是你需要为此项目准备的东西：
- en: Raspberry Pi with a breadboard, a breakout board, and a ribbon cable
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带面包板、扩展板和扁平电缆的树莓派
- en: Passive infrared (PIR) motion sensor
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被动红外（PIR）运动传感器
- en: Projector
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投影仪
- en: Powered computer speakers
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有源电脑扬声器
- en: Styrofoam heads (one or more)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 泡沫塑料头（一个或多个）
- en: 'Small tables: one for the Pi and projector, and another for the Styrofoam head'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 小桌子：一个用于Pi和投影仪，另一个用于泡沫塑料头
- en: Extension cord and power strip
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 延长线和电源插座
- en: Video of a singing or talking head
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唱歌或说话的头部视频
- en: 'To construct this project, here are the steps:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 构建此项目，以下是步骤：
- en: '**1**.  Connect your Raspberry Pi to the breadboard, and add the PIR sensor.
    This is similar to how you added the mini pushbutton in [chapter 8](kindle_split_018.html#ch08).'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**1**. 将你的树莓派连接到面包板，并添加PIR传感器。这类似于你在第8章中添加迷你按钮的方式。[第8章](kindle_split_018.html#ch08)'
- en: '**2**.  Download a video with a talking or singing head, or record your own.
    Write a Python program to play the video when the PIR sensor is triggered. This
    is similar to the DJ Raspi program, which plays a sound when the button is pressed.'
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**2**. 下载一个带有说话或唱歌的头部视频，或者录制你自己的。编写一个Python程序，当PIR传感器被触发时播放视频。这类似于DJ Raspi程序，当按钮被按下时播放声音。'
- en: '**3**.  Test your program with the sensor and video working together.'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**3**. 使用传感器和视频一起测试你的程序。'
- en: '**4**.  Set up a small table about 10 feet from your front door. On the table,
    set up your Raspberry Pi, breadboard with PIR sensor, speakers, and projector.
    Place the PIR sensor so that it will detect motion as someone approaches the door.
    Use an extension cord to provide the electrical power needed. (Only set this up
    if no rain is predicted!)'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**4**. 在你前门大约10英尺远的地方设置一张小桌子。在桌子上，设置你的树莓派、带有PIR传感器的面包板、扬声器和投影仪。将PIR传感器放置在可以检测到有人接近门的位置。使用延长线提供所需的电力。（只有当预报没有雨时才设置此设备！）'
- en: '**5**.  Set up another small table or box next to your door. Place the Styrofoam
    head on it. Position the head so that the projector’s video displays the face
    on the head. Test and adjust the projector and the positioning of the head so
    that everything is aligned. When the video plays, the head will appear to come
    alive!'
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**5**. 在门旁边再设置一张小桌子或一个盒子。将泡沫塑料头放在上面。调整头部的位置，使得投影仪的视频显示在头部上。测试并调整投影仪和头部位置，确保一切对齐。当视频播放时，头部看起来就像活了一样！'
- en: 'Here are a couple of key resources that may help you with this project:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些可能有助于这个项目的关键资源：
- en: Visit the SparkFun website at [www.sparkfun.com](http://www.sparkfun.com) and
    search for PIR sensors. This company has lots of great components that can help
    you make almost any electronics project you can imagine.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问SparkFun网站[www.sparkfun.com](http://www.sparkfun.com)，并搜索PIR传感器。这家公司有很多优秀的组件，可以帮助你制作几乎任何你想象的电子产品项目。
- en: 'You can make the whole screen blank (all black) by using OMXPlayer with the
    blank option like so:'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以使用带有空白选项的OMXPlayer使整个屏幕变黑（全黑），如下所示：
- en: '[PRE0]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Time-lapse photography
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间流逝摄影
- en: You can easily connect a high-definition camera to your Raspberry Pi that is
    capable of taking digital photographs or videos (see [appendix B](kindle_split_020.html#app02)
    for more information). In this project, you explore how you can set up your Pi
    to take time-lapse photographs.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以轻松地将一个高清相机连接到 Raspberry Pi，该相机能够拍摄数字照片或视频（有关更多信息，请参阅附录 B [kindle_split_020.html#app02]）。在这个项目中，你将探索如何设置
    Pi 来拍摄时间流逝照片。
- en: 'Time-lapse photography typically involves taking a series of photographs and
    then stitching them together into a video. The individual photographs may be taken
    seconds, minutes, hours, or days apart. This technique is commonly used to show
    an accelerated view of something happening. Here are some examples of time-lapse
    scenes:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 时间流逝摄影通常涉及拍摄一系列照片，然后将它们拼接成视频。这些单独的照片可能是在几秒、几分钟、几小时或几天后拍摄的。这种技术通常用于展示某事加速发生的视图。以下是一些时间流逝场景的例子：
- en: A glacier slowly retreating over the course of a year
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 冰川在一年内缓慢后退
- en: The sun rising and setting, and the moon rising and setting
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 太阳的升起和落下，以及月亮的升起和落下
- en: A plant growing
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 植物的生长
- en: 'Here are some simple steps to get started with a time-lapse photography project:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些简单的步骤，帮助你开始时间流逝摄影项目：
- en: '**1**.  Set up your Raspberry Pi with the Pi camera kit, and test that it’s
    working.'
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**1**.  使用 Pi 相机套件设置 Raspberry Pi，并测试其是否正常工作。'
- en: '**2**.  The subject of your time lapse determines how you need to mount the
    Pi camera. The camera doesn’t come with a case or any way to hold it up, so you’ll
    need to engineer a mount of some kind. Cardboard, hot glue, craft sticks, and
    duct tape are all great materials for fabricating something to hold up the camera.
    LEGO blocks can also be a useful material.'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**2**.  你的时间流逝主题决定了你需要如何安装 Pi 相机。相机没有附带外壳或任何固定方式，因此你需要设计一种类型的支架。纸板、热胶、工艺棒和胶带都是制作支撑相机的优秀材料。乐高积木也可以是一种有用的材料。'
- en: ''
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you’re going to leave the camera outside for a long time, consider whether
    you’ll need to waterproof your Raspberry Pi. Plastic containers left over from
    takeout food can make a great case; you’ll just need to make holes in the container
    for wires and seal any gaps with hot glue.
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你打算将相机长时间放在户外，考虑你是否需要为 Raspberry Pi 防水。外卖食品剩下的塑料容器可以制作成很好的外壳；你只需要在容器上打孔以供电线通过，并用热胶密封任何缝隙。
- en: '**3**.  Plan how to get electrical power to your Pi. That may determine where
    you set up the Pi and camera.'
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**3**.  规划如何为 Pi 提供电力。这可能决定了你设置 Pi 和相机的地方。'
- en: '**4**.  Program your Raspberry Pi to take the photographs and store them in
    a folder. Open LXTerminal, and install the `picamera` module for Python 3.X:'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**4**.  编程 Raspberry Pi 拍照并将照片存储在文件夹中。打开 LXTerminal，为 Python 3.X 安装 `picamera`
    模块：'
- en: ''
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`pi@raspberrypi ~ $ sudo apt-get install python3-picamera`'
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`pi@raspberrypi ~ $ sudo apt-get install python3-picamera`'
- en: 'To get you started, you can use a program like this to capture a series of
    photographs. This example takes a photograph every 3 minutes:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让你开始，你可以使用这样的程序来捕捉一系列照片。以下示例每 3 分钟拍摄一张照片：
- en: '![](282fig01_alt.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](282fig01_alt.jpg)'
- en: When the camera has finished taking images, you can press Ctrl-C to end the
    program.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 当相机完成拍照后，你可以按 Ctrl-C 来结束程序。
- en: '|  |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Note
  id: totrans-42
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 注意
- en: This program saves the images in the folder where the program is being run.
    You should make a folder for your time-lapse project and run the program from
    that folder.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 此程序将图像保存到程序运行的文件夹中。你应该为你的时间流逝项目创建一个文件夹，并从该文件夹运行程序。
- en: '|  |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'Next you’ll need to combine the images into a video. You can use an application
    called `mencoder` to turn images into a movie. Install it like this:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要将图像组合成视频。你可以使用一个名为 `mencoder` 的应用程序将图像转换为电影。按照以下步骤安装它：
- en: '[PRE1]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then you’ll create a simple text file that contains all the names of the images
    you want to combine. You can use the list command (`ls`), select all the files
    ending in .jpg, and output the list to a text file:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你将创建一个简单的文本文件，其中包含你想要组合的所有图像的名称。你可以使用列表命令 (`ls`)，选择所有以 .jpg 结尾的文件，并将列表输出到文本文件中：
- en: '[PRE2]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Next use `mencoder` to combine all the individual images into a time-lapse
    movie. This example makes a movie called TimeLapseMovie.avi:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来使用 `mencoder` 将所有单个图像组合成时间流逝电影。以下示例创建了一个名为 TimeLapseMovie.avi 的电影：
- en: '[PRE3]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'When it’s done, you can watch the movie using OMXPlayer:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，你可以使用 OMXPlayer 播放电影：
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: You can read more online about the mencoder options available.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在线阅读有关 mencoder 选项的更多信息。
- en: Raspberry Pi robot
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Raspberry Pi 机器人
- en: The Raspberry Pi can readily be turned into a robot by adding servomotors and
    sensors using the Pi’s GPIO capabilities. The Pi can be programmed in Python to
    make decisions, gather input from sensors, and control servomotors to interact
    with the world.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 Pi 的 GPIO 功能添加伺服电机和传感器，Raspberry Pi 可以轻松地变成一个机器人。Pi 可以用 Python 编程来做出决策，从传感器获取输入，并控制伺服电机与世界交互。
- en: Although you could assemble you own robot from scratch, there are some Raspberry
    Pi robot kits that can make it a lot easier. For this project, we’ll discuss using
    the GoPiGo kit from Dexter Industries. It’s an affordable, well-engineered kit
    that within a few hours will let you have your Pi moving around under your control.
    You can add an ultrasonic sensor (detects objects in front of it) and write a
    Python program to make your Pi GoPiGo robot navigate the room autonomously (on
    its own) using the same `if`/`else` statements you learned earlier.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然您可以从头开始组装自己的机器人，但有一些 Raspberry Pi 机器人套件可以使这个过程变得容易得多。对于这个项目，我们将讨论使用 Dexter
    Industries 的 GoPiGo 套件。这是一个价格合理、设计精良的套件，几小时内就能让您控制 Pi 移动。您可以添加超声波传感器（检测其前面的物体）并编写
    Python 程序，使 Pi GoPiGo 机器人能够自主（独立）地使用您之前学到的相同的 `if`/`else` 语句在房间内导航。
- en: 'We’ll cover the basic steps for building the GoPiGo (you can read the full
    set of instructions online at [www.dexterindustries.com/GoPiGo](http://www.dexterindustries.com/GoPiGo)):'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将介绍构建 GoPiGo 的基本步骤（您可以在 [www.dexterindustries.com/GoPiGo](http://www.dexterindustries.com/GoPiGo)
    上在线阅读完整说明）：
- en: '**1**.  Build your GoPiGo robot following the online instructions. Connect
    your Raspberry Pi to the robot: it fits upside down on top of the GoPiGo board.
    The Pi communicates to the GoPiGo board through the GPIO pins.'
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**1**.  按照在线说明构建您的 GoPiGo 机器人。将 Raspberry Pi 连接到机器人：它倒置放在 GoPiGo 板的顶部。Pi 通过
    GPIO 引脚与 GoPiGo 板通信。'
- en: '**2**.  Insert the GoPiGo SD card into your Pi. The SD card contains a custom
    distribution of Raspbian. Connect your Pi to a keyboard, mouse, USB Wi-Fi adapter,
    and TV or monitor. Later you’ll be able to connect to your GoPiGo remotely from
    another computer. Power it up using the provided battery pack. Boot up your Pi,
    and connect the GoPiGo to your wireless network.'
  id: totrans-59
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**2**.  将 GoPiGo SD 卡插入您的 Pi。SD 卡包含一个定制的 Raspbian 发行版。将 Pi 连接到键盘、鼠标、USB Wi-Fi
    适配器和电视或显示器。稍后您将能够从另一台计算机远程连接到 GoPiGo。使用提供的电池组供电。启动 Pi，并将 GoPiGo 连接到您的无线网络。'
- en: '**3**.  Set up your computer to remotely access your Pi from another computer.
    This means you’ll be able to see your Raspbian desktop from another Windows or
    Mac computer in your home. To do so, you use software called VNC. You need to
    install VNC Server on your Raspberry Pi and then install VNC Client on your computer.
    There are some great tutorials on how to do this, such as the one on the Adafruit
    website. Go to [https://learn.adafruit.com](https://learn.adafruit.com), and search
    for “installing VNC.”'
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**3**.  设置您的计算机以从另一台计算机远程访问您的 Pi。这意味着您将能够从家中的另一台 Windows 或 Mac 计算机上看到您的 Raspbian
    桌面。为此，您需要使用名为 VNC 的软件。您需要在 Raspberry Pi 上安装 VNC 服务器，然后在您的计算机上安装 VNC 客户端。Adafruit
    网站上有一些很好的教程，例如如何进行此操作。访问 [https://learn.adafruit.com](https://learn.adafruit.com)，并搜索“安装
    VNC。”'
- en: '**4**.  Using VNC, connect to your Raspberry Pi from your home Windows or Mac
    computer. Once you’re sure VNC Server and Client are working properly, you can
    disconnect your Pi from the monitor, keyboard, and mouse, leaving only the USB
    Wi-Fi adapter plugged in. Your GoPiGo is ready to move!'
  id: totrans-61
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**4**.  使用 VNC，从您的家用 Windows 或 Mac 计算机上连接到您的 Raspberry Pi。一旦您确认 VNC 服务器和客户端运行正常，您可以从显示器、键盘和鼠标上断开
    Pi，只留下 USB Wi-Fi 适配器连接。您的 GoPiGo 准备就绪，可以移动了！'
- en: '**5**.  From the VNC Client on your Windows or Mac, open LXTerminal on your
    Pi. Change directories to the GoPiGo Python folder on the desktop using the `cd`
    command:'
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**5**.  在您的 Windows 或 Mac 上的 VNC 客户端中，打开 Pi 上的 LXTerminal。使用 `cd` 命令将目录更改为桌面上的
    GoPiGo Python 文件夹：'
- en: ''
  id: totrans-63
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`cd Desktop/GoPiGo/Software/Python/`'
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`cd Desktop/GoPiGo/Software/Python/`'
- en: 'Run the GoPiGo test controller Python program:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 运行 GoPiGo 测试控制器 Python 程序：
- en: '[PRE5]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'After the program starts, you can use these keys to move your GoPiGo around
    the room:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 程序启动后，您可以使用以下键来移动 GoPiGo 在房间内：
- en: '| w | Move forward |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| w | 向前移动 |'
- en: '| a | Turn left |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| a | 向左转 |'
- en: '| s | Move back |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| s | 向后移动 |'
- en: '| d | Turn right |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| d | 向右转 |'
- en: '| x | Stop |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| x | 停止 |'
- en: '| t | Increase speed |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| t | 增加速度 |'
- en: '| g | Decrease speed |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| g | 减少速度 |'
- en: Excellent! You’ve made your Raspberry Pi into a robot. Add sensors and make
    programs to navigate around a room, or attach a Pi camera and stream video to
    another computer so you can see what your Raspberry Pi sees.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！你已经将你的树莓派变成了一个机器人。添加传感器并编写程序来在房间内导航，或者连接一个树莓派摄像头并将视频流传输到另一台计算机，这样你就可以看到你的树莓派所看到的内容了。
