- en: 7 T-testing and effect size testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 7 t检验和效应量测试
- en: This chapter covers
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖
- en: Running and interpreting statistical tests of significance with continuous data
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行和解释连续数据的显著性统计测试
- en: Visualizing statistical tests of significance
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可视化显著性统计测试
- en: Running and interpreting effect size testing with continuous data
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行和解释连续数据的效应量测试
- en: Even if you’re just a casual basketball fan, you nonetheless probably know that
    teams playing at home win way more often than they lose (this is true for other
    sports too). In chapter 9, we’ll explore the actual win-loss percentages between
    home and visiting teams under different permutations of prior days off, but in
    the meantime, we want to determine if there is an officiating bias that might
    explain home-court advantage. We’ll compare counts of foul calls and free throw
    attempts between home and visiting teams and then conduct statistical tests to
    determine if any variances in those counts are statistically significant and what
    their effect size may be. Which statistical tests to run mostly depends on the
    data. Because we’ll be comparing two groups (and just two groups) where the outcomes
    are numeric, our plan is to therefore run t-tests to determine whether or not
    any variances are statistically significant and Cohen’s d effect size tests to
    measure the size of those variances.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你只是个篮球爱好者，你也可能知道，主队赢得比赛的概率远远高于输掉比赛（其他运动也是如此）。在第9章中，我们将探讨主队和客队在不同休息日排列下的实际胜负百分比，但在此期间，我们想确定是否存在可能解释主场优势的裁判偏见。我们将比较主队和客队的犯规次数和罚球尝试次数，然后进行统计测试以确定这些计数中的任何差异是否具有统计学意义以及它们的效果量可能是什么。要运行哪些统计测试主要取决于数据。由于我们将比较两组（仅两组）结果为数字的数据，因此我们的计划是运行t检验以确定是否存在任何具有统计学意义的差异，并运行Cohen的d效应量测试来衡量这些差异的大小。
- en: Our going-in, or null, hypothesis is that there are no statistically significant
    variances in personal foul calls or free throw attempts between road and home
    teams; we therefore start out by assuming that any differences are due to chance
    and not at all purposeful. We’ll need overwhelming evidence from our t-tests to
    reject our null hypothesis and to then conclude that any variances we see in the
    data aren’t due to chance. Cohen’s d tests return quantitative and qualitative
    measures on the size of these same variances, independent and irrespective of
    the t-test results; we don’t reject or fail to reject a null hypothesis based
    on what we get from an effect size test.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的初始假设，或零假设，是客场和主场的个人犯规或罚球尝试之间没有统计学上显著的差异；因此，我们首先假设任何差异都是由于偶然而不是有意的。我们需要从t检验中获得压倒性的证据来拒绝我们的零假设，然后得出结论，我们观察到的任何数据差异都不是由于偶然。Cohen的d测试返回关于这些相同差异的定量和定性度量，独立于t检验结果；我们不会根据效应量测试的结果拒绝或未能拒绝零假设。
- en: 'We’ll cover much more on t-tests and effect size tests later, but here’s a
    snapshot of how our journey will play out:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在后面详细介绍t检验和效应量测试，但这里是一个我们旅程的快照：
- en: We’ll begin by loading packages, importing the same pair of data sets we imported
    in chapter 6, and then running a short series of data wrangling operations.
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将从加载包开始，导入与第6章中导入的相同的数据集对，然后运行一系列数据整理操作。
- en: With respect to the 2018-19 season, we’ll run t-tests on personal foul calls
    and free throws (usually awarded to one team following a personal foul committed
    by the opposing team) on data split between the regular season and postseason.
    Then, we’ll run effect size tests to complement our t-tests.
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于2018-19赛季，我们将对个人犯规和罚球（通常在对方球队犯规后判给一支球队）进行t检验，这些数据分为常规赛和季后赛。然后，我们将运行效应量测试来补充我们的t检验。
- en: With respect to the 2019-20 season, which was impacted by COVID-19, we’ll again
    run a series of t-tests and effect size tests, but the data will be split on the
    regular season only this time. We’ll first run our tests on a data set that contains
    regular season games played before COVID-19 temporarily suspended play and then
    again when the season resumed and all games were played at a neutral site in Orlando,
    Florida.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于受COVID-19影响的2019-20赛季，我们还将运行一系列t检验和效应量测试，但这次数据仅分为常规赛。我们首先将在COVID-19暂时暂停比赛之前进行的常规赛比赛数据集上运行我们的测试，然后在赛季恢复时，所有比赛都在佛罗里达州奥兰多的中立场地进行。
- en: Let’s start our journey by loading our packages.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过加载我们的包开始我们的旅程。
- en: 7.1 Loading packages
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.1 加载包
- en: 'As usual, we’ll call a mix of base R and packaged functions to import data,
    wrangle data, conduct our significance tests, visualize results, and compute basic
    statistics. Our first order of business is to call the base R `library()` function
    to load the `tidyverse`, `ggpubr`, `sqldf`, `effsize`, and `patchwork` packages:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如同往常，我们将调用基础R和包装函数的混合来导入数据，整理数据，进行显著性测试，可视化结果，并计算基本统计量。我们的首要任务是调用基础R的`library()`函数来加载`tidyverse`、`ggpubr`、`sqldf`、`effsize`和`patchwork`包：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The `ggpubr` package includes simple and straightforward functions for customizing
    `ggplot2` visualizations. The `effsize` package includes a function to perform
    effect size testing. Anything and everything in this chapter above and beyond
    base R ties back to one of these five packages.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '`ggpubr`包包括用于定制`ggplot2`可视化的简单直接函数。`effsize`包包括一个执行效应量测试的函数。本章中所有超出基础R的内容都与这五个包中的一个相关联。'
- en: 7.2 Importing data
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.2 导入数据
- en: 'We now call the `readr` `read_csv()` function to import the same two .csv files
    we loaded in the previous chapter—nba_boxscore_1819.csv and nba_boxscore_1920.csv—both
    of which were downloaded from the website [www.bigdataball.com](https://www.bigdataball.com/)
    and subsequently stored in our default working directory:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在调用`readr`的`read_csv()`函数来导入我们在上一章中加载的相同两个.csv文件——`nba_boxscore_1819.csv`和`nba_boxscore_1920.csv`——这两个文件都是从网站[www.bigdataball.com](https://www.bigdataball.com/)下载的，并随后存储在我们的默认工作目录中：
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We set these to equal df1 and df2 data sets, respectively.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将这些设置为df1和df2数据集，分别对应。
- en: 7.3 Wrangling data
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.3 整理数据
- en: Back in chapter 2, we saved a much-wrangled version of our original data set
    and then exported the content to a .csv file by calling the base R `write.csv()`
    function. That was done to avoid replicating the chapter 2 data wrangling operations
    in chapter 3\. Even though we’ve imported the same pair of files that were first
    imported in the previous chapter, our purposes here are quite different from those
    in chapter 6, and therefore our data wrangling operations will be altogether different.
    In other words, there was no opportunity lost by *not* calling the `write.csv()`
    function in chapter 6.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 回到第2章，我们保存了我们原始数据集的一个经过大量修改的版本，然后通过调用基础R的`write.csv()`函数将内容导出为.csv文件。这样做是为了避免在第3章中重复第2章的数据整理操作。尽管我们导入的文件与上一章首次导入的文件相同，但我们的目的与第6章中的目的完全不同，因此我们的数据整理操作将完全不同。换句话说，在第6章中没有调用`write.csv()`函数并没有失去任何机会。
- en: 'That being said, we’ll start with the 2018-19 box score data contained in df1\.
    We call the `dplyr filter()` function to subset the df1 data set on those observations
    where the variable `VENUE` equals `R` and save the results in a new object called
    df3\. Our new data set therefore contains road team data only:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，我们将从包含在df1中的2018-19赛季得分数据开始。我们调用`dplyr filter()`函数来对df1数据集进行子集化，选择变量`VENUE`等于`R`的观测值，并将结果保存在一个新的对象df3中。因此，我们的新数据集仅包含客场队伍的数据：
- en: '[PRE2]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Next, we call the `select()` function, also from the `dplyr` package, to reduce
    the df3 data set to only include those variables needed going forward:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们调用`select()`函数，也是来自`dplyr`包的，将df3数据集减少到只包含未来需要的变量：
- en: '[PRE3]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Some of these will be familiar to you from the previous chapter, and some will
    be unfamiliar:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一些你可能从上一章中熟悉，而另一些可能不熟悉：
- en: '`DATASET`—Now a character string, but essentially includes two levels to delineate
    regular season games versus playoff games.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DATASET`—现在是一个字符串，但本质上包括两个级别，用于区分常规赛比赛和季后赛比赛。'
- en: '`TEAM`—Another character string; this equals the team name where, for instance,
    Milwaukee equals Milwaukee Bucks or Denver equals Denver Nuggets.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TEAM`—另一个字符串；这等于队伍名称，例如，密尔沃基等于密尔沃基雄鹿，丹佛等于丹佛掘金。'
- en: '`VENUE`—Always equals `R` as a designation for road teams (versus `H` for home
    teams).'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`VENUE`—始终等于`R`，作为代表客场队伍的标识（与代表主场队伍的`H`相对）。'
- en: '`FT`—Equals the number of free throws made by the road team in any particular
    game. Players are most often awarded free throws when fouled by an opposing player
    while in the act of attempting a field goal.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FT`—等于客场队伍在任何特定比赛中做出的罚球次数。当球员在尝试投篮时被对方犯规时，他们最常获得罚球。'
- en: '`FTA`—Equals the number of free throws attempted by the road team.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FTA`—等于客场队伍尝试的罚球次数。'
- en: '`PF`—Equals the number of personal fouls the road team committed during any
    particular game.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PF`—等于客场队伍在任何特定比赛中犯的个人犯规次数。'
- en: 'These same variables are then renamed to distinguish them later on from their
    home team equivalents (except for `DATASET`, which we merely convert to lowercase).
    The `rename()` function from `dplyr` is used to convert variable names on the
    right side of the assignment operator to names we have on the left:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这些相同的变量随后被重命名，以便在以后区分它们与主队的等效变量（除了`DATASET`，我们只是将其转换为小写）。使用`dplyr`的`rename()`函数将赋值运算符右侧的变量名转换为左侧的名称：
- en: '[PRE4]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Three of our df3 variables—`dataset`, `teamR`, and `venueR`—are then converted
    to factor variables by calling the base R `as.factor()` function three times.
    Once again, this is a best practice for variables that have a finite number of
    possible values:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将df3中的三个变量——`dataset`、`teamR`和`venueR`——通过三次调用基础R的`as.factor()`函数转换为因子变量。这同样是对具有有限可能值的变量的一种最佳实践：
- en: '[PRE5]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'These same steps are repeated to create a data set called df4\. This data set
    is just like df3 except for the fact that it contains home team box score data
    rather than road team data (and no `DATASET` variable):'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这些相同的步骤被重复执行以创建一个名为df4的数据集。这个数据集与df3相似，只是它包含的是主队的得分数据而不是客队的得分数据（并且没有`DATASET`变量）：
- en: '[PRE6]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We next instruct R to return the dimensions of df3 and df4 by calling the base
    R `dim()` function twice:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们通过两次调用基础R的`dim()`函数来指示R返回df3和df4的维度：
- en: '[PRE7]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Both data sets contain 1,312 rows; df3 has six variables versus just five for
    df4 because we retained the variable `dataset` in the former and not in the latter.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 两个数据集都包含1,312行；df3有六个变量，而df4只有五个变量，因为我们保留了前者的变量`dataset`，而没有在后者中保留。
- en: 'Next, we merge the df3 and df4 data sets into a single object called fouls1819
    (recall that we’re working exclusively with 2018-19 data for the time being) by
    calling the base R `cbind()` function. The `cbind()` function makes it possible
    to join multiple data sets into one data set extended horizontally. We then call
    the `dim()` function one more time to check the row and column counts in fouls1819:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们通过调用基础R的`cbind()`函数将df3和df4数据集合并成一个名为fouls1819的单个对象（回想一下，我们现在正在专门使用2018-19数据）。`cbind()`函数使得将多个数据集横向合并成一个数据集成为可能。然后我们再次调用`dim()`函数来检查fouls1819中的行和列计数：
- en: '[PRE8]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Whereas df3 has 1,312 rows and 6 columns and df4 has 1,312 rows and 5 columns,
    our fouls1819 data set has 1,312 rows and 11 columns. We now have a data set containing
    2018-19 regular season and postseason data that can be analyzed.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 而df3有1,312行和6列，df4有1,312行和5列，我们的fouls1819数据集有1,312行和11列。现在我们有一个包含2018-19常规赛和季后赛数据的数据集，可以进行分析了。
- en: 7.4 Analysis on 2018-19 data
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.4 对2018-19数据的分析
- en: Our analysis will be divided into two parts. First, we’ll compute and test variances
    in foul calls and free throw attempts between home and visiting teams over the
    course of the 2018-19 regular season. Then, we’ll compute and test the same for
    the 2018-19 playoffs.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的分析将分为两部分。首先，我们将计算并测试2018-19常规赛期间主队和客队在犯规和罚球尝试方面的方差。然后，我们将对2018-19季后赛进行相同的计算和测试。
- en: 7.4.1 2018-19 regular season analysis
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.4.1 2018-19常规赛分析
- en: We need to start by subsetting the fouls1819 data set so that it includes regular
    season games only. We therefore pass (or pipe) the fouls1819 data set to the `filter()`
    function, which reduces fouls1819 to a new data set called fouls1819reg, where
    the variable `dataset` equals `NBA 2018-2019 Regular Season`.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要首先对fouls1819数据集进行子集化，使其仅包含常规赛比赛。因此，我们将fouls1819数据集传递（或管道）到`filter()`函数，该函数将fouls1819减少到一个新的数据集，称为fouls1819reg，其中变量`dataset`等于`NBA
    2018-2019 Regular Season`。
- en: 'We then call the base R `sum``()` and `mean()` functions to compute the variances
    on key measures between road and home teams using our new data set as the source.
    For the moment, we’re merely interested in getting baseline data:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用基础R的`sum()`和`mean()`函数来计算使用我们的新数据集作为源的关键度量在客场和主场球队之间的方差。目前，我们只是对获取基线数据感兴趣：
- en: '[PRE9]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Following is a summary of these results:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对这些结果的总结：
- en: Road teams were called for 470 more personal fouls than home teams during the
    2018-19 regular season; to be exact, road teams were called for a total of 25,947
    personal fouls, versus 25,477 for home teams.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在2018-19常规赛期间，客场球队被吹罚的个人犯规比主场球队多470次；确切地说，客场球队总共被吹罚了25,947次个人犯规，而主场球队为25,477次。
- en: Road teams were therefore whistled for approximately 0.38 more personal fouls
    per game than were home teams.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，客场球队在每场比赛中被吹罚大约0.38次更多的个人犯规，比主场球队多。
- en: As a result, home teams attempted approximately 0.65 more free throws per game
    than road teams.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，主队每场比赛尝试的罚球次数比客队多大约0.65次。
- en: While home teams averaged more free throw attempts per game, home and road teams
    were equally efficient at making them; both home and road teams were successful
    on 77% of their free throw attempts.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管主队平均每场比赛尝试的罚球次数更多，但主队和客队在这方面的效率是相同的；主队和客队在他们的罚球尝试中成功率都是77%。
- en: These variances might *seem* immaterial, but the length of our data set must
    also be considered. Statistical tests of significance make allowance for both
    these factors—statistical significance is contingent upon group means, variances,
    and record counts. For instance, a “large” variance on short data could be statistically
    *insignificant*; conversely, a “small” variance on long data might be statistically
    *significant*. A t-test is one such statistical test, where two groups—and no
    more than two groups—are being compared and the data is continuous. Our null hypothesis,
    always, is that the means, regardless of measure, are essentially no different
    between road and home teams. Therefore, the p-value in either test must be equal
    to or less than the 0.05 threshold for significance to reject the null hypothesis
    that the means are statistically equal and instead accept the alternative hypothesis.
    While the 5% cutoff is rather arbitrary, it’s undoubtedly a low number and therefore
    qualifies as a high bar by which to reject a null hypothesis.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这些差异可能*看起来*微不足道，但我们的数据集的长度也必须考虑。显著性检验允许考虑这两个因素——统计显著性取决于组均值、方差和记录数。例如，在短数据上的“大”方差可能是统计上*不显著的*；相反，在长数据上的“小”方差可能是统计上*显著的*。t检验就是这样一种统计检验，其中比较的是两组——并且不超过两组——数据是连续的。我们的零假设始终是，无论测量方法如何，均值在客队和主队之间基本上没有不同。因此，任何测试中的p值必须等于或低于0.05的显著性阈值，以拒绝均值在统计上相等的零假设，并接受替代假设。虽然5%的截止值相当任意，但它无疑是一个很小的数字，因此可以被视为拒绝零假设的高标准。
- en: 'There are *tons* of use cases for t-tests; for instance:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: t检验有*很多*应用案例；例如：
- en: A pharmaceutical company wants to test the efficacy of a new cholesterol-reducing
    drug versus one that’s been on the market for several years. Afflicted patients
    are randomly selected and prescribed one drug or the other. A t-test will determine
    if one drug is better at treating high cholesterol levels than the other, or if
    any result differences are merely due to chance.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一家制药公司想要测试一种新的降胆固醇药物与市场上已经存在多年的药物的效果。受影响的病人被随机选择，并被分配使用其中一种药物。t检验将确定哪种药物在治疗高胆固醇水平方面比另一种药物更有效，或者任何结果差异仅仅是偶然造成的。
- en: A university wants to test and compare Business Analytics 101 exam scores between
    one group of randomly selected students who attended class in person versus another
    group of randomly selected students who attended online. A t-test will determine
    if one learning method is truly better than the other.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一所大学想要测试和比较一组随机选择的学生（他们亲自上课）与另一组随机选择的学生（他们在线上课）之间的商业分析101考试分数。t检验将确定一种学习方法是否真正优于另一种学习方法。
- en: A community bank that operates two branches conducts a survey where participating
    customers are asked to rate the service they received on a scale of 1 to 10\.
    A t-test will determine if one branch provides superior customer service or if
    any variance is immaterial.
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一家运营两个分支机构的社区银行进行了一项调查，参与调查的客户被要求根据1到10的评分标准对所接受的服务进行评分。t检验将确定是否有一个分支机构提供更优质的客户服务，或者任何差异都是微不足道的。
- en: The data must otherwise be continuous (in chapter 9, we’ll run a chi-square
    test for independence where the data is categorical), and no more than two groups
    should be compared. (In a subsequent chapter, we’ll fit analysis of variance [ANOVA]
    models to compare more than two groups.)
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 数据必须否则是连续的（在第9章中，我们将对分类数据进行卡方检验），并且比较的组数不应超过两个。（在随后的章节中，我们将拟合方差分析[ANOVA]模型来比较超过两个组。）
- en: 'T-test: Personal fouls'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: t检验：个人犯规
- en: 'It’s super easy to run a t-test in R; we simply call the out-of-the-box `t.test()`
    function and pass the two variables we’re comparing as arguments. Our first t-test
    compares the means in personal fouls between road and home teams. Because R will
    return our t-test results in scientific notation by default, we first call the
    base R `options()` function to disable scientific notation in favor of their full
    numeric equivalents:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在R中运行t-test非常简单；我们只需调用现成的`t.test()`函数，并将我们比较的两个变量作为参数传递。我们的第一个t-test比较了客场和主场球队在个人犯规中的平均值。因为R默认会以科学记数法返回我们的t-test结果，所以我们首先调用基础R的`options()`函数来禁用科学记数法，以便使用它们的完整数值等价物：
- en: '[PRE10]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The p-value equals 0.03, which, of course, is below the accepted, or predefined,
    threshold for significance of 0.05\. In other words, there is just a 3% probability
    of observing the same or more extreme difference if the null hypothesis were actually
    true. So we can reject the null hypothesis and conclude that the variance in personal
    foul counts between road and home teams over the 2018-19 NBA regular season *isn’t*
    due to chance; in other words, the data points to a trend that may very well be
    causal.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: p值等于0.03，这当然低于接受的或预定义的显著性阈值0.05。换句话说，如果零假设实际上是真的，观察到相同或更极端差异的概率仅为3%。因此，我们可以拒绝零假设，并得出结论，2018-19
    NBA常规赛期间客场和主场球队在个人犯规计数上的方差不是由于偶然；换句话说，数据指向的趋势很可能是有因果关系的。
- en: 'T-test: Free throw attempts'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: t-test：罚球尝试
- en: 'Let’s now run a second t-test, this time comparing free throw attempts between
    road and home teams:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们现在运行第二个t-test，这次比较客场和主场球队的罚球尝试次数：
- en: '[PRE11]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This variance is equally significant. Because the p-value again equals 0.03,
    we can again reject the null hypothesis and conclude with confidence that the
    variance in free throw attempts between road and home teams during the 2018-19
    regular season is meaningful.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这个方差同样具有显著性。因为p值再次等于0.03，我们可以再次拒绝零假设，并自信地得出结论，2018-19常规赛期间客场和主场球队在罚球尝试次数上的方差是有意义的。
- en: By the way, it’s not accurate to state something like “road teams are always
    called for more fouls than home teams” or “the differences in free throw attempts
    between road and home teams are significant.” It’s always best to instead state
    specifically what was tested on what data and to not draw larger conclusions;
    what was true during the 2018-19 NBA regular season might not have been true in,
    let’s say, the 1978-79 season.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 顺便说一下，说“客场球队总是被判更多的犯规”或“客场和主场球队在罚球尝试次数上的差异显著”并不准确。最好具体说明在什么数据上进行了哪些测试，并且不要得出更大的结论；2018-19
    NBA常规赛期间的情况可能并不适用于，比如说，1978-79赛季。
- en: Visualizing variances
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化方差
- en: The best way to visualize these variances is with paired boxplots. We go about
    doing this by first creating temporary data sets formatted for `ggplot2` readability.
    For our first set of paired boxplots, we call the `select()` function from the
    `dplyr` package to create a data set called temp1, which includes just the variables
    `pfR` and `pfH` from the fouls1819reg data set.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化这些差异的最佳方式是使用配对箱线图。我们首先创建格式化为`ggplot2`可读性的临时数据集。对于我们的第一组配对箱线图，我们调用`dplyr`包中的`select()`函数来创建一个名为temp1的数据集，它只包含犯规1819reg数据集中的`pfR`和`pfH`变量。
- en: We then call the `pivot_longer()` function from the `tidyr` package—`tidyr`
    is also part of the `tidyverse` universe of packages—to reshape temp1 by folding
    columns into rows; temp1 still has two columns, but now they are named `team`
    and `fouls`. The prior columns of `pfR` and `pfH` are now levels in the variable
    `team`, and their corresponding counts now occupy cells in the variable `fouls`.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用`tidyr`包中的`pivot_longer()`函数——`tidyr`也是`tidyverse`包宇宙的一部分——通过将列折叠成行来重塑temp1；temp1仍然有两个列，但现在它们被命名为`team`和`fouls`。之前`pfR`和`pfH`的列现在成为`team`变量的级别，它们对应的计数现在占据`fouls`变量的单元格。
- en: 'Next, we make a call to the base R `head()` function, which prints the first
    six observations in temp1 to provide a visual of our results:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们调用基础R的`head()`函数，它将temp1中的前六个观测值打印出来，以提供我们结果的视觉展示：
- en: '[PRE12]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now, for our `ggplot2` boxplots (see figure 7.1), we do the following:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，对于我们的`ggplot2`箱线图（见图7.1），我们做以下操作：
- en: First, we call the base R `c()` function to create a vector, called tempt1.text,
    containing the values `Home Team` and `Road Team`. temp1.text is subsequently
    cast into the `scale_x_discrete()` function, so that `Home Team` and `Road Team`
    are our x-axis labels.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先，我们调用基础R的`c()`函数来创建一个向量，称为tempt1.text，包含`Home Team`和`Road Team`的值。tempt1.text随后被转换为`scale_x_discrete()`函数，这样`Home
    Team`和`Road Team`就是我们的x轴标签。
- en: Our boxplots are otherwise sourced from temp1, with `team` as our x-axis variable
    and `fouls` as our y-axis variable.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的箱线图其他来源是temp1，其中`team`作为我们的x轴变量，`fouls`作为我们的y轴变量。
- en: The `stat_summary()` function adds a white dot to each boxplot to represent
    the mean, which is especially important because the t-tests are comparing the
    means of two groups, not the medians.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stat_summary()`函数在每个箱线图中添加一个白点来表示均值，这对于特别重要，因为t检验是在比较两组的均值，而不是中位数。'
- en: The `stat_compare_means()` function from the `ggpubr` package essentially performs
    an independent t-test by comparing the means of the two variables we’re visualizing
    and inserting the results, much like the `ggplot2` `geom_text``()` or `annotate()`
    functions, where the specified x and y coordinates cross.
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ggpubr`包中的`stat_compare_means()`函数本质上通过比较我们可视化的两个变量的均值来执行独立t检验，并将结果插入其中，就像`ggplot2`的`geom_text()`或`annotate()`函数一样，其中指定的x和y坐标交叉。'
- en: '![CH07_F01_Sutton](../../OEBPS/Images/CH07_F01_Sutton.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![CH07_F01_Sutton](../../OEBPS/Images/CH07_F01_Sutton.png)'
- en: Figure 7.1 Paired boxplots for personal fouls per game between home and road
    teams on the left and free throw attempts per game between home and road teams
    on the right. The white dots represent the population means. Data is from the
    2018-19 regular season. Both of these variances tested out as statistically significant.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.1：主队和客队每场比赛个人犯规的配对箱线图（左侧）和每场比赛主队和客队罚球尝试的配对箱线图（右侧）。白点代表总体均值。数据来自2018-19赛季。这两个方差都经过统计检验，具有统计学意义。
- en: 'The full code chunk is as follows:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是完全的代码块：
- en: '[PRE13]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We now do the same with respect to free throw attempts in place of personal
    fouls. We first create a data source called temp2, which is structured just like
    temp1, and then call the `ggplot()` function to create a second pair of boxplots
    just like our first set:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在用罚球尝试代替个人犯规来做同样的事情。我们首先创建一个名为temp2的数据源，其结构与temp1相同，然后调用`ggplot()`函数创建第二组与第一组相似的箱线图：
- en: '[PRE14]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'We pack our two visualizations, p1 and p2, into a single graphical object by
    calling the `plot_layout()` function from the `patchwork` package:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过调用`patchwork`包中的`plot_layout()`函数，将我们的两个可视化，p1和p2，打包成一个单独的图形对象：
- en: '[PRE15]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Our paired boxplots clearly show the variances in population means (represented
    by the white dots inside the boxes) and additional differences in the length,
    or dispersion, of the interquartile ranges (represented by the boxes only) between
    home and road teams.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的双箱线图清晰地显示了主队和客队之间人口均值（由箱内的白点表示）以及长度或四分位距的额外差异（仅由箱体表示）的方差。
- en: We might have otherwise been distracted by the outliers in both plots. For instance,
    *at least* five times during the 2018-19 regular season, teams were called for
    a minimum of 34 personal fouls, and *at least* twice, teams attempted more than
    50 free throws.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能被这两个图中的异常值分心。例如，在2018-19赛季的常规赛季中，至少有五次球队被要求至少34次个人犯规，至少有两次球队尝试了超过50次罚球。
- en: 'We then call the `sqldf()` function from the `sqldf` package to return observations
    in the fouls1819reg data set where at least one team was called for 34 or more
    personal fouls:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用`sqldf`包中的`sqldf()`函数，以返回fouls1819reg数据集中至少有一支球队被要求34次或更多个人犯规的观测值：
- en: '[PRE16]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: It turns out that there were 10 games during the 2018-19 regular season where
    at least one of the competing teams was called for a minimum of 34 personal fouls—this
    was more often than not the home team.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，在2018-19赛季的常规赛季中，有10场比赛至少有一支参赛队伍被要求至少34次个人犯规——这通常发生在主队。
- en: 'Next, we call the `sqldf()` function again, this time to fetch all records
    in fouls1819reg where either the road team or home team attempted a minimum of
    50 free throws. Two of our three times, the road team was actually the beneficiary:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们再次调用`sqldf()`函数，这次是为了获取fouls1819reg中客队或主队至少尝试了50次罚球的全部记录。在我们的三次尝试中，有两次实际上是客队受益：
- en: '[PRE17]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: So there were actually three games in 2018-19 where a team attempted more than
    50 free throws. Two of these three games tie back, not surprisingly, to the results
    from our first `sqldf` query; after all, personal fouls often lead to attempted
    free throws. But one game doesn’t, which is why we’re testing personal foul calls
    between road and home teams *and* free throw attempts between the same. Let’s
    now examine the same measures using the same methods with respect to the 2018-19
    playoffs.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 所以在2018-19赛季实际上有三场比赛一支球队尝试了超过50次罚球。其中两场比赛与我们的第一次`sqldf`查询结果相关联，这并不奇怪；毕竟，个人犯规往往会导致尝试罚球。但有一场比赛不是这样，这就是为什么我们要测试主客场球队之间的个人犯规**以及**同一比赛中的罚球尝试。现在让我们使用相同的方法来检查2018-19赛季季后赛的相同措施。
- en: 7.4.2 2019 postseason analysis
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.4.2 2019赛季分析
- en: Because not every NBA team qualifies for the postseason, and teams are then
    eliminated in each round, our analysis will be performed against a *much* shorter
    data set than before. Whereas the fouls1819reg data set contained 1,230 records,
    we’ll now be working with a data set just 82 rows long. Therefore, to again get
    statistically significant results, our variances will presumably need to be more
    substantial than before.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 由于并非每个NBA球队都符合季后赛资格，而且每个回合球队都会被淘汰，我们的分析将针对比之前**短得多**的数据集进行。而fouls1819reg数据集包含1,230条记录，我们现在将处理一个只有82行长的数据集。因此，为了再次获得具有统计学意义的成果，我们的方差可能需要比之前更大。
- en: We start by piping the fouls1819 data set to the `dplyr filter()` function to
    create a new object, fouls1819post, that just includes those 82 fouls1819 records
    where the variable `dataset` equals `NBA 2019 Playoffs`.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先将fouls1819数据集通过`dplyr filter()`函数传递，以创建一个新的对象fouls1819post，它只包括那些变量`dataset`等于`NBA
    2019 Playoffs`的82条fouls1819记录。
- en: 'We then call the `sum``()` and `mean()` functions to compute the same variances
    on the same measures we did previously; the only difference is that we’ve swapped
    out data sources. Once more, we’re just trying to get an initial read on the data:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们调用`sum()`和`mean()`函数来计算之前所做的相同措施上的相同方差；唯一的不同是我们已经更换了数据源。再一次，我们只是在尝试对数据进行初步了解：
- en: '[PRE18]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Here’s a summary of our results, including comparisons against the 2018-19
    regular season:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是我们结果的总结，包括与2018-19赛季常规赛季的比较：
- en: Road teams were called for 48 more personal fouls than home teams during the
    2019 playoffs. To be more specific, road teams were called for a grand total of
    1,843 fouls during the 2019 postseason, whereas home teams were called for 1,795
    personal fouls.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在2019赛季季后赛中，客队比主队多被吹罚48次个人犯规。更具体地说，客队在2019赛季季后赛中被吹罚了总共1,843次犯规，而主队被吹罚了1,795次个人犯规。
- en: That averages out to a variance of 0.59, which is to say road teams on average
    were called for 0.59 more personal fouls per playoff game than were home teams.
    The difference during the regular season equaled 0.38.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这平均下来是0.59的方差，也就是说，客队在每场季后赛中被吹罚的个人犯规比主队多0.59次。常规赛季的差异等于0.38。
- en: Consequently, home teams attempted 1.28 more free throws per playoff game than
    road teams; this variance is about twice that of regular season games.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，主队在季后赛中每场比赛尝试的罚球比客队多1.28次；这个方差大约是常规赛季比赛的两倍。
- en: Road teams made almost 79% of their free throw attempts, while home teams were
    successful on about 78% of their attempted free throws. These figures are slightly
    higher than those during the regular season.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客队在罚球尝试中命中了几乎79%，而主队在尝试的罚球中成功率为大约78%。这些数字略高于常规赛季。
- en: 'T-test: Personal fouls'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 'T-test: 个人犯规'
- en: 'Let’s run a pair of t-tests to determine if these variances are statistically
    significant or not, starting with personal fouls called:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们运行一对t-test来确定这些方差是否具有统计学上的显著性，从个人犯规开始：
- en: '[PRE19]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: The p-value equals 0.31\. Because it’s greater than 0.05—much greater, in fact—we
    should fail to reject the null hypothesis and should therefore conclude that the
    variance in personal fouls called between road and home teams is *not* significant;
    the means are essentially equal. While the raw numbers are *directionally* consistent
    with the 2018-19 regular season, the results are neutral. It turns out that the
    drop in record count influenced the t-test results more than the increase in the
    variance did.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: p值等于0.31。因为它大于0.05——实际上大得多——我们应该拒绝零假设，因此可以得出结论，主客场球队之间被吹罚的个人犯规的方差**不**显著；均值基本上是相等的。虽然原始数据与2018-19赛季的常规赛季方向一致，但结果却是中性的。结果发现，记录数量的下降对t-test结果的影响大于方差增加的影响。
- en: 'T-test: Free throw attempts'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: t检验：罚球尝试
- en: 'Our next t-test will tell us whether or not the variance in attempted free
    throws between road and home teams during the 2019 playoffs is significant:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来的t检验将告诉我们，2019年季后赛期间客场和主场球队在尝试罚球次数上的方差是否具有统计学意义：
- en: '[PRE20]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Because the p-value is again greater than the 0.05 threshold for significance—0.23,
    to be exact—we must again conclude that the population means are essentially equal
    and therefore fail to reject the null hypothesis. While the results are again
    *directionally* consistent with our regular season results, we’re nevertheless
    compelled to once more qualify the results as neutral.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 因为p值再次大于显著性水平的0.05阈值——确切地说，是0.23——所以我们再次得出结论，总体均值基本上是相等的，因此无法拒绝零假设。虽然结果再次与我们的常规赛结果方向一致，但我们仍然被迫再次将结果定性为中性。
- en: Visualizing variances
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化方差
- en: 'We subsequently visualize and bundle our results just as we did before (see
    figure 7.2). The following chunk of code is very much like our previous chunks
    of code, except we’ve changed out data sources:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我们随后像之前一样可视化和打包我们的结果（见图7.2）。以下代码块与我们之前的代码块非常相似，只是我们改变了数据源：
- en: '[PRE21]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![CH07_F02_Sutton](../../OEBPS/Images/CH07_F02_Sutton.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![CH07_F02_Sutton](../../OEBPS/Images/CH07_F02_Sutton.png)'
- en: Figure 7.2 Paired boxplots for personal fouls per game and attempted free throws
    per game, road versus home teams. Differences in the populations means, represented
    by the white dots, are obvious. Though the results are directionally consistent
    with our first set of tests, these variances are statistically insignificant.
    Data is from 2019 playoff games.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.2：每场比赛个人犯规次数和每场比赛尝试的罚球次数的配对箱线图，客场与主场的对比。由白色点表示的总体均值差异很明显。尽管结果与我们的第一组测试方向一致，但这些差异在统计学上并不显著。数据来自2019年季后赛比赛。
- en: 'The following summarizes our findings from the 2018-19 season:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 以下总结了我们从2018-19赛季得出的发现：
- en: The variances in personal fouls called and free throw attempts during the regular
    season are statistically significant between road and home teams. Road teams are
    called for more personal fouls than home teams, while home teams attempt more
    free throws than road teams. These differences matter over the course of an entire
    regular season.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在常规赛期间，个人犯规次数和罚球尝试次数的方差在客场和主场球队之间具有统计学意义。客场球队被吹罚的个人犯规次数多于主场球队，而主场球队尝试的罚球次数多于客场球队。这些差异在整个常规赛期间都很重要。
- en: The variances in these same two measures during postseason play are directionally
    consistent with our regular season results, but are neutral; they aren’t statistically
    significant, mostly due to the *low record count.* It’s for this very reason that
    we’ll next perform a pair of effect size tests.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在季后赛期间，这两项指标的方差与我们的常规赛结果方向一致，但却是中性的；它们在统计学上并不显著，这主要是因为*记录数量低*。正是出于这个原因，我们接下来将进行一对效应量测试。
- en: 7.4.3 Effect size testing
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.4.3 效应量测试
- en: While t-tests tell us if there is a statistically significant difference between
    the means of two populations (and whether we should reject or fail to reject a
    null hypothesis) based on a predefined threshold for significance, they don’t
    tell us how large, or not so large, differences might be. That’s where effect
    size testing comes in. One of the most common measurements of effect size is Cohen’s
    d, which computes the difference between two means and divides it by the average
    standard deviation between the same two populations to return an effect size that
    is both quantified and classified. Results from effect size tests don’t have any
    bearing on our null hypothesis; the results merely tell us how large or not so
    large the variances are. In large part, that’s because a Cohen’s d test doesn’t
    consider record counts.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然t检验告诉我们两个总体均值之间是否存在统计学上的显著差异（以及我们应该拒绝还是无法拒绝零假设），但它们并没有告诉我们差异有多大，或者有多小。这就是效应量测试发挥作用的地方。效应量最常用的测量方法之一是Cohen的d值，它计算两个均值之间的差异，并将其除以相同两个总体之间的平均标准差，从而得到一个既量化又分类的效应量。效应量测试的结果对我们的零假设没有任何影响；结果仅仅告诉我们方差有多大或有多小。在很大程度上，这是因为Cohen的d测试不考虑记录数量。
- en: Cohen’s d could theoretically return a large effect size on short data where
    a previous t-test returned statistically insignificant results; on the other hand,
    Cohen’s d could theoretically return a small or even negligible effect size on
    long data where a t-test previously returned statistically significant results.
    This suggests that a t-test and a Cohen’s d test, while they complement each other
    well, won’t necessarily return results that “correlate” strongly and, thus, should
    not be compared in such a way.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: Cohen’s d理论上可能在数据较少的情况下返回较大的效果量，而之前的t测试返回了统计上不显著的结果；另一方面，Cohen’s d理论上可能在数据较多的情况下返回较小或甚至可忽略的效果量，而之前的t测试返回了统计上显著的结果。这表明，尽管t测试和Cohen’s
    d测试很好地互补，但它们不一定返回“相关”很强的结果，因此不应这样比较。
- en: Let’s see how a pair of Cohen’s d tests turn out, bearing in mind that our t-tests
    returned conflicting results where the figures were otherwise directionally consistent.
    It’s just as easy to run a Cohen’s d test in R as it is to run a t-test—we simply
    call the `cohen.d()` function from the `effsize` package and pass the data we’re
    testing as arguments.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一对Cohen’s d测试的结果如何，记住我们的t测试在数据方向上是一致的，但结果却相互矛盾。在R中运行Cohen’s d测试和t测试一样简单——我们只需从`effsize`包中调用`cohen.d()`函数，并将我们正在测试的数据作为参数传递。
- en: 'In the following chunk of code, we call the `cohen.d()` function twice—first
    to measure the effect size of personal fouls between road and home teams during
    the 2018-19 regular season and then again to measure the same in the 2019 playoffs:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的代码块中，我们两次调用`cohen.d()`函数——首先测量2018-19赛季客场与主场球队之间的个人犯规效果量，然后再次测量2019赛季季后赛中的相同效果量：
- en: '[PRE22]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Both tests return the same results; whether or not there was a statistically
    significant difference in means, the Cohen’s d tests tell us that the variances
    in personal fouls between road and home teams, regular season and postseason,
    are negligible. That’s because the d estimate, which represents the number of
    standard deviations separating the means, is so trivial for both tests. In the
    first of our two tests, personal fouls called against road teams are 0.09 standard
    deviations greater than the same for home teams (0.09 being equal to the d estimate);
    in the second test, personal fouls against road teams are 0.16 standard deviations
    above the same for home teams. If and when a d estimate is negative, it merely
    means that the second group passed to the `cohen.d()` function has the higher
    of the two standard deviations. For the effect size to register as small, the
    d estimate would need to equal at least 0.20, plus or minus; by contrast, for
    the effect size to earn a large qualitative rating, the d estimate would need
    to equal at least 0.80, plus or minus.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 两个测试都返回了相同的结果；无论是否存在均值上的统计显著性差异，Cohen’s d测试告诉我们，客场与主场球队、常规赛与季后赛之间的个人犯规方差是微不足道的。这是因为d估计值，它代表了均值之间标准差的数目，对于两个测试来说都是如此微不足道。在我们的两个测试中，第一个测试中，对客场球队判定的个人犯规比主场球队多0.09个标准差（0.09等于d估计值）；在第二个测试中，对客场球队的犯规比主场球队多0.16个标准差。如果d估计值为负，这仅仅意味着传递给`cohen.d()`函数的第二组具有两个标准差中的较高值。为了使效果量被标记为小，d估计值需要至少等于0.20，正负；相比之下，为了使效果量获得大的定性评价，d估计值需要至少等于0.80，正负。
- en: 'Let’s do the same with respect to attempted free throws:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们在尝试的罚球方面做同样的处理：
- en: '[PRE23]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: According to our second round of Cohen’s d tests, the actual differences between
    attempted free throws—road teams versus home teams, regular season and postseason,
    prior statistical significance or not—are again negligible in both cases. Yet
    it’s worth emphasizing at least one more time, but with a slightly different spin,
    that we should not throw a wet blanket on our t-tests that returned statistically
    significant results because our subsequent Cohen’s d tests then returned negligible
    effect sizes. One considers the record counts, and the other doesn’t. Differences
    in means between two samples or two populations should matter less when the record
    counts are small and should matter much more when we have more data.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们进行的第二轮Cohen’s d测试，尝试的罚球之间的实际差异——客场与主场的球队，常规赛与季后赛，之前是否有统计显著性——在两种情况下都是微不足道的。然而，至少再强调一次，但稍微有所不同，我们不应该因为后续的Cohen’s
    d测试返回了可忽略的效果量就对我们的t测试结果泼冷水，这些t测试结果显示了统计显著性。一方面，人们会考虑记录数，另一方面则不会。当记录数较少时，两个样本或两个群体之间的均值差异应该不那么重要，而当我们有更多数据时，这种差异应该更加重要。
- en: 7.5 Analysis on 2019-20 data
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.5 对2019-20数据的分析
- en: That does it for our analysis of the 2018-19 data set. But you might recall
    that we imported two seasons of data—so now it’s time to explore the 2019-20 NBA
    season.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们对2018-19数据集的分析。但你可能还记得我们导入了两个赛季的数据——所以现在是时候探索2019-20 NBA赛季了。
- en: 7.5.1 2019-20 regular season analysis (pre-COVID)
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.5.1 2019-20常规赛分析（疫情前）
- en: We’ll use the same measures and statistical tests, but rather than testing postseason
    results, our 2019-20 analysis will be relegated to regular season games only,
    pre- and post-COVID. Before the pandemic, the 2019-20 NBA regular season proceeded
    just like any prior season. COVID suddenly suspended all play, and once the season
    resumed, every remaining game was played at a neutral site in Orlando with no
    fans present. So rather than again testing the regular season and then the postseason,
    we’ll instead test the regular season pre-COVID and the regular season post-COVID.
    The steps we previously took to wrangle our 2018-19 data are replicated in the
    chunks of code that follow and are applied to the 2019-20 season.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用相同的衡量标准和统计测试，但我们的2019-20分析将仅限于常规赛比赛，包括疫情前后。在疫情之前，2019-20 NBA常规赛的进行方式与任何之前的赛季一样。COVID突然暂停了所有比赛，一旦赛季恢复，剩余的所有比赛都在奥兰多的中立场地进行，没有球迷在场。因此，我们不会再次测试常规赛和季后赛，而是测试疫情前后的常规赛。我们之前用于整理2018-19数据的步骤在下面的代码块中得到了复制，并应用于2019-20赛季。
- en: 'We start by establishing a new data set, df5, which equals df2 where the variable
    `VENUE` equals `R`, for road, with a call to the `filter()` function:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先通过调用`filter()`函数，创建一个新的数据集df5，它等于df2，其中变量`VENUE`等于`R`，代表客队：
- en: '[PRE24]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'We then make a call to the `select()` function to reduce the width of the df5
    data set. Notice that we’re retaining one additional variable, `GAME_ID`, that
    we previously discarded from the 2018-19 data:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们调用`select()`函数来减少df5数据集的宽度。注意我们保留了一个额外的变量`GAME_ID`，我们之前从2018-19数据中丢弃了它：
- en: '[PRE25]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'In preparation for further data wrangling operations, we call the `rename()`
    function to rename our df5 variables, sometimes appending a capital R at the end
    to later delineate the same measures between road and home teams:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在准备进一步的数据整理操作之前，我们调用`rename()`函数来重命名df5变量，有时在末尾附加一个大写R，以便稍后区分客队和主队的相同衡量标准：
- en: '[PRE26]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The variables `dataset`, `teamR`, and `venueR` are then converted to factor
    variables by making successive calls to the base R `as.factor()` function:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 通过连续调用基础R的`as.factor()`函数，将变量`dataset`、`teamR`和`venueR`转换为因子变量：
- en: '[PRE27]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Now we call these same functions to create a data set called df6, which is
    basically a home-team version of df5:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们调用这些相同的函数来创建一个名为df6的数据集，它基本上是df5的主队版本：
- en: '[PRE28]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Next, we join the df5 and df6 data sets by calling the base R `cbind()` function:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们通过调用基础R的`cbind()`函数将df5和df6数据集连接起来：
- en: '[PRE29]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: According to the returns from the `dim()` function, df5 contains 1,143 rows
    and 7 columns; the df6 data set contains 1,143 rows and 5 columns; and fouls1920,
    the aggregate of df5 and df6, contains 1,143 rows and 12 columns.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 根据`dim()`函数的返回值，df5包含1,143行和7列；df6数据集包含1,143行和5列；fouls1920，df5和df6的汇总，包含1,143行和12列。
- en: To subset the fouls1920 data set so that it only includes those games that were
    played pre-COVID, we call the `filter()` function to subset fouls1920 where the
    variable `gameID` is equal to or less than `21900973`. The result is a new object
    called fouls1920a.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将fouls1920数据集子集化，使其仅包括在疫情前进行的比赛，我们调用`filter()`函数来子集化fouls1920，其中变量`gameID`等于或小于`21900973`。结果是名为fouls1920a的新对象。
- en: 'We then compute the variances on our key measures by calling the base R `sum``()`
    and `mean()` functions, using fouls1920a as our data source:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们通过调用基础R的`sum()`和`mean()`函数，使用fouls1920a作为数据源来计算我们的关键衡量标准的方差：
- en: '[PRE30]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Our results are as follows:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的结果如下：
- en: Road teams were called for 378 more personal fouls than home teams, equal to
    the difference between 20,171 fouls and 19,793 fouls.
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客队被吹罚的个人犯规比主队多378次，等于20,171次犯规和19,793次犯规之间的差异。
- en: Road teams were, therefore, called for 0.39 more personal fouls per game than
    were home teams (the per-game average during the 2018-19 regular season equaled
    0.38).
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，客队每场比赛被吹罚的个人犯规比主队多0.39次（2018-19常规赛的每场比赛平均值为0.38）。
- en: Home teams attempted 0.60 more free throws per game than did road teams (the
    per-game average from the prior regular season was 0.65).
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主队每场比赛尝试的罚球比客队多0.60次（前一个常规赛的每场比赛平均值为0.65）。
- en: Road and home teams were successful on 77% of their free throw attempts.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路线和主队成功率为77%的罚球尝试。
- en: 'T-test: Personal fouls'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: t检验：个人犯规
- en: 'Let’s now run another t-test, this time to determine if the variance in personal
    foul calls between road and home teams during the 2019-20 regular season, pre-COVID,
    is statistically significant:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们再进行另一个t检验，这次是为了确定2019-20赛季常规赛（在COVID-19之前）中，路线和主队在个人犯规判罚上的方差是否有统计学意义：
- en: '[PRE31]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: The results are barely significant if using a p-value of 0.05 as a line in the
    sand. That being said, we should nonetheless reject the null hypothesis that the
    population means are equal.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用0.05作为分界线的p值，结果几乎不显著。话虽如此，我们仍然应该拒绝总体均值相等的零假设。
- en: 'T-test: Free throw attempts'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: t检验：罚球尝试
- en: 'Let’s run yet another t-test, now comparing free throw attempts between road
    and home teams:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再进行另一个t检验，这次比较路线和主队在罚球尝试上的差异：
- en: '[PRE32]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: This time, our results are barely *insignificant*; consequently, we must fail
    to reject the null hypothesis and accept that the population means is essentially
    equal—once more, because we’re using 5% as a predefined cutoff. But otherwise,
    our results say that there is just a 7% probability of observing at least equal
    results if the null hypothesis is actually true. So while the variance is technically
    not significant, the p-value is low and obviously very close to our predefined
    threshold for significance.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 这次，我们的结果几乎**不显著**；因此，我们必须拒绝零假设，并接受总体均值基本上是相等的——再次，因为我们使用5%作为预定义的截止点。但除此之外，我们的结果表明，如果零假设实际上是真的，观察到至少相等结果的可能性仅为7%。因此，虽然方差在技术上并不显著，但p值很低，显然非常接近我们预定义的显著性阈值。
- en: Visualizing variances
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化方差
- en: 'We visualize and package the results just as we did with the 2018-19 data (see
    figure 7.3):'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将结果可视化和打包，就像我们处理2018-19年的数据那样（见图7.3）：
- en: '[PRE33]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '![CH07_F03_Sutton](../../OEBPS/Images/CH07_F03_Sutton.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![CH07_F03_Sutton](../../OEBPS/Images/CH07_F03_Sutton.png)'
- en: Figure 7.3 This set of paired boxplots represents results from the 2019-20 regular
    season before COVID-19 temporarily suspended play.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.3 这组成对箱线图代表了在COVID-19暂时暂停比赛之前2019-20赛季常规赛的结果。
- en: There appears to be less of a difference in the length, or dispersion, of these
    two pairs of boxplots versus what we observed with the 2018-19 data, regular season
    and postseason. Nevertheless, we can clearly see that the population means aren’t
    at all aligned.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 与2018-19年的数据相比，这两对箱线图的长度或分散度似乎没有太大差异，无论是常规赛还是季后赛。尽管如此，我们可以清楚地看到，总体均值并不完全一致。
- en: In the next section, we’ll compare and contrast these results by examining and
    testing the rest of the 2019-20 regular season.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将通过检查和测试2019-20赛季剩余的常规赛来比较和对比这些结果。
- en: 7.5.2 2019-20 regular season analysis (post-COVID)
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.5.2 2019-20赛季常规赛分析（COVID-19之后）
- en: 'Let’s now examine the rest of the 2019-20 regular season, where every remaining
    game was played in Orlando without fans present. We need a data set, so we call
    the `filter()` function and subset fouls1920, where the variable `dataset` equals
    `NBA 2019 -2020 Regular Season` *and* the variable `gameID` is greater than `21901231`,
    to get a new object called fouls1920b. Then, we run the numbers:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来检查2019-20赛季剩余的常规赛，其中每场比赛都在没有观众的情况下在奥兰多进行。我们需要一个数据集，所以我们调用`filter()`函数，对fouls1920进行子集处理，其中变量`dataset`等于`NBA
    2019 -2020 Regular Season` *和* 变量`gameID`大于`21901231`，以得到一个新的对象fouls1920b。然后，我们运行这些数字：
- en: '[PRE34]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'We get the following results:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到以下结果：
- en: Road teams—even though Orlando was technically a neutral site, teams were nevertheless
    designated as road and home, and the NBA decked the arena in the home team’s logo
    and colors—were called for a grand total of 54 more personal fouls than were home
    teams. Over the course of an 89-game schedule, roughly equal to a typical postseason,
    the designated road team committed 2,064 personal fouls, and the designated home
    team committed 2,010 personal fouls. This equals a per-game variance equal to
    0.61, which is a bit higher than we’ve otherwise observed.
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路线队——尽管奥兰多在技术上是一个中立场地，但球队仍然被指定为路线和主队，NBA用主队的标志和颜色装饰了场地——被吹罚了54次更多的个人犯规，比主队多。在89场比赛的赛程中，大约相当于典型的季后赛，指定的路线队犯了2,064次个人犯规，而指定的主队犯了2,010次个人犯规。这等于每场比赛的方差为0.61，这比我们观察到的其他情况略高。
- en: That variance didn’t fully translate to free throw attempts, however. Home teams
    averaged only 0.24 more free throw attempts per game than road teams, which perhaps
    suggests that an inordinate number of personal foul calls were offensive or loose
    ball fouls, where free throws aren’t awarded.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然而，这种差异并没有完全转化为罚球尝试次数。主队平均每场比赛比客队多尝试0.24次罚球，这可能表明大量的个人犯规判罚是进攻犯规或球权犯规，在这些情况下不会判罚罚球。
- en: Both road and home teams were successful on approximately 79% of their attempted
    free throws.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路队和主队在尝试的罚球中成功率达到大约79%。
- en: 'T-tests: Personal fouls and free throw attempts'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: t测试：个人犯规和罚球尝试
- en: 'Let’s see how these raw numbers translate into tests of statistical significance:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看这些原始数据如何转化为对统计显著性的测试：
- en: '[PRE35]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Number one, even though road teams were called for 0.61 more personal fouls
    per game than home teams, this didn’t register on our first t-test. Whereas our
    data set is just 89 rows long, the computed p-value equals 0.35, way above the
    0.05 threshold for significance, thereby compelling us to not reject the null
    hypothesis and to conclude that these means are essentially equal.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 第一点，尽管客队每场比赛被吹罚的个人犯规比主队多0.61次，但这在我们的第一个t测试中并没有显现出来。尽管我们的数据集只有89行长，但计算出的p值等于0.35，远高于显著性阈值0.05，因此我们不得不拒绝零假设，并得出这些均值基本上是相等的结论。
- en: Number two, given the small difference in attempted free throws per game between
    road and home teams and the small record count in our data, it’s no surprise that
    our second t-test returned a very high p-value (0.84). So, once again, the results
    are essentially neutral. Both results, however, are directionally consistent with
    our prior results.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 第二点，鉴于客队和主队每场比赛尝试的罚球次数差异很小，以及我们的数据中的记录计数很小，我们的第二个t测试返回了一个非常高的p值（0.84）。因此，结果基本上是中立的。然而，这两个结果的方向性与我们之前的结果一致。
- en: Visualizing variances
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化方差
- en: 'As before, we visualize our results with paired boxplots that are combined
    into a single graphical representation (see figure 7.4):'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，我们使用配对箱线图来可视化我们的结果，这些箱线图被组合成一个单一的图形表示（见图7.4）：
- en: '[PRE36]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '![CH07_F04_Sutton](../../OEBPS/Images/CH07_F04_Sutton.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![CH07_F04_Sutton](../../OEBPS/Images/CH07_F04_Sutton.png)'
- en: Figure 7.4 These two sets of paired boxplots display the most statistically
    insignificant results we’ve seen.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.4 这两组配对箱线图显示了我们所见到的最不显著的统计结果。
- en: 'Our findings from the 2019-20 season are similar to those from 2018-19, as
    follows:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 我们2019-20赛季的发现与2018-19赛季的发现相似，如下所示：
- en: Results pre- and post-COVID are directionally consistent in favor of home teams,
    regardless of measure.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无论从哪个角度来看，COVID前后结果的方向性都一致，有利于主队。
- en: Variances are statistically significant pre-COVID and not statistically significant
    post-COVID; this is not so much because the variances changed but more because
    of the dissimilarity in record counts.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在COVID之前，方差在统计学上是显著的，而在COVID之后则不是，这并不是因为方差发生了变化，更多的是因为记录计数的不一致。
- en: We’ll otherwise conclude our 2019-20 regular season analysis by conducting another
    series of Cohen’s d tests.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过进行一系列Cohen’s d测试来结束2019-20赛季的常规赛季分析。
- en: 7.5.3 More effect size testing
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 7.5.3 更多的效应量测试
- en: 'Cohen’s d tests on our 2019-20 data might be predictable, given the effect
    size test results from the 2018-19 regular season and 2019 playoffs and the computations
    on personal fouls and free throw attempts, pre- and post-COVID, over the 2019-20
    regular season. We’ll start with our pre-COVID data set:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 由于2018-19赛季的常规赛季和2019赛季季后赛的效应量测试结果，以及2019-20赛季常规赛前后个人犯规和罚球尝试的计算，我们对2019-20赛季的数据进行的Cohen’s
    d测试可能是可预测的。我们将从我们的前COVID数据集开始：
- en: '[PRE37]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Not surprisingly, according to our Cohen’s d tests, the differences in personal
    foul calls and attempted free throws between road and home teams for all 2019-20
    regular season games played before the COVID-19 pandemic hit are rated as negligible.
    Again, this is because the standard deviations are nearly identical.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 毫不奇怪，根据我们的Cohen’s d测试，在COVID大流行之前进行的所有2019-20赛季常规赛中，客队和主队在个人犯规和罚球尝试方面的差异被评为可忽略不计。再次强调，这是因为标准差几乎相同。
- en: 'Let’s test the same with our post-COVID data set:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用我们的后COVID数据集进行相同的测试：
- en: '[PRE38]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: The quantitative results—that, is, the d estimates—are higher than our pre-COVID
    results, but not high enough to bump the qualitative ranking from negligible.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 定量结果——即d估计值——高于我们的前COVID结果，但不足以将定性排名从可忽略不计提升。
- en: 'In the next chapter, we’ll examine an aspect of the game controlled by the
    players, not by the officials: when to shoot the ball.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将检查由球员控制的比赛方面，而不是由官员控制：何时投篮。
- en: Summary
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: Accurately comparing the means of two groups can have tremendous implications.
    The pharmaceutical company testing a pair of competing drugs might promote a more
    expensive alternative that really doesn’t outperform a more affordable but otherwise
    like drug; a university might require every Business Analytics 101 student to
    attend class in person, thereby limiting enrollment, when the variances in exam
    scores compared to other students who only attended class online were actually
    not statistically significant; the branch manager of a bank could be demoted or
    even fired because the branch had lower customer service scores, despite minimal
    variances and mediocre participation.
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准确比较两组的平均值可能具有重大影响。测试一对竞争性药物的制药公司可能会推广一种更昂贵的替代品，而实际上它并没有优于一种更便宜但其他方面相似的药物；一所大学可能会要求每个商业分析101课程的学生亲自上课，从而限制招生，尽管与其他仅在线上课的学生相比，考试分数的方差实际上并不具有统计学意义；一家银行的分行经理可能会被降职甚至被解雇，尽管该分行的客户服务评分较低，而参与度平平。
- en: Our R code is absolutely transferrable to these and other t-test use cases.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们R代码可以完全转移到这些和其他t检验用例中。
- en: We ran t-tests to determine if variances were statistically significant and
    then Cohen’s d tests to measure the size of these same variances. Once more, choose
    to run more than one test to get complete and thorough reads.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们进行了t检验来确定方差是否具有统计学意义，然后进行了Cohen’s d检验来测量这些相同方差的规模。再次强调，选择运行多个测试以获得完整和彻底的阅读。
- en: All results—personal foul calls and attempted free throws from the 2018-19 regular
    season and postseason and from the 2019-20 regular season pre- and post-COVID—returned
    results that directionally favored home teams.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有结果——2018-19赛季和季后赛以及2019-20赛季前和COVID后的个人犯规和尝试罚球——都显示有利于主队的方向性结果。
- en: Where we had relatively large record counts—namely, the 2018-19 regular season
    and the 2019-20 regular season before COVID—the road and home team variances in
    personal fouls called and attempted free throws, based on our t-tests, were statistically
    significant.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们记录数相对较大的地方——即2018-19赛季和COVID之前的2019-20赛季——根据我们的t检验，个人犯规和尝试罚球在客场和主队之间的方差在统计上是显著的。
- en: Conversely, where we had lower record counts—the 2019 playoffs and the 2019-20
    regular season games played in Orlando—variances in personal foul calls and attempted
    free throws between road and home teams weren’t statistically significant, based
    on a 5% threshold.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相反，在我们记录数较低的地方——2019年季后赛和2019-20赛季在奥兰多举行的比赛——根据5%的阈值，客场和主队在个人犯规和尝试罚球方面的方差在统计上并不显著。
- en: 'Our Cohen’s d tests, which ignore record counts and instead use means and standard
    deviations, returned the same results every time: the differences in personal
    fouls and free throw attempts between road and home teams were always rated as
    negligible.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的Cohen’s d检验，它忽略了记录数，而是使用平均值和标准差，每次都返回相同的结果：客场和主队之间的个人犯规和罚球尝试的差异始终被评定为微不足道。
- en: We can therefore conclude that there was some officiating bias during the 2018-19
    and 2019-20 seasons, but we can only speculate as to what might be causing this
    bias (crowd and other atmospheric influences?).
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，我们可以得出结论，在2018-19赛季和2019-20赛季期间存在一些裁判偏见，但我们只能推测可能是什么原因导致了这种偏见（观众和其他大气影响？）。
- en: Furthermore, we can only speculate how this bias affected outcomes. Our purpose
    was not to explain why or how home teams sometimes win games unfairly; rather,
    it was merely to explain, as it turned out, that home teams often get a slight,
    but statistically significant, edge in officiating.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，我们只能推测这种偏见如何影响了结果。我们的目的不是解释为什么或如何主队有时不公平地赢得比赛；相反，它仅仅解释了，结果证明，主队往往在裁判方面获得轻微但统计上显著的边缘优势。
