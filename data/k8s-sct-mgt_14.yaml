- en: Appendix C. Installing and configuring pip
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 C. 安装和配置 pip
- en: Like most other programming languages, Python includes support for enabling
    reusable portions of code, such as statements and definitions, that can be included
    in other applications. These pieces of reusable code are known as *modules*. Multiple
    modules can be organized together and included in a *package*. The Standard Python
    library contains an array of modules and packages, which are fundamental to any
    application. However, the contents of the Standard Python Library do not cover
    every possible use case imaginable. This is where user defined packages and modules
    come in. As more and more individuals create customized packages, it becomes important
    that there is a way to easily distribute and consume these Python packages. The
    Python Package Index (PyPi) ([https://pypi.org/](https://pypi.org/)) attempts
    to provide a solution to enable a centralized location for storing and discovering
    Python packages shared by the Python community. Python packages from either the
    centralized Python Package Index or a self-hosted instance can be managed using
    *pip*, a package manger that facilitates the discovery, downloading, and lifecycle
    management for Python packages.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 与大多数其他编程语言一样，Python 包含了对启用可重用代码部分的支持，例如可以包含在其他应用程序中的语句和定义。这些可重用代码片段被称为 *模块*。多个模块可以组织在一起并包含在
    *包* 中。标准 Python 库包含了一系列模块和包，这对于任何应用程序都是基本的。然而，标准 Python 库的内容并不涵盖所有可想象的使用案例。这就是用户定义的包和模块发挥作用的地方。随着越来越多的人创建定制的包，有一个简单的方法来分发和消费这些
    Python 包变得非常重要。Python 包索引（PyPi）([https://pypi.org/](https://pypi.org/))试图提供一个解决方案，以提供一个集中位置来存储和发现
    Python 社区共享的 Python 包。来自集中式 Python 包索引或自托管实例的 Python 包可以使用 *pip* 进行管理，pip 是一个包管理器，它简化了
    Python 包的发现、下载和生命周期管理。
- en: C.1 Installing pip
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: C.1 安装 pip
- en: Python packages located in the Python Package Index can be managed using the
    `pip` executable. Most recent distributions of Python (>=2.9.2 for Python 2 and
    >=3.4 for Python 3) using binary installations have pip preinstalled. If Python
    was installed via another method, such as a package manager, pip may not be included.
    You can check whether pip is installed by attempting to execute `pip` if you are
    on Python version 2 or `pip3` if you are on Python version 3\. If an error is
    returned when executing the prior commend, pip must be installed.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 存放在 Python 包索引中的 Python 包可以使用 `pip` 可执行文件进行管理。大多数最新的 Python 发行版（Python 2 的版本
    >=2.9.2，Python 3 的版本 >=3.4）在二进制安装中预装了 pip。如果 Python 是通过其他方法安装的，例如包管理器，pip 可能没有被包含在内。您可以通过尝试执行
    `pip`（如果您使用的是 Python 2 版本）或 `pip3`（如果您使用的是 Python 3 版本）来检查 pip 是否已安装。如果在执行前面的命令时返回错误，则必须安装
    pip。
- en: 'There are several ways pip can be installed:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方法可以安装 pip：
- en: The `ensurepip` Python 3 module
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python 3 的 `ensurepip` 模块
- en: The `get-pip.py` script
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`get-pip.py` 脚本'
- en: A package manager
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包管理器
- en: 'Let’s install pip using the `ensurepip` Python module, since it makes use of
    native Python constructs that are applicable across the majority of platforms.
    Execute the following command to install pip:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用 `ensurepip` Python 模块来安装 pip，因为它使用了适用于大多数平台的本地 Python 构造。执行以下命令来安装 pip：
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Confirm pip was installed by executing the `pip` command:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 通过执行 `pip` 命令来确认 pip 已安装：
- en: '[PRE1]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: If the command returned without error, pip was successfully installed.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如果命令没有错误返回，则表示 pip 已成功安装。
- en: NOTE On some systems, an alias or symbolic link may be used to link `python3`
    and `python` executables to provide backward compatibility or simplify the interaction
    with Python; the same applies to `pip`. Specifying the `--version` flag when executing
    either `python`, `python3`, `pip` or `pip3` will confirm the specific version
    being used.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：在某些系统上，可能使用别名或符号链接将 `python3` 和 `python` 可执行文件链接起来，以提供向后兼容性或简化与 Python 的交互；同样适用于
    `pip`。在执行 `python`、`python3`、`pip` 或 `pip3` 时指定 `--version` 标志可以确认正在使用的特定版本。
- en: C.2 Basic pip operations
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: C.2 基本pip操作
- en: 'Before starting to work with pip, it is recommended you, along with a few of
    the supporting tools, update it to its latest version. Obtaining the latest updates
    will ensure appropriate access to any required source archives. Execute the following
    command to update pip, along with the `setuptools` and `wheel` packages, to its
    latest version:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始使用 pip 之前，建议您更新它及其支持的工具到最新版本。获取最新更新将确保能够适当访问任何所需的源存档。执行以下命令以更新 pip，以及 `setuptools`
    和 `wheel` 包到最新版本：
- en: '[PRE2]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: With the necessary tool up to date, let’s start working with pip.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在更新了必要的工具后，让我们开始使用pip。
- en: One of the first steps for anyone using a package manager is determining the
    software component to install. This may be known upfront, or it could be queried
    from the list of available components. The best location to search for packages
    is on the PyPi website ([https://pypi.org/](https://pypi.org/)), which details
    each available package, their history, and any dependencies.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何使用包管理器的人来说，第一步是确定要安装的软件组件。这可能事先已知，或者可能需要从可用组件列表中查询。搜索包的最佳位置是PyPi网站([https://pypi.org/](https://pypi.org/))，该网站详细介绍了每个可用的包、它们的历史和任何依赖项。
- en: There are countless packages available to install from the Python Index, and
    choosing the correct package can be a challenge. One of the most common use cases
    for Python developers is making HTTP-based requests. While Python does provide
    modules, such as `http.client`, constructing simple queries can be complex. The
    `requests` module attempts to simplify the use of HTTP-based invocations.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 从Python索引中可安装的包数不胜数，选择正确的包可能是一项挑战。Python开发者最常见的用例之一是进行基于HTTP的请求。虽然Python提供了如`http.client`等模块，但构建简单的查询可能相当复杂。`requests`模块试图简化基于HTTP的调用。
- en: 'Details related to the Requests module can be found on the PyPi website, but
    let’s use pip to install the package. Execute the following command to install
    the `requests` package using `pip`:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 与Requests模块相关的详细信息可以在PyPi网站上找到，但让我们使用pip来安装包。执行以下命令使用pip安装`requests`包：
- en: '[PRE3]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Information related to the installed package can be viewed using the `info`
    subcommand:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`info`子命令可以查看已安装包的相关信息：
- en: '[PRE4]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The response from the command is as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 命令的响应如下：
- en: '[PRE5]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'With the `requests` package installed, a simple Python interactive session
    can be used to illustrate how it can be used. Execute the following command to
    first start a Python interactive session:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 安装了`requests`包后，可以使用简单的Python交互会话来说明其用法。执行以下命令以首先启动Python交互会话：
- en: '[PRE6]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now import the requests, query a remote address, and print the HTTP status.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在导入requests，查询远程地址并打印HTTP状态。
- en: Listing C.1 Using the requests package to query a remote server
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 列表C.1 使用requests包查询远程服务器
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: ① Import the requests package.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ① 导入requests包。
- en: ② Perform a request.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ② 执行请求。
- en: ③ Print the HTTP status from the request.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ③ 打印请求的HTTP状态。
- en: A `200` response code should be returned, indicating a successful query to the
    remote HTTP server. Type `exit()` to exit the Python interactive console.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 应返回`200`响应代码，表示成功查询远程HTTP服务器。输入`exit()`退出Python交互控制台。
- en: Installed Python packages can also be installed via pip. The `pip list` command
    can be used to determine which packages are currently installed. Once the desired
    package for removal has been identified, it can be removed by using the `pip uninstall`
    command. To remove the requests package previously installed, execute the following
    command.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 已安装的Python包也可以通过pip安装。可以使用`pip list`命令确定当前已安装的哪些包。一旦确定了要删除的所需包，就可以使用`pip uninstall`命令来删除。要删除之前安装的requests包，请执行以下命令。
- en: Listing C.2 Removing the requests package
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 列表C.2 删除requests包
- en: '[PRE8]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: ① The -y flag will skip the confirmation prompt prior to removing the package.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ① 使用-y标志将跳过在删除包之前的确认提示。
- en: Once the command completes successfully, the Python package has been removed.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦命令成功完成，Python包已被删除。
