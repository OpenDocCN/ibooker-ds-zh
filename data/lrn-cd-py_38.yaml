- en: Lesson 31\. Creating a class for an object type
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第31课\. 为对象类型创建类
- en: After reading [lesson 31](#ch31), you’ll be able to
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在阅读[第31课](#ch31)之后，你将能够
- en: Define a Python class
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义Python类
- en: Define data properties for a class
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义类的数据属性
- en: Define operations for a class
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义类操作
- en: Use a class to create objects of that type and perform operations
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用类创建该类型的对象并执行操作
- en: You can create your own types of objects to suit whatever your program needs.
    Except for atomic object types (`int`, `float`, `bool`), any object that you create
    is made up of other preexisting objects. As someone who implements a new object
    type, you get to define the properties that make up the object and the behaviors
    that you’ll allow an object to have (on its own or when interacting with other
    objects).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以创建自己的对象类型来满足你程序的需求。除了原子对象类型（`int`，`float`，`bool`），你创建的任何对象都是由其他预存在的对象组成的。作为实现新对象类型的人，你可以定义组成对象的属性以及你将允许对象拥有的行为（无论是独立拥有还是与其他对象交互时）。
- en: You usually define your own objects in order to have customized properties and
    behaviors, so that you can reuse them. In this lesson, you’ll view code you write
    from two points of view, just as when you wrote your own functions. You’ll separate
    yourself from a programmer/writer of a new object type and from the programmer/user
    of a newly created object type.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 你通常定义自己的对象是为了拥有定制的属性和行为，这样你就可以重用它们。在本课中，你将从两个角度来审视你编写的代码，就像你编写自己的函数时一样。你将把自己从新对象类型的程序员/编写者以及新创建对象类型的程序员/使用者中分离出来。
- en: 'Before defining an object type by using a class, you should have a general
    idea of how you’ll implement it by answering two questions:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用类定义对象类型之前，你应该对如何实现它有一个大致的了解，通过回答两个问题：
- en: What is your object made up of (its characteristics, or properties)?
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的对象由什么组成（它的特征，或属性）？
- en: What do you want your object to do (its behaviors, or operations)?
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你想让你的对象做什么（它的行为，或操作）？
- en: '|  |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Consider this**'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**考虑这一点**'
- en: Lists and integers are two types of objects. Name some operations you can do
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 列表和整数是两种类型的对象。列举一些你可以进行的操作
- en: On a list
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个列表上
- en: On one or more numbers
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个或多个数字上
- en: Do you notice anything different between the majority of the operations you
    can do on each?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你是否注意到你在每个对象上可以进行的多数操作之间有什么不同？
- en: 'Answer:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 答案：
- en: '`Append, extend, pop, index, remove, in`'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Append, extend, pop, index, remove, in`'
- en: '`+, -, *, /, %, negate, convert to a string`'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`+, -, *, /, %, negate, convert to a string`'
- en: '`Most of the operations on lists are done with dot notation, but the operations
    on numbers use mathematical symbols.`'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '`列表上的大多数操作都使用点符号进行，但数字上的操作使用数学符号。`'
- en: '|  |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 31.1\. Implementing a new object type by using a class
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.1\. 通过类实现新对象类型
- en: 'The first part of creating your own object type is to define the class. You
    use the `class` keyword to do this. A simple object type you may want to create
    is an object representing a circle. You tell Python that you want to define a
    new object type through a class. Consider the following line:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 创建你自己的对象类型的第一个部分是定义类。你使用`class`关键字来完成这个操作。你可能想要创建的一个简单对象类型是表示圆的对象。你告诉Python你想要通过类来定义一个新的对象类型。考虑以下行：
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The keyword `class` starts the definition. The word `Circle` is the name of
    your class as well as the name of the object type that you want to define. In
    the parentheses, the word `object` means that your class is going to be a Python
    object. All classes you define are going to be Python objects. As such, objects
    created using your class will inherit all basic behaviors and functionality that
    any Python object has—for example, binding a variable to your object by using
    the assignment operator.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 关键字`class`开始定义。单词`Circle`既是你的类名也是你想要定义的对象类型的名称。在括号中，单词`object`意味着你的类将是一个Python对象。你定义的所有类都将成为Python对象。因此，使用你的类创建的对象将继承任何Python对象都具有的所有基本行为和功能——例如，通过使用赋值运算符将变量绑定到你的对象上。
- en: '|  |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 31.1**'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查31.1**'
- en: 'Write a line to define a class for the following objects:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 编写一行代码来定义以下对象的类：
- en: '**[1](kindle_split_056.html#app01qa123q0a1)**'
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[1](kindle_split_056.html#app01qa123q0a1)**'
- en: ''
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A person
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个人
- en: '**[2](kindle_split_056.html#app01qa123q0a2)**'
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[2](kindle_split_056.html#app01qa123q0a2)**'
- en: ''
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A car
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一辆车
- en: '**[3](kindle_split_056.html#app01qa123q0a3)**'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[3](kindle_split_056.html#app01qa123q0a3)**'
- en: ''
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A computer
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一台计算机
- en: '|  |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 31.2\. Data attributes as object properties
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.2\. 数据属性作为对象属性
- en: After you start defining the class, you’ll have to decide how your object will
    be initialized. For the most part, this involves deciding how you’ll represent
    your object and the data that will define it. You’ll initialize these objects.
    The object properties are called *data attributes* of the object.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始定义类之后，你必须决定你的对象将如何初始化。大部分情况下，这涉及到决定你将如何表示你的对象以及定义它的数据。你将初始化这些对象。对象属性被称为对象的
    *数据属性*。
- en: 31.2.1\. Initializing an object with __init__
  id: totrans-41
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 31.2.1. 使用 __init__ 初始化对象
- en: 'To initialize your object, you have to implement a special operation, the `__init__`
    operation (notice the double underscores before and after the word `init`):'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 要初始化你的对象，你必须实现一个特殊操作，即 `__init__` 操作（注意 `init` 前后的双下划线）：
- en: '[PRE1]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The `__init__` definition looks like a function, except it’s defined inside
    a class. Any function defined inside a class is named a *method*.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '`__init__` 的定义看起来像函数，但它是在类内部定义的。任何在类内部定义的函数都被称为 *方法*。'
- en: '|  |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Definition
  id: totrans-46
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 定义
- en: A method is a function defined inside a class, and defines an operation you
    can do on an object of that type.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 方法是在类内部定义的函数，它定义了你可以对该类型的对象执行的操作。
- en: '|  |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: The code inside the `__init__` method generally initializes the data attributes
    that define the object. You decide that your circle class initializes a circle
    with radius 0 when first created.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '`__init__` 方法内部的代码通常初始化定义对象的属性数据。你决定你的圆类在首次创建时初始化一个半径为0的圆。'
- en: 31.2.2\. Creating an object property inside __init__
  id: totrans-50
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 31.2.2. 在 __init__ 中创建对象属性
- en: 'A data attribute of one object is another object. Your object may be defined
    by more than one data attribute. To tell Python that you want to define a data
    attribute of the object, you use a variable named `self` with a dot after it.
    In the `Circle` class, you initialize a radius as the data attribute of a circle,
    and initialize it to 0:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 一个对象的数据属性是另一个对象。你的对象可能由多个数据属性定义。为了告诉 Python 你想要定义对象的数据属性，你使用一个名为 `self` 的变量，并在其后加上一个点。在
    `Circle` 类中，你初始化一个半径作为圆的数据属性，并将其初始化为0：
- en: '[PRE2]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Notice that in the definition of `__init__`, you take one parameter named `self`.
    Then, inside the method, you use `self.` to set a data attribute of your circle.
    The variable `self` is used to tell Python that you’ll be using this variable
    to refer to any object you’ll create of the type `Circle`. Any circle you create
    will have its own radius accessible through `self.radius`. At this point, notice
    that you’re still defining the class and haven’t created any specific object yet.
    You can think of `self` as a placeholder variable for any object of type `Circle`.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 注意在 `__init__` 的定义中，你使用了一个名为 `self` 的参数。然后，在方法内部，你使用 `self.` 来设置圆的数据属性。变量 `self`
    用于告诉 Python，你将使用这个变量来引用你创建的任何 `Circle` 类型的对象。你创建的任何圆都将通过 `self.radius` 访问其自己的半径。在这个阶段，请注意你仍在定义类，还没有创建任何特定的对象。你可以将
    `self` 视为任何 `Circle` 类型对象的占位符变量。
- en: Inside `__init__`, you use `self.radius` to tell Python that the variable `radius`
    belongs to an object of type `Circle`. Every object you create of type `Circle`
    will have its own variable named `radius`, whose value can differ between objects.
    Every variable defined using `self.` refers to a data attribute of the object.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `__init__` 中，你使用 `self.radius` 来告诉 Python，变量 `radius` 属于 `Circle` 类型的对象。你创建的任何
    `Circle` 类型的对象都将有一个名为 `radius` 的变量，其值可以在对象之间不同。使用 `self.` 定义的每个变量都引用对象的数据属性。
- en: '|  |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 31.2**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 31.2**'
- en: '**[Q1:](kindle_split_056.html#app01qa124q0a1)**'
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](kindle_split_056.html#app01qa124q0a1)**'
- en: ''
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Write an `__init__` method that contains data attribute initializations for
    each of the following scenarios:'
  id: totrans-59
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 编写一个 `__init__` 方法，包含以下场景的数据属性初始化：
- en: ''
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A person
  id: totrans-61
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个人
- en: A car
  id: totrans-62
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一辆车
- en: A computer
  id: totrans-63
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台计算机
- en: '|  |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 31.3\. Methods as object operations and behaviors
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.3. 方法作为对象操作和行为
- en: 'Your object has behaviors defined by operations you can do with or on the object.
    You implement operations via methods. For a circle, you can change its radius
    by writing another method:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 你的对象具有通过在对象上或与对象一起执行的操作定义的行为。你通过方法实现操作。对于一个圆，你可以通过编写另一个方法来更改其半径：
- en: '[PRE3]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: A method looks like a function. As in the `__init__` method, you use `self`
    as the first parameter to the method. The method definition says this is a method
    named `change_radius`, and it takes one parameter named `radius`.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 方法看起来像函数。与 `__init__` 方法一样，你将 `self` 作为方法的第一个参数。方法定义表明这是一个名为 `change_radius`
    的方法，它接受一个名为 `radius` 的参数。
- en: Inside the method is one line. Because you want to modify a data attribute of
    the class, you use `self.` to access the radius inside the method and change its
    value.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 方法内部只有一行。因为你想要修改类的数据属性，所以在方法内部使用 `self.` 来访问半径并改变它的值。
- en: 'Another behavior for the circle object is to tell you its radius:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 圆形对象还有另一个行为，就是告诉你它的半径：
- en: '[PRE4]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Again, this is a method, and it takes no parameters besides `self`. All it does
    is return the value of its data attribute `radius`. As before, you use `self`
    to access the data attribute.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，这也是一个方法，它除了 `self` 之外没有其他参数。它所做的只是返回其数据属性 `radius` 的值。和之前一样，你使用 `self` 来访问数据属性。
- en: '|  |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 31.3**'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 31.3**'
- en: '**[Q1:](kindle_split_056.html#app01qa125q0a1)**'
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](kindle_split_056.html#app01qa125q0a1)**'
- en: ''
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Suppose you create a `Door` object type with the following initialization method:'
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 假设你创建了一个具有以下初始化方法的 `Door` 对象类型：
- en: ''
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-79
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE5]'
- en: ''
  id: totrans-80
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Write a method that returns whether the door is open.
  id: totrans-81
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写一个返回门是否打开的方法。
- en: Write a method that returns the area of the door.
  id: totrans-82
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写一个返回门面积的方法。
- en: '|  |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 31.4\. Using an object type you defined
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.4. 使用你定义的对象类型
- en: 'You’ve already been using object types written by someone else every time you’ve
    created an object: for example, `int = 3` or `L = []`. These are shorthand notations
    instead of using the name of the class.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 每次你创建一个对象时，你已经在使用别人编写的对象类型：例如，`int = 3` 或 `L = []`。这些是简写符号，而不是使用类的名称。
- en: 'The following are equivalent in Python: `L = []` and `L = list()`. Here, `list`
    is the name of the `list` class that someone implemented for others to use.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Python 中，以下两个是等价的：`L = []` 和 `L = list()`。在这里，`list` 是某人实现供他人使用的 `list` 类的名称。
- en: 'Now, you can do the same with your own object types. For the `Circle` class,
    you create a new Circle object as follows:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以用你自己的对象类型做同样的事情。对于 `Circle` 类，你可以按照以下方式创建一个新的 Circle 对象：
- en: '[PRE6]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: We say that the variable `one_circle` is bound to an object that’s an instance
    of the `Circle` class. In other words, `one_circle` is a `Circle`.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们说变量 `one_circle` 被绑定到一个 `Circle` 类的实例对象上。换句话说，`one_circle` 是一个 `Circle`。
- en: '|  |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Definition
  id: totrans-91
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 定义
- en: An instance is a specific object of a certain object type.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 实例是特定对象类型的特定对象。
- en: '|  |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 'You can create as many instances as you like by calling the class name and
    binding the new object to another variable name:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过调用类名并将新对象绑定到另一个变量名来创建任意多个实例：
- en: '[PRE7]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'After you create instances of the class, you can perform operations on the
    objects. On a `Circle` instance, you can do only two operations: change its radius
    or get the object to tell you its radius.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建类的实例之后，你可以在对象上执行操作。在一个 `Circle` 实例上，你可以执行的操作只有两个：更改其半径或让对象告诉你它的半径。
- en: Recall that the dot notation means that the operation acts on a particular object.
    For example,
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，点符号表示操作作用于特定的对象。例如，
- en: '[PRE8]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Notice that you pass in one actual parameter (4) to this function, whereas
    the definition had two formal parameters (`self` and `radius`). Python always
    automatically assigns the value for `self` to be the object on which the method
    is called (`one_circle`, in this case). The object on which the method is called
    is the object right before the dot. This code changes the radius of only this
    instance, named `one_circle`, to `4`. All other instances of the object that may
    have been created in a program remain unchanged. Say you ask for the radius values
    as shown here:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，你向这个函数传递了一个实际参数（4），而定义中有两个形式参数（`self` 和 `radius`）。Python 总是自动将 `self` 的值分配为调用方法的对象（在这种情况下是
    `one_circle`）。调用方法的对象是点号之前的对象。此代码只更改了名为 `one_circle` 的这个实例的半径，将其更改为 `4`。程序中可能创建的所有其他对象实例保持不变。假设你像下面这样请求半径值：
- en: '[PRE9]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This prints the following:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打印以下内容：
- en: '[PRE10]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Here, `one_circle`’s radius was changed to 4, but you didn’t change the radius
    of `another_circle`. How do you know this? Because the radius of a circle was
    a data attribute and defined with `self`.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`one_circle` 的半径被更改为 4，但你没有更改 `another_circle` 的半径。你怎么知道这一点？因为圆的半径是一个数据属性，并且使用
    `self` 定义。
- en: 'This is shown in [figure 31.1](#ch31fig01): each object has its own data attribute
    for the radius, and changing one doesn’t affect the other.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这在 [图 31.1](#ch31fig01) 中显示：每个对象都有自己的半径数据属性，更改一个不会影响另一个。
- en: Figure 31.1\. On the left are the data attributes of two circle objects. On
    the right, you can see that one data attribute changed after using dot notation
    on it to change the value.
  id: totrans-105
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 图 31.1. 左边是两个圆对象的数据属性。在右边，你可以看到在使用点符号更改其值后，一个数据属性发生了变化。
- en: '![](images/31fig01_alt.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![](images/31fig01_alt.jpg)'
- en: '|  |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 31.4**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 31.4**'
- en: '**[Q1:](kindle_split_056.html#app01qa126q0a1)**'
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](kindle_split_056.html#app01qa126q0a1)**'
- en: ''
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Suppose you create a `Door` object type in the following way:'
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 假设你以以下方式创建一个`Door`对象类型：
- en: ''
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE11]'
- en: ''
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Write a line that creates a new `Door` object and binds it to a variable named
    `square_door`.
  id: totrans-115
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写一行代码以创建一个新的`Door`对象并将其绑定到名为`square_door`的变量。
- en: Write a line that changes the state of the `square_door`.
  id: totrans-116
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写一行代码以改变`square_door`的状态。
- en: Write a line that scales the door to be three times bigger.
  id: totrans-117
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写一行代码以将门缩放到原来的三倍大小。
- en: '|  |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: 31.5\. Creating a class with parameters in __init__
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.5. 在 __init__ 中使用参数创建类
- en: Now, you want to make another class to represent a rectangle. The following
    listing shows the code.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你想要创建另一个类来表示一个矩形。以下列表显示了代码。
- en: Listing 31.1\. A `Rectangle` class
  id: totrans-121
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列表 31.1. 一个`Rectangle`类
- en: '[PRE12]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'This code presents a couple of new ideas. First, you have two parameters in
    `__init__` besides `self`. When you create a new `Rectangle` object, you’ll have
    to initialize it with two values: one for the length and one for the width.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码提出了两个新的想法。首先，在`__init__`中除了`self`之外还有两个参数。当你创建一个新的`Rectangle`对象时，你必须用两个值初始化它：一个用于长度，一个用于宽度。
- en: 'You can do that this way:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以这样做到：
- en: '[PRE13]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Say you don’t put in two parameters and do this:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你没有输入两个参数并这样做：
- en: '[PRE14]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Then Python gives you an error saying that it’s expecting two parameters when
    you initialize the object but you gave it only one:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，当你初始化对象时，Python会给出一个错误，表示它期望两个参数，但你只提供了一个：
- en: '[PRE15]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The other thing to notice in this `__init__` is that the parameters and the
    data attributes have the same name. They don’t have to be the same, but often
    they are. Only the attribute names matter when you want to access the values of
    object properties using the class methods. The parameters to the methods are formal
    parameters to pass data in to initialize the object, and are temporary; they last
    until the method call ends, while data attributes persist throughout the life
    of the object instance.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个`__init__`中要注意的另一件事是参数和数据属性具有相同的名称。它们不必相同，但通常是这样的。当你想要使用类方法访问对象属性的值时，只有属性名称才是重要的。方法参数是形式参数，用于在初始化对象时传递数据，它们是临时的；它们在方法调用结束时结束，而数据属性在整个对象实例的生命周期中持续存在。
- en: 31.6\. Dot notation on the class name, not on an object
  id: totrans-131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 31.6. 在类名上使用点表示法，而不是在对象上
- en: You’ve been initializing and using objects by leaving out the `self` parameter
    and letting Python automatically decide what the value for `self` should be. This
    is a nice feature of Python, which allows programmers to write more-concise code.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 你一直通过省略`self`参数并让Python自动决定`self`的值来初始化和使用对象。这是Python的一个很好的特性，它允许程序员编写更简洁的代码。
- en: There’s a more explicit way to do this in the code, by giving a parameter for
    `self` directly, without relying on Python to detect what it should be.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码中，有一种更明确的方式来做到这一点，即直接为`self`提供一个参数，而不依赖于Python检测它应该是什么。
- en: 'Going back to the `Circle` class you defined, you can again initialize an object,
    set the radius, and print the radius as follows:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 回到你定义的`Circle`类，你可以再次初始化一个对象，设置半径，并按以下方式打印半径：
- en: '[PRE16]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'After initializing an object, a more explicit way of doing the operations on
    the object is by using the class name and object directly, like this:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在初始化对象之后，对对象进行操作的一种更明确的方式是使用类名和对象直接，如下所示：
- en: '[PRE17]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Notice that you’re calling the methods on the class name. Additionally, you’re
    now passing two parameters to `change_radius`:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到你在类名上调用方法。此外，你现在正在将两个参数传递给`change_radius`：
- en: '`c` is the object you want to do the operation on and is assigned to `self`.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`c`是你想要进行操作的物体，并分配给`self`。'
- en: '`2` is the value for the new radius.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`2`是新半径的值。'
- en: If you call the method on the object directly, as in `c.change_radius(2)`, Python
    knows that the parameter for `self` is to be `c`, infers that `c` is an object
    of type `Circle`, and translates the line behind the scenes to be `Circle.change_radius(c,
    2)`.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你直接在对象上调用方法，例如`c.change_radius(2)`，Python知道`self`的参数应该是`c`，推断出`c`是`Circle`类型的对象，并将背后的代码转换为`Circle.change_radius(c,
    2)`。
- en: '|  |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: '**Quick check 31.5**'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速检查 31.5**'
- en: '**[Q1:](kindle_split_056.html#app01qa127q0a1)**'
  id: totrans-144
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q1:](kindle_split_056.html#app01qa127q0a1)**'
- en: ''
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'You have the following lines of code. Convert the ones noted to use the explicit
    way of calling methods (using dot notation on the class name):'
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你有以下几行代码。将标记的代码转换为使用显式调用方法的方式（在类名上使用点表示法）：
- en: ''
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-148
  prefs:
  - PREF_BQ
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '|  |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '|  |'
- en: Summary
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this lesson, my objective was to teach you how to define a class in Python.
    Here are the major takeaways:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在本课中，我的目标是教你如何在 Python 中定义一个类。以下是主要收获：
- en: A class defines an object type.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类定义了一个对象类型。
- en: A class defines data attributes (properties) and methods (operations).
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类定义了数据属性（属性）和方法（操作）。
- en: '`self` is a variable name conventionally used to refer to a generic instance
    of the object type.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`self` 是一个传统上用于引用对象类型的通用实例的变量名。'
- en: An `__init__` method is a special operation that defines how to initialize an
    object. It’s called when an object is created.
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`__init__` 方法是一种特殊操作，用于定义如何初始化一个对象。当创建对象时会被调用。'
- en: You can define other methods (for example, functions inside a class) to do other
    operations.
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以定义其他方法（例如，类内的函数）来执行其他操作。
- en: When using a class, the dot notation on an object accesses data attributes and
    methods.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用类时，对象上的点符号用于访问数据属性和方法。
- en: Let’s see if you got this...
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看你是否掌握了这个...
- en: '**[Q31.1](kindle_split_056.html#app01qa128q0a1)**'
  id: totrans-159
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q31.1](kindle_split_056.html#app01qa128q0a1)**'
- en: ''
  id: totrans-160
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Write a method for the circle class named `get_area`. It returns the area of
    a circle by using the formula 3.14 * radius². Test your method by creating an
    object and printing the result of the method call.
  id: totrans-161
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 为圆类编写一个名为 `get_area` 的方法。它通过使用公式 3.14 * radius² 返回圆的面积。通过创建一个对象并打印方法调用的结果来测试你的方法。
- en: '**[Q31.2](kindle_split_056.html#app01qa128q0a2)**'
  id: totrans-162
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**[Q31.2](kindle_split_056.html#app01qa128q0a2)**'
- en: ''
  id: totrans-163
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Write two methods for the `Rectangle` class named `get_area` and `get_perimeter`.
    Test your methods by creating an object and printing the result of the method
    calls:'
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 为 `Rectangle` 类编写两个名为 `get_area` 和 `get_perimeter` 的方法。通过创建一个对象并打印方法调用的结果来测试你的方法：
- en: ''
  id: totrans-165
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`get_area` returns the area of a rectangle by using the formula length * width.'
  id: totrans-166
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`get_area` 通过使用公式 length * width 返回矩形的面积。'
- en: '`get_perimeter` returns the perimeter of a rectangle by using 2 * length +
    2 * width.'
  id: totrans-167
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`get_perimeter` 通过计算 2 * length + 2 * width 返回矩形的周长。'
