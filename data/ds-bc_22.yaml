- en: 'Part 5\. Case study 5: Predicting future friendships from social network data'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5部分. 案例研究5：从社交网络数据预测未来的友谊
- en: Problem statement
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题陈述
- en: Welcome to FriendHook, Silicon Valley’s hottest new startup. FriendHook is a
    social networking app for college undergrads. To join, an undergrad must scan
    their college ID to prove their affiliation. After approval, undergrads can create
    a FriendHook profile, which lists their dorm name and scholastic interests. Once
    a profile is created, an undergrad can send *friend requests* to other students
    at their college. A student who receives a friend request can either approve or
    reject it. When a friend request is approved, the pair of students are officially
    *FriendHook friends*. Using their new digital connection, FriendHook friends can
    share photographs, collaborate on coursework, and keep each other up to date on
    the latest campus gossip.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到FriendHook，硅谷最新热门的初创公司。FriendHook是一个面向大学生社交网络的APP。要加入，本科生必须扫描他们的大学ID以证明他们的归属。批准后，本科生可以创建一个FriendHook个人资料，列出他们的宿舍名称和学术兴趣。创建个人资料后，本科生可以向他们大学中的其他学生发送**好友请求**。收到好友请求的学生可以批准或拒绝。当好友请求被批准时，这两名学生正式成为FriendHook朋友。利用他们新的数字联系，FriendHook朋友可以分享照片，合作完成课程作业，并互相更新最新的校园八卦。
- en: The FriendHook app is a hit. It’s utilized on hundreds of college campuses worldwide.
    The user base is growing, and so is the company. You are FriendHook’s first data
    science hire! Your first challenging task will be to work on FriendHook’s friend
    recommendation algorithm.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: FriendHook应用非常受欢迎。它在全球数百所大学中使用。用户基础在增长，公司也在增长。你是FriendHook的第一位数据科学员工！你的第一个挑战性任务将是研究FriendHook的朋友推荐算法。
- en: Introducing the friend-of-a-friend recommendation algorithm
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 介绍朋友的朋友推荐算法
- en: Sometimes FriendHook users have trouble finding their real-life friends on the
    digital app. To facilitate more connections, the engineering team has implemented
    a simple friend-recommendation engine. Once a week, all users receive an email
    recommending a new friend who is not yet in their network. The users can ignore
    the email, or they can send a friend request. That request is then either accepted
    or rejected/ignored.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 有时FriendHook用户在数字应用中难以找到他们的现实生活中朋友。为了促进更多连接，工程团队已经实施了一个简单的朋友推荐引擎。每周一次，所有用户都会收到一封推荐一个尚未加入他们网络的新朋友的电子邮件。用户可以选择忽略电子邮件，或者发送好友请求。该请求随后要么被接受，要么被拒绝/忽略。
- en: Currently, the recommendation engine follows a simple algorithm called the *friend-of-a-friend
    recommendation algorithm*. The algorithm works like this. Suppose we want to recommend
    a new friend for student A. We pick a random student B who is already friends
    with student A. We then pick a random student C who is friends with student B
    but not student A. Student C is then selected as the recommended friend for student
    A, as shown in figure CS5.1.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，推荐引擎遵循一个简单的算法，称为**朋友的朋友推荐算法**。该算法的工作原理如下。假设我们想要为学生A推荐一个新的朋友。我们随机选择一个已经与学生A成为朋友的学生B。然后我们随机选择一个与学生B是朋友但与学生A不是朋友的学生C。学生C随后被选为学生A的推荐朋友，如图CS5.1所示。
- en: '![](../Images/CS5.1.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![图CS5.1](../Images/CS5.1.png)'
- en: 'Figure CS5.1 The friend-of-a-friend recommendation algorithm in action. Mary
    has two friends: Fred and Bob. One of these friends (Bob) is randomly selected.
    Bob has two additional friends: Marty and Alice. Neither Alice nor Marty are friends
    with Mary. A friend of a friend (Marty) is randomly selected. Mary receives an
    email suggesting that she should send a friend request to Marty.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 图CS5.1 朋友的朋友推荐算法的实际应用。玛丽有两个朋友：弗雷德和鲍勃。其中一位朋友（鲍勃）被随机选中。鲍勃有两个额外的朋友：马蒂和爱丽丝。爱丽丝和马蒂都不是玛丽的的朋友。一个朋友的朋友（马蒂）被随机选中。玛丽收到一封电子邮件，建议她向马蒂发送好友请求。
- en: Essentially, the algorithm assumes that a friend of your friend is also likely
    to be your friend. This assumption is reasonable but also a bit simplistic. How
    well does this assumption hold? Nobody knows! However, as the company’s first
    data scientist, it’s your job to find out. You have been tasked with building
    a model that predicts student behavior in response to the recommendation algorithm.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 实质上，该算法假设你的朋友的朋友也很可能成为你的朋友。这个假设是合理的，但也有些简单化。这个假设有多好？没有人知道！然而，作为公司的第一位数据科学家，你的任务是找出答案。你被分配了一个构建模型的任务，该模型可以预测学生对推荐算法的反应。
- en: Predicting user behavior
  id: totrans-10
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预测用户行为
- en: 'The friend-of-a-friend recommendation engine can elicit three types of behaviors:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 朋友的朋友推荐引擎可以引发三种类型的行为：
- en: A user reads the emailed friend recommendation and either rejects or ignores
    that recommendation.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户阅读电子邮件中的好友推荐，要么拒绝要么忽略该推荐。
- en: A user sends a friend request based on the recommendation. That request is rejected
    or ignored.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户根据推荐发送好友请求。该请求被拒绝或忽略。
- en: A user sends a friend request based on the recommendation. The friend request
    is accepted, and a new FriendHook connection is established.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户根据推荐发送好友请求。好友请求被接受，并建立了新的FriendHook连接。
- en: Is it possible to predict these three behaviors? The FriendHook CTO would like
    you to find out. The CTO has provided you with FriendHook data from a randomly
    selected university. That data covers all FriendHook users at the university,
    including observed behaviors for all users in response to the weekly friend recommendations.
    The data also includes profile information for each user covering things like
    student major and residential dormitory name. This personal profile information
    has been encrypted to protect each user’s privacy (more on that later). Finally,
    the data includes a network of existing FriendHook connections at the university,
    compiled right before friendship recommendations were emailed.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 是否可以预测这三种行为？FriendHook的首席技术官希望你能找出答案。CTO已经为你提供了从随机选择的大学获取的FriendHook数据。这些数据涵盖了该大学所有FriendHook用户的所有观察到的行为，以及对每周好友推荐的响应。数据还包括每个用户的资料信息，涵盖诸如学生专业和居住宿舍名称等内容。这些个人资料信息已被加密以保护每个用户的隐私（关于这一点稍后还会详细介绍）。最后，数据还包括在发送友谊推荐电子邮件之前编译的大学中现有的FriendHook连接网络。
- en: Your task is to build a model that predicts user behavior based on user profiles
    and social network data. The model must generalize to other colleges and universities.
    This generalizability is very important—a model that cannot be utilized at other
    colleges is worthless to the product team. Consider, for example, a model that
    accurately predicts behavior in one or two of the dorms at the sampled university.
    In other words, it requires specific dorm names to make accurate predictions.
    Such a model is not useful because other universities will have different dormitory
    names. Ideally, the model should generalize to all dormitories across all universities
    worldwide.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你的任务是构建一个基于用户资料和社会网络数据预测用户行为的模型。该模型必须泛化到其他学院和大学。这种泛化能力非常重要——不能在其他学院使用的模型对产品团队来说毫无价值。例如，考虑一个在样本大学的一个或两个宿舍中准确预测行为的模型。换句话说，它需要特定的宿舍名称才能做出准确的预测。这样的模型没有用，因为其他大学将有不同的宿舍名称。理想情况下，该模型应该泛化到全球所有大学的所有宿舍。
- en: Once you’ve built the generalized model, you should explore its inner workings.
    Your goal is to gain insights into how university life facilitates new FriendHook
    connections.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你构建了泛化模型，你应该探索其内部工作原理。你的目标是了解大学生活如何促进新的FriendHook连接。
- en: 'The project goals are ambitious but also very doable. You can complete them
    by carrying out the following tasks:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 项目目标雄心勃勃，但同时也非常可行。你可以通过执行以下任务来完成它们：
- en: Load the three datasets pertaining to user behavior, user profiles, and the
    user friendship network. Explore each dataset, and clean it as required.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载与用户行为、用户资料和用户友谊网络相关的三个数据集。探索每个数据集，并根据需要对其进行清理。
- en: 'Build and evaluate a model that predicts user behavior based on user profiles
    and established friendship connections. You can optionally split this task into
    two subtasks: build a model using just the friendship network, and then add the
    profile information and test whether this improves the model’s performance.'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并评估一个基于用户资料和建立的友谊连接预测用户行为的模型。你可以选择将这个任务分为两个子任务：仅使用友谊网络构建模型，然后添加资料信息并测试这是否能提高模型的表现。
- en: Determine whether the model generalizes well to other universities.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定模型是否很好地泛化到其他大学。
- en: Explore the inner workings of the model to gain better insights into student
    behavior.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 探索模型的内部工作原理，以更好地了解学生行为。
- en: Dataset description
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据集描述
- en: Our data contains three files stored in a friendhook directory. These files
    are CSV tables and are named Profiles.csv, Observations.csv, and Friendships.csv.
    Let’s discuss each table individually.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据包含存储在friendhook目录中的三个文件。这些文件是CSV表格，分别命名为Profiles.csv、Observations.csv和Friendships.csv。让我们分别讨论每个表格。
- en: The Profiles table
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Profiles表
- en: 'Profiles.csv contains profile information for all the students at the chosen
    university. This information is distributed across six columns: `Profile_ID`,
    `Sex`, `Relationship_ Status`, `Major`, `Dorm`, and `Year`. Maintaining student
    privacy is very important to the FriendHook team, so all the profile information
    has been carefully encrypted. FriendHook’s encryption algorithm takes in descriptive
    text and returns a unique, scrambled 12-character code known as a *hash code*.
    Suppose, for example, that a student lists their major as physics. The word *physics*
    is then scrambled and replaced with a hash code such as *b90a1221d2bc*. If another
    student lists their major as art history, a different hash code is returned (for
    example, *983a9b1dc2ef*). In this manner, we can check whether two students share
    the same major without necessarily knowing the identity of that major. All six
    profile columns have been encrypted as a precautionary measure. Let’s discuss
    the separate columns in detail:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`Profiles.csv`包含所选大学所有学生的个人资料信息。这些信息分布在六个列中：`Profile_ID`、`Sex`、`Relationship_Status`、`Major`、`Dorm`和`Year`。维护学生隐私对FriendHook团队来说非常重要，因此所有个人资料信息都已被仔细加密。FriendHook的加密算法接受描述性文本并返回一个唯一的、打乱的12位字符代码，称为*哈希码*。例如，如果一个学生将他们的专业列为物理学，那么单词*physics*将被打乱并替换为一个哈希码，例如*b90a1221d2bc*。如果另一个学生将他们的专业列为艺术史，则返回不同的哈希码（例如，*983a9b1dc2ef*）。通过这种方式，我们可以检查两个学生是否拥有相同的专业，而无需知道该专业的身份。所有六个个人资料列都作为预防措施进行了加密。让我们详细讨论各个单独的列：'
- en: '`Profile_ID`—A unique identifier used to track each student. The identifier
    can be linked to the user behaviors in the `Observations` table. It can also be
    linked to FriendHook connections in the `Friendships` table.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Profile_ID`—一个用于跟踪每个学生的唯一标识符。该标识符可以与`Observations`表中的用户行为相关联。它还可以与`Friendships`表中的FriendHook连接相关联。'
- en: '`Sex`—This optional field describes the sex of a student as `Male` or `Female`.
    Students who don’t wish to specify a gender can leave the `Sex` field blank. Blank
    inputs are stored as empty values in the table.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Sex`—这是一个可选字段，描述学生的性别为`Male`或`Female`。不希望指定性别的学生可以留空`Sex`字段。空白输入在表中存储为空值。'
- en: '`Relationship_Status`—This optional field specifies the relationship status
    of the student. Each student has three relationship categories to choose from:
    `Single`, `In a Relationship`, or `It’s Complicated`. All students have a fourth
    option of leaving this field blank. Blank inputs are stored as empty values in
    the table.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Relationship_Status`—这是一个可选字段，指定学生的关系状态。每个学生可以从以下三个关系类别中选择一个：`Single`、`In
    a Relationship`或`It’s Complicated`。所有学生都有一个选项可以留空这个字段。空白输入在表中存储为空值。'
- en: '`Major`—The chosen area of study for the student, such as physics, history,
    economics, etc. This field is required to activate a FriendHook account. Students
    who have not yet picked their major can select `Undecided` from among the options.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Major`—学生选择的学习领域，例如物理学、历史、经济学等。此字段是激活FriendHook账户所必需的。尚未选择专业的学生可以从选项中选择`Undecided`。'
- en: '`Dorm`—The name of the dormitory where the student resides. This field is required
    to activate a FriendHook account. Students who reside in off-campus housing can
    select `Off-Campus Housing` from among the options.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Dorm`—学生居住的宿舍名称。此字段是激活FriendHook账户所必需的。居住在校园外的学生可以从选项中选择`Off-Campus Housing`。'
- en: '`Year`—The undergraduate student’s year. This field must be set to one of four
    options: `Freshman`, `Sophomore`, `Junior`, or `Senior`.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Year`—本科生年级。此字段必须设置为以下四个选项之一：`Freshman`、`Sophomore`、`Junior`或`Senior`。'
- en: The Observations table
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`Observations`表'
- en: 'Observations.csv contains the observed user behavior in response to the emailed
    friend recommendation. It includes the following five fields:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`Observations.csv`包含对通过电子邮件推荐的友人的观察到的用户行为。它包括以下五个字段：'
- en: '`Profile_ID`—The ID of the user who received a friend recommendation. The ID
    corresponds to the profile ID in the `Profiles` table.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Profile_ID`—收到朋友推荐的用户ID。该ID与`Profiles`表中的个人资料ID相对应。'
- en: '`Selected_Friend`—An existing friend of the user in the `Profile_ID` column.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Selected_Friend`—在`Profile_ID`列中的用户的一个现有朋友。'
- en: '`Selected_Friend_of_Friend`—A randomly chosen friend of `Selected_Friend` who
    is not yet a friend of `Profile_ID`. This random friend of a friend is emailed
    as a friend recommendation for the user.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Selected_Friend_of_Friend`—随机选择的一个朋友，该朋友不是`Profile_ID`的朋友。这个随机的朋友作为推荐给用户的友人。'
- en: '`Friend_Requent_Sent`—A Boolean column that is `True` if a user sends a friend
    request to the suggested friend of a friend or `False` otherwise.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Friend_Requent_Sent`—一个布尔列，如果用户向建议的好友发送好友请求则为`True`，否则为`False`。'
- en: '`Friend_Request_Accepted`—A Boolean column that is `True` only if a user sends
    a friend request and that request is accepted.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Friend_Request_Accepted`—一个布尔列，只有当用户发送好友请求并且该请求被接受时才为`True`。'
- en: This table stores all the observed user behaviors in response to the weekly
    recommendation email. Our goal is to predict the Boolean outputs of the final
    two table columns based on the profile and social networking data.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 此表存储了所有用户对每周推荐电子邮件的响应观察到的用户行为。我们的目标是根据个人资料和社交网络数据预测最后两个表列的布尔输出。
- en: The Friendships table
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`Friendships`表'
- en: 'Friendships.csv contains the FriendHook friendship network corresponding to
    the selected university. This network was used as input into the friend-of-a-friend
    recommendation algorithm. The `Friendships` table has just two columns: `Friend
    A` and `Friend B`. These columns contain profile IDs that map to the `Profile_ID`
    columns of the `Profiles` and `Observations` tables. Each row corresponds to a
    pair of FriendHook friends. For instance, the first row contains IDs `b8bc075e54b9`
    and `49194b3720b6`. From these IDs, we can infer that the associated students
    have an established FriendHook connection. Using the IDs, we can look up the profile
    of each student. The profiles then allow us to explore whether the friends share
    the same major or reside together in the same dorm.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '`Friendships.csv`包含与所选大学对应的FriendHook好友网络。这个网络被用作朋友推荐算法的输入。`Friendships`表只有两列：`Friend
    A`和`Friend B`。这些列包含与`Profiles`和`Observations`表的`Profile_ID`列相对应的配置文件ID。每一行对应着一对FriendHook好友。例如，第一行包含ID
    `b8bc075e54b9`和`49194b3720b6`。从这些ID中，我们可以推断出相关的学生已经建立了FriendHook连接。使用这些ID，我们可以查找每个学生的配置文件。然后，这些配置文件允许我们探索这些朋友是否拥有相同的专业或是否住在同一宿舍。'
- en: Overview
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概述
- en: 'To address the problem at hand, we need to know how to do the following:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决当前的问题，我们需要知道如何做以下几件事：
- en: Analyze network data using Python
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Python分析网络数据
- en: Discover friendship clusters in social networks
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在社交网络中发现友谊聚类
- en: Train and evaluate supervised machine learning models
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练和评估监督机器学习模型
- en: Probe the inner workings of trained models to draw insights from our data
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索训练模型的内部工作原理，以从我们的数据中得出见解
