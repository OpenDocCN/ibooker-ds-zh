<html><head></head><body><section data-pdf-bookmark="Chapter 3. Visualizing Data" data-type="chapter" epub:type="chapter"><div class="chapter" id="visualizing_data">&#13;
<h1><span class="label">Chapter 3. </span>Visualizing Data</h1>&#13;
&#13;
<blockquote data-type="epigraph" epub:type="epigraph">&#13;
<p>I believe that visualization is one of the most powerful means of achieving personal goals.</p>&#13;
<p data-type="attribution">Harvey Mackay</p>&#13;
</blockquote>&#13;
&#13;
<p>A<a data-primary="data visualization" data-secondary="uses for" data-type="indexterm" id="idm45635761670520"/> fundamental part of the data scientist’s toolkit is data visualization.  Although it is very easy to create visualizations, it’s much harder to produce <em>good</em> ones.</p>&#13;
&#13;
<p>There are two primary uses for data visualization:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>To <em>explore</em> data</p>&#13;
</li>&#13;
<li>&#13;
<p>To <em>communicate</em> data</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>In this chapter, we will concentrate on building the skills that you’ll need to start exploring your own data and to produce the visualizations we’ll be using throughout the rest of the book.  Like most of our chapter topics, data visualization is a rich field of study that deserves its own book.  Nonetheless, I’ll try to give you a sense of what makes for a good visualization and what doesn’t.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="matplotlib" data-type="sect1"><div class="sect1" id="idm45635761664216">&#13;
<h1>matplotlib</h1>&#13;
&#13;
<p>A<a data-primary="data visualization" data-secondary="matplotlib library" data-type="indexterm" id="idm45635761662488"/><a data-primary="matplotlib library" data-type="indexterm" id="idm45635761661480"/> wide variety of tools exist for visualizing data.  We will be using the <a href="http://matplotlib.org/">matplotlib library</a>, which is widely used (although sort of showing its age).  If you are interested in producing elaborate interactive visualizations for the web, it is likely not the right choice, but for simple bar charts, line charts, and scatterplots, it works pretty well.</p>&#13;
&#13;
<p>As mentioned earlier, matplotlib is not part of the core Python library.&#13;
With your virtual environment activated (to set one up, go back to <a data-type="xref" href="ch02.html#virtual_environments">“Virtual Environments”</a> and follow the instructions), install it using this command:</p>&#13;
&#13;
<pre data-code-language="bash" data-type="programlisting">python -m pip install matplotlib</pre>&#13;
&#13;
<p>We will be using the <code>matplotlib.pyplot</code> module.  In its simplest use, <code>pyplot</code> maintains an internal state in which you build up a visualization step by step.  Once you’re done, you can save it with <code>savefig</code> or display it with <code>show</code>.</p>&#13;
&#13;
<p>For example, making simple plots (like <a data-type="xref" href="#simple_line_chart">Figure 3-1</a>) is pretty simple:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="kn">from</code> <code class="nn">matplotlib</code> <code class="kn">import</code> <code class="n">pyplot</code> <code class="k">as</code> <code class="n">plt</code>&#13;
&#13;
<code class="n">years</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1950</code><code class="p">,</code> <code class="mi">1960</code><code class="p">,</code> <code class="mi">1970</code><code class="p">,</code> <code class="mi">1980</code><code class="p">,</code> <code class="mi">1990</code><code class="p">,</code> <code class="mi">2000</code><code class="p">,</code> <code class="mi">2010</code><code class="p">]</code>&#13;
<code class="n">gdp</code> <code class="o">=</code> <code class="p">[</code><code class="mf">300.2</code><code class="p">,</code> <code class="mf">543.3</code><code class="p">,</code> <code class="mf">1075.9</code><code class="p">,</code> <code class="mf">2862.5</code><code class="p">,</code> <code class="mf">5979.6</code><code class="p">,</code> <code class="mf">10289.7</code><code class="p">,</code> <code class="mf">14958.3</code><code class="p">]</code>&#13;
&#13;
<code class="c1"># create a line chart, years on x-axis, gdp on y-axis</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">years</code><code class="p">,</code> <code class="n">gdp</code><code class="p">,</code> <code class="n">color</code><code class="o">=</code><code class="s1">'green'</code><code class="p">,</code> <code class="n">marker</code><code class="o">=</code><code class="s1">'o'</code><code class="p">,</code> <code class="n">linestyle</code><code class="o">=</code><code class="s1">'solid'</code><code class="p">)</code>&#13;
&#13;
<code class="c1"># add a title</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Nominal GDP"</code><code class="p">)</code>&#13;
&#13;
<code class="c1"># add a label to the y-axis</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"Billions of $"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="simple_line_chart">&#13;
<img alt="A simple line chart." src="assets/dsf2_0301.png"/>&#13;
<h6><span class="label">Figure 3-1. </span>A simple line chart</h6>&#13;
</div></figure>&#13;
&#13;
<p>Making plots<a data-primary="line charts" data-type="indexterm" id="idm45635761499144"/><a data-primary="charts" data-secondary="line charts" data-type="indexterm" id="idm45635761498408"/> that look publication-quality good is more complicated and beyond the scope of this chapter.  There are many ways you can customize your charts with, for example, axis labels, line styles, and point markers.  Rather than attempt a comprehensive treatment of these options, we’ll just use (and call attention to) some of them in our examples.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Although we won’t be using much of this functionality,&#13;
matplotlib is capable of producing complicated plots within plots,&#13;
sophisticated formatting, and interactive visualizations.&#13;
Check out <a href="https://matplotlib.org">its documentation</a> if you want to go deeper than we do in this book.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Bar Charts" data-type="sect1"><div class="sect1" id="idm45635761663592">&#13;
<h1>Bar Charts</h1>&#13;
&#13;
<p>A<a data-primary="data visualization" data-secondary="bar charts" data-type="indexterm" id="DVbar02"/><a data-primary="bar charts" data-type="indexterm" id="bar03"/><a data-primary="charts" data-secondary="bar charts" data-type="indexterm" id="Cbar03"/> bar chart is a good choice when you want to show how some quantity varies among some <em>discrete</em> set of items.  For instance, <a data-type="xref" href="#simple_bar_chart">Figure 3-2</a> shows how many Academy Awards were won by each of a variety of movies:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">movies</code> <code class="o">=</code> <code class="p">[</code><code class="s2">"Annie Hall"</code><code class="p">,</code> <code class="s2">"Ben-Hur"</code><code class="p">,</code> <code class="s2">"Casablanca"</code><code class="p">,</code> <code class="s2">"Gandhi"</code><code class="p">,</code> <code class="s2">"West Side Story"</code><code class="p">]</code>&#13;
<code class="n">num_oscars</code> <code class="o">=</code> <code class="p">[</code><code class="mi">5</code><code class="p">,</code> <code class="mi">11</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">10</code><code class="p">]</code>&#13;
&#13;
<code class="c1"># plot bars with left x-coordinates [0, 1, 2, 3, 4], heights [num_oscars]</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">movies</code><code class="p">)),</code> <code class="n">num_oscars</code><code class="p">)</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"My Favorite Movies"</code><code class="p">)</code>     <code class="c1"># add a title</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"# of Academy Awards"</code><code class="p">)</code>   <code class="c1"># label the y-axis</code>&#13;
&#13;
<code class="c1"># label x-axis with movie names at bar centers</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xticks</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">movies</code><code class="p">)),</code> <code class="n">movies</code><code class="p">)</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="simple_bar_chart">&#13;
<img alt="A simple bar chart." src="assets/dsf2_0302.png"/>&#13;
<h6><span class="label">Figure 3-2. </span>A simple bar chart</h6>&#13;
</div></figure>&#13;
&#13;
<p>A bar chart can also be a good choice for plotting histograms of bucketed numeric values, as in <a data-type="xref" href="#bar_chart_histogram">Figure 3-3</a>, in order to visually explore how the values are <em>distributed</em>:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="kn">from</code> <code class="nn">collections</code> <code class="kn">import</code> <code class="n">Counter</code>&#13;
<code class="n">grades</code> <code class="o">=</code> <code class="p">[</code><code class="mi">83</code><code class="p">,</code> <code class="mi">95</code><code class="p">,</code> <code class="mi">91</code><code class="p">,</code> <code class="mi">87</code><code class="p">,</code> <code class="mi">70</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">85</code><code class="p">,</code> <code class="mi">82</code><code class="p">,</code> <code class="mi">100</code><code class="p">,</code> <code class="mi">67</code><code class="p">,</code> <code class="mi">73</code><code class="p">,</code> <code class="mi">77</code><code class="p">,</code> <code class="mi">0</code><code class="p">]</code>&#13;
&#13;
<code class="c1"># Bucket grades by decile, but put 100 in with the 90s</code>&#13;
<code class="n">histogram</code> <code class="o">=</code> <code class="n">Counter</code><code class="p">(</code><code class="nb">min</code><code class="p">(</code><code class="n">grade</code> <code class="o">//</code> <code class="mi">10</code> <code class="o">*</code> <code class="mi">10</code><code class="p">,</code> <code class="mi">90</code><code class="p">)</code> <code class="k">for</code> <code class="n">grade</code> <code class="ow">in</code> <code class="n">grades</code><code class="p">)</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">bar</code><code class="p">([</code><code class="n">x</code> <code class="o">+</code> <code class="mi">5</code> <code class="k">for</code> <code class="n">x</code> <code class="ow">in</code> <code class="n">histogram</code><code class="o">.</code><code class="n">keys</code><code class="p">()],</code>  <code class="c1"># Shift bars right by 5</code>&#13;
        <code class="n">histogram</code><code class="o">.</code><code class="n">values</code><code class="p">(),</code>                 <code class="c1"># Give each bar its correct height</code>&#13;
        <code class="mi">10</code><code class="p">,</code>                                 <code class="c1"># Give each bar a width of 10</code>&#13;
        <code class="n">edgecolor</code><code class="o">=</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">))</code>                <code class="c1"># Black edges for each bar</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">axis</code><code class="p">([</code><code class="o">-</code><code class="mi">5</code><code class="p">,</code> <code class="mi">105</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">5</code><code class="p">])</code>                  <code class="c1"># x-axis from -5 to 105,</code>&#13;
                                           <code class="c1"># y-axis from 0 to 5</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xticks</code><code class="p">([</code><code class="mi">10</code> <code class="o">*</code> <code class="n">i</code> <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="mi">11</code><code class="p">)])</code>    <code class="c1"># x-axis labels at 0, 10, ..., 100</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s2">"Decile"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"# of Students"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Distribution of Exam 1 Grades"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="bar_chart_histogram">&#13;
<img alt="A bar chart histogram." src="assets/dsf2_0303.png"/>&#13;
<h6><span class="label">Figure 3-3. </span>Using a bar chart for a histogram</h6>&#13;
</div></figure>&#13;
&#13;
<p>The third argument to <code>plt.bar</code> specifies the bar width. Here we chose a width of 10, to fill the entire decile. We also shifted the bars right by 5, so that, for example, the “10” bar (which corresponds to the decile 10–20) would have its center at 15&#13;
and hence occupy the correct range. We also added a black edge to each bar to make them visually distinct.</p>&#13;
&#13;
<p>The call to <code>plt.axis</code> indicates that we want the x-axis to range from –5 to 105 (just to leave a little space on the left and right), and that the y-axis should range from 0 to 5.  And the call to <code>plt.xticks</code> puts x-axis labels at 0, 10, 20, …, 100.</p>&#13;
&#13;
<p>Be judicious when using <code>plt.axis</code>.  When creating bar charts it is considered especially bad form for your y-axis not to start at 0, since this is an easy way to mislead people (<a data-type="xref" href="#misleading_y_axis">Figure 3-4</a>):</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">mentions</code> <code class="o">=</code> <code class="p">[</code><code class="mi">500</code><code class="p">,</code> <code class="mi">505</code><code class="p">]</code>&#13;
<code class="n">years</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2017</code><code class="p">,</code> <code class="mi">2018</code><code class="p">]</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">years</code><code class="p">,</code> <code class="n">mentions</code><code class="p">,</code> <code class="mf">0.8</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xticks</code><code class="p">(</code><code class="n">years</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"# of times I heard someone say 'data science'"</code><code class="p">)</code>&#13;
&#13;
<code class="c1"># if you don't do this, matplotlib will label the x-axis 0, 1</code>&#13;
<code class="c1"># and then add a +2.013e3 off in the corner (bad matplotlib!)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ticklabel_format</code><code class="p">(</code><code class="n">useOffset</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code>&#13;
&#13;
<code class="c1"># misleading y-axis only shows the part above 500</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">axis</code><code class="p">([</code><code class="mf">2016.5</code><code class="p">,</code> <code class="mf">2018.5</code><code class="p">,</code> <code class="mi">499</code><code class="p">,</code> <code class="mi">506</code><code class="p">])</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Look at the 'Huge' Increase!"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="misleading_y_axis">&#13;
<img alt="Misleading y-axis." src="assets/dsf2_0304.png"/>&#13;
<h6><span class="label">Figure 3-4. </span>A chart with a misleading y-axis</h6>&#13;
</div></figure>&#13;
&#13;
<p>In <a data-type="xref" href="#non_misleading_y_axis">Figure 3-5</a>, we use more sensible axes, and it looks far less impressive:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">plt</code><code class="o">.</code><code class="n">axis</code><code class="p">([</code><code class="mf">2016.5</code><code class="p">,</code> <code class="mf">2018.5</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">550</code><code class="p">])</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Not So Huge Anymore"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="non_misleading_y_axis">&#13;
<img alt="Non-misleading y-axis." src="assets/dsf2_0305.png"/>&#13;
<h6><span class="label">Figure 3-5. </span>The same chart with a nonmisleading y-axis</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Line Charts" data-type="sect1"><div class="sect1" id="idm45635761494376">&#13;
<h1>Line Charts</h1>&#13;
&#13;
<p>As<a data-primary="" data-startref="Cbar03" data-type="indexterm" id="idm45635761139576"/><a data-primary="" data-startref="DVbar02" data-type="indexterm" id="idm45635761138568"/><a data-primary="" data-startref="bar03" data-type="indexterm" id="idm45635761135688"/><a data-primary="line charts" data-type="indexterm" id="idm45635761134744"/><a data-primary="charts" data-secondary="line charts" data-type="indexterm" id="idm45635761134072"/><a data-primary="data visualization" data-secondary="line charts" data-type="indexterm" id="idm45635761133128"/> we saw already, we can make line charts using <code>plt.plot</code>.  These are a good choice for showing <em>trends</em>, as illustrated in <a data-type="xref" href="#several_line_charts">Figure 3-6</a>:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">variance</code>     <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">16</code><code class="p">,</code> <code class="mi">32</code><code class="p">,</code> <code class="mi">64</code><code class="p">,</code> <code class="mi">128</code><code class="p">,</code> <code class="mi">256</code><code class="p">]</code>&#13;
<code class="n">bias_squared</code> <code class="o">=</code> <code class="p">[</code><code class="mi">256</code><code class="p">,</code> <code class="mi">128</code><code class="p">,</code> <code class="mi">64</code><code class="p">,</code> <code class="mi">32</code><code class="p">,</code> <code class="mi">16</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">1</code><code class="p">]</code>&#13;
<code class="n">total_error</code>  <code class="o">=</code> <code class="p">[</code><code class="n">x</code> <code class="o">+</code> <code class="n">y</code> <code class="k">for</code> <code class="n">x</code><code class="p">,</code> <code class="n">y</code> <code class="ow">in</code> <code class="nb">zip</code><code class="p">(</code><code class="n">variance</code><code class="p">,</code> <code class="n">bias_squared</code><code class="p">)]</code>&#13;
<code class="n">xs</code> <code class="o">=</code> <code class="p">[</code><code class="n">i</code> <code class="k">for</code> <code class="n">i</code><code class="p">,</code> <code class="n">_</code> <code class="ow">in</code> <code class="nb">enumerate</code><code class="p">(</code><code class="n">variance</code><code class="p">)]</code>&#13;
&#13;
<code class="c1"># We can make multiple calls to plt.plot</code>&#13;
<code class="c1"># to show multiple series on the same chart</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">xs</code><code class="p">,</code> <code class="n">variance</code><code class="p">,</code>     <code class="s1">'g-'</code><code class="p">,</code>  <code class="n">label</code><code class="o">=</code><code class="s1">'variance'</code><code class="p">)</code>    <code class="c1"># green solid line</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">xs</code><code class="p">,</code> <code class="n">bias_squared</code><code class="p">,</code> <code class="s1">'r-.'</code><code class="p">,</code> <code class="n">label</code><code class="o">=</code><code class="s1">'bias^2'</code><code class="p">)</code>      <code class="c1"># red dot-dashed line</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">xs</code><code class="p">,</code> <code class="n">total_error</code><code class="p">,</code>  <code class="s1">'b:'</code><code class="p">,</code>  <code class="n">label</code><code class="o">=</code><code class="s1">'total error'</code><code class="p">)</code> <code class="c1"># blue dotted line</code>&#13;
&#13;
<code class="c1"># Because we've assigned labels to each series,</code>&#13;
<code class="c1"># we can get a legend for free (loc=9 means "top center")</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">9</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s2">"model complexity"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xticks</code><code class="p">([])</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"The Bias-Variance Tradeoff"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="several_line_charts">&#13;
<img alt="Several line charts with a legend." src="assets/dsf2_0306.png"/>&#13;
<h6><span class="label">Figure 3-6. </span>Several line charts with a legend</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Scatterplots" data-type="sect1"><div class="sect1" id="idm45635761126840">&#13;
<h1>Scatterplots</h1>&#13;
&#13;
<p>A<a data-primary="data visualization" data-secondary="scatterplots" data-type="indexterm" id="DVscat03"/><a data-primary="scatterplots" data-type="indexterm" id="scat03"/><a data-primary="charts" data-secondary="scatterplots" data-type="indexterm" id="Cscat03"/> scatterplot is the right choice for visualizing the relationship between two paired sets of data. For example, <a data-type="xref" href="#friends_and_minutes">Figure 3-7</a> illustrates the relationship between the number of friends&#13;
your users have and the number of minutes they spend on the site every day:</p>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">friends</code> <code class="o">=</code> <code class="p">[</code> <code class="mi">70</code><code class="p">,</code>  <code class="mi">65</code><code class="p">,</code>  <code class="mi">72</code><code class="p">,</code>  <code class="mi">63</code><code class="p">,</code>  <code class="mi">71</code><code class="p">,</code>  <code class="mi">64</code><code class="p">,</code>  <code class="mi">60</code><code class="p">,</code>  <code class="mi">64</code><code class="p">,</code>  <code class="mi">67</code><code class="p">]</code>&#13;
<code class="n">minutes</code> <code class="o">=</code> <code class="p">[</code><code class="mi">175</code><code class="p">,</code> <code class="mi">170</code><code class="p">,</code> <code class="mi">205</code><code class="p">,</code> <code class="mi">120</code><code class="p">,</code> <code class="mi">220</code><code class="p">,</code> <code class="mi">130</code><code class="p">,</code> <code class="mi">105</code><code class="p">,</code> <code class="mi">145</code><code class="p">,</code> <code class="mi">190</code><code class="p">]</code>&#13;
<code class="n">labels</code> <code class="o">=</code>  <code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">,</code> <code class="s1">'d'</code><code class="p">,</code> <code class="s1">'e'</code><code class="p">,</code> <code class="s1">'f'</code><code class="p">,</code> <code class="s1">'g'</code><code class="p">,</code> <code class="s1">'h'</code><code class="p">,</code> <code class="s1">'i'</code><code class="p">]</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">scatter</code><code class="p">(</code><code class="n">friends</code><code class="p">,</code> <code class="n">minutes</code><code class="p">)</code>&#13;
&#13;
<code class="c1"># label each point</code>&#13;
<code class="k">for</code> <code class="n">label</code><code class="p">,</code> <code class="n">friend_count</code><code class="p">,</code> <code class="n">minute_count</code> <code class="ow">in</code> <code class="nb">zip</code><code class="p">(</code><code class="n">labels</code><code class="p">,</code> <code class="n">friends</code><code class="p">,</code> <code class="n">minutes</code><code class="p">):</code>&#13;
    <code class="n">plt</code><code class="o">.</code><code class="n">annotate</code><code class="p">(</code><code class="n">label</code><code class="p">,</code>&#13;
        <code class="n">xy</code><code class="o">=</code><code class="p">(</code><code class="n">friend_count</code><code class="p">,</code> <code class="n">minute_count</code><code class="p">),</code> <code class="c1"># Put the label with its point</code>&#13;
        <code class="n">xytext</code><code class="o">=</code><code class="p">(</code><code class="mi">5</code><code class="p">,</code> <code class="o">-</code><code class="mi">5</code><code class="p">),</code>                  <code class="c1"># but slightly offset</code>&#13;
        <code class="n">textcoords</code><code class="o">=</code><code class="s1">'offset points'</code><code class="p">)</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Daily Minutes vs. Number of Friends"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s2">"# of friends"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"daily minutes spent on the site"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<figure><div class="figure" id="friends_and_minutes">&#13;
<img alt="A scatterplot of friends and time on the site." src="assets/dsf2_0307.png"/>&#13;
<h6><span class="label">Figure 3-7. </span>A scatterplot of friends and time on the site</h6>&#13;
</div></figure>&#13;
&#13;
<p>If you’re scattering comparable variables,&#13;
you might get a misleading picture if&#13;
you let matplotlib choose the scale, as in <a data-type="xref" href="#scatterplot_incomparable_axes">Figure 3-8</a>.</p>&#13;
&#13;
<figure><div class="figure" id="scatterplot_incomparable_axes">&#13;
<img alt="A scatterplot with uncomparable axes." src="assets/dsf2_0308.png"/>&#13;
<h6><span class="label">Figure 3-8. </span>A scatterplot with uncomparable axes</h6>&#13;
</div></figure>&#13;
&#13;
<pre data-code-language="py" data-type="programlisting"><code class="n">test_1_grades</code> <code class="o">=</code> <code class="p">[</code> <code class="mi">99</code><code class="p">,</code> <code class="mi">90</code><code class="p">,</code> <code class="mi">85</code><code class="p">,</code> <code class="mi">97</code><code class="p">,</code> <code class="mi">80</code><code class="p">]</code>&#13;
<code class="n">test_2_grades</code> <code class="o">=</code> <code class="p">[</code><code class="mi">100</code><code class="p">,</code> <code class="mi">85</code><code class="p">,</code> <code class="mi">60</code><code class="p">,</code> <code class="mi">90</code><code class="p">,</code> <code class="mi">70</code><code class="p">]</code>&#13;
&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">scatter</code><code class="p">(</code><code class="n">test_1_grades</code><code class="p">,</code> <code class="n">test_2_grades</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"Axes Aren't Comparable"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s2">"test 1 grade"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"test 2 grade"</code><code class="p">)</code>&#13;
<code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">()</code></pre>&#13;
&#13;
<p>If we include a call to <code>plt.axis("equal")</code>, the plot (<a data-type="xref" href="#scatterplot_equal_axes">Figure 3-9</a>) more accurately shows that most of the variation occurs on test 2.</p>&#13;
&#13;
<p>That’s enough to get you started doing visualization.&#13;
We’ll learn much more about visualization throughout the book.</p>&#13;
&#13;
<figure><div class="figure" id="scatterplot_equal_axes">&#13;
<img alt="A scatterplot with equal axes." src="assets/dsf2_0309.png"/>&#13;
<h6><span class="label">Figure 3-9. </span>The same scatterplot with equal axes</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="For Further Exploration" data-type="sect1"><div class="sect1" id="idm45635760790008">&#13;
<h1>For Further Exploration</h1>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>The<a data-primary="" data-startref="Cscat03" data-type="indexterm" id="idm45635760514232"/><a data-primary="" data-startref="scat03" data-type="indexterm" id="idm45635760513224"/><a data-primary="" data-startref="DVscat03" data-type="indexterm" id="idm45635760512280"/><a data-primary="matplotlib library" data-type="indexterm" id="idm45635760511336"/><a data-primary="data visualization" data-secondary="tools for" data-type="indexterm" id="idm45635760510664"/> <a href="https://matplotlib.org/gallery.html">matplotlib Gallery</a> will give you a good idea&#13;
of the sorts of things you can do with matplotlib (and how to do them).</p>&#13;
</li>&#13;
<li>&#13;
<p><a href="https://seaborn.pydata.org/">seaborn</a> is<a data-primary="seaborn" data-type="indexterm" id="idm45635760507432"/> built on top of matplotlib and allows you to easily produce prettier (and more complex) visualizations.</p>&#13;
</li>&#13;
<li>&#13;
<p><a href="https://altair-viz.github.io/">Altair</a> is a newer<a data-primary="Altair library" data-type="indexterm" id="idm45635760505032"/> Python library for creating declarative visualizations.</p>&#13;
</li>&#13;
<li>&#13;
<p><a href="http://d3js.org">D3.js</a> is a JavaScript<a data-primary="D3.js library" data-type="indexterm" id="idm45635760502776"/> library&#13;
for producing sophisticated interactive visualizations for the web.&#13;
Although it is not in Python, it is widely used,&#13;
and it is well worth your while to be familiar with it.</p>&#13;
</li>&#13;
<li>&#13;
<p><a href="http://bokeh.pydata.org">Bokeh</a> is a<a data-primary="Bokeh library" data-type="indexterm" id="idm45635760500328"/><a data-primary="D3-style visualizations" data-type="indexterm" id="idm45635760499592"/> library&#13;
that brings D3-style visualizations into Python.</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>