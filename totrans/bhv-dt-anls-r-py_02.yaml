- en: Chapter 1\. The Causal-Behavioral Framework for Data Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. 数据分析的因果行为框架
- en: As we discussed in the preface, understanding what drives behaviors in order
    to change them is one of the key goals of applied analytics, whether in a business,
    a nonprofit, or a public organization. We want to figure out why someone bought
    something and why someone else *didn’t* buy it. We want to understand why someone
    renewed their subscription, contacted a call center instead of paying online,
    registered to be an organ donor, or gave to a nonprofit. Having this knowledge
    allows us to predict what people will do under different scenarios and helps us
    to determine what our organization can do to encourage them to do it again (or
    not). I believe that this goal is best achieved by combining data analysis with
    a behavioral science mindset and a causal analytics toolkit to create an integrated
    approach I have dubbed the “causal-behavioral framework.” In this framework, *behaviors*
    are at the top because understanding them is our ultimate goal. This understanding
    is achieved by using *causal diagrams* and *data*, which form the two supporting
    pillars of the triangle ([Figure 1-1](#the_causal_behavioral_framework_for_dat)).
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前言中讨论的那样，理解驱动行为以便改变它们是应用分析的关键目标之一，无论是在商业、非营利组织还是公共组织中。我们想弄清楚为什么有人买了某样东西，为什么另一个人*没有*买。我们想知道为什么有人续订了他们的订阅，为什么有人选择联系客服而不是在线支付，为什么有人注册成为器官捐赠者，或者为什么有人给予非营利组织捐款。拥有这些知识使我们能够预测人们在不同情境下的行为，并帮助我们确定我们的组织可以采取什么措施来鼓励他们再次这样做（或者不这样做）。我认为通过将数据分析与行为科学思维和因果分析工具包相结合，可以最好地实现这一目标，从而创建一个被我称为“因果行为框架”的集成方法。在这个框架中，*行为*位于顶部，因为理解它们是我们的最终目标。通过使用*因果图*和*数据*来实现这种理解，它们形成了三角形的两个支柱（[图1-1](#the_causal_behavioral_framework_for_dat)）。
- en: '![The causal-behavioral framework for data analysis](Images/BEDA_0101.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![数据分析的因果行为框架](Images/BEDA_0101.png)'
- en: Figure 1-1\. The causal-behavioral framework for data analysis
  id: totrans-3
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-1. 数据分析的因果行为框架
- en: 'Over the course of the book, we’ll explore each leg of the triangle and see
    how they connect to each other. In the final chapter, we’ll see all of our work
    come together by achieving with one line of code what would be a daunting task
    with traditional approaches: measuring the degree to which customer satisfaction
    increases future customer spending. In addition to performing such extraordinary
    feats, this new framework will also allow you to more effectively perform common
    analyses such as determining the effect of an email campaign or a product feature
    on purchasing behavior.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的过程中，我们将探索三角形的每个支柱，并看到它们如何相互联系。在最后一章中，我们将通过一行代码实现我们所有工作的结合，而传统方法则会面临艰巨的任务：衡量客户满意度提高未来客户支出的程度。除了执行这些非凡的任务外，这种新框架还将使您能够更有效地执行诸如确定电子邮件营销活动或产品特性对购买行为的影响等常见分析。
- en: Before getting to that, readers familiar with predictive analytics may wonder
    why I’m advocating for causal analytics instead. The answer is that even though
    predictive analytics have been (and will remain) very successful in business settings,
    they can fall short when your analyses pertain to human behaviors. In particular,
    adopting a causal approach can help us identify and resolve “confounding,” a very
    common problem with behavioral data. I’ll elaborate on these points in the rest
    of this first chapter.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入讨论之前，熟悉预测分析的读者可能会想知道为什么我推崇因果分析而不是预测分析。答案是，尽管预测分析在业务环境中已经（并将继续）非常成功，但在涉及人类行为的分析中，它们可能存在不足。特别是，采用因果方法可以帮助我们识别和解决“混杂”的问题，这在行为数据中非常常见。我将在本书的其余部分详细阐述这些观点。
- en: Why We Need Causal Analytics to Explain Human Behavior
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么我们需要因果分析来解释人类行为
- en: Understanding where causal analytics fits into the analytics landscape will
    help us better identify why it is needed in business settings. As we’ll see, that
    need stems from the complexity of human behavior.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 理解因果分析在分析领域中的位置将帮助我们更好地识别为何它在业务环境中是必需的。正如我们将看到的那样，这种需求源于人类行为的复杂性。
- en: The Different Types of Analytics
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 不同类型的分析
- en: 'There are three different types of analytics: descriptive, predictive, and
    causal. Descriptive analytics provides a *description* of data. In simple terms,
    I think of it as “what is” or “what we’ve measured” analytics. Business reporting
    falls under that umbrella. How many customers canceled their subscriptions last
    month? How much profit did we make last year? Whenever we’re calculating an average
    or other simple metrics, we’re implicitly using descriptive analytics. Descriptive
    analytics is the simplest form of analytics, but it is also underappreciated.
    Many organizations actually struggle to get a clear and unified view of their
    operations. To see the extent of that problem in an organization, just ask the
    same question of the finance department and the operations department and measure
    how different the answers are.^([1](ch01.xhtml#ch01fn1))'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 有三种不同类型的分析：描述性、预测性和因果性。描述性分析提供了数据的*描述*。简单来说，我把它看作是“是什么”或“我们已经测量到了什么”的分析。业务报告属于这一范畴。上个月有多少客户取消了他们的订阅？去年我们赚了多少利润？每当我们在计算平均数或其他简单指标时，我们都在隐含地使用描述性分析。描述性分析是最简单的分析形式，但也往往被人低估。许多组织实际上很难获得对其业务的清晰和统一的视图。要了解组织中这个问题的程度，只需向财务部门和运营部门提出同样的问题，然后衡量答案的差异有多大。
- en: Predictive analytics provides a *prediction*. I think of it as “what will be,
    assuming current conditions persist” or “what we haven’t yet measured” analytics.
    Most machine learning methods (e.g., neural networks and gradient boosting models)
    belong to this type of analytics and help us answer questions like “How many customers
    will cancel their subscription next month?” and “Is that order fraudulent?” Over
    the past few decades, predictive analytics has transformed the world; the legions
    of data scientists employed in business are a testament to its success.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 预测性分析提供了一个*预测*。我把它看作是“如果当前条件持续下去会怎样”或“我们还没有测量到的内容”的分析。大多数机器学习方法（例如，神经网络和梯度提升模型）属于这种类型的分析，并帮助我们回答诸如“下个月有多少客户会取消订阅？”和“那个订单是欺诈的吗？”等问题。在过去的几十年里，预测性分析已经改变了世界；企业雇佣的大量数据科学家就是其成功的证明。
- en: Finally, causal analytics provides the *causes* of data. I think of it as “what
    if?” or “what will be, under different conditions” analytics. It answers questions
    such as “How many customers will cancel their subscription next month *unless
    we send them a coupon*?” The most well-known tool of causal analytics is the A/B
    test, a.k.a. a randomized experiment or randomized controlled trial (RCT). That’s
    because the simplest and most effective way to answer the preceding question is
    to send a coupon to a randomly selected group of customers and see how many of
    them cancel their subscription compared to a control group.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，因果分析提供了数据的*原因*。我把它看作是“如果……会怎样？”或“在不同条件下将会怎样”的分析。它回答了诸如“下个月有多少客户会取消订阅，*除非我们给他们发优惠券*？”这样的问题。因果分析最著名的工具是A/B测试，又称随机实验或随机对照试验（RCT）。这是因为回答上述问题的最简单且最有效的方法是向随机选定的一组客户发送优惠券，然后查看与对照组相比有多少客户取消了订阅。
- en: We’ll cover experimentation in [Part IV](part04.xhtml#designing_and_analyzing_experiments)
    of the book, but before that, in [Part II](part02.xhtml#causal_diagrams_and_deconfounding),
    we’ll look at another tool from that toolkit, namely causal diagrams, which can
    be used even when we can’t experiment. Indeed, it is one of my goals to get you
    to think more broadly about causal analytics rather than just equate it with experimentation.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在书的[第四部分](part04.xhtml#designing_and_analyzing_experiments)中讨论实验，但在此之前，在[第二部分](part02.xhtml#causal_diagrams_and_deconfounding)中，我们将看一看那个工具箱中的另一个工具，即因果图，它甚至可以在我们无法进行实验时使用。事实上，我一个目标就是让您更广泛地思考因果分析，而不仅仅是把它等同于实验。
- en: Note
  id: totrans-13
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: While these labels may give the impression of a neat categorization, in reality,
    there is more of a gradient between these three categories, and questions and
    methods get blurred between them. You may also encounter other terms, such as
    *prescriptive analytics*, that further blur the lines and add other nuances without
    dramatically altering the overall picture.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这些标签可能给人以整洁分类的印象，但实际上，在这三个类别之间存在更多的渐变，问题和方法在它们之间变得模糊。您还可能遇到其他术语，如*规范性分析*，它进一步模糊了界限，并添加了其他细微差别，但并没有显著改变整体情况。
- en: Human Beings Are Complicated
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 人类是复杂的
- en: 'If predictive analytics has been so successful and causal analytics uses the
    same data analysis tools like regression, why not stick with predictive analytics?
    In short, because human beings are more complicated than wind turbines. Human
    behavior:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果预测性分析如此成功，而因果性分析使用的是与回归分析相同的数据分析工具，为什么不坚持使用预测性分析呢？简而言之，因为人类比风力发电机更复杂。人类行为：
- en: Has multiple causes
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 具有多重原因
- en: A turbine’s behavior is not influenced by its personality, the social norms
    of the turbine community, or the circumstances of its upbringing, whereas the
    predictive power of any single variable on human behavior is almost always disappointing
    because of those factors.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 风力发电机的行为不受其个性，风力发电机社区的社会规范或其成长环境的影响，而任何单一变量对人类行为的预测能力几乎总是令人失望的，因为存在这些因素。
- en: Is context-dependent
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 具有上下文相关性
- en: Minor or cosmetic alterations to the environment, such as a change in the default
    option of a choice, can have large impacts on behavior. This is a blessing from
    a behavioral *design* perspective because it allows us to drive changes in behaviors,
    but it’s a curse from a behavioral *analytics* perspective because it means that
    every situation is unique in ways that are hard to predict.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对环境进行微小或表面的改变，比如改变选择的默认选项，可能会对行为产生很大的影响。从行为*设计*的角度来看，这是一种福祉，因为它使我们能够推动行为的变化，但从行为*分析*的角度来看，这是一种诅咒，因为这意味着每种情况在难以预测的方面都是独特的。
- en: Is variable (scientists would say nondeterministic)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 具有变量性（科学家会说是非确定性的）
- en: The same person may behave very differently when placed repeatedly in what seems
    like exactly the same situation, even after controlling for cosmetic factors.
    This may be due to transient effects, such as moods, or long-term effects, such
    as getting bored with having the same breakfast every day. Both of these can dramatically
    change behavior but are hard to capture.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 同一个人在看似完全相同的情况下反复出现可能会表现出截然不同的行为，即使在控制了表面因素后也是如此。这可能是由于暂时的效应，比如情绪，或者长期效应，比如厌倦每天吃相同早餐。这两者都可以显著改变行为，但很难捕捉到。
- en: Is innovative
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 具有创新性
- en: When conditions in the environment change, a human can switch to a behavior
    they have literally never exhibited before, and it happens even under the most
    mundane circumstances. For example, there’s a car accident ahead on your normal
    commuting path and so you decide at the last minute to take a right turn.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 当环境条件发生变化时，一个人可以转向一个他们以前从未表现过的行为，而且即使在最平凡的情况下也会发生这种情况。例如，你平时通勤的路上发生了一起车祸，所以你在最后一刻决定右转。
- en: Is strategic
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 具有战略性
- en: Humans infer and react to the behaviors and intentions of others. In some cases,
    that can mean “repairing” a cooperation that was derailed by external circumstances,
    making it more robustly predictable. But in other cases, it can involve voluntarily
    obfuscating one’s behavior to make it unpredictable when playing a competitive
    game like chess (or fraud!).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 人类推断并对他人的行为和意图做出反应。在某些情况下，这可能意味着通过外部环境改变而被打乱的合作“修复”，使其更加牢固可预测。但在其他情况下，它可能涉及自愿模糊自己的行为，使其在像下棋这样的竞争性游戏中变得不可预测（或者欺诈！）。
- en: All these aspects of human behavior make it less predictable than that of physical
    objects. To find regularities that are more reliable for analysis, we must go
    one level deeper to understand and measure the causes of behavior. The fact that
    someone had oatmeal for breakfast and took a certain route on Monday doesn’t mean
    that they will do the same on Tuesday, but you can be more confident that they’ll
    have *some* breakfast and will take *some* route to their work.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 人类行为的所有这些方面使其比物理物体的行为更不可预测。为了找到更可靠的分析规律，我们必须深入了解和衡量行为的原因。某人星期一早餐吃燕麦粥并采取了某条路线并不意味着他们星期二会做同样的事情，但您可以更有信心地说他们会有*一些*早餐，并会采取*某条*路线去上班。
- en: Confound It! The Hidden Dangers of Letting Regression Sort It Out
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 混淆！让回归分析排除隐患的隐藏危险
- en: I mentioned in the previous section that causal analytics often uses the same
    tools as predictive analytics. However, because they have different goals, the
    tools are used in different ways. Since regression is one of the main tools for
    both types of analytics, it can be a great way to illustrate the difference between
    predictive and causal analytics. A regression appropriate for predictive analytics
    would often make a terrible regression for causal analytics purposes, and vice
    versa.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我在前一节中提到，因果分析通常使用与预测分析相同的工具。然而，由于它们有不同的目标，这些工具的使用方式也不同。由于回归分析是这两种类型分析的主要工具之一，它可以很好地说明预测分析和因果分析之间的差异。对于预测分析适用的回归分析往往会对因果分析目的来说效果不佳，反之亦然。
- en: A regression for predictive analytics is used to estimate an unknown value (often,
    but not always, in the future). It does this by taking known information and using
    a variety of factors to triangulate the best guess value for a given variable.
    What is important is the predicted value and its accuracy, not why or how it was
    predicted.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 预测分析的回归分析用于估计未知值（通常但不总是在未来）。它通过获取已知信息并使用各种因素来三角测量给定变量的最佳猜测值。重要的是预测值及其准确性，而不是预测是如何或为什么进行的。
- en: Causal analytics also uses regression, but the focus is not on estimating a
    value of the target variable. Instead, the focus is on the cause of that value.
    In regression terms, our interest is no longer in the dependent variable itself
    but in its relationship with a given independent variable. With a correctly structured
    regression, the coefficient of correlation can be a portable measure of the causal
    effect of an independent variable on a dependent variable.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 因果分析也使用回归分析，但重点不在于估计目标变量的值。相反，重点在于该值的原因。从回归分析的角度来看，我们的兴趣不再是依赖变量本身，而是它与给定独立变量的关系。通过正确构建的回归分析，相关系数可以成为研究独立变量对依赖变量因果效应的便携式度量。
- en: But what does it mean to have a correctly structured regression for that purpose?
    Why can’t we just take the regressions we already use for predictive analytics
    and treat the provided coefficients as measures of the causal relationship? We
    can’t do that because each variable in the regression has the potential to modify
    the coefficients of other variables. Therefore our variable mix has to be crafted
    not to create the most accurate prediction but to create the most accurate coefficients.
    The two sets of variables are generally different because a variable can be highly
    correlated with our target variable (and therefore be highly predictive) without
    actually affecting that variable.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，对于此目的正确构建的回归分析意味着什么呢？为什么我们不能只是采用我们已经用于预测分析的回归分析，并将提供的系数视为因果关系的度量？我们不能这样做，因为回归分析中的每个变量都有可能修改其他变量的系数。因此，我们的变量组合必须经过精心设计，以不是创建最准确的预测，而是创建最准确的系数。两组变量通常是不同的，因为一个变量可以与我们的目标变量高度相关（因此具有高预测能力），而实际上不影响该变量。
- en: In this section, we will explore why this difference in perspective matters
    and why variable selection is more than half the battle in behavioral analytics.
    We’ll do so with a concrete example from C-Mart, a fictional supermarket chain
    with stores across the United States. The first of two fictional companies used
    throughout the book, C-Mart will help us understand the opportunities and challenges
    of data analysis for brick-and-mortar companies in the digital age.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨为什么这种视角上的差异很重要，以及为什么变量选择在行为分析中至关重要。我们将通过来自美国各地门店的虚构超市连锁企业 C-Mart 的一个具体例子来说明这一点。本书中使用的两家虚构公司之一，C-Mart
    将帮助我们理解数字时代实体店公司数据分析的机遇和挑战。
- en: Data
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据
- en: The [GitHub folder for this chapter](https://oreil.ly/BehavioralDataAnalysisCh1)
    contains two CSV files, *chap1-stand_data.csv* and *chap1-survey_data.csv* with
    the data sets for the two examples in this chapter.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 此章节的 [GitHub 文件夹](https://oreil.ly/BehavioralDataAnalysisCh1) 包含两个 CSV 文件，*chap1-stand_data.csv*
    和 *chap1-survey_data.csv*，分别是本章两个例子的数据集。
- en: '[Table 1-1](#Sales_info) shows the information contained by the CSV file *chap1-stand_data.csv*
    at the daily level about sales of ice cream and iced coffee in C-Mart’s stands.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[Table 1-1](#Sales_info) 展示了关于 C-Mart 摊位上冰淇淋和冰咖啡销售日常水平的 *chap1-stand_data.csv*
    文件中的信息。'
- en: Table 1-1\. Sales information in chap1-stand_data.csv
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1-1\. chap1-stand_data.csv 中的销售信息
- en: '| Variable name | Variable description |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| 变量名称 | 变量描述 |'
- en: '| --- | --- |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *IceCreamSales* | Daily sales of ice cream in C-Mart’s stands |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| *冰淇淋销售额* | C-Mart摊位的每日冰淇淋销售额 |'
- en: '| *IcedCoffeeSales* | Daily sales of iced coffee in C-Mart’s stands |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| *冰咖啡销售额* | C-Mart摊位的日销量 |'
- en: '| *SummerMonth* | Binary variable indicating whether the day is in the summer
    months |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| *夏季月份* | 表示日期是否在夏季月份的二进制变量 |'
- en: '| *Temp* | The average temperature for that day and that stand |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| *温度* | 当天和该摊位的平均温度 |'
- en: '[Table 1-2](#Survey_info) shows the information contained in the CSV file *chap1-survey_data.csv*
    from a survey of passersby outside of C-Mart’s stands.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[表1-2](#Survey_info)显示了来自chap1-survey_data.csv的路人通过C-Mart摊位调查的信息。'
- en: Table 1-2\. Survey information in chap1-survey_data.csv
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 表1-2\. 第1章调查数据在chap1-survey_data.csv中
- en: '| Variable name | Variable description |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| 变量名称 | 变量描述 |'
- en: '| --- | --- |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *VanillaTaste* | Interviewee’s taste for vanilla, 0-25 |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| *香草口味* | 受访者对香草的口味偏好，0-25 |'
- en: '| *ChocTaste* | Interviewee’s taste for chocolate, 0-25 |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| *巧克力口味* | 受访者对巧克力的口味偏好，0-25 |'
- en: '| *Shopped* | Binary variable indicating whether the interviewee has ever shopped
    at the local C-Mart stand |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| *购物* | 表示受访者是否曾在当地C-Mart摊位购物的二进制变量 |'
- en: 'Why Correlation Is Not Causation: A Confounder in Action'
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么相关性不是因果关系：混杂因素的作用
- en: C-Mart has an ice cream stand in each store. It is the company’s belief that
    the weather influences daily sales—or, to cast it in causality jargon, that the
    weather is a cause of sales. In other words, everything else being equal, we assume
    that people are more likely to buy ice cream on hotter days, which makes intuitive
    sense. This belief is supported by a strong correlation in historical data between
    temperature and sales as shown in [Figure 1-3](#sales_of_ice_cream_as_a_function_of_obs)
    (the corresponding data and code are on the book’s GitHub).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: C-Mart在每家店铺都设有冰淇淋摊位。公司认为天气影响每日销量——或者用因果关系的术语来说，天气是销量的原因之一。换句话说，在其他条件不变的情况下，我们假设人们更可能在炎热的天气购买冰淇淋，这在直觉上是有道理的。这种信念得到了历史数据中温度和销量之间强相关性的支持，如[图1-3](#sales_of_ice_cream_as_a_function_of_obs)所示（相应的数据和代码在本书的GitHub上）。
- en: '![Sales of ice cream as a function of observed temperature](Images/BEDA_0103.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![根据观测温度销售冰淇淋的函数图](Images/BEDA_0103.png)'
- en: Figure 1-3\. Sales of ice cream as a function of observed temperature
  id: totrans-54
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-3\. 根据观测温度销售冰淇淋的函数图
- en: 'As indicated in the Preface, we’ll be using regression as our main tool for
    data analysis. Running a linear regression of the sales of ice cream on the temperature
    takes a single line of code:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 如前言所述，我们将使用回归作为主要的数据分析工具。运行冰淇淋销售额对温度的线性回归只需一行代码：
- en: '[PRE0]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: For our purposes in this book, the most relevant piece of the output is the
    *coefficients* section, which tells us that the estimated intercept—the theoretical
    average ice cream sales for a temperature of zero—is −4,519, which is obviously
    a nonsensical extrapolation. It also tells us that the estimated coefficient for
    the temperature is 1,145, which means that each additional degree of temperature
    is expected to increase sales of ice cream by $1,145.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书的目的，在输出中最相关的部分是*系数*部分，它告诉我们估计的截距——理论上的零温度下的平均冰淇淋销售额为−4,519，这显然是一个不合理的外推。它还告诉我们温度的估计系数为1,145，这意味着每增加一度温度，冰淇淋销售额预计会增加1,145美元。
- en: Now, let’s imagine that we’re at the end of a particularly warm week of October,
    and based on the predictions of the model, the company had increased the stock
    of the ice cream stands ahead of time. However, the weekly sales, while higher
    than usual for this week of October, have fallen quite short of the quantity predicted
    by the model. Oops! What happened? Should the data analyst be fired?
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们假设我们处于十月一个特别温暖的周末，根据模型的预测，公司提前增加了冰淇淋摊位的库存。然而，尽管这个十月的这个星期销量比平时高，但却远低于模型预测的数量。糟糕！发生了什么？数据分析师应该被解雇吗？
- en: 'What happened is that the model doesn’t account for a crucial fact: most of
    the sales of ice cream take place during the summer months when kids are out of
    school. The regression model made its best prediction with the data available,
    but part of the cause of increased ice cream sales (summer break for students)
    was misattributed to temperature because summer months are positively correlated
    with temperature. Since the temperature increase in October did not suddenly make
    it summer break (sorry, kids!), we saw lower sales than we did on summer days
    at that temperature.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 发生的事情是，模型没有考虑到一个关键的事实：大部分冰淇淋的销售发生在夏季，孩子们放暑假的时候。回归模型根据可用的数据做出了最佳预测，但由于增加的冰淇淋销售（学生暑假）部分归因于温度，因为夏季月份与温度呈正相关。由于十月份的温度增加并没有突然导致暑假（对不起，孩子们！），所以我们在那个温度下看到的销售量比夏季日子要少。
- en: In technical terms, the month of the year is a confounder of our relationship
    between temperature and sales. A *confounder* is a variable that introduces bias
    in a regression; when a confounder is present in the situation you’re analyzing,
    it means that interpreting the regression coefficient as causal will lead to improper
    conclusions.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 从技术角度来看，年月份是我们在温度和销售额之间关系的混杂因素。*混杂因素*是引入回归中偏差的变量；当混杂因素存在于你分析的情况中时，这意味着将回归系数解释为因果关系将会导致不正确的结论。
- en: 'Let’s think of a place like Chicago, which has a continental climate: winter
    is very cold and summer is very hot. When comparing sales on a random hot day
    with sales on a random cold day without accounting for their respective month
    of the year, you’re very likely to be comparing sales on a hot day of summer,
    when kids are out of school, with sales on a cold day of winter, when kids are
    in school; this inflates the apparent relationship between temperature and sales.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们想象一下像芝加哥这样的地方，那里有大陆性气候：冬天非常寒冷，夏天非常炎热。当比较一个随机炎热的日子和一个随机寒冷的日子的销售额时，如果没有考虑到它们各自的年月，你很可能在比较放暑假的炎热夏季日子的销售额和放学孩子们的寒冷冬季日子的销售额；这会夸大温度与销售额之间的表面关系。
- en: In this example, we might also expect to see a consistent underprediction of
    sales in colder weather. In truth, there is a paradigm shift in summer months,
    and when that shift has to be managed exclusively through temperature in a linear
    regression, the regression coefficient for temperature will invariably be too
    high for warmer temperatures and too low for colder temperatures.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们也许会预期在寒冷天气下销售量一直被低估。事实上，在夏季月份存在一种范式转变，当必须完全通过温度来管理这种转变时，在线性回归中，温度的回归系数对于较高温度来说会过高，而对于较低温度来说则会过低。
- en: Too Many Variables Can Spoil the Broth
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 太多的变量可能会破坏原来的关系
- en: A potential solution to the problem of confounders would be to add to the regression
    all the variables we can. This mindset of “everything and the kitchen sink” still
    has proponents among statisticians. In *The Book of Why*, Judea Pearl and Dana
    Mackenzie mention that “a leading statistician even recently wrote, ‘to avoid
    conditioning on some observed covariates…is nonscientific ad hockery’” (Pearl
    & Mackenzie 2018, p. 160).^([2](ch01.xhtml#ch01fn2)) It is also quite common among
    data scientists. To be fair, if your goal is only to predict a variable, you have
    a model that is carefully designed to generalize adequately beyond your testing
    data, and you don’t care about why the predicted variable is taking a certain
    value, then that’s a perfectly valid stance. But this does not work if your goal
    is to understand causal relationships in order to act upon them. Because of this,
    just adding as many variables as you can to your model not only is inefficient
    but can be downright counterproductive and misleading.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 解决混杂因素问题的一个潜在方法是将尽可能多的变量添加到回归模型中。这种“什么都包括在内”的思维方式在统计学家中仍有支持者。在《因果之书》中，朱迪亚·珀尔和达纳·麦肯齐提到，“一位领先的统计学家最近甚至写道，‘避免对一些观察到的协变量进行条件化...是非科学的特别策略’”（珀尔和麦肯齐，2018年，第160页）^([2](ch01.xhtml#ch01fn2))。这在数据科学家中也是非常普遍的。公平地说，如果你的目标只是预测一个变量，并且你有一个经过精心设计以在测试数据之外进行足够泛化的模型，并且你不关心为什么预测变量取特定值，那么这是一个完全有效的立场。但是，如果你的目标是理解因果关系以便采取行动，那么这种方法就不适用了。因此，仅仅是向模型添加尽可能多的变量不仅效率低下，而且可能完全适得其反并且误导性极大。
- en: 'Let’s demonstrate this with our example by adding a variable that we might
    be inclined to include but will bias our regression. I created the variable *IcedCoffeeSales*
    to be correlated with *Temperature* but not with *SummerMonth*. Let’s look at
    what happens to our regression if we add this variable in addition to *Temperature*
    and *SummerMonth* (a binary 1/0 variable that indicates if the month was July
    or August (1) or any other month (0)):'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过我们的例子来演示这一点，通过添加一个我们可能倾向于包括但会使我们的回归产生偏见的变量。我创建了变量 *IcedCoffeeSales*，它与
    *Temperature* 相关，但与 *SummerMonth* 不相关。让我们看看如果我们在 *Temperature* 和 *SummerMonth*（一个二进制变量，指示月份是否为7月或8月（1），或其他任何月份（0））之外添加这个变量会发生什么：
- en: '[PRE2]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: We see that the coefficient for *Temperature* has shifted dramatically from
    our prior example to the point that it is now negative. The high p-values for
    *Temperature* and *IcedCoffeeSales* would usually be taken as signs that something
    is amiss, but since the p-value for *Temperature* is “worse,” an analyst may conclude
    that they should remove it from the regression. How is this possible?
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们看到 *Temperature* 的系数从之前的例子中显著偏移，现在变为负值。*Temperature* 和 *IcedCoffeeSales* 的高p值通常被视为有问题的迹象，但由于
    *Temperature* 的p值“更差”，分析师可能会得出应将其从回归中移除的结论。这怎么可能呢？
- en: The truth behind the data (which is known, since I manufactured the relationships
    and randomized data around those relationships) is that when it is hot out people
    are more likely to buy iced coffee. On hot days, people are also more likely to
    buy more ice cream. But a purchase of iced coffee itself does not make customers
    any more or less likely to buy ice cream. Summer months are also not correlated
    with iced coffee purchases since schoolchildren are not a significant factor in
    the demand for iced coffee (see the sidebar for the details of the math at hand).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的真相（已知，因为我制造了这些关系并在这些关系周围随机化了数据）是，当天气炎热时，人们更有可能购买冰咖啡。在炎热的日子里，人们也更有可能购买更多冰淇淋。但单单购买冰咖啡本身并不会使顾客更有可能购买冰淇淋。夏季月份与购买冰咖啡也没有相关性，因为学童对冰咖啡需求不是一个重要因素（详见边栏中的数学细节）。
- en: '[Figure 1-4](#plot_of_iced_coffee_sales_versus_ice_cr) shows a positive correlation
    between iced coffee sales and ice cream sales since both increase when it is warmer
    out, but any increase in sales of iced coffee during summer months can be explained
    by a shared correlation with the temperature variable. When the regression algorithm
    tries to explain ice cream sales using the three variables at hand, the explanatory
    power of temperature on iced coffee sales was added to the temperature variable
    while iced coffee was forced to compensate for the overpowering of temperature.
    Even though iced coffee sales are not statistically significant and the coefficient
    is relatively small, the dollars of sales are much higher than degrees of temperature,
    so ultimately iced coffee sales cancel the inflation of the coefficient for temperature.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[图1-4](#plot_of_iced_coffee_sales_versus_ice_cr) 显示了冰咖啡销量与冰淇淋销量之间的正相关性，因为在天气变暖时两者都会增加，但在夏季增加的冰咖啡销量可以通过与温度变量的共同相关性来解释。当回归算法试图使用手头的三个变量解释冰淇淋销量时，温度变量对冰咖啡销量的解释能力被添加到温度变量中，而冰咖啡则被迫弥补温度的压倒性影响。尽管冰咖啡销量在统计上并不显著且系数相对较小，但销售额远高于温度的度数，因此最终冰咖啡销量抵消了温度系数的膨胀。'
- en: '![Plot of iced coffee sales versus ice cream sales](Images/BEDA_0104.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![冰咖啡销量与冰淇淋销量的绘图](Images/BEDA_0104.png)'
- en: Figure 1-4\. Plot of iced coffee sales versus ice cream sales
  id: totrans-73
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-4\. 冰咖啡销量与冰淇淋销量的绘图
- en: 'In the previous example, adding the variable *IcedCoffeeSales* to the regression
    muddled the relationship between temperature and ice cream sales. Unfortunately,
    the reverse can also be true: including the wrong variable in a regression can
    create the illusion of a relationship when there is none.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的例子中，将变量 *IcedCoffeeSales* 添加到回归中使得温度与冰淇淋销量之间的关系变得混乱。不幸的是，反过来也是可能的：在回归中包含错误的变量可能会产生虚假的关系。
- en: Sticking with our ice cream example at C-Mart, let’s say that the category manager
    is interested in understanding customer tastes, so they ask an employee to stand
    outside the store and survey people walking by, asking them how much they like
    vanilla ice cream and how much they like chocolate ice cream (both on a scale
    from 0 to 25), as well as whether they have ever purchased ice cream from the
    stand. To keep things simple, we’ll assume that the stand only sells chocolate
    and vanilla ice cream.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 继续我们在C-Mart的冰淇淋示例，假设类别经理有兴趣了解顾客口味，所以他们让一个员工站在店外，调查路过的人，问他们对香草冰淇淋和巧克力冰淇淋的喜爱程度（都在0到25的范围内），以及是否曾经购买过摊位上的冰淇淋。为了简化，我们假设该摊位只销售巧克力和香草口味的冰淇淋。
- en: Let’s assume for the sake of the example that taste for vanilla ice cream and
    taste for chocolate ice cream are entirely uncorrelated. Some people like one
    but not the other, some like both equally, some like one *more than* the other,
    and so on. But all of these preferences impact whether someone buys from the stand,
    a binary (Yes/No) variable.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了例子简单，让我们假设对香草口味和巧克力口味的喜好完全没有相关性。有些人喜欢其中一种但不喜欢另一种，有些人两种都喜欢，有些人一种比另一种*更喜欢*，等等。但所有这些偏好都会影响某人是否购买冰淇淋，这是一个二元（是/否）变量。
- en: Because the variable *Shopped* is binary, we would use a logistic regression
    if we wanted to measure the impact of either of the *Taste* variables on shopping
    behavior. Since the two *Taste* variables are uncorrelated, we would see a regular
    cloud with no apparent correlation if we were to plot them against each other;
    however, they each impact the probability of shopping at the ice cream stand ([Figure 1-5](#left_panel_tastes_for_vanilla_and_choco)).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 因为变量*购物*是二元的，所以如果我们想要衡量*Taste*变量之一对购物行为的影响，我们将使用 logistic 回归。由于这两个*Taste*变量是不相关的，如果我们将它们相互绘制，我们将看到一个没有明显相关性的常规云；然而，它们各自影响购物在冰淇淋摊的概率（[图 1-5](#left_panel_tastes_for_vanilla_and_choco)）
- en: '![Left panel: tastes for vanilla and chocolate are uncorrelated in the overall
    population; middle panel: taste for vanilla is higher for people who shop at the
    ice cream stand than for people who don’t; right panel: same result for taste
    for chocolate](Images/BEDA_0105.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![左图：整体人群中对香草和巧克力的口味没有相关性；中图：在冰淇淋摊购物的人对香草的口味比不购物的人高；右图：对巧克力的口味结果相同](Images/BEDA_0105.png)'
- en: 'Figure 1-5\. Left panel: tastes for vanilla and chocolate are uncorrelated
    in the overall population; middle panel: taste for vanilla is higher for people
    who shop at the ice cream stand than for people who don’t; right panel: same result
    for taste for chocolate'
  id: totrans-79
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1-5\. 左图：整体人群中对香草和巧克力的口味没有相关性；中图：在冰淇淋摊购物的人对香草的口味比不购物的人高；右图：对巧克力的口味结果相同
- en: In the first graph, I added a line of best fit, which is almost perfectly flat,
    reflecting the lack of correlation between the variables (the correlation coefficient
    is equal to 0.004, reflecting sampling error). On the second and third graphs,
    we can see that taste for vanilla and chocolate is higher on average for customers
    (*Shopped* = 1) than for noncustomers, which makes sense.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个图中，我添加了一条最佳拟合线，几乎是平的，反映了变量之间缺乏相关性（相关系数等于0.004，反映了抽样误差）。在第二和第三个图中，我们可以看到整体上购物者（*购物*
    = 1）对香草和巧克力的口味平均较高，这是合理的。
- en: 'So far, so good. Let’s say that once you get the survey data, your business
    partner tells you that they are considering introducing a coupon incentive for
    the ice cream stand: when you purchase ice cream, you get a coupon for future
    visits. This loyalty incentive won’t impact the respondents who have never shopped
    at the stand, so the relevant population are those who have shopped at the store.
    The business partner is considering using flavor restrictions on the coupons to
    balance stock but does not know how much flavor choices can be influenced. If
    someone who purchased vanilla ice cream were given a coupon for 50% off chocolate
    ice cream, would it do anything beyond adding more paper to the recycle bin? How
    favorably do the people who like vanilla ice cream view chocolate ice cream anyway?'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，一切都很好。假设你收到调查数据后，你的商业伙伴告诉你，他们正在考虑为冰淇淋摊引入一个优惠券激励措施：购买冰淇淋时，您可以获得未来访问的优惠券。这种忠诚度激励措施不会影响从未在摊位购物过的受访者，因此相关人群是那些曾在商店购物过的人。商业伙伴正在考虑在优惠券上使用口味限制来平衡库存，但不知道口味选择会受多大影响。如果购买了香草冰淇淋的顾客得到了一张50%折扣的巧克力冰淇淋优惠券，除了增加废纸回收箱中的纸张外，还能起到什么作用吗？喜欢香草冰淇淋的人又如何看待巧克力冰淇淋呢？
- en: You plot the same graph again, this time restricting the data to people who
    have answered “Yes” to the shopping question ([Figure 1-6](#taste_for_vanilla_and_chocolate_among_s)).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你重新绘制了同样的图表，这次限制数据为那些对购物问题回答“是”的人（[图1-6](#taste_for_vanilla_and_chocolate_among_s)）。
- en: '![Taste for vanilla and chocolate among shoppers](Images/BEDA_0106.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![购物者对香草和巧克力的口味偏好](Images/BEDA_0106.png)'
- en: Figure 1-6\. Taste for vanilla and chocolate among shoppers
  id: totrans-84
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1-6\. 购物者对香草和巧克力的口味偏好
- en: There is now a strong negative correlation between the two variables (the correlation
    coefficient is equal to −0.39). What happened? Do vanilla lovers who come to your
    stand turn into chocolate haters and vice versa? Of course not. This correlation
    was artificially created when you restrained yourself to customers.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在这两个变量之间有强烈的负相关（相关系数为-0.39）。发生了什么？来到你的摊位的香草爱好者会变成巧克力的讨厌者，反之亦然吗？当然不是。这种相关性是在你限制到顾客时人为创造的。
- en: 'Let’s get back to our true causal relationships: the stronger someone’s taste
    for vanilla, the more likely they are to shop at your stand, and similarly for
    chocolate. This means that there is a cumulative effect of these two variables.
    If someone has a weak taste for both vanilla and chocolate ice creams, they are
    very unlikely to shop at your stand; in other words, most of the people with a
    weak taste for vanilla among your customers have a strong taste for chocolate.
    On the other hand, if someone has a strong taste for vanilla, they might shop
    at your stand even if they don’t have a strong taste for chocolate. You can see
    it reflected in the earlier graph: for high values for vanilla (say above 15),
    there are data points with lower values for chocolate (below 15), whereas, for
    low values of vanilla (below 5), the only data points in the graph have a high
    value for chocolate (above 17). No one’s preferences have changed, but people
    with a weak taste for both vanilla and chocolate are excluded from your data set.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到我们真正的因果关系：某人对香草的喜好越强，他们越有可能在你的摊位上购物，巧克力也是如此。这意味着这两个变量有累积效应。如果某人对香草和巧克力冰淇淋的喜好都较弱，他们很少会在你的摊位上购物；换句话说，你的顾客中大多数对香草口味不强的人对巧克力口味非常强烈。另一方面，如果某人对香草口味很强，即使对巧克力口味不是很强，他们也可能会来你的摊位购物。你可以在之前的图表中看到这一点：对于香草的高值（比如超过15），数据点中巧克力的值较低（低于15），而对于香草的低值（低于5），图表中的数据点只有巧克力的值较高（超过17）。没有人的偏好发生了变化，但是对香草和巧克力口味都不强的人被排除在你的数据集之外。
- en: 'The technical term for this phenomenon is the [Berkson paradox](https://oreil.ly/KwJ1R),
    but Judea Pearl and Dana Mackenzie call it by a more intuitive name: the “explain-away
    effect.” If one of your customers has a strong taste for vanilla, this completely
    explains why they are shopping at your stand, and they don’t “need” to have a
    strong taste for chocolate. On the other hand, if one of your customers has a
    weak taste for vanilla, this can’t explain why they are shopping at your stand,
    and they must have a stronger than average taste for chocolate.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这种现象的技术术语是[伯克森悖论](https://oreil.ly/KwJ1R)，但朱迪亚·珀尔（Judea Pearl）和丹娜·麦肯齐（Dana Mackenzie）用更直观的名称称之为“解释消除效应”。如果你的某个顾客非常喜欢香草味，这完全解释了他们为何在你的摊位购物，他们不“需要”对巧克力有很强的喜好。另一方面，如果你的某个顾客对香草味不够喜欢，这不能解释他们为何在你的摊位购物，他们必须对巧克力的喜爱高于平均水平。
- en: The Berkson paradox is counterintuitive and hard to understand at first. It
    can cause biases in your data, depending on how it was collected, even before
    you start any analysis. A classic example of how this situation can create artificial
    correlations is that some diseases show a higher degree of correlation when looking
    at the population of hospital patients compared to the general population. In
    reality of course, what happens is that either disease is not enough for someone
    to go to a hospital; someone’s health status gets bad enough to justify hospitalization
    only when they are both present.^([3](ch01.xhtml#ch01fn3))
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 伯克森悖论一开始是违反直觉且难以理解的。这可能导致数据偏差，这取决于数据的收集方式，甚至在开始任何分析之前就已经存在。一个经典的例子是，在看待医院患者群体与普通人群时，某些疾病表现出更高的相关性。实际上，发生的情况是，只有当两者同时存在时，某种疾病才足以使某人去医院；某人的健康状况只有在两种疾病同时存在时才会变得严重到需要住院。^([3](ch01.xhtml#ch01fn3))
- en: Conclusion
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: Predictive analytics has been extremely successful over the past few decades
    and will remain so. On the other hand, when trying to understand and—more importantly—change
    human behavior, causal analytics offers a compelling alternative.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 预测分析在过去几十年来取得了极大的成功，并且未来也将如此。另一方面，当试图理解和——更重要的是——改变人类行为时，因果分析提供了一个引人注目的替代方案。
- en: Causal analytics, however, demands a different approach than what we are used
    to with predictive analytics. Hopefully, the examples in this chapter have convinced
    you that you can’t just throw a bunch of variables in a linear or logistic regression
    and hope for the best (which we might think of as the “include them all, God will
    recognize His own” approach). You may still wonder, though, about other types
    of models and algorithms. Are gradient boosting or deep learning models somehow
    immune to confounders, multicollinearity, and spurious correlations? Unfortunately,
    the answer is no. If anything, the “black box” nature of these models means that
    confounders can be harder to catch.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，与预测分析不同，因果分析要求采用不同的方法。希望本章的例子已经让你相信，不能简单地将一堆变量放入线性回归或逻辑回归中，然后期待最好的结果（我们可能认为这是“把所有变量都包括进去，上帝会认出自己的”方法）。你可能仍然会好奇，其他类型的模型和算法是否对混淆因素、多重共线性和虚假相关性免疫？不幸的是，答案是否定的。如果有什么不同的话，这些模型的“黑匣子”性质意味着混淆因素可能更难以捕捉。
- en: In the next chapter, we will explore how to think about the behavioral data
    itself.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨如何思考行为数据本身。
- en: ^([1](ch01.xhtml#ch01fn1-marker)) To be fair, in many circumstances, they *should*
    be different, because the data is used for different purposes and obeys different
    conventions. But even questions that you would expect to have a single true answer
    (e.g., “How many employees do we have right now?”) will generally show discrepancies.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch01.xhtml#ch01fn1-marker)) 公平地说，在许多情况下，它们*应该*不同，因为数据用于不同的目的并遵循不同的约定。但即使是你期望只有一个真正答案的问题（例如，“我们现在有多少名员工？”），通常也会显示出差异。
- en: ^([2](ch01.xhtml#ch01fn2-marker)) In case you’re wondering, the aforementioned
    statistician is Donald Rubin.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch01.xhtml#ch01fn2-marker)) 你可能会想知道，前面提到的统计学家是唐纳德·鲁宾。
- en: ^([3](ch01.xhtml#ch01fn3-marker)) Technically speaking, this is a slightly different
    situation, because there is a threshold effect instead of two linear (or logistic)
    relationships, but the underlying principle that including the wrong variable
    can create artificial correlations still applies.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: ^([3](ch01.xhtml#ch01fn3-marker)) 从技术角度讲，这种情况略有不同，因为存在阈值效应而不是两个线性（或逻辑）关系，但包含错误变量可能导致人为相关性的基本原则仍然适用。
