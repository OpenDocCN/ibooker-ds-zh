<html><head></head><body><section data-pdf-bookmark="Chapter 11. Data Structures in Python" data-type="chapter" epub:type="chapter"><div class="chapter" id="data-structures-in-python">&#13;
<h1><span class="label">Chapter 11. </span>Data Structures in Python</h1>&#13;
&#13;
&#13;
<p>In <a data-type="xref" href="ch10.html#first-steps-python">Chapter 10</a>, you learned about simple <a data-primary="objects" data-secondary="in Python" data-secondary-sortas="Python" data-type="indexterm" id="idm46274534412040"/><a data-primary="Python programming language" data-secondary="objects" data-type="indexterm" id="idm46274534410824"/><a data-primary="objects" data-secondary="types of" data-type="indexterm" id="idm46274534409864"/><a data-primary="list object type, Python" data-type="indexterm" id="idm46274534408920"/><a data-primary="data structures" data-secondary="in Python" data-secondary-sortas="Python" data-type="indexterm" id="ch11_term1"/><a data-primary="Python programming language" data-secondary="data structures" data-type="indexterm" id="ch11_term2"/>Python object types like strings, integers, and Booleans. Now let’s look at <a data-primary="collection object types, Python" data-type="indexterm" id="idm46274534405384"/>grouping multiple values together in what’s called a <em>collection</em>. Python by default comes with several collection object types. We’ll start this chapter with the <em>list</em>. We can put values into a list by separating each entry with commas and placing the results inside square brackets:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="n">my_list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code>&#13;
        <code class="n">my_list</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code></pre>&#13;
&#13;
<p>This object contains all integers, but <a data-primary="data types" data-secondary="Python" data-type="indexterm" id="idm46274534402344"/>itself is <em>not</em> an integer data type: it is a <em>list</em>.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">2</code><code class="p">]:</code> <code class="nb">type</code><code class="p">(</code><code class="n">my_list</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">2</code><code class="p">]:</code> <code class="nb">list</code></pre>&#13;
&#13;
<p>In fact, we can include all different sorts of data inside a list…even other lists.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">3</code><code class="p">]:</code> <code class="n">my_nested_list</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="p">[</code><code class="s">'Boo!'</code><code class="p">,</code> <code class="bp">True</code><code class="p">]]</code>&#13;
        <code class="nb">type</code><code class="p">(</code><code class="n">my_nested_list</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">3</code><code class="p">]:</code> <code class="nb">list</code></pre>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46274534370888">&#13;
<h5>Other Collection Types in Base Python</h5>&#13;
<p>Python includes several other built-in collection object types besides the list, most notably the <em>dictionary</em>, along with still more in the <a data-primary="Python Standard Library" data-type="indexterm" id="idm46274534285960"/>Standard Library’s <code>collections</code> module. Collection types vary by how they store values and can be indexed or &#13;
<span class="keep-together">modified</span>.</p>&#13;
</div></aside>&#13;
&#13;
<p>As you’re seeing, lists are quite versatile for storing data. But right now, we’re really interested in working with something that could function like an Excel range or R vector, and then move into <a data-primary="tabular data structures" data-type="indexterm" id="idm46274534283224"/><a data-primary="data structures" data-secondary="tabular" data-type="indexterm" id="idm46274534282520"/>tabular data. Does a simple list fit the bill? Let’s give it a whirl by trying to multiply <code>my_list</code> by two.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">4</code><code class="p">]:</code>  <code class="n">my_list</code> <code class="o">*</code> <code class="mi">2</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">4</code><code class="p">]:</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code></pre>&#13;
&#13;
<p>This is probably <em>not</em> what you are looking for: Python took you literally and, well, doubled your <em>list</em>, rather than the <em>numbers inside</em> your list. There are ways to get what we want here on our own: if you’ve worked with loops before, you could set one up here to multiply each element by two. If you’ve not worked with loops, that’s fine too: the better option is to import a module that makes it easier to perform computations in Python. For <a data-primary="Anaconda, Python" data-secondary="packages with" data-type="indexterm" id="idm46274534225224"/><a data-primary="arrays, Python NumPy" data-secondary="creating" data-type="indexterm" id="idm46274534224248"/><a data-primary="NumPy, Python" data-type="indexterm" id="idm46274534223304"/><a data-primary="modules, Python" data-secondary="NumPy" data-type="indexterm" id="ch11_term3"/>that, we’ll use <code>numpy</code>, which is included with Anaconda.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="NumPy arrays" data-type="sect1"><div class="sect1" id="idm46274534220872">&#13;
<h1>NumPy arrays</h1>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">5</code><code class="p">]:</code>  <code class="kn">import</code> <code class="nn">numpy</code></pre>&#13;
&#13;
<p>As its name suggests, <code>numpy</code> is a module for numerical computing in Python and has been foundational to Python’s popularity as an analytics tool. To learn <a data-primary="help documentation in R and Python" data-type="indexterm" id="idm46274534204392"/><a data-primary="Python programming language" data-secondary="help documentation" data-type="indexterm" id="idm46274534203784"/>more about <code>numpy</code>, visit the Help section of Jupyter’s menu bar and select “NumPy reference.” We’ll focus for right now on the <code>numpy</code> <em>array</em>. This is a collection of data with all items of the same type and that can store data in up to any number, or <em>n</em> dimensions. We’ll focus <a data-primary="one-dimensional data structures" data-type="indexterm" id="idm46274534213464"/>on a <em>one-dimensional</em> array and convert our first one from a list using the <code>array()</code> function:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">6</code><code class="p">]:</code>  <code class="n">my_array</code> <code class="o">=</code> <code class="n">numpy</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">])</code>&#13;
         <code class="n">my_array</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">6</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">])</code></pre>&#13;
&#13;
<p>At first glance a <code>numpy</code> array looks a <em>lot</em> like a list; after all, we even created this one <em>from</em> a list. But we can see that it really is a different data type:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">7</code><code class="p">]:</code> <code class="nb">type</code><code class="p">(</code><code class="n">my_list</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">7</code><code class="p">]:</code> <code class="nb">list</code>&#13;
&#13;
<code class="n">In</code> <code class="p">[</code><code class="mi">8</code><code class="p">]:</code> <code class="nb">type</code><code class="p">(</code><code class="n">my_array</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">8</code><code class="p">]:</code> <code class="n">numpy</code><code class="o">.</code><code class="n">ndarray</code></pre>&#13;
&#13;
<p>Specifically, it’s <a data-primary="n-dimensional arrays, Python" data-type="indexterm" id="idm46274534079784"/>an <code>ndarray</code>, or <em>n</em>-dimensional array. Because it’s a different data structure, it may behave differently with operations. For example, what happens when we multiply a <code>numpy</code> array?</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">9</code><code class="p">]:</code> <code class="n">my_list</code> <code class="o">*</code> <code class="mi">2</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">9</code><code class="p">]:</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code>&#13;
&#13;
&#13;
<code class="n">In</code> <code class="p">[</code><code class="mi">10</code><code class="p">]:</code> <code class="n">my_array</code> <code class="o">*</code> <code class="mi">2</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">10</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code> <code class="mi">8</code><code class="p">,</code>  <code class="mi">2</code><code class="p">,</code> <code class="mi">10</code><code class="p">,</code>  <code class="mi">4</code><code class="p">])</code></pre>&#13;
&#13;
<p>In many ways this behavior should remind you of an Excel range or <a data-primary="vectors" data-secondary="R data structures with" data-type="indexterm" id="idm46274534075816"/>an R vector. And indeed, <a data-primary="coercing of data elements" data-type="indexterm" id="idm46274533985224"/>like R vectors, <code>numpy</code> arrays will <em>coerce</em> data to be of the same type:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">11</code><code class="p">]:</code> <code class="n">my_coerced_array</code> <code class="o">=</code> <code class="n">numpy</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="s">'Boo!'</code><code class="p">])</code>&#13;
         <code class="n">my_coerced_array</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">11</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="s">'1'</code><code class="p">,</code> <code class="s">'2'</code><code class="p">,</code> <code class="s">'3'</code><code class="p">,</code> <code class="s">'Boo!'</code><code class="p">],</code> <code class="n">dtype</code><code class="o">=</code><code class="s">'&lt;U11'</code><code class="p">)</code></pre>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46274533982520">&#13;
<h5>Data Types in NumPy and Pandas</h5>&#13;
<p>You’ll notice that <a data-primary="data types" data-secondary="in numby and pandas" data-secondary-sortas="numby and pandas" data-type="indexterm" id="idm46274533903544"/><a data-primary="data types" data-secondary="Python" data-type="indexterm" id="idm46274533902328"/><a data-primary="pandas, Python" data-secondary="dtypes in" data-type="indexterm" id="idm46274533901384"/><a data-primary="NumPy, Python" data-seealso="arrays, Python NumPy" data-type="indexterm" id="idm46274533900440"/>data types in <code>numpy</code> and later <code>pandas</code> work a bit differently than standard Python. These <a data-primary="dtypes in numby and pandas" data-type="indexterm" id="idm46274533898504"/>so-called <code>dtypes</code> are built to read and write data quickly and work with low-level programming languages like C or Fortran. Don’t worry too much about the specific <code>dtypes</code> being used; focus on the general kind of data you’re working with, such as floating point, string, or Boolean.</p>&#13;
</div></aside>&#13;
&#13;
<p>As you’re seeing, <code>numpy</code> is a lifesaver for working with data in Python. Plan to import it <em>a lot</em>…which means typing it a lot. Fortunately, you can lighten the <a data-primary="aliasing, Python" data-type="indexterm" id="idm46274533895080"/>load with <em>aliasing</em>. We’ll use the <code>as</code> keyword to give <code>numpy</code> its conventional alias, <code>np</code>:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">12</code><code class="p">]:</code>  <code class="kn">import</code> <code class="nn">numpy</code> <code class="kn">as</code> <code class="nn">np</code></pre>&#13;
&#13;
<p>This gives the module a temporary, more manageable name. Now, each time we want to call in code from <code>numpy</code> during our Python session, we can refer to its alias.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">13</code><code class="p">]:</code> <code class="kn">import</code> <code class="nn">numpy</code> <code class="kn">as</code> <code class="nn">np</code>&#13;
         <code class="c"># numpy also has a sqrt() function:</code>&#13;
         <code class="n">np</code><code class="o">.</code><code class="n">sqrt</code><code class="p">(</code><code class="n">my_array</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">13</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mf">2.</code>        <code class="p">,</code> <code class="mf">1.</code>        <code class="p">,</code> <code class="mf">2.23606798</code><code class="p">,</code> <code class="mf">1.41421356</code><code class="p">])</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Remember that aliases are <em>temporary</em> to your Python session. If you restart your kernel or start a new notebook, the alias won’t work anymore.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Indexing and Subsetting NumPy Arrays" data-type="sect1"><div class="sect1" id="idm46274534220248">&#13;
<h1>Indexing and Subsetting NumPy Arrays</h1>&#13;
&#13;
<p>Let’s take a moment to explore how to <a data-primary="arrays, Python NumPy" data-secondary="indexing from zero in" data-type="indexterm" id="ch11_term4"/><a data-primary="indexing" data-secondary="arrays" data-type="indexterm" id="ch11_term5"/><a data-primary="indexing" data-secondary="zero- and one-based" data-type="indexterm" id="ch11_term6"/><a data-primary="zero-based indexing" data-type="indexterm" id="ch11_term7"/>pull individual items from a <code>numpy</code> array, which we can do by affixing its index number in square brackets directly next to the object name:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">14</code><code class="p">]:</code> <code class="c"># Get second element... right?</code>&#13;
         <code class="n">my_array</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">14</code><code class="p">]:</code> <code class="mi">5</code></pre>&#13;
&#13;
<p>For example, we just pulled the second element from our array…<em>or did we?</em> Let’s revisit <code>my_array</code>; what is <em>really</em> showing in the second position?</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">15</code><code class="p">]:</code> <code class="n">my_array</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">15</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mi">4</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">])</code></pre>&#13;
&#13;
<p>It appears that <code>1</code> is in the second position, and <code>5</code> is actually in the <em>third</em>. What explains this discrepancy? As it turns out, it’s <a data-primary="Excel" data-secondary="R and Python differences from" data-type="indexterm" id="idm46274533711912"/><a data-primary="Python programming language" data-secondary="R differences from" data-type="indexterm" id="idm46274533710968"/><a data-primary="R programming language" data-secondary="Python differences from" data-type="indexterm" id="idm46274533710056"/>because Python counts things differently than you and I usually do.</p>&#13;
&#13;
<p>As a warm-up to this strange concept, imagine being so excited to get your hands on a new dataset that you download it several times. That hastiness leaves you with a series of files named like this:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><em>dataset.csv</em></p>&#13;
</li>&#13;
<li>&#13;
<p><em>dataset (1).csv</em></p>&#13;
</li>&#13;
<li>&#13;
<p><em>dataset (2).csv</em></p>&#13;
</li>&#13;
<li>&#13;
<p><em>dataset (3).csv</em></p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>As humans, we tend to start counting things at one. But computers often start counting at <em>zero</em>. Multiple file downloads is one example: our second file is actually named <code>dataset (1)</code>, not <code>dataset (2)</code>. This is called <em>zero-based indexing</em>, and it happens <em>all over</em> in Python.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46274533701048">&#13;
<h5>Zero- and One-Based Indexing</h5>&#13;
<p>Computers often count from zero, but not all the time. In fact, <a data-primary="Excel" data-secondary="R and Python similarities to" data-type="indexterm" id="idm46274533699720"/><a data-primary="one-based indexing" data-type="indexterm" id="idm46274533698728"/>Excel and R both implement <em>one-based</em> indexing, where the first element is considered to be in position one. Programmers can have strong opinions about which is a better design, but you should be comfortable working in both frameworks.</p>&#13;
</div></aside>&#13;
&#13;
<p>This is all to say that, to Python, indexing something with the number <code>1</code> returns the value in the <em>second</em> position, indexing with <code>2</code> returns the third, and so on.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">16</code><code class="p">]:</code> <code class="c"># *Now* let's get the second element</code>&#13;
         <code class="n">my_array</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">16</code><code class="p">]:</code> <code class="mi">1</code></pre>&#13;
&#13;
<p>It’s also possible to <a data-primary="subsetting" data-secondary="arrays" data-type="indexterm" id="idm46274533668616"/><a data-primary="slicing in Python" data-type="indexterm" id="idm46274533667768"/><a data-primary="arrays, Python NumPy" data-secondary="slicing" data-type="indexterm" id="idm46274533667128"/>subset a selection of consecutive values, called <em>slicing</em> in Python. Let’s try finding the second through fourth elements. We already got the zero-based kicker out of the way; how hard could this be?</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">17</code><code class="p">]:</code> <code class="c"># Get second through fourth elements... right?</code>&#13;
         <code class="n">my_array</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="mi">3</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">17</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">])</code></pre>&#13;
&#13;
<p><em>But wait, there’s more.</em> In addition to being zero-indexed, slicing is <em>exclusive</em> of the ending element. That means we need to “add 1” to the second number to get our intended range:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">18</code><code class="p">]:</code> <code class="c"># *Now* get second through fourth elements</code>&#13;
         <code class="n">my_array</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="mi">4</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">18</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">2</code><code class="p">])</code></pre>&#13;
&#13;
<p>There’s much more you can do with slicing in Python, such as starting at the <em>end</em> of an object or selecting all elements from the start to a given position. For now, the important thing to remember is that <em>Python uses zero-based indexing</em>.</p>&#13;
&#13;
<p>Two-dimensional <code>numpy</code> arrays can serve as a <a data-primary="data structures" data-secondary="tabular" data-type="indexterm" id="idm46274533564264"/><a data-primary="tabular data structures" data-type="indexterm" id="idm46274533563256"/>tabular Python data structure, but all elements must be of the same data type. This is rarely the case when we’re analyzing data in a business context, so to meet this <a data-startref="ch11_term1" data-type="indexterm" id="idm46274533562264"/><a data-startref="ch11_term2" data-type="indexterm" id="idm46274533561592"/><a data-startref="ch11_term3" data-type="indexterm" id="idm46274533560920"/><a data-startref="ch11_term4" data-type="indexterm" id="idm46274533560248"/><a data-startref="ch11_term5" data-type="indexterm" id="idm46274533559576"/><a data-startref="ch11_term6" data-type="indexterm" id="idm46274533558904"/><a data-startref="ch11_term7" data-type="indexterm" id="idm46274533558232"/>requirement we’ll move to <code>pandas</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Introducing Pandas DataFrames" data-type="sect1"><div class="sect1" id="idm46274533814104">&#13;
<h1>Introducing Pandas DataFrames</h1>&#13;
&#13;
<p>Named <a data-primary="pandas, Python" data-secondary="about" data-type="indexterm" id="idm46274533555416"/>after the <em>panel data</em> of econometrics, <code>pandas</code> is especially helpful for manipulating and analyzing tabular data. Like <code>numpy</code>, it <a data-primary="Anaconda, Python" data-secondary="packages with" data-type="indexterm" id="idm46274533553000"/>comes installed with Anaconda. The typical alias is <code>pd</code>:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">19</code><code class="p">]:</code> <code class="kn">import</code> <code class="nn">pandas</code> <code class="kn">as</code> <code class="nn">pd</code></pre>&#13;
&#13;
<p>The <code>pandas</code> module leverages <code>numpy</code> in its code base, and you will see some similarities between the two. <code>pandas</code> includes, among others, a <a data-primary="pandas, Python" data-secondary="DataFrames" data-type="indexterm" id="ch11_term8"/><a data-primary="one-dimensional data structures" data-type="indexterm" id="idm46274533543880"/><a data-primary="Series data structure, Python" data-type="indexterm" id="idm46274533543240"/>one-dimensional data structure called a <em>Series</em>. But its most widely used <a data-primary="DataFrames, Python" data-secondary="building" data-type="indexterm" id="idm46274533542088"/><a data-primary="two-dimensional data structures" data-type="indexterm" id="idm46274533541112"/>structure is the two-dimensional <em>DataFrame</em> (sound familiar?). It’s possible to create a DataFrame from other data types, including <code>numpy</code> arrays, using the <code>DataFrame</code> function:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">20</code><code class="p">]:</code> <code class="n">record_1</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="s">'Jack'</code><code class="p">,</code> <code class="mi">72</code><code class="p">,</code> <code class="bp">False</code><code class="p">])</code>&#13;
         <code class="n">record_2</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="s">'Jill'</code><code class="p">,</code> <code class="mi">65</code><code class="p">,</code> <code class="bp">True</code><code class="p">])</code>&#13;
         <code class="n">record_3</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="s">'Billy'</code><code class="p">,</code> <code class="mi">68</code><code class="p">,</code> <code class="bp">False</code><code class="p">])</code>&#13;
         <code class="n">record_4</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="s">'Susie'</code><code class="p">,</code> <code class="mi">69</code><code class="p">,</code> <code class="bp">False</code><code class="p">])</code>&#13;
         <code class="n">record_5</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">([</code><code class="s">'Johnny'</code><code class="p">,</code> <code class="mi">66</code><code class="p">,</code> <code class="bp">False</code><code class="p">])</code>&#13;
&#13;
         <code class="n">roster</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="n">data</code> <code class="o">=</code> <code class="p">[</code><code class="n">record_1</code><code class="p">,</code>&#13;
             <code class="n">record_2</code><code class="p">,</code> <code class="n">record_3</code><code class="p">,</code> <code class="n">record_4</code><code class="p">,</code> <code class="n">record_5</code><code class="p">],</code>&#13;
               <code class="n">columns</code> <code class="o">=</code> <code class="p">[</code><code class="s">'name'</code><code class="p">,</code> <code class="s">'height'</code><code class="p">,</code> <code class="s">'injury'</code><code class="p">])</code>&#13;
&#13;
         <code class="n">roster</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">20</code><code class="p">]:</code>&#13;
              <code class="n">name</code> <code class="n">height</code> <code class="n">injury</code>&#13;
         <code class="mi">0</code>    <code class="n">Jack</code>     <code class="mi">72</code>  <code class="bp">False</code>&#13;
         <code class="mi">1</code>    <code class="n">Jill</code>     <code class="mi">65</code>   <code class="bp">True</code>&#13;
         <code class="mi">2</code>   <code class="n">Billy</code>     <code class="mi">68</code>  <code class="bp">False</code>&#13;
         <code class="mi">3</code>   <code class="n">Susie</code>     <code class="mi">69</code>  <code class="bp">False</code>&#13;
         <code class="mi">4</code>  <code class="n">Johnny</code>     <code class="mi">66</code>  <code class="bp">False</code></pre>&#13;
&#13;
<p>DataFrames generally <a data-primary="columns" data-secondary="in DataFrames, Python" data-secondary-sortas="DataFrames, Python" data-type="indexterm" id="idm46274533508920"/>include named <em>labels</em> for each column. There will <a data-primary="index in Dataframes" data-type="indexterm" id="idm46274533506840"/>also be an <em>index</em> running down the rows, which by default starts at (you guessed it) 0. This is a pretty small dataset to explore, so let’s find something else. Unfortunately, Python does not include any DataFrames out of the gate, but we <a data-primary="seaborn package, Python" data-secondary="datasets in" data-type="indexterm" id="idm46274533371032"/><a data-primary="Python programming language" data-secondary="datasets" data-type="indexterm" id="idm46274533370056"/><a data-primary="Python programming language" data-secondary="packages" data-type="indexterm" id="idm46274533369144"/><a data-primary="packages" data-secondary="Python" data-type="indexterm" id="idm46274533368232"/><a data-primary="datasets" data-secondary="with Python" data-secondary-sortas="Python" data-type="indexterm" id="idm46274533367288"/><a data-primary="Anaconda, Python" data-secondary="packages with" data-type="indexterm" id="idm46274533366072"/>can find some with the &#13;
<span class="keep-together"><code>seaborn</code></span> package. <code>seaborn</code> also comes installed with Anaconda and is often aliased &#13;
<span class="keep-together">as <code>sns</code>.</span> The <code>get_dataset_names()</code> function <a data-primary="get_dataset_names() function, Python" data-type="indexterm" id="idm46274533362184"/>will return a list of DataFrames available &#13;
<span class="keep-together">to use:</span></p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">21</code><code class="p">]:</code> <code class="kn">import</code> <code class="nn">seaborn</code> <code class="kn">as</code> <code class="nn">sns</code>&#13;
         <code class="n">sns</code><code class="o">.</code><code class="n">get_dataset_names</code><code class="p">()</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">21</code><code class="p">]:</code>&#13;
        <code class="p">[</code><code class="s">'anagrams'</code><code class="p">,</code> <code class="s">'anscombe'</code><code class="p">,</code> <code class="s">'attention'</code><code class="p">,</code> <code class="s">'brain_networks'</code><code class="p">,</code> <code class="s">'car_crashes'</code><code class="p">,</code>&#13;
        <code class="s">'diamonds'</code><code class="p">,</code> <code class="s">'dots'</code><code class="p">,</code> <code class="s">'exercise'</code><code class="p">,</code> <code class="s">'flights'</code><code class="p">,</code> <code class="s">'fmri'</code><code class="p">,</code> <code class="s">'gammas'</code><code class="p">,</code>&#13;
        <code class="s">'geyser'</code><code class="p">,</code> <code class="s">'iris'</code><code class="p">,</code> <code class="s">'mpg'</code><code class="p">,</code> <code class="s">'penguins'</code><code class="p">,</code> <code class="s">'planets'</code><code class="p">,</code> <code class="s">'tips'</code><code class="p">,</code> <code class="s">'titanic'</code><code class="p">]</code></pre>&#13;
&#13;
<p>Does <em>iris</em> sound <a data-primary="iris dataset" data-type="indexterm" id="idm46274533213048"/>familiar? We can <a data-primary="load_dataset() function, Python" data-type="indexterm" id="idm46274533212280"/>load it into our Python session with the <code>load_dataset()</code> function, and <a data-primary="head() method" data-secondary="in Python" data-secondary-sortas="Python" data-type="indexterm" id="idm46274533211096"/><a data-primary="print, Python" data-type="indexterm" id="idm46274533209816"/>print the first five rows with the <code>head()</code> method.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">22</code><code class="p">]:</code> <code class="n">iris</code> <code class="o">=</code> <code class="n">sns</code><code class="o">.</code><code class="n">load_dataset</code><code class="p">(</code><code class="s">'iris'</code><code class="p">)</code>&#13;
         <code class="n">iris</code><code class="o">.</code><code class="n">head</code><code class="p">()</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">22</code><code class="p">]:</code>&#13;
                <code class="n">sepal_length</code>  <code class="n">sepal_width</code>  <code class="n">petal_length</code>  <code class="n">petal_width</code> <code class="n">species</code>&#13;
        <code class="mi">0</code>           <code class="mf">5.1</code>          <code class="mf">3.5</code>           <code class="mf">1.4</code>          <code class="mf">0.2</code>  <code class="n">setosa</code>&#13;
        <code class="mi">1</code>           <code class="mf">4.9</code>          <code class="mf">3.0</code>           <code class="mf">1.4</code>          <code class="mf">0.2</code>  <code class="n">setosa</code>&#13;
        <code class="mi">2</code>           <code class="mf">4.7</code>          <code class="mf">3.2</code>           <code class="mf">1.3</code>          <code class="mf">0.2</code>  <code class="n">setosa</code>&#13;
        <code class="mi">3</code>           <code class="mf">4.6</code>          <code class="mf">3.1</code>           <code class="mf">1.5</code>          <code class="mf">0.2</code>  <code class="n">setosa</code>&#13;
        <code class="mi">4</code>           <code class="mf">5.0</code>          <code class="mf">3.6</code>           <code class="mf">1.4</code>          <code class="mf">0.2</code>  <code class="n">setosa</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Importing Data in Python" data-type="sect1"><div class="sect1" id="idm46274533315464">&#13;
<h1>Importing Data in Python</h1>&#13;
&#13;
<p>As with <a data-startref="ch11_term8" data-type="indexterm" id="idm46274533148776"/>R, it’s most common to <a data-primary="data imports" data-secondary="in Python" data-secondary-sortas="Python" data-type="indexterm" id="ch11_term9"/><a data-primary="file paths and directories" data-secondary="in Python" data-secondary-sortas="Python" data-type="indexterm" id="ch11_term10"/><a data-primary="Python programming language" data-secondary="file paths and directories" data-type="indexterm" id="ch11_term11"/>read in data from external files, and we’ll need to deal with directories to do so. The <a data-primary="Python Standard Library" data-type="indexterm" id="idm46274533143720"/><a data-primary="modules, Python" data-secondary="os for file paths and directories" data-type="indexterm" id="idm46274533143048"/><a data-primary="os module, Python" data-type="indexterm" id="idm46274533142088"/>Python Standard Library includes the <code>os</code> module for working with file paths and directories:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">23</code><code class="p">]:</code> <code class="kn">import</code> <code class="nn">os</code></pre>&#13;
&#13;
<p>For this next part, have your notebook saved in the main folder of the book repository. By default, Python sets the <a data-primary="working directories" data-type="indexterm" id="idm46274533138648"/>current working directory to wherever your active file is located, so we don’t have to worry about changing the directory as we did in R. You can still <a data-primary="chdir() function, Python" data-type="indexterm" id="idm46274533137736"/><a data-primary="getcwd() function, Python" data-type="indexterm" id="idm46274533137128"/>check and change it with the <code>getcwd()</code> and <code>chdir()</code> functions from <code>os</code>, respectively.</p>&#13;
&#13;
<p>Python <a data-primary="Python programming language" data-secondary="R similarities to" data-type="indexterm" id="idm46274533133352"/><a data-primary="R programming language" data-secondary="Python similarities to" data-type="indexterm" id="idm46274533132376"/>follows the same general rules about relative and absolute file paths as R. Let’s see if we <a data-primary="isfile() function, Python" data-type="indexterm" id="idm46274533131192"/>can locate <em>test-file.csv</em> in the repository using the <code>isfile()</code> function, which is in the <code>path</code> submodule of <code>os</code>:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">24</code><code class="p">]:</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isfile</code><code class="p">(</code><code class="s">'test-file.csv'</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">24</code><code class="p">]:</code> <code class="bp">True</code></pre>&#13;
&#13;
<p>Now we’d like to locate that file as contained in the <em>test-folder</em> subfolder.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">25</code><code class="p">]:</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isfile</code><code class="p">(</code><code class="s">'test-folder/test-file.csv'</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">25</code><code class="p">]:</code> <code class="bp">True</code></pre>&#13;
&#13;
<p>Next, try putting a copy of this file in the folder one up from your current location. You should be able to locate it with this code:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">26</code><code class="p">]:</code>  <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isfile</code><code class="p">(</code><code class="s">'../test-file.csv'</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">26</code><code class="p">]:</code> <code class="bp">True</code></pre>&#13;
&#13;
<p>Like with R, you’ll most <a data-primary="pandas, Python" data-secondary="reading in external data with" data-type="indexterm" id="idm46274532999864"/><a data-primary="pandas, Python" data-secondary="DataFrames" data-type="indexterm" id="idm46274532998584"/>commonly read data in from an external source to operate on it in Python, and this source can be nearly anything imaginable. <code>pandas</code> includes functions to <a data-primary=".xlsx files" data-primary-sortas="xlsx files" data-type="indexterm" id="idm46274532997048"/><a data-primary=".csv files" data-primary-sortas="csv files" data-type="indexterm" id="idm46274532996040"/>read data from, among others, both <em>.xlsx</em> and <em>.csv</em> files into DataFrames. To demonstrate, we’ll read in our <a data-primary="read_excel() function, Python" data-type="indexterm" id="idm46274532960760"/><a data-primary="Excel" data-secondary="as data for Python" data-secondary-sortas="data for Python" data-type="indexterm" id="idm46274532960040"/>reliable <em>star.xlsx</em> and <em>districts.csv</em> datasets from the book repository. The <code>read_excel()</code> function is used to read Excel workbooks:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">27</code><code class="p">]:</code> <code class="n">star</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s">'datasets/star/star.xlsx'</code><code class="p">)</code>&#13;
         <code class="n">star</code><code class="o">.</code><code class="n">head</code><code class="p">()</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">27</code><code class="p">]:</code>&#13;
   <code class="n">tmathssk</code>  <code class="n">treadssk</code>             <code class="n">classk</code>  <code class="n">totexpk</code>   <code class="n">sex</code> <code class="n">freelunk</code>   <code class="n">race</code>&#13;
<code class="mi">0</code>       <code class="mi">473</code>       <code class="mi">447</code>        <code class="n">small</code><code class="o">.</code><code class="k">class</code>        <code class="err">7  </code><code class="nc">girl</code>       <code class="n">no</code>  <code class="n">white</code>&#13;
<code class="mi">1</code>       <code class="mi">536</code>       <code class="mi">450</code>        <code class="n">small</code><code class="o">.</code><code class="k">class</code>       <code class="err">21  </code><code class="nc">girl</code>       <code class="n">no</code>  <code class="n">black</code>&#13;
<code class="mi">2</code>       <code class="mi">463</code>       <code class="mi">439</code>  <code class="n">regular</code><code class="o">.</code><code class="k">with</code><code class="o">.</code><code class="n">aide</code>        <code class="mi">0</code>   <code class="n">boy</code>      <code class="n">yes</code>  <code class="n">black</code>&#13;
<code class="mi">3</code>       <code class="mi">559</code>       <code class="mi">448</code>            <code class="n">regular</code>       <code class="mi">16</code>   <code class="n">boy</code>       <code class="n">no</code>  <code class="n">white</code>&#13;
<code class="mi">4</code>       <code class="mi">489</code>       <code class="mi">447</code>        <code class="n">small</code><code class="o">.</code><code class="k">class</code>        <code class="err">5   </code><code class="nc">boy</code>      <code class="n">yes</code>  <code class="n">white</code>&#13;
&#13;
   <code class="n">schidkn</code>&#13;
<code class="mi">0</code>       <code class="mi">63</code>&#13;
<code class="mi">1</code>       <code class="mi">20</code>&#13;
<code class="mi">2</code>       <code class="mi">19</code>&#13;
<code class="mi">3</code>       <code class="mi">69</code>&#13;
<code class="mi">4</code>       <code class="mi">79</code></pre>&#13;
&#13;
<p>Similarly, we can <a data-primary="read_csv() function, R and Python" data-type="indexterm" id="idm46274532956408"/>use <code>pandas</code> to read in <em>.csv</em> files with the <code>read_csv()</code> function:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">28</code><code class="p">]:</code> <code class="n">districts</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_csv</code><code class="p">(</code><code class="s">'datasets/star/districts.csv'</code><code class="p">)</code>&#13;
         <code class="n">districts</code><code class="o">.</code><code class="n">head</code><code class="p">()</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">28</code><code class="p">]:</code>&#13;
             <code class="n">schidkn</code>      <code class="n">school_name</code>       <code class="n">county</code>&#13;
          <code class="mi">0</code>        <code class="mi">1</code>          <code class="n">Rosalia</code>  <code class="n">New</code> <code class="n">Liberty</code>&#13;
          <code class="mi">1</code>        <code class="mi">2</code>  <code class="n">Montgomeryville</code>       <code class="n">Topton</code>&#13;
          <code class="mi">2</code>        <code class="mi">3</code>             <code class="n">Davy</code>     <code class="n">Wahpeton</code>&#13;
          <code class="mi">3</code>        <code class="mi">4</code>         <code class="n">Steelton</code>    <code class="n">Palestine</code>&#13;
          <code class="mi">4</code>        <code class="mi">6</code>       <code class="n">Tolchester</code>      <code class="n">Sattley</code></pre>&#13;
&#13;
<p>If you’d like to read in other Excel file types or specific ranges and worksheets, for example, <a data-startref="ch11_term9" data-type="indexterm" id="idm46274532696808"/><a data-startref="ch11_term10" data-type="indexterm" id="idm46274532701368"/><a data-startref="ch11_term11" data-type="indexterm" id="idm46274532700760"/>check the <code>pandas</code> documentation.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Exploring a DataFrame" data-type="sect1"><div class="sect1" id="idm46274533314872">&#13;
<h1>Exploring a DataFrame</h1>&#13;
&#13;
<p>Let’s continue to <a data-primary="info() method, Python" data-type="indexterm" id="idm46274532697816"/><a data-primary="DataFrames, Python" data-secondary="descriptive statistics with" data-type="indexterm" id="ch11_term12"/><a data-primary="descriptive statistics" data-secondary="with Python DataFrames" data-secondary-sortas="Python DataFrames" data-type="indexterm" id="ch11_term13"/>size up the <em>star</em> DataFrame. The <code>info()</code> method will tell us some important things, such as its dimensions and types of columns:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">29</code><code class="p">]:</code> <code class="n">star</code><code class="o">.</code><code class="n">info</code><code class="p">()</code>&#13;
&#13;
    <code class="o">&lt;</code><code class="k">class</code> <code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s">'&gt;</code>&#13;
    <code class="n">RangeIndex</code><code class="p">:</code> <code class="mi">5748</code> <code class="n">entries</code><code class="p">,</code> <code class="mi">0</code> <code class="n">to</code> <code class="mi">5747</code>&#13;
    <code class="n">Data</code> <code class="n">columns</code> <code class="p">(</code><code class="n">total</code> <code class="mi">8</code> <code class="n">columns</code><code class="p">):</code>&#13;
    <code class="c">#   Column    Non-Null Count  Dtype</code>&#13;
    <code class="o">---</code>  <code class="o">------</code>    <code class="o">--------------</code>  <code class="o">-----</code>&#13;
    <code class="mi">0</code>   <code class="n">tmathssk</code>  <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="n">int64</code>&#13;
    <code class="mi">1</code>   <code class="n">treadssk</code>  <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="n">int64</code>&#13;
    <code class="mi">2</code>   <code class="n">classk</code>    <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="nb">object</code>&#13;
    <code class="mi">3</code>   <code class="n">totexpk</code>   <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="n">int64</code>&#13;
    <code class="mi">4</code>   <code class="n">sex</code>       <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="nb">object</code>&#13;
    <code class="mi">5</code>   <code class="n">freelunk</code>  <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="nb">object</code>&#13;
    <code class="mi">6</code>   <code class="n">race</code>      <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="nb">object</code>&#13;
    <code class="mi">7</code>   <code class="n">schidkn</code>   <code class="mi">5748</code> <code class="n">non</code><code class="o">-</code><code class="n">null</code>   <code class="n">int64</code>&#13;
    <code class="n">dtypes</code><code class="p">:</code> <code class="n">int64</code><code class="p">(</code><code class="mi">4</code><code class="p">),</code> <code class="nb">object</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>&#13;
    <code class="n">memory</code> <code class="n">usage</code><code class="p">:</code> <code class="mf">359.4</code><code class="o">+</code> <code class="n">KB</code></pre>&#13;
&#13;
<p>We can retrieve <a data-primary="describe() method, Python" data-type="indexterm" id="idm46274532811272"/>descriptive statistics with the <code>describe()</code> method:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">30</code><code class="p">]:</code> <code class="n">star</code><code class="o">.</code><code class="n">describe</code><code class="p">()</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">30</code><code class="p">]:</code>&#13;
                <code class="n">tmathssk</code>     <code class="n">treadssk</code>      <code class="n">totexpk</code>      <code class="n">schidkn</code>&#13;
        <code class="n">count</code>  <code class="mf">5748.000000</code>  <code class="mf">5748.000000</code>  <code class="mf">5748.000000</code>  <code class="mf">5748.000000</code>&#13;
        <code class="n">mean</code>    <code class="mf">485.648051</code>   <code class="mf">436.742345</code>     <code class="mf">9.307411</code>    <code class="mf">39.836639</code>&#13;
        <code class="n">std</code>      <code class="mf">47.771531</code>    <code class="mf">31.772857</code>     <code class="mf">5.767700</code>    <code class="mf">22.957552</code>&#13;
        <code class="nb">min</code>     <code class="mf">320.000000</code>   <code class="mf">315.000000</code>     <code class="mf">0.000000</code>     <code class="mf">1.000000</code>&#13;
        <code class="mi">25</code><code class="o">%</code>     <code class="mf">454.000000</code>   <code class="mf">414.000000</code>     <code class="mf">5.000000</code>    <code class="mf">20.000000</code>&#13;
        <code class="mi">50</code><code class="o">%</code>     <code class="mf">484.000000</code>   <code class="mf">433.000000</code>     <code class="mf">9.000000</code>    <code class="mf">39.000000</code>&#13;
        <code class="mi">75</code><code class="o">%</code>     <code class="mf">513.000000</code>   <code class="mf">453.000000</code>    <code class="mf">13.000000</code>    <code class="mf">60.000000</code>&#13;
        <code class="nb">max</code>     <code class="mf">626.000000</code>   <code class="mf">627.000000</code>    <code class="mf">27.000000</code>    <code class="mf">80.000000</code></pre>&#13;
&#13;
<p>By default, <code>pandas</code> only includes descriptive statistics of numeric variables. We can override this with <code>include = 'all'</code>.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">31</code><code class="p">]:</code> <code class="n">star</code><code class="o">.</code><code class="n">describe</code><code class="p">(</code><code class="n">include</code> <code class="o">=</code> <code class="s">'all'</code><code class="p">)</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">31</code><code class="p">]:</code>&#13;
           <code class="n">tmathssk</code>     <code class="n">treadssk</code>             <code class="n">classk</code>      <code class="n">totexpk</code>   <code class="n">sex</code>  \&#13;
<code class="n">count</code>   <code class="mf">5748.000000</code>  <code class="mf">5748.000000</code>               <code class="mi">5748</code>  <code class="mf">5748.000000</code>  <code class="mi">5748</code>&#13;
<code class="n">unique</code>          <code class="n">NaN</code>          <code class="n">NaN</code>                  <code class="mi">3</code>          <code class="n">NaN</code>     <code class="mi">2</code>&#13;
<code class="n">top</code>             <code class="n">NaN</code>          <code class="n">NaN</code>  <code class="n">regular</code><code class="o">.</code><code class="k">with</code><code class="o">.</code><code class="n">aide</code>          <code class="n">NaN</code>   <code class="n">boy</code>&#13;
<code class="n">freq</code>            <code class="n">NaN</code>          <code class="n">NaN</code>               <code class="mi">2015</code>          <code class="n">NaN</code>  <code class="mi">2954</code>&#13;
<code class="n">mean</code>     <code class="mf">485.648051</code>   <code class="mf">436.742345</code>                <code class="n">NaN</code>     <code class="mf">9.307411</code>   <code class="n">NaN</code>&#13;
<code class="n">std</code>       <code class="mf">47.771531</code>    <code class="mf">31.772857</code>                <code class="n">NaN</code>     <code class="mf">5.767700</code>   <code class="n">NaN</code>&#13;
<code class="nb">min</code>      <code class="mf">320.000000</code>   <code class="mf">315.000000</code>                <code class="n">NaN</code>     <code class="mf">0.000000</code>   <code class="n">NaN</code>&#13;
<code class="mi">25</code><code class="o">%</code>      <code class="mf">454.000000</code>   <code class="mf">414.000000</code>                <code class="n">NaN</code>     <code class="mf">5.000000</code>   <code class="n">NaN</code>&#13;
<code class="mi">50</code><code class="o">%</code>      <code class="mf">484.000000</code>   <code class="mf">433.000000</code>                <code class="n">NaN</code>     <code class="mf">9.000000</code>   <code class="n">NaN</code>&#13;
<code class="mi">75</code><code class="o">%</code>      <code class="mf">513.000000</code>   <code class="mf">453.000000</code>                <code class="n">NaN</code>    <code class="mf">13.000000</code>   <code class="n">NaN</code>&#13;
<code class="nb">max</code>      <code class="mf">626.000000</code>   <code class="mf">627.000000</code>                <code class="n">NaN</code>    <code class="mf">27.000000</code>   <code class="n">NaN</code>&#13;
&#13;
       <code class="n">freelunk</code>   <code class="n">race</code>      <code class="n">schidkn</code>&#13;
<code class="n">count</code>      <code class="mi">5748</code>   <code class="mi">5748</code>  <code class="mf">5748.000000</code>&#13;
<code class="n">unique</code>        <code class="mi">2</code>      <code class="mi">3</code>          <code class="n">NaN</code>&#13;
<code class="n">top</code>          <code class="n">no</code>  <code class="n">white</code>          <code class="n">NaN</code>&#13;
<code class="n">freq</code>       <code class="mi">2973</code>   <code class="mi">3869</code>          <code class="n">NaN</code>&#13;
<code class="n">mean</code>        <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">39.836639</code>&#13;
<code class="n">std</code>         <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">22.957552</code>&#13;
<code class="nb">min</code>         <code class="n">NaN</code>    <code class="n">NaN</code>     <code class="mf">1.000000</code>&#13;
<code class="mi">25</code><code class="o">%</code>         <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">20.000000</code>&#13;
<code class="mi">50</code><code class="o">%</code>         <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">39.000000</code>&#13;
<code class="mi">75</code><code class="o">%</code>         <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">60.000000</code>&#13;
<code class="nb">max</code>         <code class="n">NaN</code>    <code class="n">NaN</code>    <code class="mf">80.000000</code></pre>&#13;
&#13;
<p><code>NaN</code> is a <a data-primary="NaN (missing data), Python pandas" data-type="indexterm" id="idm46274532453640"/>special <code>pandas</code> value to indicate missing or unavailable data, such as the standard deviation of a categorical <a data-startref="ch11_term12" data-type="indexterm" id="idm46274532452376"/><a data-startref="ch11_term13" data-type="indexterm" id="idm46274532277128"/>variable.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Indexing and Subsetting DataFrames" data-type="sect2"><div class="sect2" id="idm46274532276200">&#13;
<h2>Indexing and Subsetting DataFrames</h2>&#13;
&#13;
<p>Let’s return to the small <em>roster</em> DataFrame, accessing various elements by their row and column position. To <a data-primary="DataFrames, Python" data-secondary="indexing and subsetting" data-type="indexterm" id="idm46274532274024"/><a data-primary="iloc method, Python" data-type="indexterm" id="idm46274532273048"/><a data-primary="indexing" data-secondary="DataFrames, Python" data-type="indexterm" id="idm46274532272376"/><a data-primary="integer location method, Python" data-type="indexterm" id="idm46274532271432"/><a data-primary="pandas, Python" data-secondary="DataFrames" data-type="indexterm" id="idm46274532270792"/>index a DataFrame we can use the <code>iloc</code>, or <em>integer location</em>, method. The square bracket notation will look familiar to you, but this time we need to index by both row <em>and</em> column (again, both starting at zero). Let’s demonstrate on the <em>roster</em> DataFrame we created earlier.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">32</code><code class="p">]:</code>  <code class="c"># First row, first column of DataFrame</code>&#13;
          <code class="n">roster</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">32</code><code class="p">]:</code> <code class="s">'Jack'</code></pre>&#13;
&#13;
<p class="pagebreak-before">It’s possible to employ slicing here as well to capture multiple rows and columns:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">33</code><code class="p">]:</code> <code class="c"># Second through fourth rows, first through third columns</code>&#13;
         <code class="n">roster</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="mi">4</code><code class="p">,</code> <code class="mi">0</code><code class="p">:</code><code class="mi">3</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">33</code><code class="p">]:</code>&#13;
     <code class="n">name</code> <code class="n">height</code> <code class="n">injury</code>&#13;
 <code class="mi">1</code>   <code class="n">Jill</code>     <code class="mi">65</code>   <code class="bp">True</code>&#13;
 <code class="mi">2</code>  <code class="n">Billy</code>     <code class="mi">68</code>  <code class="bp">False</code>&#13;
 <code class="mi">3</code>  <code class="n">Susie</code>     <code class="mi">69</code>  <code class="bp">False</code></pre>&#13;
&#13;
<p>To index an <a data-primary="columns" data-secondary="in DataFrames, Python" data-secondary-sortas="DataFrames, Python" data-type="indexterm" id="idm46274532148104"/><a data-primary="loc method, Python" data-type="indexterm" id="idm46274532188488"/>entire column by name, we can use the related <code>loc</code> method. We’ll leave a blank slice in the first index position to capture all rows, then name the column of interest:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">34</code><code class="p">]:</code>  <code class="c"># Select all rows in the name column</code>&#13;
          <code class="n">roster</code><code class="o">.</code><code class="n">loc</code><code class="p">[:,</code> <code class="s">'name'</code><code class="p">]</code>&#13;
&#13;
<code class="n">Out</code><code class="p">[</code><code class="mi">34</code><code class="p">]:</code>&#13;
        <code class="mi">0</code>      <code class="n">Jack</code>&#13;
        <code class="mi">1</code>      <code class="n">Jill</code>&#13;
        <code class="mi">2</code>     <code class="n">Billy</code>&#13;
        <code class="mi">3</code>     <code class="n">Susie</code>&#13;
        <code class="mi">4</code>    <code class="n">Johnny</code>&#13;
        <code class="n">Name</code><code class="p">:</code> <code class="n">name</code><code class="p">,</code> <code class="n">dtype</code><code class="p">:</code> <code class="nb">object</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Writing DataFrames" data-type="sect2"><div class="sect2" id="idm46274532186072">&#13;
<h2>Writing DataFrames</h2>&#13;
&#13;
<p><code>pandas</code> also includes <a data-primary="pandas, Python" data-secondary="DataFrames" data-type="indexterm" id="idm46274532051000"/><a data-primary="writing dataframes" data-type="indexterm" id="idm46274532049992"/><a data-primary="DataFrames, Python" data-secondary="writing" data-type="indexterm" id="idm46274532049320"/><a data-primary=".csv files" data-primary-sortas="csv files" data-type="indexterm" id="idm46274532048376"/><a data-primary=".xlsx files" data-primary-sortas="xlsx files" data-type="indexterm" id="idm46274532047432"/><a data-primary="write_csv() and write_xlsx() functions in R and Python" data-type="indexterm" id="idm46274532046488"/>functions to write DataFrames to both <em>.csv</em> files and <em>.xlsx</em> workbooks with the <code>write_csv()</code> and <code>write_xlsx()</code> methods, respectively:</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">In</code> <code class="p">[</code><code class="mi">35</code><code class="p">]:</code> <code class="n">roster</code><code class="o">.</code><code class="n">to_csv</code><code class="p">(</code><code class="s">'output/roster-output-python.csv'</code><code class="p">)</code>&#13;
         <code class="n">roster</code><code class="o">.</code><code class="n">to_excel</code><code class="p">(</code><code class="s">'output/roster-output-python.xlsx'</code><code class="p">)</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conclusion" data-type="sect1"><div class="sect1" id="idm46274532698952">&#13;
<h1>Conclusion</h1>&#13;
&#13;
<p>In a short time, you were able to progress all the way from single-element objects, to lists, to <code>numpy</code> arrays, then finally to <code>pandas</code> DataFrames. I hope you were able to see the evolution and linkage between these data structures while appreciating the added benefits of the packages introduced. The following chapters on Python will rely heavily on <code>pandas</code>, but you’ve seen here that <code>pandas</code> itself relies on <code>numpy</code> and the basic rules of Python, such as zero-based indexing.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Exercises" data-type="sect1"><div class="sect1" id="idm46274532025848">&#13;
<h1>Exercises</h1>&#13;
&#13;
<p>In this chapter, you <a data-primary="Python programming language" data-secondary="exercises" data-type="indexterm" id="idm46274532024280"/>learned how to work with a few different data structures and collection types in Python. The following exercises provide additional practice and insight on these topics:</p>&#13;
<ol>&#13;
<li>&#13;
<p>Slice the following array so that you are left with the third through fifth elements.</p>&#13;
&#13;
<pre data-code-language="ipython" data-type="programlisting"><code class="n">practice_array</code> <code class="o">=</code> <code class="p">[</code><code class="s">'I'</code><code class="p">,</code> <code class="s">'am'</code><code class="p">,</code> <code class="s">'having'</code><code class="p">,</code> <code class="s">'fun'</code><code class="p">,</code> <code class="s">'with'</code><code class="p">,</code> <code class="s">'Python'</code><code class="p">]</code></pre>&#13;
</li>&#13;
<li>&#13;
<p>Load the <code>tips</code> DataFrame from <code>seaborn</code>.</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Print some information about this DataFrame, such as the number of observations and each column’s type.</p>&#13;
</li>&#13;
<li>&#13;
<p>Print the descriptive statistics for this <a data-primary="ais dataset example" data-type="indexterm" id="idm46274531952648"/><a data-primary="datasets" data-secondary="ais example" data-type="indexterm" id="idm46274531951944"/>DataFrame.</p>&#13;
</li>&#13;
</ul>&#13;
</li>&#13;
<li>&#13;
<p>The <a href="https://oreil.ly/RKmg0">book repository</a> includes an <em>ais.xlsx</em> file in the <em>ais</em> subfolder of the <em>datasets</em> folder. Read it into Python as a DataFrame.</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Print the first few rows of this DataFrame.</p>&#13;
</li>&#13;
<li>&#13;
<p>Write just the <em>sport</em> column of this DataFrame back to Excel as <em>sport.xlsx</em>.</p>&#13;
</li>&#13;
</ul>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>