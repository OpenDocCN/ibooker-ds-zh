["```py\n`wiki` `=` `pd``.``read_csv``(``\"``data/Wikipedia.csv``\"``)`\n`wiki``.``shape`\n\n```", "```py\n(200, 2)\n\n```", "```py\n`wiki``.``describe``(``)``[``3``:``]`\n\n```", "```py\npx.histogram(\n\twiki, x='postproductivity', nbins=50,\n\tlabels={'postproductivity': 'Number of actions in 90 days post award'},\n\twidth=350, height=250)\n\n```", "```py\n`from` `scipy``.``stats` `import` `rankdata`\n`ranks` `=` `rankdata``(``wiki``[``'``postproductivity``'``]``,` `'``average``'``)`\n\n```", "```py\n`np``.``average``(``ranks``)`\n\n```", "```py\n100.5\n\n```", "```py\n`observed` `=` `np``.``average``(``ranks``[``100``:``]``)`\n`observed`\n\n```", "```py\n113.68\n\n```", "```py\n`rng` `=` `np``.``random``.``default_rng``(``42``)`\n`def` `rank_avg``(``ranks``,` `n``)``:`\n    `rng``.``shuffle``(``ranks``)`\n    `return` `np``.``average``(``ranks``[``n``:``]``)`      \n\n```", "```py\n`rank_avg_simulation` `=` `[``rank_avg``(``ranks``,` `100``)` `for` `_` `in` `range``(``100_000``)``]` \n\n```", "```py\n`np``.``mean``(``rank_avg_simulation` `>` `observed``)`\n\n```", "```py\n0.00058\n\n```", "```py\n`from` `scipy``.``stats` `import` `ranksums`\n\n`ranksums``(``x``=``wiki``.``loc``[``wiki``.``experiment` `==` `1``,` `'``postproductivity``'``]``,`\n         `y``=``wiki``.``loc``[``wiki``.``experiment` `==` `0``,` `'``postproductivity``'``]``)`\n\n```", "```py\nRanksumsResult(statistic=3.220386553232206, pvalue=0.0012801785007519996)\n\n```", "```py\n`N` `=` `43738`\n`n_samp` `=` `21869`\n`N_groups` `=` `np``.``array``(``[``293``,` `293``,` `(``N` `-` `586``)``]``)`\n\n`from` `scipy``.``stats` `import` `multivariate_hypergeom`\n\n`def` `vacc_eff``(``N_groups``,` `n_samp``)``:`\n    `treat` `=` `multivariate_hypergeom``.``rvs``(``N_groups``,` `n_samp``)`\n    `ill_t` `=` `treat``[``1``]`\n    `ill_c` `=` `N_groups``[``0``]` `-` `treat``[``0``]` `+` `N_groups``[``1``]` `-` `treat``[``1``]`\n    `return` `(``ill_c` `-` `ill_t``)` `/` `ill_c`\n\n```", "```py\n`np``.``random``.``seed``(``42``)`\n`sim_vacc_eff` `=` `np``.``array``(``[``vacc_eff``(``N_groups``,` `n_samp``)` `for` `_` `in` `range``(``100_000``)``]``)`\n\n```", "```py\n`px``.``histogram``(``x``=``sim_vacc_eff``,` `nbins``=``50``,`\n            `labels``=``dict``(``x``=``'``Simulated vaccine efficacy``'``)``,`\n            `width``=``350``,` `height``=``250``)`\n\n```", "```py\n`np``.``mean``(``sim_vacc_eff` `>` `0.667``)`\n\n```", "```py\n1e-05\n\n```", "```py\n`from` `scipy``.``stats` `import` `randint`\n\n`def` `boot_stat``(``X``,` `y``)``:`\n    `n` `=` `len``(``X``)`\n    `bootstrap_indexes` `=` `randint``.``rvs``(``low``=``0``,` `high``=``(``n` `-` `1``)``,` `size``=``n``)`\n    `theta2` `=` `(`\n        `LinearRegression``(``)`\n        `.``fit``(``X``.``iloc``[``bootstrap_indexes``,` `:``]``,` `y``.``iloc``[``bootstrap_indexes``]``)`\n        `.``coef_``[``1``]`\n    `)`\n    `return` `theta2`\n\n```", "```py\n`X` `=` `GA``[``[``'``pm25aqs``'``,` `'``rh``'``]``]`\n`y` `=` `GA``[``'``pm25pa``'``]`\n\n`boot_stat``(``X``,` `y``)`\n\n```", "```py\n0.21572251745549495\n\n```", "```py\n`np``.``random``.``seed``(``42``)`\n`boot_theta_hat` `=` `np``.``array``(``[``boot_stat``(``X``,` `y``)` `for` `_` `in` `range``(``10_000``)``]``)`\n\n```", "```py\n`px``.``histogram``(``x``=``boot_theta_hat``,` `nbins``=``50``,`\n             `labels``=``dict``(``x``=``'``Bootstrapped humidity coefficient``'``)``,`\n             `width``=``350``,` `height``=``250``)`\n\n```", "```py\n`q_995` `=` `np``.``percentile``(``boot_theta_hat``,` `99.5``,` `method``=``'``lower``'``)`\n`q_005` `=` `np``.``percentile``(``boot_theta_hat``,` `0.05``,` `method``=``'``lower``'``)`\n\n`print``(``f``\"``Lower 0.05th percentile:` `{``q_005``:``.3f``}``\"``)`\n`print``(``f``\"``Upper 99.5th percentile:` `{``q_995``:``.3f``}``\"``)`\n\n```", "```py\nLower 0.05th percentile: 0.099\nUpper 99.5th percentile: 0.260\n\n```", "```py\n`standard_error` `=` `np``.``std``(``boot_theta_hat``)`\n`standard_error`\n\n```", "```py\n0.02653498609330345\n\n```", "```py\n`print``(``f``\"``Lower 0.05th endpoint:` `{``theta2_hat` `-` `(``2.58` `*` `standard_error``)``:``.3f``}``\"``)`\n`print``(``f``\"``Upper 99.5th endpoint:` `{``theta2_hat` `+` `(``2.58` `*` `standard_error``)``:``.3f``}``\"``)`\n\n```", "```py\nLower 0.05th endpoint: 0.138\nUpper 99.5th endpoint: 0.275\n\n```", "```py\n`times` `=` `pd``.``read_csv``(``\"``data/seattle_bus_times_NC.csv``\"``)`\n`fig` `=` `px``.``histogram``(``times``,` `x``=``\"``minutes_late``\"``,` `width``=``350``,` `height``=``250``)`\n`fig``.``update_xaxes``(``range``=``[``-``12``,` `60``]``,` `title_text``=``\"``Minutes late``\"``)`\n`fig`\n\n```", "```py\nmedian:          0.74 mins late\n75th percentile: 3.78 mins late\n95th percentile: 13.02 mins late\n\n```", "```py\n`crabs``[``'``shell``'``]``.``describe``(``)``[``:``3``]`\n\n```", "```py\ncount    452.00\nmean     131.53\nstd       11.07\nName: shell, dtype: float64\n\n```", "```py\n`np``.``std``(``crabs``[``'``shell``'``]``)` `*` `np``.``sqrt``(``1` `+` `1``/``len``(``crabs``)``)`\n\n```", "```py\n11.073329460297957\n\n```", "```py\n`crabs``.``corr``(``)`\n\n```", "```py\npx.scatter(crabs, y='inc', x= 'shell', width=350, height=250,\n\tlabels=dict(shell='Dungeness crab shell width (mm)',\n\t\t\t\tinc='Growth (mm)'))\n\n```", "```py\n`import` `statsmodels``.``api` `as` `sm`\n\n`X` `=` `sm``.``add_constant``(``crabs``[``[``'``shell``'``]``]``)`\n`y` `=` `crabs``[``'``inc``'``]`\n\n`inc_model` `=` `sm``.``OLS``(``y``,` `X``)``.``fit``(``)`\n\n`print``(``f``\"``Increment estimate =` `{``inc_model``.``params``[``0``]``:``0.2f``}` `+` `\"``,` \n      `f``\"``{``inc_model``.``params``[``1``]``:``0.2f``}` `x Shell Width``\"``)`\n\n```", "```py\nIncrement estimate = 29.80 +  -0.12 x Shell Width\n\n```", "```py\n`new_data` `=` `dict``(``const``=``1``,` `shell``=``120``)`\n`new_X` `=` `pd``.``DataFrame``(``new_data``,` `index``=``[``0``]``)`\n`new_X`\n\n```", "```py\n`pred` `=` `inc_model``.``get_prediction``(``new_X``)`\n`pred``.``summary_frame``(``alpha``=``0.05``)`\n\n```", "```py\n`print``(``f``\"``Residual SD:` `{``np``.``std``(``inc_model``.``resid``)``:``0.2f``}``\"``)`\n`print``(``f``\"``Crab growth SD:` `{``np``.``std``(``crabs``[``'``inc``'``]``)``:``0.2f``}``\"``)`\n\n```", "```py\nResidual SD:    1.71\nCrab growth SD: 2.14\n\n```"]