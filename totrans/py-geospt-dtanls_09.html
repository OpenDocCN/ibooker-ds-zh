<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Chapter 9. Exploring the Geospatial Data Abstraction Library (GDAL)" data-type="chapter" epub:type="chapter"><div class="chapter" id="exploring_the_geospatial_data_abstracti">
<h1><span class="label">Chapter 9. </span>Exploring the Geospatial Data <span class="keep-together">Abstraction Library (GDAL)</span></h1>
<p>No discussion of open source platforms and libraries would be complete without an introduction to the <a href="https://gdal.org">Geospatial Data Abstraction Library (GDAL)</a>, a resource for efficiently processing raster and vector geospatial data. <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-type="indexterm" id="ix_GDAL"/>Working with both raster and vector data requires a collection of tools, and GDAL operates under the hood of many of the programs you’ve used in this book, including ArcGIS, QGIS, and Google Earth. When relying on the programmatic ease of a graphical user interface, it is often easy to forget the complexity of combining diverse data types and formats in order to work efficiently with a unified data model. This is why GDAL is an important tool. It simplifies working with geospatial data across a wide range of formats and spatial reference systems.<a contenteditable="false" data-primary="GDAL" data-see="Geospatial Data Abstraction Library" data-type="indexterm" id="idm45433739491456"/></p>
<p>In this chapter, we’ll work with rasters and look at how to use<a contenteditable="false" data-primary="Spyder IDE" data-type="indexterm" id="idm45433739456288"/> the Spyder IDE to work with GDAL, including how to change your map projection with the <code>warp</code> function, work with raster bands, transform files, and create binary masks. We’ll also do a quick orientation to three other useful resources for datasets to explore with GDAL: EarthExplorer, Copernicus Open Access Hub, and Google Earth Engine (GEE).</p>
<p>First, I’ll show you how to use the <a contenteditable="false" data-primary="command line" data-type="indexterm" id="idm45433739455280"/>command line interface, also known as the <em>terminal,</em> to quickly read, transform, and reproject your geospatial data.<a contenteditable="false" data-primary="terminal (GDAL)" data-type="indexterm" id="idm45433739523952"/> Why the command line? If you’re working with multiple files that require the same functions, you don’t have to go through them one by one manually, attempting to recall the necessary steps and processes while working in QGIS or ArcGIS. <a contenteditable="false" data-primary="QGIS" data-secondary="GDL command line scripts in" data-type="indexterm" id="idm45433739461520"/>Using the command line, you can save a simple line of code as a script that you can use to process a wide variety of files and datasets. These scripts also run in QGIS, as you’ll see a little later on in the chapter. While working in the command line, I recommend viewing the results in QGIS, or you can refer to the Spyder IDE section once you are comfortable with working in the terminal.</p>
<p>Second, I’ll show you how to work with GDAL using an IDE, a tool that consolidates programming and application development.<a contenteditable="false" data-primary="IDEs (interactive development environments)" data-seealso="Spyder IDE" data-type="indexterm" id="idm45433739444496"/> Many beginner Python courses are taught within IDEs, so if you have some background in Python programming, you may be familiar with at least one IDE. There are many IDEs for Python, but in this chapter we’ll use one called Spyder. IDEs like Spyder simplify working with and writing code, thanks to features like real-time code introspection (which lets you see directly how the functions and classes are executed and what information they contain), in-line graphics displayed with matplotlib, and my favorite, the <em>variable explorer,</em> which provides built-in support for editing and visualizing the objects in your code.<a contenteditable="false" data-primary="variable explorer" data-type="indexterm" id="idm45433739620576"/> IDEs look the same regardless of the operating system you are using, which is handy when your end users are accessing different workflows and resources.</p>
<section data-pdf-bookmark="Setting Up GDAL" data-type="sect1"><div class="sect1" id="setting_up_gdal">
<h1>Setting Up GDAL</h1>
<p>Historically, the library <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="setting up" data-type="indexterm" id="idm45433739627392"/>was referred to as <em>GDAL/OGR</em>, with GDAL being the raster side and OpenGIS Simple Features Reference Implementation (OGR) the vector side of the library. The combined libraries are now commonly referred to as <em>GDAL</em>. I know there are many data scientists working almost exclusively at the command line, so I want to quickly demonstrate how this is accomplished. For me, working at the command line made it easier to become familiar with the syntax of calling functions in GDAL.<a contenteditable="false" data-primary="functions" data-secondary="GDAL" data-type="indexterm" id="idm45433739571072"/><a contenteditable="false" data-primary="classes" data-secondary="GDAL" data-type="indexterm" id="idm45433741187056"/> Its classes and functions are a little different than those you know from Python, although the syntax will be familiar when you engage with the Python API.<a contenteditable="false" data-primary="Python" data-secondary="GDAL and" data-type="indexterm" id="idm45433739422400"/> GDAL maintains bindings for Python, but this will differ from how you have been working with Python libraries thus far. Even with Python bindings, you will need to know how to call GDAL functions and understand what they do.<sup><a data-type="noteref" href="ch09.xhtml#ch01fn12" id="ch01fn12-marker">1</a></sup> We’ll then get back to Python in the section on working with the IDE.</p>
<section data-pdf-bookmark="Installing Spyder" data-type="sect2"><div class="sect2" id="installing_spyder">
<h2>Installing Spyder</h2>
<p>The Spyder IDE is written entirely in Python. <a contenteditable="false" data-primary="Spyder IDE" data-secondary="installing" data-type="indexterm" id="idm45433739416704"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="setting up" data-tertiary="installing Spyder" data-type="indexterm" id="idm45433739415488"/>It is best known for being used by data scientists, data analysts, and data engineers. Its features include autocompletion and real-time analysis. Let’s install it first.</p>
<p>I recommend creating a new environment for the Spyder installation. Installing GDAL into an existing environment is also possible; you can enter <code><strong>conda env list</strong></code> to see what environments you already have. <a contenteditable="false" data-primary="matplotlib" data-type="indexterm" id="idm45433739583136"/><a contenteditable="false" data-primary="NumPy" data-type="indexterm" id="idm45433739410912"/>You will need to add NumPy and matplotlib as well.</p>
<p>Install Spyder and GDAL in the same<a contenteditable="false" data-primary="Conda environment, creating" data-secondary="installing Spyder and GDAL" data-type="indexterm" id="idm45433739409536"/> environment and directory, substituting your own filepath for mine:</p>
<pre data-type="programlisting">
spyder-env/Users/bonnymcclain/opt/miniconda3/envs/spyder-env

<span>conda install -c conda-forge spyder</span></pre>
<p>Once you’ve installed Spyder, you can launch it by writing <code><strong>spyder</strong></code> into the terminal.</p>
</div></section>
<section data-pdf-bookmark="Installing GDAL" data-type="sect2"><div class="sect2" id="installing_gdal">
<h2>Installing GDAL</h2>
<p>You’ll also install GDAL at the command line.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="setting up" data-tertiary="installing GDAL" data-type="indexterm" id="idm45433739403696"/> Open the terminal and run the following command at the prompt:</p>
<pre data-type="programlisting">
Conda install -c conda-forge gdal</pre>
<p>To check if the<a contenteditable="false" data-primary="gdalinfo —-version command" data-type="indexterm" id="idm45433739401360"/> installation was successful, run:</p>
<pre data-type="programlisting">
gdalinfo —-version</pre>
<p>You might have to set the path to your installation folder to access it from the terminal. The steps on how you can do this will follow. I also recommend reviewing the <a href="https://oreil.ly/ye9fu">GDAL documentation</a>.</p>
</div></section>
</div></section>
<section data-pdf-bookmark="Working with GDAL at the Command Line" data-type="sect1"><div class="sect1" id="working_with_gdal_at_the_command_line">
<h1>Working with GDAL at the Command Line</h1>
<p>Today, the average computer user works mostly in a GUI: a layer of graphics that makes it easier to visualize files and perform tasks. <a contenteditable="false" data-primary="command line" data-secondary="working with GDAL at" data-type="indexterm" id="ix_cmdli"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with at command line" data-type="indexterm" id="ix_GDALCLI"/>But the command line has its advantages, including faster processing. There’s no need to load a bunch of files, and if you want to repeat an analysis on different datasets, you can save small shell scripts to perform repeated actions.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="understanding_your_directories">
<h5>Understanding Your Directories</h5>
<p>If you are new to working in the terminal, spend a few minutes understanding your directories. <a contenteditable="false" data-primary="directories, understanding" data-type="indexterm" id="idm45433739387856"/>You need to know your current directory and how to move between different directories, depending on where your dataset is located. The command <code>pwd</code>, for “print working directory,” will show you the filepath of your current location, such as <em>/Users/bonnymcclain</em>.<a contenteditable="false" data-primary="pwd (print working directory) command" data-type="indexterm" id="idm45433739388416"/></p>
<p>In this example, I am using <a contenteditable="false" data-primary="minimal data science environment (minimal_ds)" data-type="indexterm" id="idm45433739385520"/>the minimal data science environment (<code>minimal_ds</code>), as referenced in <a href="https://oreil.ly/BJUAC">this article</a>, which advocates for installing the leaner version of Anaconda, Miniconda, including<a contenteditable="false" data-primary="Anaconda (distribution manager)" data-secondary="Miniconda" data-type="indexterm" id="idm45433739381920"/> steps for <a contenteditable="false" data-primary="Miniconda" data-type="indexterm" id="idm45433742750992"/>setting up your environment:</p>
<pre data-type="programlisting">
(minimal_ds) MacBook-Pro<span>-8</span>:~ bonnymcclain$ pwd
/Users/bonnymcclain</pre>
<p class="pagebreak-before less_space">If you get lost:</p>
<dl>
<dt><code>cd</code> (change directory)</dt>
<dd>Tells you your current<a contenteditable="false" data-primary="cd (change directory) command" data-type="indexterm" id="idm45433739376976"/> directory</dd>
<dt><code>cd..</code></dt>
<dd>Moves up one directory level</dd>
<dt><code>pwd</code> (print working directory)</dt>
<dd>Shows you the full pathname of the directory you are in</dd>
<dt><code>ls</code> (list)</dt>
<dd>Lists the <a contenteditable="false" data-primary="ls (list) command" data-type="indexterm" id="idm45433739372080"/>folders in your working directory</dd>
</dl>
</div></aside>
<p>Activate your preferred environment, conda activate <code>minimal_ds</code>, or the Spyder environment you just created for working with GDAL.<a contenteditable="false" data-primary="environments for working with GDAL" data-type="indexterm" id="idm45433739368704"/> I would like to work with files in my TIFFs folder so I have entered <code>cd</code> to make that my current directory. You can now see TIFFs added as my working directory:</p>
<pre data-type="programlisting">
(minimal_ds) MacBook-Pro-8:~ bonnymcclain$ cd TIFFs
(minimal_ds) MacBook-Pro-8:TIFFs bonnymcclain$ ls</pre>
<p>To move between different directories, use <code>ls/</code> to dig deeper into your directory structure. For example, if you want to work with your Downloads folder (assuming it isn’t your current directory), use the following code to explore a folder within your Downloads directory:</p>
<pre data-type="programlisting">
ls/Downloads/another folder

(minimal_ds) MacBook-Pro-8:~ bonnymcclain$ cd TIFFs
(minimal_ds) MacBook-Pro-8:TIFFs bonnymcclain$ ls</pre>
<p>Spend a little time moving in and out of directories, as understanding the structure is the most important lesson for working in the terminal with the GDAL package. Again, you will need to understand the structure when accessing packages, libraries, and files in the Spyder IDE.</p>
<p>If you are in the correct directory, you will see the directory name after the colon and right before your username. This will output a list of the files in this directory:</p>
<pre data-type="programlisting">
TIFFs bonnymcclain$ ls</pre>
<p>I have included a section on resources for creating your own files using <a href="https://oreil.ly/6dRtp">GEE</a> for following along. <a href="https://oreil.ly/Z8FSL">Copernicus Open Access Hub</a> and <a href="https://oreil.ly/WvlrA">EarthExplorer</a> are also sources of raster data but are often rendered slowly due to the sizes of larger files.</p>
<p>Now that your installation is working, you are ready to learn a few commands to help you get started. Here is the <a href="https://oreil.ly/ye9fu">GDAL documentation</a> to help you through any lingering problems with the downloading and installation.<a contenteditable="false" data-primary="command line" data-secondary="working with GDAL at" data-startref="ix_cmdli" data-type="indexterm" id="idm45433739361776"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with at command line" data-startref="ix_GDALCLI" data-type="indexterm" id="idm45433739360304"/></p>
</div></section>
<section data-pdf-bookmark="Editing Your Data with GDAL" data-type="sect1"><div class="sect1" id="editing_your_data_with_gdal">
<h1>Editing Your Data with GDAL</h1>
<p>The <code>gdalinfo</code> command line parameters demonstrate the information available to you about your raster dataset. <a contenteditable="false" data-primary="raster data" data-secondary="information available about in GDAL" data-type="indexterm" id="idm45433739355488"/><a contenteditable="false" data-primary="gdalinfo command, parameters" data-type="indexterm" id="idm45433739354592"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="editing your data with" data-type="indexterm" id="ix_GDALed"/>You can see the parameters by using the command <code>gdalinfo</code> and supplying the name of a file within the active directory. Enter this code in the terminal:</p>
<pre data-type="programlisting">
gdalinfo [--help-general] [-json] [-mm] [-stats | -approx_stats] [-hist] [-nogcp] 
[-nomd]
         [-norat] [-noct] [-nofl] [-checksum] [-proj4]
         [-listmdd] [-mdd domain|`all`]* [-wkt_format WKT1|WKT2|...]
         [-sd subdataset] [-oo NAME=VALUE]* [-if format]* datasetname</pre>
<p>In this example I’ve selected a saved file from a GEE data snippet. You can learn more about the command line parameters in the <a href="https://oreil.ly/lu9Z0">documentation</a>.</p>
<p>Enter the following code, substituting the name of your <em>.tif</em> file in your directory (notice that parentheses are not needed):</p>
<pre data-type="programlisting">
(minimal_ds) MacBook-Pro<span>-8</span>:TIFFs bonnymcclain$ gdalinfo Sentinel2_RGB20200501.tif</pre>
<p>Here is a snippet of the output:</p>
<pre data-type="programlisting">
(minimal_ds) MacBook-Pro-8:TIFFs bonnymcclain$ gdalinfo Sentinel2_RGB20200501.tif
Driver: GTiff/GeoTIFF  This is the format of the saved file
Files: Sentinel2_RGB20200501.tif
Size is 5579, 4151
Coordinate System is:
PROJCRS["WGS 84 / UTM zone 29N",
    BASEGEOGCRS["WGS 84",
        …
Pixel Size = (10.000000000000000,-10.000000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (566320.000, 4133200.000) (8d15' 4.53"W, 37d20'35.24"N)
Lower Left  (566320.000, 4091690.000) (8d15'17.78"W, 36d58' 8.31"N)
Upper Right (622110.000, 4133200.000) (7d37'17.50"W, 37d20'14.86"N)
Lower Right (622110.000, 4091690.000) (7d37'41.89"W, 36d57'48.20"N)
Center      (594215.000, 4112445.000) (7d56'20.39"W, 37d 9'13.16"N)</pre>
<p>You can see from <a contenteditable="false" data-primary="GTiff/GeoTIFF file format" data-type="indexterm" id="idm45433739345968"/>the second line that the format of the saved file is GTiff/GeoTIFF.</p>
<div data-type="tip"><h6>Tip</h6>
<p>To see a list of other formats, enter <code>gdal_translate --formats</code> in the command line. <a contenteditable="false" data-primary="gdal_translate --formats command" data-type="indexterm" id="idm45433739343376"/>You can also see the size of the file, coordinate system, pixel size, and coordinates.</p>
</div>
<p>Here is a section<a contenteditable="false" data-primary="color bands" data-secondary="information about from gdalinfo" data-type="indexterm" id="idm45433739342144"/> of the output that shows information about the color bands:</p>
<pre data-type="programlisting">
Band 1 Block=256x256 Type=Float32, ColorInterp=Gray
  Description = B2
Band 2 Block=256x256 Type=Float32, ColorInterp=Undefined
  Description = B3
Band 3 Block=256x256 Type=Float32, ColorInterp=Undefined
  Description = B4</pre>
<p>Notice the color interpretation of the bands in the Sentinel satellite data. They are set as <code>Gray</code> for B2 and <code>ColorInterp=Undefined</code> for the remaining two bands. Because the metadata was not downloaded, you’ll need to help GDAL interpret these bands.</p>
<p>Since this is <a href="https://oreil.ly/mO6iH">Sentinel 2 data</a>, you know that the bands <a contenteditable="false" data-primary="Sentinel 2 data" data-type="indexterm" id="idm45433739335520"/>are blue (B2), green (B3), and red (B4). <a contenteditable="false" data-primary="gdal_edit.py command" data-type="indexterm" id="idm45433739334432"/>You’re <a contenteditable="false" data-primary="color bands" data-secondary="editing color interpretation in GDAL" data-type="indexterm" id="idm45433739352608"/>going to edit the dataset right in place, using the command <code>gdal_edit.py</code>, followed by the options (such as <code>colorinterp</code>), and finally the value (here, the color value of the band). The last step is to provide the input file, <em>Sentinel2_RGB20200501.tif:</em></p>
<pre data-type="programlisting">
gdal_edit.py -colorinterp_1 blue -colorinterp_2 green -colorinterp_3 red 
Sentinel2_RGB20200501.tif</pre>
<p>If your function requires an output file, you will also add <em>output.tif</em>. Only the input file is needed here.</p>
<p>When you rerun <code>gdalinfo Sentinel2_RGB20200501.tif</code>, you will see that the color bands have been updated and now show as blue, green, and red.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="editing your data with" data-startref="ix_GDALed" data-type="indexterm" id="idm45433739326624"/></p>
<section data-pdf-bookmark="The Warp Function" data-type="sect2"><div class="sect2" id="the_warp_function">
<h2>The Warp Function</h2>
<p>You can also change<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="editing your data with" data-tertiary="warp function" data-type="indexterm" id="idm45433739324992"/> the <a contenteditable="false" data-primary="gdal_warp function" data-type="indexterm" id="idm45433739322864"/>raster <a contenteditable="false" data-primary="raster data" data-secondary="changing raster projection with gdal_warp function" data-type="indexterm" id="idm45433739321600"/>projection <a contenteditable="false" data-primary="warp function (GDAL)" data-type="indexterm" id="idm45433739320096"/>by learning to use the <code>gdal_warp</code> function. (Once you’re familiar with the <code>warp</code> function, you can use it to learn other common functions; to explore them, I recommend starting with the GDAL documentation for the <a href="https://oreil.ly/AKsHX">Python API</a>.)</p>
<p>In the following code, the argument <code>-t_srs</code> specifies the coordinate system you are targeting. <a contenteditable="false" data-primary="CRS (coordinate reference system)" data-secondary="specifying for targeting with gdal_warp function" data-type="indexterm" id="idm45433739315376"/>Every geographic coordinate system, for example, is assigned a unique EPSG code. <a contenteditable="false" data-primary="EPSG code" data-type="indexterm" id="idm45433739313296"/>Where the <code><em>xxxxx</em></code> appears, enter the EPSG code you would like to change to. The input is the raster file, and the output is the renamed modified file, shown here as <em>output_rd.tif</em>:</p>
<pre data-type="programlisting">
gdalwarp -t_srs EPSG: xxxxx  Sentinel2_RGB20200501.tif output_rd.tif
gdalinfo Sentinel2_RGB20200501.tif</pre>
<p>Your output will demonstrate the new projection.</p>
</div></section>
<section data-pdf-bookmark="Capturing Input Raster Bands" data-type="sect2"><div class="sect2" id="capturing_input_raster_bands">
<h2>Capturing Input Raster Bands</h2>
<p>Next, you’ll use the command<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="editing your data with" data-tertiary="capturing input raster bands" data-type="indexterm" id="idm45433739308288"/> line with GDAL to capture <a contenteditable="false" data-primary="raster data" data-secondary="capturing input raster bands using command line and GDAL" data-type="indexterm" id="idm45433739306384"/>image statistics for the projected bands:</p>
<pre data-type="programlisting">
(minimal_ds) MacBook-Pro-8:TIFFs bonnymcclain$ gdalinfo -stats srtm_41_19_4326.tif</pre>
<p>An excerpt from the output:</p>
<pre data-type="programlisting">
    STATISTICS_MAXIMUM=640
    STATISTICS_MEAN=256.70790240722
    STATISTICS_MINIMUM=27
    STATISTICS_STDDEV=119.8746675927
    STATISTICS_VALID_PERCENT=100</pre>
<p>Why would you capture input raster <a contenteditable="false" data-primary="statistical analysis, capturing input raster bands for" data-type="indexterm" id="idm45433739302592"/>bands for statistical analyses? Mostly for classification: to identify clusters when looking at different locations. For example, band characteristics help define whether you are observing vegetation, a body of water, or perhaps a residential area.</p>
<p>I mentioned<a contenteditable="false" data-primary="QGIS" data-secondary="gdalinfo displayed in" data-type="indexterm" id="idm45433739301040"/> earlier in the chapter that GDAL runs under the hood in QGIS as well as in a wide variety of other programs. <a data-type="xref" href="#gdalinfo_displayed_in_qgis">Figure 9-1</a> demonstrates the code running within the QGIS platform, uploading your <em>.tif</em> file(s), and selecting raster information.</p>
<figure><div class="figure" id="gdalinfo_displayed_in_qgis"><img alt="gdalinfo displayed in QGIS" height="953" src="assets/pgda_0901.png" width="1631"/>
<h6><span class="label">Figure 9-1. </span><code>gdalinfo</code> displayed in QGIS</h6>
</div></figure>
<p class="pagebreak-before less_space">Now that you have a taste of working with GDAL in the command line, I encourage you to explore more of the tasks available. These skills are useful for working with and editing some of the core algorithms of geospatial data and applications. The ability to transform data across platforms and diverse formats is important, especially when you’re working with a wide variety of vector and raster data formats.</p>
<p>Next, we will work with GDAL integrated with Python.</p>
</div></section>
</div></section>
<section data-pdf-bookmark="Working with the GDAL Library in Python" data-type="sect1"><div class="sect1" id="working_with_the_gdal_library_in_python">
<h1>Working with the GDAL Library in Python</h1>
<p>When you launch Spyder (again, by typing <code><strong>spyder</strong></code> into the terminal), the<a contenteditable="false" data-primary="Spyder IDE" data-secondary="launching and opening Spyder console" data-type="indexterm" id="idm45433739292080"/> Spyder console will open in a new browser window, as seen in <a data-type="xref" href="#the_spyder_console">Figure 9-2</a>, except it will be blank.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-type="indexterm" id="ix_GDALPy"/></p>
<figure><div class="figure" id="the_spyder_console"><img alt="The Spyder console" height="1852" src="assets/pgda_0902.png" width="3340"/>
<h6><span class="label">Figure 9-2. </span>The Spyder console</h6>
</div></figure>
<section data-pdf-bookmark="Getting Oriented in Spyder" data-type="sect2"><div class="sect2" id="getting_oriented_in_spyder">
<h2>Getting Oriented in Spyder</h2>
<p>On the left side of <a data-type="xref" href="#the_spyder_console">Figure 9-2</a> is Spyder’s script editor where <a contenteditable="false" data-primary="Spyder IDE" data-secondary="getting oriented in" data-type="indexterm" id="ix_Spyderorient"/>you <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-tertiary="getting oriented in Spyder" data-type="indexterm" id="ix_GDALPySpyd"/>create and open files. (You can arrange the panels and consoles however you like.) The two consoles on the right are where you can explore the variables you generate and locate files. The panel that shows the images is the plots pane. You can write simple code in the bottom console. For help, select the Help tab in the upper window.</p>
<p>You can run code in the Python console or from the Editor. You can also use the Python console to control Spyder’s debugger. The images and figures you generate will be visible in the plots plane or embedded in the console.</p>
<p>The variable explorer, shown in the top right pane in <a data-type="xref" href="#the_spyder_console">Figure 9-2</a>, is one of my favorite reasons for working in an IDE. These are the objects generated when you run your code. Click on a variable to explore it in more detail.</p>
<p>Each console<a contenteditable="false" data-primary="Spyder IDE" data-secondary="getting oriented in" data-tertiary="working in console directories" data-type="indexterm" id="idm45433739421872"/> window also has a “hamburger” icon, or ☰, which expands into a menu (<a data-type="xref" href="#working_in_console_directories">Figure 9-3</a>) where you can find additional information about the pane.</p>
<figure><div class="figure" id="working_in_console_directories"><img alt="Working in console directories" height="1520" src="assets/pgda_0903.png" width="1290"/>
<h6><span class="label">Figure 9-3. </span>Working in console directories</h6>
</div></figure>
<p>These options are customizable. I suggest heading over to the <a href="https://oreil.ly/SGOgy">Spyder website</a> for details about the interface as well as to explore all of the available panes. If you would like to try Spyder before installing, there is also a <a href="https://mybinder.org">Binder option</a> that runs in your browser.</p>
<p>Although it’s not necessary, I like to start a new project when working in Spyder, as demonstrated in <a data-type="xref" href="#creating_a_new_project_in_spyder">Figure 9-4</a>. <a contenteditable="false" data-primary="Spyder IDE" data-secondary="getting oriented in" data-tertiary="creating a new project" data-type="indexterm" id="idm45433739259680"/>This simplifies returning to your prior files, regardless of your current working directory. The project pane will also become visible. It reminds me of the ease of QGIS, since the files are easily within reach.</p>
<figure><div class="figure" id="creating_a_new_project_in_spyder"><img alt="Creating a new project in Spyder" height="674" src="assets/pgda_0904.png" width="1018"/>
<h6><span class="label">Figure 9-4. </span>Creating a new project in Spyder</h6>
</div></figure>
<p>The Project pane can also integrate with Git for version control. Explore the <a href="https://oreil.ly/8M3ZI">Spyder file documentation to learn</a> how to set up the functionality with your repository.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-startref="ix_GDALPySpyd" data-tertiary="getting oriented in Spyder" data-type="indexterm" id="idm45433739255920"/><a contenteditable="false" data-primary="Spyder IDE" data-secondary="getting oriented in" data-startref="ix_Spyderorient" data-type="indexterm" id="idm45433739252800"/></p>
</div></section>
<section data-pdf-bookmark="Exploring Your Data in Spyder" data-type="sect2"><div class="sect2" id="exploring_your_data_in_spyder">
<h2>Exploring Your Data in Spyder</h2>
<p>You’re just a <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-tertiary="exploring your data in Spyder" data-type="indexterm" id="idm45433739249600"/>few lines of<a contenteditable="false" data-primary="Spyder IDE" data-secondary="exploring your data in" data-type="indexterm" id="idm45433739247792"/> code away from exploring your raster data<a contenteditable="false" data-primary="raster data" data-secondary="exploring in Spyder IDE" data-type="indexterm" id="idm45433739245808"/> within an IDE. The first step is to import the necessary packages: GDAL, NumPY, and matplotlib:</p>
<pre data-type="programlisting">
<strong>from</strong> osgeo <strong>import</strong> gdal
<strong>import</strong> numpy <strong>as</strong> np <span>#to manipulate the array from raster</span>
<strong>import</strong> matplotlib.pyplot <strong>as</strong> plt <span>#to view figure</span></pre>
<p>NumPY will<a contenteditable="false" data-primary="NumPy" data-type="indexterm" id="idm45433739239312"/> manipulate the array you are creating from the raster file, and matplotlib will allow you to view the file. <a contenteditable="false" data-primary="matplotlib" data-secondary="using in exploring raster data in Spyder" data-type="indexterm" id="idm45433739237552"/>The raster programs you can explore are included in the <a href="https://oreil.ly/rxgLu">GDAL documentation</a>.</p>
<p><em>Utility scripts</em> belong to a <em>utility class</em>, which is a collection of related methods available across the application. <a contenteditable="false" data-primary="utility scripts in utility class" data-type="indexterm" id="idm45433739233920"/><a contenteditable="false" data-primary="osgeo_utils.samples submodule" data-type="indexterm" id="idm45433739232880"/>The Python utility scripts are located inside the <span class="keep-together"><code>osgeo_utils.samples</code></span> submodule shown in the following code:</p>
<pre data-type="programlisting">
ds = gdal.Open(<span>"slope.tif"</span>)
gt = ds.GetGeoTransform()
proj =ds.GetProjection()
band = ds.GetRasterBand(<span>1</span>)
array = band.ReadAsArray()</pre>
<p>If you are not<a contenteditable="false" data-primary=".tif files" data-primary-sortas="tif" data-type="indexterm" id="idm45433739229728"/> sure where to find <em>.tif</em> files, skip ahead to <a data-type="xref" href="#exploring_open_source_raster_files">“Exploring Open Source Raster Files”</a>, where I will review how to find raster files to explore. These are simple digital elevation models (DEMs), where each point or pixel has an elevation value. Typically, these are represented as DEM <em>.tif</em> files. If you’ve been exploring as you work through this book, your Downloads folder probably harbors quite a few by now.</p>
<p>The code scripts you will be writing into the editor are explained in the text; additional <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="GDAL Python documentation" data-type="indexterm" id="idm45433739223296"/>information is available from the <a href="https://oreil.ly/lHQri">GDAL Python API</a>.</p>
<p>You can call your variable anything, but for simplicity I am using <code>ds</code> to represent the dataset. After importing your <em>.tif</em> file and creating the variable <code>ds</code>, you will see the variable populate in the variable explorer.<a contenteditable="false" data-primary="variable explorer" data-secondary="ds (dataset) variable in" data-type="indexterm" id="idm45433739219248"/> The format of the <code>ds</code> file is <code>gdal.Dataset</code>.</p>
</div></section>
<section data-pdf-bookmark="Transforming Files in GDAL" data-type="sect2"><div class="sect2" id="transforming_files_in_gdal">
<h2>Transforming Files in GDAL</h2>
<p>You will need to transform your <em>.tif</em> file from the table format that you see in <a data-type="xref" href="#the_projection_of_the_bandscomma_as_rea">Figure 9-6</a> to geographic coordinates, so next you’ll define <code>gt</code>, the geotransform.<a contenteditable="false" data-primary="geotransforms" data-secondary="to georeferenced coordinates" data-secondary-sortas="georeferenced" data-type="indexterm" id="idm45433739221216"/><a contenteditable="false" data-primary=".tif files" data-primary-sortas="tif" data-secondary="transforming from table format to geographic coordinates" data-type="indexterm" id="ix_tiftrnsf"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-tertiary="transforming files in GDAL" data-type="indexterm" id="ix_GDALPytrnsf"/><a contenteditable="false" data-primary="transforming files in GDAL" data-type="indexterm" id="ix_trnsfGDAL"/></p>
<p>The six coefficients in <a data-type="xref" href="#geotransforms_to_georeferenced_coordina">Figure 9-5</a>, read from top to bottom, correspond to:</p>
<dl>
<dt>0</dt>
<dd>The <em>x</em>-coordinate of the upper-left corner of the upper-left pixel (262846.525725)</dd>
<dt>1</dt>
<dd>Pixel resolution, west to east (25.0)</dd>
<dt>2</dt>
<dd>Row rotation (usually 0)</dd>
<dt>3</dt>
<dd>The <em>y</em>-coordinate of the upper-left corner of the upper-left pixel (4464275.0)</dd>
<dt>4</dt>
<dd>Column rotation (again, usually 0)</dd>
<dt>5</dt>
<dd>The northwest pixel resolution and height (usually negative for a north-up image), -25.0</dd>
</dl>
<figure><div class="figure" id="geotransforms_to_georeferenced_coordina"><img alt="Geotransforms to georeferenced coordinates" height="437" src="assets/pgda_0905.png" width="1024"/>
<h6><span class="label">Figure 9-5. </span>Geotransforms to georeferenced coordinates</h6>
</div></figure>
<p>The projection <a contenteditable="false" data-primary="map projections" data-secondary="projection information in variable explorer in Spyder console" data-type="indexterm" id="idm45433739195936"/>information is <a contenteditable="false" data-primary="variable explorer" data-secondary="projection information in" data-type="indexterm" id="idm45433739195040"/>visible in the variable explorer (<a data-type="xref" href="#the_spyder_console">Figure 9-2</a>) but is shown larger in <a data-type="xref" href="#the_projection_of_the_bandscomma_as_rea">Figure 9-6</a>. In the Universal Transverse Mercator (UTM), the projection is UTM zone 30 N; the EPSG code is EPSG:32630.</p>
<figure><div class="figure" id="the_projection_of_the_bandscomma_as_rea"><img alt="The projection of the bands, as read by GDAL" height="119" src="assets/pgda_0906.png" width="938"/>
<h6><span class="label">Figure 9-6. </span>The projection of the bands, as read by GDAL</h6>
</div></figure>
<p><code>GetRasterBand</code> fetches the bands into the dataset. To determine how many bands you have, write into the console:</p>
<pre data-type="programlisting">
ds.RasterCount</pre>
<p>This outputs: <code>1</code>.</p>
<p>Enter the number of bands into the function:</p>
<pre data-type="programlisting">
band = ds.GetRasterBand(<span>1</span>)

array = band.ReadAsArray()</pre>
<p>Exploring the array variable, you can see that Python has read the GDAL file into a NumPY array. <a contenteditable="false" data-primary="NumPy" data-secondary="object array of DEM .tif file" data-type="indexterm" id="idm45433739182912"/>The array shares elevations from our DEM, as shown in <a data-type="xref" href="#numpy_object_array_of_dem_dottif_file">Figure 9-7</a>.</p>
<figure><div class="figure" id="numpy_object_array_of_dem_dottif_file"><img alt="NumPY object array of DEM .tif file" height="566" src="assets/pgda_0907.png" width="940"/>
<h6><span class="label">Figure 9-7. </span>NumPY object array of DEM .tif file</h6>
</div></figure>
</div></section>
<section data-pdf-bookmark="Using the Binmask in GDAL" data-type="sect2"><div class="sect2" id="using_the_binmask_in_gdal">
<h2>Using the Binmask in GDAL</h2>
<p><em>Masking</em> is useful<a contenteditable="false" data-primary=".tif files" data-primary-sortas="tif" data-secondary="transforming from table format to geographic coordinates" data-startref="ix_tiftrnsf" data-type="indexterm" id="idm45433739177504"/> for<a contenteditable="false" data-primary="transforming files in GDAL" data-startref="ix_trnsfGDAL" data-type="indexterm" id="idm45433739175456"/> clipping <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-startref="ix_GDALPytrnsf" data-tertiary="transforming files in GDAL" data-type="indexterm" id="idm45433739173952"/>boundaries or values to a specific range. <a contenteditable="false" data-primary="masking" data-type="indexterm" id="idm45433739171200"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-tertiary="using binmask in GDAL" data-type="indexterm" id="ix_GDALPybinmsk"/><a contenteditable="false" data-primary="binmask (binary mask) in GDAL" data-type="indexterm" id="ix_binmsk"/>A <em>binary mask</em> (often called <em>binmask)</em> is a tool that filters out elevation values above or below a certain number (for instance, if you want to look only at locations that are below sea level). If you want to save everything that is equal to or larger than the mean, you will assign it a value of 1; otherwise, it will be a 0. The output is shown in <a data-type="xref" href="#binary_mask_output">Figure 9-8</a>. The dark values are at lower elevation.</p>
<p>The <code>binmask</code> variable in the <a contenteditable="false" data-primary="NumPy" data-secondary="np function returning elements of array based on a condition" data-type="indexterm" id="idm45433739171584"/>code refers to the NumPy (<code>np</code>) function that returns the elements in the array based on a condition, such as the <code>mean</code>:</p>
<pre data-type="programlisting">
binmask = np.where((array &gt;=np.mean(array)),<span>1</span>,<span>0</span>)
plt.figure()
plt.imshow(binmask)</pre>
<p>To save this data<a contenteditable="false" data-primary="GeoTIFF file, saving binmask output to" data-type="indexterm" id="idm45433739159328"/> as a GeoTIFF file, you will need a GDAL driver to support your chosen raster file format. You can view the long list of different drivers available, including for GeoTIFF, in the <a href="https://oreil.ly/MCFi9">GDAL documentation</a>. To get the shape of your binmask, you only need to register the driver and run the following code:</p>
<pre data-type="programlisting">
binmask.shape</pre>
<p class="pagebreak-before less_space">This outputs (410, 601).</p>
<figure><div class="figure" id="binary_mask_output"><img alt="Binary mask output" height="690" src="assets/pgda_0908.png" width="998"/>
<h6><span class="label">Figure 9-8. </span>Binary mask output</h6>
</div></figure>
<p>Recall how to use the <code>index</code> function in Python. <a contenteditable="false" data-primary="index function" data-type="indexterm" id="idm45433739152512"/>The binmask shape is 410 rows and 601 columns. In the following code snippet, <code>xsize</code> refers to the number of columns. You call columns by index, in this case as <code>[1]</code>, to get a count (in this case, 601). You can do the same with <code>ysize</code> and the index <code>[0]</code> to grab the number of rows (in this case, 410):</p>
<pre data-type="programlisting">
<span>#Now we want to save as GeoTiff so we need a GDAL driver</span>
driver = gdal.GetDriverByName(<span>"GTiff"</span>)
driver.Register()
outds = driver.Create(<span>"binmask.tif"</span>, xsize = binmask.shape[<span>1</span>],
                      ysize = binmask.shape[<span>0</span>], bands =<span>1</span>,
                      eType=gdal.GDT_Int16)</pre>
<p><code>gdalconst</code> defines the data type in the image. Since you are defining the shape of the binmask with <code>0</code> and <code>1</code>, you need to set the value as an integer, which you’ll do using <code>gdal.GDT_Int16</code>. Now you only need to print the datatype property.</p>
<p class="pagebreak-before less_space">The last step is another geotransform. <a contenteditable="false" data-primary="geotransforms" data-type="indexterm" id="idm45433739142160"/>The settings can stay the same since you didn’t change anything. Once you close the files, they will be available for you to use. If you forget, you will not be able to use them. You also don’t need to read the array, since you haven’t stored it anywhere yet. <code>WriteArray(binmask)</code> will provide the output:</p>
<pre data-type="programlisting">
<span>#need geotransform to be complete</span>
outds.SetGeoTransform(gt)
outds.SetProjection(proj)
outband = outds.GetRasterBand(<span>1</span>)
outband.WriteArray(binmask)
outband.SetNoDataValue(np.nan)
outband.FlushCache()

<span>#close</span>
outband = <strong>None</strong>
outds = <strong>None</strong></pre>
<p>To recap, you’ve identified and generated an image from a DEM and converted the output to a GeoTIFF file. The raster image is saved along with any information or metadata about the image’s location on the Earth’s surface at the pixel level.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-startref="ix_GDALPybinmsk" data-tertiary="using binmask in GDAL" data-type="indexterm" id="idm45433740709936"/><a contenteditable="false" data-primary="binmask (binary mask) in GDAL" data-startref="ix_binmsk" data-type="indexterm" id="idm45433740707792"/></p>
</div></section>
<section data-pdf-bookmark="The Complete Script" data-type="sect2"><div class="sect2" id="the_complete_script">
<h2>The Complete Script</h2>
<p>Here is the code in its entirety; uncomment the print<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-tertiary="ccomplete script" data-type="indexterm" id="idm45433739138288"/> option when you want to view the figure:</p>
<pre data-type="programlisting">
<strong>from</strong> osgeo <strong>import</strong> gdal
<strong>import</strong> numpy <strong>as</strong> np
<strong>import</strong> matplotlib.pyplot <strong>as</strong> plt

ds = gdal.Open(<span>"slope.tif"</span>)
gt = ds.GetGeoTransform()
proj=ds.GetProjection()
band = ds.GetRasterBand(<span>1</span>)
array = band.ReadAsArray()

<span>#plt.figure()</span>
<span>#plt.imshow(array)</span>

binmask = np.where((array &gt;=np.mean(array)),<span>1</span>,<span>0</span>)
plt.figure()
plt.imshow(binmask)


driver = gdal.GetDriverByName(<span>"GTiff"</span>)
driver.Register()
outds = driver.Create(<span>"binmask.tif"</span>, xsize = binmask.shape[<span>1</span>],
                      ysize = binmask.shape[<span>0</span>], bands =<span>1</span>,
                      eType=gdal.GDT_Int16)



outds.SetGeoTransform(gt)
outds.SetProjection(proj)
outband = outds.GetRasterBand(<span>1</span>)
outband.WriteArray(binmask)
outband.SetNoDataValue(np.nan)
outband.FlushCache()

<span>#DON’T FORGET TO CLOSE FILE</span>

outband = <strong>None</strong>
outds = <strong>None</strong>
</pre>
</div></section>
</div></section>
<section data-pdf-bookmark="Exploring Open Source Raster Files" data-type="sect1"><div class="sect1" id="exploring_open_source_raster_files">
<h1>Exploring Open Source Raster Files</h1>
<p>The open source geospatial community<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="working with in Python" data-startref="ix_GDALPy" data-type="indexterm" id="idm45433739124240"/> has a huge arsenal of <a href="https://oreil.ly/GIbyH">publicly available datasets</a> to continue your learning and fuel current and future projects. <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-type="indexterm" id="ix_GDALOSrstr"/><a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-type="indexterm" id="ix_rstrfiopn"/>This book is intended to be a living resource that invites additional learning and skill development. So in the next few sections, I’ll provide the basics you need to get started with exploring some of these resources, rather than full exercises. The goal is to get you to a point where you can start exploring for yourself.</p>
<section data-pdf-bookmark="USGS EarthExplorer" data-type="sect2"><div class="sect2" id="usgs_earthexplorer">
<h2>USGS EarthExplorer</h2>
<p>The USGS hosts one of the largest free repositories of satellite and aerial imagery data, called EarthExplorer.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-tertiary="USGS EarthExplorer" data-type="indexterm" id="idm45433739623872"/><a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-tertiary="USGS EarthExplorer" data-type="indexterm" id="idm45433739622560"/><a contenteditable="false" data-primary="EarthExplorer" data-type="indexterm" id="idm45433739622432"/><a contenteditable="false" data-primary="USGS EarthExplorer" data-type="indexterm" id="idm45433739164320"/></p>
<p>You will need to register for a free account at <a href="https://oreil.ly/WvlrA">EarthExplorer</a>. If you have a compressed ZIP file that includes a shapefile (<em>.shp</em>), you can upload it using the KML/Shapefile Upload button in the upper left corner. Free open source data resources often offer the option to download a zipped shapefile. All of the accompanying files must be uploaded along with the shapefile.</p>
<p>To work with EarthExplorer, you can upload a shapefile you want to work with. <a data-type="xref" href="#uploading_a_shapefile_to_earthexplorer">Figure 9-9</a> shows a file I uploaded called “Bodega Marine Laboratory and Reserve.” When I draw a polygon (shown in red) around the area I want to look at, I can download the GeoTiff file.<a contenteditable="false" data-primary="shapefiles (.shp)" data-secondary="uploading to EarthExplorer" data-type="indexterm" id="idm45433739114848"/> You can change the coordinates to reshape the polygon.</p>
<figure><div class="figure" id="uploading_a_shapefile_to_earthexplorer"><img alt="Uploading a shapefile to EarthExplorer" height="833" src="assets/pgda_0909.png" width="1672"/>
<h6><span class="label">Figure 9-9. </span>Uploading a shapefile to EarthExplorer</h6>
</div></figure>
<p>In addition to uploading a shapefile, there are a few other ways to create an image:</p>
<ul>
<li>
<p>Zoom to an area you wish to explore and draw a polygon or circle</p>
</li>
<li>
<p>Search for an address (<a data-type="xref" href="#searching_for_satellite_images_in_your">Figure 9-10</a>)</p>
</li>
<li>
<p>Double-click the map and select the Use Map button</p>
</li>
<li>
<p>Select a date range</p>
</li>
</ul>
<p>You can <a contenteditable="false" data-primary="EarthExplorer" data-secondary="searching for satellite images in your region of interest" data-type="indexterm" id="idm45433739106768"/>also enter a date range or a cloud cover range in the menu shown in <a data-type="xref" href="#searching_for_satellite_images_in_your">Figure 9-10</a>. For this exercise, use the method of your choice to follow me to the Bodega Marine Laboratory and Reserve. Enter the location into the search criteria.<a contenteditable="false" data-primary="digital elevation SRTM data in EarthExplorer" data-type="indexterm" id="idm45433739105504"/></p>
<figure><div class="figure" id="searching_for_satellite_images_in_your"><img alt="Searching for satellite images in your region of interest" height="828" src="assets/pgda_0910.png" width="421"/>
<h6><span class="label">Figure 9-10. </span>Searching for satellite images in your region of interest</h6>
</div></figure>
<p>Once you’re at the Bodega Marine <a contenteditable="false" data-primary="EarthExplorer" data-secondary="digital elevation SRTM data in" data-type="indexterm" id="idm45433739100896"/>Laboratory and Reserve, select Digital Elevation Data and then SRTM Void Filled, as shown in <a data-type="xref" href="#digital_elevation_srtm_data_in_earthexp">Figure 9-11</a>. <em>SRTM</em> stands <a contenteditable="false" data-primary="SRTM (Shuttle Radar Topography Mission)" data-type="indexterm" id="idm45433739096800"/>for Shuttle Radar Topography Mission. Void-filled SRTMs have additional processing to fill in missing data.<a contenteditable="false" data-primary="Shuttle Radar Topography Mission (SRTM)" data-type="indexterm" id="idm45433739094944"/></p>
<figure class="width-80"><div class="figure" id="digital_elevation_srtm_data_in_earthexp"><img height="539" src="assets/pgda_0911.png" width="812"/>
<h6><span class="label">Figure 9-11. </span>Digital elevation SRTM data in EarthExplorer</h6>
</div></figure>
<p>If there are any images that meet your criteria, they will load as search results (<a data-type="xref" href="#search_results_in_earthexplorer">Figure 9-12</a>). Once you adjust your parameters, you will see thumbnails of the datasets. Find the best dataset for your needs and download the GeoTIFF. Save it to the folder within your working directory or use the absolute (complete) filepath to upload it into your Spyder console.<sup><a data-type="noteref" href="ch09.xhtml#ch01fn13" id="ch01fn13-marker">2</a></sup></p>
<figure class="width-90"><div class="figure" id="search_results_in_earthexplorer"><img height="550" src="assets/pgda_0912.png" width="1151"/>
<h6><span class="label">Figure 9-12. </span>Search results in EarthExplorer</h6>
</div></figure>
</div></section>
<section data-pdf-bookmark="Copernicus Open Access Hub" data-type="sect2"><div class="sect2" id="copernicus_open_access_hub">
<h2>Copernicus Open Access Hub</h2>
<p>The next data resource I want to show you is <a href="https://oreil.ly/WR178">Copernicus Open Access Hub</a>. <a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-tertiary="Copernicus Open Access Hub" data-type="indexterm" id="idm45433739084832"/><a contenteditable="false" data-primary="Copernicus Open Access Hub (European Space Agency)" data-type="indexterm" id="idm45433739083280"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-tertiary="Copernicus Open Access Hub" data-type="indexterm" id="idm45433739082208"/>You’ll access it similarly to how you accessed EarthExplorer, navigating the settings within a dashboard. While Copernicus’s interface is perhaps less intuitive than EarthExplorer’s, it offers some great data. Try searching for Sentinel satellite data (<a data-type="xref" href="#copernicus_open_access_hub_sentinel_dat">Figure 9-13</a>).</p>
<figure><div class="figure" id="copernicus_open_access_hub_sentinel_dat"><img alt="Copernicus Open Access Hub Sentinel data" height="1928" src="assets/pgda_0913.png" width="2664"/>
<h6><span class="label">Figure 9-13. </span>Copernicus Open Access Hub Sentinel data</h6>
</div></figure>
</div></section>
<section data-pdf-bookmark="Google Earth Engine" data-type="sect2"><div class="sect2" id="google_earth_engine">
<h2>Google Earth Engine</h2>
<p>You learned about GEE in <a data-type="xref" href="ch08.xhtml#data_cleaning">Chapter 8</a>, so here I’ll just briefly touch on how to use it with GDAL. <a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-tertiary="Google Earth Engine" data-type="indexterm" id="ix_GDALOSrstrGEE"/><a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-tertiary="Google Earth Engine" data-type="indexterm" id="ix_rstrfiopnGEE"/><a contenteditable="false" data-primary="Google Earth Engine (GEE)" data-secondary="open source raster files" data-type="indexterm" id="ix_GEEOSrstr"/>GEE data is available in the cloud on a planetary scale, so you don’t have to download it. You can even use functions such as clipping satellite data.</p>
<p>Run search for GEE DEM files. Find Earth Engine snippet <em>ee.Image(“USGS/sDEP/10m”)</em>, shown in <a data-type="xref" href="#gee_catalog_of_dem_files">Figure 9-14</a>. You can copy the JavaScript code and paste it into the GEE console.</p>
<figure><div class="figure" id="gee_catalog_of_dem_files"><img alt="GEE catalog of DEM files" height="1293" src="assets/pgda_0914.png" width="1462"/>
<h6><span class="label">Figure 9-14. </span>GEE catalog of DEM files</h6>
</div></figure>
<p>In the GEE console, select Run. This will generate the map shown in <a data-type="xref" href="#google_earth_engine_dem_dottif_file">Figure 9-15</a>. You can select a polygon and create a geometry import. The layers panel will allow you to change the opacity of a layer or toggle layer displays on and off. Simply save the file as a GeoTIFF, and you have another option for a DEM file.</p>
<figure><div class="figure" id="google_earth_engine_dem_dottif_file"><img alt="Google Earth Engine DEM .tif file" height="1826" src="assets/pgda_0915.png" width="1690"/>
<h6><span class="label">Figure 9-15. </span>Google Earth Engine DEM .tif file</h6>
</div></figure>
<p>GDAL can be complex, but it’s worth learning how to use this resource library to extend your geospatial skills.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-startref="ix_GDALOSrstrGEE" data-tertiary="Google Earth Engine" data-type="indexterm" id="idm45433739059280"/><a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-startref="ix_rstrfiopnGEE" data-tertiary="Google Earth Engine" data-type="indexterm" id="idm45433739059536"/><a contenteditable="false" data-primary="Google Earth Engine (GEE)" data-secondary="open source raster files" data-startref="ix_GEEOSrstr" data-type="indexterm" id="idm45433739056240"/><a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-secondary="exploring open source raster files" data-startref="ix_GDALOSrstr" data-type="indexterm" id="idm45433739054656"/><a contenteditable="false" data-primary="raster data" data-secondary="exploring open source raster files" data-startref="ix_rstrfiopn" data-type="indexterm" id="idm45433739053072"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="summary-id00024">
<h1>Summary</h1>
<p>You have observed how to work in both a terminal and an IDE, both useful in their own respects specific to personal preference and often accessibility. These skills highlight the utility of both options as well as a powerful interface relied on by cross-platform applications in both the enterprise (Esri) and open source communities.</p>
<p>Remember, when working with geospatial data and a broad array of available tools, especially in the open source community, it is important to read the user documentation to grow your skills and your ability to interact with your data. Don’t hesitate to reach out to the community with questions or insights.<a contenteditable="false" data-primary="Geospatial Data Abstraction Library (GDAL)" data-startref="ix_GDAL" data-type="indexterm" id="idm45433740174480"/></p>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="ch01fn12"><sup><a href="ch09.xhtml#ch01fn12-marker">1</a></sup> You may recall that <em>bindings</em> are libraries that bridge two programming languages so that a library written for one language can be used in another.</p><p data-type="footnote" id="ch01fn13"><sup><a href="ch09.xhtml#ch01fn13-marker">2</a></sup> The <em>relative filepath</em> is the path relative to your current working directory; the <em>absolute filepath</em> is the path provided from your root directory.</p></div></div></section></div></body></html>