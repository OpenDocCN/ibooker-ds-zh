["```py\n`!`ls -lLh data/list_of*\n\n```", "```py\n-rw-r--r--  1 sam  staff   4.8M Oct 27 16:54 data/list_of_aqs_sites.csv\n-rw-r--r--  1 sam  staff   3.8M Oct 22 16:10 data/list_of_purpleair_sensors.json\n\n```", "```py\n`aqs_sites_full` `=` `pd``.``read_csv``(``'``data/list_of_aqs_sites.csv``'``)`\n`aqs_sites_full``.``shape`\n\n```", "```py\n(1333, 28)\n\n```", "```py\n`aqs_sites_full``.``columns`\n\n```", "```py\nIndex(['AQS_Site_ID', 'POC', 'State', 'City', 'CBSA', 'Local_Site_Name',\n       'Address', 'Datum', 'Latitude', 'Longitude', 'LatLon_Accuracy_meters',\n       'Elevation_meters_MSL', 'Monitor_Start_Date', 'Last_Sample_Date',\n       'Active', 'Measurement_Scale', 'Measurement_Scale_Definition',\n       'Sample_Duration', 'Sample_Collection_Frequency',\n       'Sample_Collection_Method', 'Sample_Analysis_Method',\n       'Method_Reference_ID', 'FRMFEM', 'Monitor_Type', 'Reporting_Agency',\n       'Parameter_Name', 'Annual_URLs', 'Daily_URLs'],\n      dtype='object')\n\n```", "```py\n`aqs_sites_full``[``'``AQS_Site_ID``'``]``.``value_counts``(``)`\n\n```", "```py\n06-071-0306    4\n19-163-0015    4\n39-061-0014    4\n              ..\n46-103-0020    1\n19-177-0006    1\n51-680-0015    1\nName: AQS_Site_ID, Length: 921, dtype: int64\n\n```", "```py\n`dup_site` `=` `aqs_sites_full``.``query``(``\"``AQS_Site_ID ==` `'``19-163-0015``'``\"``)`\n\n```", "```py\n`some_cols` `=` `[``'``POC``'``,` `'``Monitor_Start_Date``'``,`\n             `'``Last_Sample_Date``'``,` `'``Sample_Collection_Method``'``]`\n`dup_site``[``some_cols``]`\n\n```", "```py\n`def` `rollup_dup_sites``(``df``)``:`\n    `return` `(`\n        `df``.``groupby``(``'``AQS_Site_ID``'``)`\n        `.``first``(``)`\n        `.``reset_index``(``)`\n    `)`\n\n```", "```py\n`aqs_sites` `=` `(``aqs_sites_full`\n             `.``pipe``(``rollup_dup_sites``)``)`\n`aqs_sites``.``shape`\n\n```", "```py\n(921, 28)\n\n```", "```py\n`def` `cols_aqs``(``df``)``:`\n    `subset` `=` `df``[``[``'``AQS_Site_ID``'``,` `'``Latitude``'``,` `'``Longitude``'``]``]`\n    `subset``.``columns` `=` `[``'``site_id``'``,` `'``lat``'``,` `'``lon``'``]`\n    `return` `subset`\n\n```", "```py\n`aqs_sites` `=` `(``aqs_sites_full`\n             `.``pipe``(``rollup_dup_sites``)`\n             `.``pipe``(``cols_aqs``)``)`\n\n```", "```py\n`!`head data/list_of_purpleair_sensors.json `|` cut -c `1`-60\n\n```", "```py\n{\"version\":\"7.0.30\",\n\"fields\":\n[\"ID\",\"pm\",\"pm_cf_1\",\"pm_atm\",\"age\",\"pm_0\",\"pm_1\",\"pm_2\",\"pm\n\"data\":[\n[20,0.0,0.0,0.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,97,0.0,0.0,0.0\n[47,null,null,null,4951,null,null,null,null,null,null,null,9\n[53,0.0,0.0,0.0,0,0.0,0.0,0.0,0.0,1.2,5.2,6.0,97,0.0,0.5,702\n[74,0.0,0.0,0.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,97,0.0,0.0,0.0\n[77,9.8,9.8,9.8,1,9.8,10.7,11.0,11.2,13.8,15.1,15.5,97,9.7,9\n[81,6.5,6.5,6.5,0,6.5,6.1,6.1,6.6,8.1,8.3,9.7,97,5.9,6.8,405\n\n```", "```py\n`import` `json`\n\n`with` `open``(``'``data/list_of_purpleair_sensors.json``'``)` `as` `f``:`\n    `pa_json` `=` `json``.``load``(``f``)`\n\n`list``(``pa_json``.``keys``(``)``)`\n\n```", "```py\n['version', 'fields', 'data', 'count']\n\n```", "```py\n`pa_sites_full` `=` `pd``.``DataFrame``(``pa_json``[``'``data``'``]``,` `columns``=``pa_json``[``'``fields``'``]``)`\n`pa_sites_full``.``head``(``)`\n\n```", "```py\n5 rows × 36 columns\n```", "```py\n`pa_sites_full``.``columns`\n\n```", "```py\nIndex(['ID', 'pm', 'pm_cf_1', 'pm_atm', 'age', 'pm_0', 'pm_1', 'pm_2', 'pm_3',\n       'pm_4', 'pm_5', 'pm_6', 'conf', 'pm1', 'pm_10', 'p1', 'p2', 'p3', 'p4',\n       'p5', 'p6', 'Humidity', 'Temperature', 'Pressure', 'Elevation', 'Type',\n       'Label', 'Lat', 'Lon', 'Icon', 'isOwner', 'Flags', 'Voc', 'Ozone1',\n       'Adc', 'CH'],\n      dtype='object')\n\n```", "```py\n`pa_sites_full``[``'``ID``'``]``.``value_counts``(``)``[``:``3``]`\n\n```", "```py\n85829     1\n117575    1\n118195    1\nName: ID, dtype: int64\n\n```", "```py\n`def` `cols_pa``(``df``)``:`\n    `subset` `=` `df``[``[``'``ID``'``,` `'``Label``'``,` `'``Lat``'``,` `'``Lon``'``]``]`\n    `subset``.``columns` `=` `[``'``id``'``,` `'``label``'``,` `'``lat``'``,` `'``lon``'``]`\n    `return` `subset`\n\n```", "```py\n`pa_sites` `=` `(``pa_sites_full`\n            `.``pipe``(``cols_pa``)``)`\n`pa_sites``.``shape`\n\n```", "```py\n(23138, 4)\n\n```", "```py\n`aqs_sites``.``merge``(``pa_sites``,` `left_on``=``[``'``lat``'``,` `'``lon``'``]``,` `right_on``=``[``'``lat``'``,` `'``lon``'``]``)`\n\n```", "```py\n`magic_meters_per_lat` `=` `111_111`\n`offset_in_m` `=` `25`\n`offset_in_lat` `=` `offset_in_m` `/` `magic_meters_per_lat`\n`offset_in_lat`\n\n```", "```py\n0.000225000225000225\n\n```", "```py\n`median_latitude` `=` `aqs_sites``[``'``lat``'``]``.``median``(``)`\n`magic_meters_per_lon` `=` `111_111` `*` `np``.``cos``(``np``.``radians``(``median_latitude``)``)`\n`offset_in_lon` `=` `offset_in_m` `/` `magic_meters_per_lon`\n`offset_in_lon`\n\n```", "```py\n0.000291515219937587\n\n```", "```py\n`import` `sqlalchemy`\n\n`db` `=` `sqlalchemy``.``create_engine``(``'``sqlite://``'``)`\n\n`aqs_sites``.``to_sql``(``name``=``'``aqs``'``,` `con``=``db``,` `index``=``False``)`\n`pa_sites``.``to_sql``(``name``=``'``pa``'``,` `con``=``db``,` `index``=``False``)`\n\n```", "```py\n`query` `=` `f``'''`\n`SELECT`\n `aqs.site_id AS aqs_id,`\n `pa.id AS pa_id,`\n `pa.label AS pa_label,`\n `aqs.lat AS aqs_lat,`\n `aqs.lon AS aqs_lon,`\n `pa.lat AS pa_lat,`\n `pa.lon AS pa_lon`\n`FROM aqs JOIN pa`\n `ON  pa.lat -` `{``offset_in_lat``}` `<= aqs.lat`\n `AND                             aqs.lat <= pa.lat +` `{``offset_in_lat``}`\n `AND pa.lon -` `{``offset_in_lon``}` `<= aqs.lon`\n `AND                             aqs.lon <= pa.lon +` `{``offset_in_lon``}`\n`'''`\n`matched` `=` `pd``.``read_sql``(``query``,` `db``)`\n`matched`\n\n```", "```py\n149 rows × 7 columns\n```", "```py\n`aqs_full` `=` `pd``.``read_csv``(``'``data/aqs_06-067-0010.csv``'``)`\n`aqs_full``.``shape`\n\n```", "```py\n(2268, 31)\n\n```", "```py\n`aqs_full``[``'``date_local``'``]``.``value_counts``(``)`\n\n```", "```py\ndate_local\n2019-01-03    12\n2018-12-31    12\n2018-12-28    12\n              ..\n2018-11-28    12\n2018-11-25    12\n2018-11-22    12\nName: count, Length: 189, dtype: int64\n\n```", "```py\n`(``aqs_full`\n `.``groupby``(``'``date_local``'``)`\n `[``'``arithmetic_mean``'``]`\n `.``agg``(``np``.``ptp``)` `# np.ptp computes max() - min()`\n `.``value_counts``(``)`\n`)`\n\n```", "```py\narithmetic_mean\n0.0    189\nName: count, dtype: int64\n\n```", "```py\n`def` `rollup_dates``(``df``)``:`\n    `return` `(`\n        `df``.``groupby``(``'``date_local``'``)`\n        `.``first``(``)`\n        `.``reset_index``(``)`\n    `)`\n\n```", "```py\n`aqs` `=` `(``aqs_full`\n       `.``pipe``(``rollup_dates``)``)`\n`aqs``.``shape`\n\n```", "```py\n(189, 31)\n\n```", "```py\n`def` `drop_cols``(``df``)``:`\n    `subset` `=` `df``[``[``'``date_local``'``,` `'``arithmetic_mean``'``]``]`\n    `return` `subset``.``rename``(``columns``=``{``'``arithmetic_mean``'``:` `'``pm25``'``}``)`\n\n```", "```py\n`aqs` `=` `(``aqs_full`\n       `.``pipe``(``rollup_dates``)`\n       `.``pipe``(``drop_cols``)``)`\n`aqs``.``head``(``)`\n\n```", "```py\n`aqs``[``'``date_local``'``]``.``iloc``[``:``3``]`\n\n```", "```py\n0    2018-05-20\n1    2018-05-23\n2    2018-05-29\nName: date_local, dtype: object\n\n```", "```py\n`def` `parse_dates``(``df``)``:`\n    `date_format` `=` `'``%Y``-``%m``-``%d``'`\n    `timestamps` `=` `pd``.``to_datetime``(``df``[``'``date_local``'``]``,` `format``=``date_format``)`\n    `return` `df``.``assign``(``date_local``=``timestamps``)`\n\n```", "```py\n`aqs` `=` `(``aqs_full`\n       `.``pipe``(``rollup_dates``)`\n       `.``pipe``(``drop_cols``)`\n       `.``pipe``(``parse_dates``)``)`\n\n```", "```py\n`date_range` `=` `aqs``[``'``date_local``'``]``.``max``(``)` `-` `aqs``[``'``date_local``'``]``.``min``(``)`\n`date_range``.``days`\n\n```", "```py\n588\n\n```", "```py\n`px``.``scatter``(``aqs``,` `x``=``'``date_local``'``,` `y``=``'``pm25``'``,`\n           `labels``=``{``'``date_local``'``:``'``Date``'``,` `'``pm25``'``:``'``AQS daily avg PM2.5``'``}``,`\n           `width``=``500``,` `height``=``250``)`\n\n```", "```py\n`!`ls -alh data/purpleair_AMTS/* `|` cut -c `1`-72\n\n```", "```py\n-rw-r--r--  1 nolan  staff    50M Jan 25 16:35 data/purpleair_AMTS/AMTS_\n-rw-r--r--  1 nolan  staff    50M Jan 25 16:35 data/purpleair_AMTS/AMTS_\n-rw-r--r--  1 nolan  staff    48M Jan 25 16:35 data/purpleair_AMTS/AMTS_\n-rw-r--r--  1 nolan  staff    50M Jan 25 16:35 data/purpleair_AMTS/AMTS_\n\n```", "```py\n`!`ls -alh data/purpleair_AMTS/* `|` cut -c `73`-140\n\n```", "```py\nTESTING (outside) (38.568404 -121.493163) Primary Real Time 05_20_20\nTESTING (outside) (38.568404 -121.493163) Secondary Real Time 05_20_\nTESTING B (undefined) (38.568404 -121.493163) Primary Real Time 05_2\nTESTING B (undefined) (38.568404 -121.493163) Secondary Real Time 05\n\n```", "```py\n`from` `pathlib` `import` `Path`\n\n`data_folder` `=` `Path``(``'``data/purpleair_AMTS``'``)`\n`pa_csvs` `=` `sorted``(``data_folder``.``glob``(``'``*.csv``'``)``)`\n`pa_csvs``[``0``]`\n\n```", "```py\nPosixPath('data/purpleair_AMTS/AMTS_TESTING (outside) (38.568404 -121.493163) Primary Real Time 05_20_2018 12_29_2019.csv')\n\n```", "```py\n`pa_full` `=` `pd``.``read_csv``(``pa_csvs``[``0``]``)`\n`pa_full``.``shape`\n\n```", "```py\n(672755, 11)\n\n```", "```py\n`pa_full``.``columns`\n\n```", "```py\nIndex(['created_at', 'entry_id', 'PM1.0_CF1_ug/m3', 'PM2.5_CF1_ug/m3',\n       'PM10.0_CF1_ug/m3', 'UptimeMinutes', 'RSSI_dbm', 'Temperature_F',\n       'Humidity_%', 'PM2.5_ATM_ug/m3', 'Unnamed: 10'],\n      dtype='object')\n\n```", "```py\n`def` `drop_and_rename_cols``(``df``)``:`\n    `df` `=` `df``[``[``'``created_at``'``,` `'``PM2.5_CF1_ug/m3``'``,` `'``Temperature_F``'``,` `'``Humidity_``%``'``]``]`\n    `df``.``columns` `=` `[``'``timestamp``'``,` `'``PM25cf1``'``,` `'``TempF``'``,` `'``RH``'``]`\n    `return` `df`\n\n`pa` `=` `(``pa_full`\n      `.``pipe``(``drop_and_rename_cols``)``)`\n`pa``.``head``(``)`\n\n```", "```py\n`def` `parse_timestamps``(``df``)``:`\n    `date_format` `=` `'``%Y``-``%m``-``%d`  `%X` `%``Z``'`\n    `times` `=` `pd``.``to_datetime``(``df``[``'``timestamp``'``]``,` `format``=``date_format``)`\n    `return` `(``df``.``assign``(``timestamp``=``times``)`\n            `.``set_index``(``'``timestamp``'``)``)`\n\n`pa` `=` `(``pa_full`\n      `.``pipe``(``drop_and_rename_cols``)`\n      `.``pipe``(``parse_timestamps``)``)`\n`pa``.``head``(``2``)`\n\n```", "```py\n`def` `convert_tz``(``pa``)``:`\n    `return` `pa``.``tz_convert``(``'``US/Pacific``'``)`\n\n`pa` `=` `(``pa_full`\n      `.``pipe``(``drop_and_rename_cols``)`\n      `.``pipe``(``parse_timestamps``)`\n      `.``pipe``(``convert_tz``)``)`\n`pa``.``head``(``2``)`\n\n```", "```py\n`per_day` `=` `(``pa``.``resample``(``'``D``'``)`\n           `.``size``(``)`\n           `.``rename``(``'``records_per_day``'``)`\n           `.``to_frame``(``)`\n`)`\n\n```", "```py\n`percs` `=` `[``10``,` `25``,` `50``,` `75``,` `100``]`\n`np``.``percentile``(``per_day``[``'``records_per_day``'``]``,` `percs``,` `method``=``'``lower``'``)`\n\n```", "```py\narray([ 293,  720, 1075, 1440, 2250])\n\n```", "```py\n`px``.``line``(``per_day``,` `x``=``per_day``.``index``,` `y``=``'``records_per_day``'``,` \n        `labels``=``{``'``timestamp``'``:``'``Date``'``,` `'``records_per_day``'``:``'``Records per day``'``}``,`\n        `width``=``550``,` `height``=``250``,``)`\n\n```", "```py\n`len``(``pa``.``loc``[``'``2019-01-01``'``]``)`\n\n```", "```py\n2154\n\n```", "```py\n`pa``.``loc``[``'``2019-01-01``'``]``.``index``.``value_counts``(``)`\n\n```", "```py\n2019-01-01 13:52:30-08:00    2\n2019-01-01 12:02:21-08:00    2\n2019-01-01 11:49:01-08:00    2\n                            ..\n2019-01-01 21:34:10-08:00    2\n2019-01-01 11:03:41-08:00    2\n2019-01-01 04:05:38-08:00    2\nName: timestamp, Length: 1077, dtype: int64\n\n```", "```py\n`def` `drop_duplicate_rows``(``df``)``:`\n    `return` `df``[``~``df``.``index``.``duplicated``(``)``]`\n\n`pa` `=` `(``pa_full`\n      `.``pipe``(``drop_and_rename_cols``)`\n      `.``pipe``(``parse_timestamps``)`\n      `.``pipe``(``convert_tz``)`\n      `.``pipe``(``drop_duplicate_rows``)``)`\n`pa``.``shape`\n\n```", "```py\n(502628, 3)\n\n```", "```py\n`per_day` `=` `(``pa``.``resample``(``'``D``'``)`\n `.``size``(``)``.``rename``(``'``records_per_day``'``)`\n `.``to_frame``(``)`\n`)`\n\n```", "```py\n`fig` `=` `px``.``line``(``per_day``,` `x``=``per_day``.``index``,` `y``=``'``records_per_day``'``,`\n              `labels``=``{``'``timestamp``'``:``'``Date``'``,` `'``records_per_day``'``:``'``Records per day``'``}``,` \n              `width``=``550``,` `height``=``250``)`\n\n`fig``.``add_annotation``(``x``=``'``2019-07-24``'``,` `y``=``720``,`\n            `text``=``\"``720``\"``,` `showarrow``=``False``,` `yshift``=``10``)`\n`fig``.``add_annotation``(``x``=``'``2019-07-24``'``,` `y``=``1080``,`\n            `text``=``\"``1080``\"``,` `showarrow``=``False``,` `yshift``=``10``)`\n\n`fig``.``add_hline``(``y``=``1080``,` `line_width``=``3``,` `line_dash``=``\"``dot``\"``,` `opacity``=``0.6``)`\n`fig``.``add_hline``(``y``=``720``,` `line_width``=``3``,` `line_dash``=``\"``dot``\"``,` `opacity``=``0.6``)`\n`fig``.``add_vline``(``x``=``\"``2019-05-30``\"``,` `line_width``=``3``,` `line_dash``=``\"``dash``\"``,` `opacity``=``0.6``)`\n\n`fig`\n\n```", "```py\n`needed_measurements_80s` `=` `0.9` `*` `1080`\n`needed_measurements_120s` `=` `0.9` `*` `720`\n\n```", "```py\n`cutoff_date` `=` `pd``.``Timestamp``(``'``2019-05-30``'``,` `tz``=``'``US/Pacific``'``)`\n\n`def` `has_enough_readings``(``one_day``)``:`\n    `[``n``]` `=` `one_day`\n    `date` `=` `one_day``.``name`\n    `return` `(``n` `>``=` `needed_measurements_80s`\n            `if` `date` `<``=` `cutoff_date`\n            `else` `n` `>``=` `needed_measurements_120s``)`\n\n```", "```py\n`should_keep` `=` `per_day``.``apply``(``has_enough_readings``,` `axis``=``'``columns``'``)`\n`should_keep``.``head``(``)`\n\n```", "```py\ntimestamp\n2018-05-19 00:00:00-07:00    False\n2018-05-20 00:00:00-07:00     True\n2018-05-21 00:00:00-07:00     True\n2018-05-22 00:00:00-07:00     True\n2018-05-23 00:00:00-07:00     True\nFreq: D, dtype: bool\n\n```", "```py\n`def` `compute_daily_avgs``(``pa``)``:`\n    `should_keep` `=` `(``pa``.``resample``(``'``D``'``)`\n                   `[``'``PM25cf1``'``]`\n                   `.``size``(``)`\n                   `.``to_frame``(``)`\n                   `.``apply``(``has_enough_readings``,` `axis``=``'``columns``'``)``)`\n    `return` `(``pa``.``resample``(``'``D``'``)`\n            `.``mean``(``)`\n            `.``loc``[``should_keep``]``)`\n\n`pa` `=` `(``pa_full`\n      `.``pipe``(``drop_and_rename_cols``)`\n      `.``pipe``(``parse_timestamps``)`\n      `.``pipe``(``convert_tz``)`\n      `.``pipe``(``drop_duplicate_rows``)`\n      `.``pipe``(``compute_daily_avgs``)``)`\n`pa``.``head``(``2``)`\n\n```", "```py\n`full_df`\n\n```", "```py\n12246 rows × 8 columns\n```", "```py\n`full_df``[``'``id``'``]``.``value_counts``(``)``[``:``3``]`\n\n```", "```py\nid\nIA3    830\nNC4    699\nCA2    659\nName: count, dtype: int64\n\n```", "```py\n`nc4` `=` `full_df``.``loc``[``full_df``[``'``id``'``]` `==``'``NC4``'``]`\n\n```", "```py\n`ts_nc4` `=` `(``nc4``.``set_index``(``'``date``'``)`\n `.``resample``(``'``W``'``)`\n `[``'``pm25aqs``'``,` `'``pm25pa``'``]`\n `.``mean``(``)`\n `.``reset_index``(``)`\n`)`\n\n```", "```py\n`fig` `=` `px``.``line``(``ts_nc4``,` `x``=``'``date``'``,` `y``=``'``pm25aqs``'``,`\n              `labels``=``{``'``date``'``:``'``'``,` `'``pm25aqs``'``:``'``PM2.5 weekly avg``'``}``,`\n              `width``=``500``,` `height``=``250``)`\n\n`fig``.``add_trace``(``go``.``Scatter``(``x``=``ts_nc4``[``'``date``'``]``,` `y``=``ts_nc4``[``'``pm25pa``'``]``,`\n                         `line``=``dict``(``color``=``'``black``'``,` `dash``=``'``dot``'``)``)``)`\n\n`fig``.``update_yaxes``(``range``=``[``0``,``30``]``)`\n`fig``.``update_layout``(``showlegend``=``False``)`\n`fig``.``show``(``)`\n\n```", "```py\n`left` `=` `px``.``histogram``(``nc4``,` `x``=``'``pm25aqs``'``,` `histnorm``=``'``percent``'``)`\n`right` `=` `px``.``histogram``(``nc4``,` `x``=``'``pm25pa``'``,` `histnorm``=``'``percent``'``)`\n\n`fig` `=` `left_right``(``left``,` `right``,` `width``=``600``,` `height``=``250``)`\n`fig``.``update_xaxes``(``title``=``'``AQS readings``'``,` `col``=``1``,` `row``=``1``)`\n`fig``.``update_xaxes``(``title``=``'``PurpleAir readings``'``,` `col``=``2``,` `row``=``1``)`\n`fig``.``update_yaxes``(``title``=``'``percent``'``,` `col``=``1``,` `row``=``1``)`\n`fig``.``show``(``)`\n\n```", "```py\n`percs` `=` `np``.``arange``(``1``,` `100``,` `1``)`\n`aqs_qs` `=` `np``.``percentile``(``nc4``[``'``pm25aqs``'``]``,` `percs``,` `interpolation``=``'``lower``'``)`\n`pa_qs` `=` `np``.``percentile``(``nc4``[``'``pm25pa``'``]``,` `percs``,` `interpolation``=``'``lower``'``)`\n`perc_df` `=` `pd``.``DataFrame``(``{``'``percentile``'``:` `percs``,` `'``aqs_qs``'``:``aqs_qs``,` `'``pa_qs``'``:``pa_qs``}``)`\n\n```", "```py\n`fig` `=` `px``.``scatter``(``perc_df``,` `x``=``'``aqs_qs``'``,` `y``=``'``pa_qs``'``,`\n                 `labels``=``{``'``aqs_qs``'``:` `'``AQS quantiles``'``,`\n                         `'``pa_qs``'``:` `'``PurpleAir quantiles``'``}``,`\n                 `width``=``350``,` `height``=``250``)`\n\n`fig``.``add_trace``(``go``.``Scatter``(``x``=``[``2``,` `13``]``,` `y``=``[``1``,` `25``]``,` \n             `mode``=``'``lines``'``,` `line``=``dict``(``dash``=``'``dash``'``,` `width``=``4``)``)``)`\n`fig``.``update_layout``(``showlegend``=``False``)`\n`fig`\n\n```", "```py\n`diffs` `=` `(``nc4``[``'``pm25pa``'``]` `-` `nc4``[``'``pm25aqs``'``]``)`\n\n```", "```py\n`fig` `=` `px``.``histogram``(``diffs``,` `histnorm``=``'``percent``'``,` \n                   `width``=``350``,` `height``=``250``)`\n\n`fig``.``update_xaxes``(``range``=``[``-``10``,``30``]``,` `title``=``\"``Difference: PA&#8211;AQS reading``\"``)`\n`fig``.``update_traces``(``xbins``=``dict``(`\n        `start``=``-``10.0``,` `end``=``30.0``,` `size``=``2``)``)`\n`fig``.``update_layout``(``showlegend``=``False``)`\n`fig``.``show``(``)`\n\n```", "```py\n`px``.``scatter``(``full_df``,` `x``=``'``pm25aqs``'``,` `y``=``'``pm25pa``'``,` `width``=``350``,` `height``=``250``,`\n           `labels``=``{``'``pm25aqs``'``:``'``AQS PM2.5``'``,` `'``pm25pa``'``:``'``PurpleAir PM2.5``'``}``)`\n\n```", "```py\n`full_df` `=` `full_df``.``loc``[``(``full_df``[``'``pm25aqs``'``]` `<` `50``)``]`\n\n```", "```py\n`px``.``scatter``(``full_df``,` `x``=``'``pm25aqs``'``,` `y``=``'``pm25pa``'``,` \n           `trendline``=``'``lowess``'``,` `trendline_color_override``=``\"``orange``\"``,`\n           `labels``=``{``'``pm25aqs``'``:``'``AQS PM2.5``'``,` `'``pm25pa``'``:``'``PurpleAir PM2.5``'``}``,`\n           `width``=``350``,` `height``=``250``)`\n\n```", "```py\n`np``.``corrcoef``(``full_df``[``'``pm25aqs``'``]``,` `full_df``[``'``pm25pa``'``]``)`\n\n```", "```py\narray([[1\\.  , 0.88],\n       [0.88, 1\\.  ]])\n\n```", "```py\n`from` `sklearn``.``linear_model` `import` `LinearRegression`\n\n`AQS``,` `PA` `=` `full_df``[``[``'``pm25aqs``'``]``]``,` `full_df``[``'``pm25pa``'``]`\n\n`model` `=` `LinearRegression``(``)``.``fit``(``AQS``,` `PA``)`\n`m``,` `b` `=` `model``.``coef_``[``0``]``,` `model``.``intercept_`\n\n```", "```py\n`print``(``f``\"``True air quality estimate =` `{``-``b``/``m``:``.2``}` `+` `{``1``/``m``:``.2``}``PA``\"``)` \n\n```", "```py\nTrue air quality estimate = 1.4 + 0.53PA\n\n```", "```py\n`AQS_RH``,` `PA` `=` `full_df``[``[``'``pm25aqs``'``,` `'``rh``'``]``]``,` `full_df``[``'``pm25pa``'``]`\n`model_h` `=` `LinearRegression``(``)``.``fit``(``AQS_RH``,` `PA``)`\n`[``m1``,` `m2``]``,` `b` `=` `model_h``.``coef_``,` `model_h``.``intercept_`\n\n`print``(``f``\"``True Air Quality Estimate =` `{``-``b``/``m``:``1.2``}` `+` `{``1``/``m1``:``.2``}``PA +` `{``-``m2``/``m1``:``.2``}``RH``\"``)` \n\n```", "```py\nTrue Air Quality Estimate = 5.7 + 0.53PA + -0.088RH\n\n```"]