<html><head></head><body>
<div id="sbo-rt-content"><div class="readable-text" id="p1">
<h1 class="readable-text-h1"><span class="chapter-title-numbering"><span class="num-string">appendix</span></span> <span class="chapter-title-text">Python installation instructions</span></h1>
</div>
<div class="readable-text" id="p2">
<p>The projects in the book are technology agnostic, and the example solutions are mostly about the process, not the specifics of Python, which is my technology of choice. However, if you are a Python user like me, you might want to recreate my results on your machine and take my example solution as a starting point. This appendix explains how to install Python and set it up in a way that mimics the setup I used for the example solutions.</p>
</div>
<div class="readable-text intended-text" id="p3">
<p>Usually, the Python libraries required for a project are listed in the accompanying Jupyter notebooks and can be inferred from the <code>import</code> statements. That is, if the code in a solution imports <code>pandas</code>, you will need to have installed the <code>pandas</code> library. However, to recreate my examples exactly, you need to have the same version of each library as functionality changes across versions. There are many ways to ensure your Python environment is set up the same as mine, but generally, this is done using virtual environments.</p>
</div>
<div class="readable-text print-book-callout" id="p4">
<p><span class="print-book-callout-head">Note</span>  It is not necessary to have exactly the same setup to recreate the solutions in the book. You can likely use a newer Python version and newer versions of libraries such as <code>pandas</code> and get the same results. However, the virtual environments are explicitly pinned to older versions of both Python and the necessary libraries to ensure compatibility with each other. An example is the <code>recordlinkage</code> library used in chapter 3, which at time of writing is incompatible with <code>pandas</code> version 2.0.</p>
</div>
<div class="readable-text" id="p5">
<p>Virtual environments let you have multiple combinations of Python libraries, even different versions of Python, on the same machine, usually one per project. I recommend creating a virtual environment in which you can run the accompanying code examples and ensure your libraries have the same versions as mine. Again, there are many ways to set up virtual environments. You may already have your favorite way to do this, or you may have never encountered virtual environments before. In this book, I use the <code>poetry</code> library, and the following sections include instructions to recreate my environment.</p>
</div>
<div class="readable-text" id="p6">
<h2 class="readable-text-h2" id="sigil_toc_id_169"><span class="num-string">A.1</span> Installing Python</h2>
</div>
<div class="readable-text" id="p7">
<p>Specifically, the projects in the book use Python 3.11, but that is only a requirement if you want to recreate the example solutions exactly. If you have a different version of Python already installed, but want to recreate my environment, you can install Python 3.11 anyway as it will be separate from other Python installations.</p>
</div>
<div class="readable-text intended-text" id="p8">
<p>You can either install Python directly from Python.org (<a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a>) or through a bundled version, such as Anaconda (<a href="https://www.anaconda.com/download">https://www.anaconda.com/download</a>). You can also install Python through a minimal version of Anaconda, such as Miniconda (<a href="https://docs.conda.io/en/latest/miniconda.xhtml">https://docs.conda.io/en/latest/miniconda.xhtml</a>) or Miniforge (<a href="https://github.com/conda-forge/miniforge">https://github.com/conda-forge/miniforge</a>).</p>
</div>
<div class="readable-text intended-text" id="p9">
<p>I personally use Miniforge, but as long as the end result is that you have Python 3.11 installed on your machine, it doesn’t matter where you got it from.</p>
</div>
<div class="readable-text" id="p10">
<h2 class="readable-text-h2" id="sigil_toc_id_170"><span class="num-string">A.2</span> Installing poetry</h2>
</div>
<div class="readable-text" id="p11">
<p><code>poetry</code> is the package and dependency management system I chose to manage my virtual environments. You can install it with your Python installation using whichever in-built package manager you have (usually <code>pip</code> or <code>conda</code>). An example command, which should be run in a terminal or command prompt, is <code>pip</code> <code>install</code> <code>poetry</code>. </p>
</div>
<div class="readable-text print-book-callout" id="p12">
<p><span class="print-book-callout-head">Note</span>  If you use a different method for managing virtual environments, such as <code>virtualenv</code>, I have also included a <code>requirements.txt</code> file, which contains the same information as the <code>poetry</code> files, but it is the format required for these other tools. This will still require that you use Python 3.11. </p>
</div>
<div class="readable-text" id="p13">
<p>More information about <code>poetry</code> is available at <a href="https://python-poetry.org/">https://python-poetry.org/</a>.</p>
</div>
<div class="readable-text" id="p14">
<h2 class="readable-text-h2" id="sigil_toc_id_171"><span class="num-string">A.3</span> Creating your virtual environment</h2>
</div>
<div class="readable-text" id="p15">
<p>In the materials for the book, I have supplied two files, <code>poetry.lock</code> and <code>pyproject .toml</code>, both of which you need to recreate my virtual environment with the same versions of all necessary libraries. At the time of writing, you simply need to have those two files in the root folder where you have downloaded the code for the book.</p>
</div>
<div class="readable-text intended-text" id="p16">
<p>First, navigate to your code folder where these files reside and run the following command to ensure <code>poetry</code> uses Python 3.11, regardless of what other versions exist on your machine. An example of a command prompt is shown in figure A.1:</p>
</div>
<div class="browsable-container listing-container" id="p17">
<div class="code-area-container">
<pre class="code-area">poetry env use /path/to/your/python3.11/python.exe<span class="aframe-location"/></pre>
</div>
</div>
<div class="browsable-container figure-container" id="p18">
<img alt="figure" height="117" src="../Images/A-1.png" width="1100"/>
<h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.1</span> Command to tell <code>poetry</code> where Python 3.11 is installed</h5>
</div>
<div class="readable-text" id="p19">
<p>Next, run the command <code>poetry</code> <code>install</code> to create your virtual environment. The correct versions of the necessary libraries will be installed. Figure A.2 shows what the output might look like.<span class="aframe-location"/></p>
</div>
<div class="browsable-container figure-container" id="p20">
<img alt="figure" height="702" src="../Images/A-2.png" width="1100"/>
<h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.2</span> Installing the <code>poetry</code> environment and associated libraries</h5>
</div>
<div class="readable-text" id="p21">
<p>At this point, you have a virtual environment that is set up the same as mine. You can activate it by running the command <code>poetry</code> <code>shell</code>.</p>
</div>
<div class="readable-text intended-text" id="p22">
<p>This will activate the environment, and any subsequent Python commands will run in this environment instead of the base one. From here, you can launch Jupyter using the command <code>jupyter</code> <code>notebook</code>. This will launch Jupyter, and you can interact with the code using the correct versions of Python and its libraries. Figure A.3 shows the final <code>poetry</code> commands before launching Jupyter.<span class="aframe-location"/></p>
</div>
<div class="browsable-container figure-container" id="p23">
<img alt="figure" height="672" src="../Images/A-3.png" width="1100"/>
<h5 class="figure-container-h5 sigil_not_in_toc"><span class="num-string">Figure A.3</span> Launching Jupyter from the <code>poetry</code> environment</h5>
</div>
</div></body></html>