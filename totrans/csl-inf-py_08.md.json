["```py\nimport numpy as np\nimport pandas as pd\npd.set_option('precision', 3)\n\n# Data from Bisschop et al. (2017)\npath = \"https://github.com/causal-methods/Data/raw/master/\" \ndf = pd.read_stata(path + \"CBSregist2015.dta\")\ndf.head(5) \n```", "```py\nbig_cities = [\"Amsterdam\", \"Rotterdam\", \"Den Haag\"]\nmedium_cities = [\"Utrecht\", \"Nijmegen\", \"Groningen\",\n                 \"Heerlen\", \"Eindhoven\", \"Arnhem\"]\n\n# Classify cities\ndef classify(var):\n    if var in big_cities:\n        return \"Big Cities\"\n    elif var in medium_cities:\n        return \"Medium Cities\"    \n    else:   \n        return \"No tippelzone\"\n\ndf['group'] = df[\"city\"].apply(classify) \n```", "```py\noutcome = ['sexassaultpcN', 'rapepcN', \n\t'drugspcN', 'maltreatpcN', 'weaponspcN']\n\ndf.groupby('group')[outcome].mean().T \n```", "```py\ndemographics = ['popul_100', 'pop_dens_100', 'popmale1565_100',\n            'inkhh', 'educhpc', 'nondutchpc', 'insurWWAO_pc']\n\ndf.groupby('group')[demographics].mean().T \n```", "```py\npolitical_party = ['mayorSoc', 'mayorLib', 'mayorChr']\ndf.groupby('group')[political_party].mean().T \n```", "```py\ndf['year'] = pd.DatetimeIndex(df['year']).year\ndf['Dyear'] = pd.Categorical(df.year)\n\n# Set Panel Data\n# Set city as the unit of analysis\ndf25 = df.set_index(['city1', 'year']) \n```", "```py\nimport statsmodels.formula.api as smf\n\nYs = [\"lnsexassaultN\", \"lnrapeN\", \"lndrugsN\",\n      \"lnweaponsN\", \"lnmaltreatN\"]\n\nbase = \"~ 1 + opening\"\nfe = \"+ C(city) + C(Dyear)\"\n\ncontrols = ['logpopmale1565', 'logpopdens', 'inkhh', \n\t'educhpc', 'nondutchpc', 'insurWWAO', 'mayorCDA',\n  'mayorCU', 'mayorD66', 'mayorVVD']\n\nXs = \"\"\nfor var in controls:\n    Xs = Xs + '+' + var\n\ncolumns = []\nfor Y in Ys:\n  result = smf.ols(Y + base + fe + Xs, df25).fit(cov_type='cluster',\n                cov_kwds={'groups': df25['city']})\n  columns.append(result) \n```", "```py\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\tools\\_testing.py:19: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.\n  import pandas.util.testing as tm \n```", "```py\n#  Library to print professional publication\n# tables in Latex, HTML, etc.\n!pip install stargazer \n```", "```py\nRequirement already satisfied: stargazer in c:\\anaconda\\envs\\textbook\\lib\\site-packages (0.0.5) \n```", "```py\nWARNING: Error parsing requirements for numpy: [Errno 2] No such file or directory: 'c:\\\\anaconda\\\\envs\\\\textbook\\\\lib\\\\site-packages\\\\numpy-1.19.2.dist-info\\\\METADATA' \n```", "```py\n# Settings for a nice table\nfrom stargazer.stargazer import Stargazer\nstargazer = Stargazer(columns)\n\nstargazer.title('The Impact of Tippelzone on Crime')\n\nnames = ['Sex Abuse', 'Rape', 'Drugs', 'Weapons', 'Assault']\nstargazer.custom_columns(names, [1, 1, 1, 1, 1])\n\nstargazer.covariate_order(['opening'])\n\nstargazer.add_line('Covariates', ['Yes', 'Yes', 'Yes', 'Yes', 'Yes'])\n\nstargazer.add_line('City Fixed Effects', ['Yes', 'Yes', 'Yes', 'Yes', 'Yes'])\nstargazer.add_line('Year Fixed Effects', ['Yes', 'Yes', 'Yes', 'Yes', 'Yes'])\n\nstargazer \n```", "```py\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\base\\model.py:1752: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 52, but rank is 24\n  'rank is %d' % (J, J_), ValueWarning)\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\base\\model.py:1752: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 52, but rank is 24\n  'rank is %d' % (J, J_), ValueWarning)\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\base\\model.py:1752: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 52, but rank is 24\n  'rank is %d' % (J, J_), ValueWarning)\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\base\\model.py:1752: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 52, but rank is 24\n  'rank is %d' % (J, J_), ValueWarning)\nC:\\Anaconda\\envs\\textbook\\lib\\site-packages\\statsmodels\\base\\model.py:1752: ValueWarning: covariance of constraints does not have full rank. The number of constraints is 52, but rank is 24\n  'rank is %d' % (J, J_), ValueWarning) \n```", "```py\nimport math\nmath.exp(-0.302) - 1 \n```", "```py\n-0.2606619351104681 \n```"]