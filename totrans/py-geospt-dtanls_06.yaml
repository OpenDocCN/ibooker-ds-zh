- en: Chapter 6\. The ArcGIS Python API
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第六章. ArcGIS Python API
- en: The suite of client software and GIS developed by Esri, the global leader in
    GIS, is known as ArcGIS. It’s an API and Python package in one that allows users
    to query for information hosted in ArcGIS Online or ArcGIS Enterprise. It’s not
    open source, but Esri’s leadership in the industry has produced quite a lot of
    free content and tutorials that you can access and explore. I will share a few
    learning resources, accessible tools, and information that you can access with
    the ArcGIS Python API. You’ll need to use a Jupyter Notebook and ArcGIS Online
    to follow along.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 由 Esri 开发的客户端软件和 GIS 组成的套件被称为 ArcGIS。它不仅是一个 API，还是一个 Python 包，允许用户查询存储在 ArcGIS
    Online 或 ArcGIS Enterprise 中的信息。它不是开源的，但 Esri 在行业中的领导地位已经产生了大量免费内容和教程，供你访问和探索。我将分享一些学习资源、可访问的工具和信息，你可以通过
    ArcGIS Python API 访问它们。你需要使用 Jupyter Notebook 和 ArcGIS Online 来跟进。
- en: Setup
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置
- en: There is a desktop application called ArcGIS Pro as well as a browser-based
    platform called ArcGIS Online; in this chapter, you’ll be working with ArcGIS
    Online with the ArcGIS Python API.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS Pro 是一个桌面应用程序，还有一个基于浏览器的平台叫做 ArcGIS Online；在本章中，你将使用 ArcGIS Online 和
    ArcGIS Python API 进行工作。
- en: Modules Available in the ArcGIS Python API
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ArcGIS Python API 中可用的模块
- en: 'To extend the standard Python library, the ArcGIS Python API allows access
    to additional modules, available by dot notation. You can explore them in the
    [documentation](https://oreil.ly/FaGv3), and I will provide more information as
    we use them in our coding. These modules include:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 为了扩展标准 Python 库，ArcGIS Python API 允许通过点符号访问其他模块。你可以在 [文档](https://oreil.ly/FaGv3)
    中探索它们，随着我们在编码中使用它们，我会提供更多信息。
- en: '`Arcgis.gis`'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '`Arcgis.gis`'
- en: Connects you to ArcGIS Online
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 将你连接到 ArcGIS Online
- en: '`Arcgis.features`'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '`Arcgis.features`'
- en: Offers functions for working with groups of geographic elements
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 提供用于处理地理元素组的功能
- en: '`Arcgis.geometry`'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`Arcgis.geometry`'
- en: Allows input and output of different geometries (points or polygons, for example)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 允许输入和输出不同的几何体（例如点或多边形）
- en: '`Arcgis.geocoding`'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '`Arcgis.geocoding`'
- en: Assigns location coordinates for map visualization
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 为地图可视化分配位置坐标
- en: '`Arcgis.geoenrichment`'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '`Arcgis.geoenrichment`'
- en: Adds attributes to an area
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 为区域添加属性
- en: I use open source or low-cost options when teaching geospatial skills to make
    this knowledge accessible to as many people as possible. Since most Esri users
    are professional or enterprise subscribers, few understand the cost burden for
    personal use. Whatever you choose, please read the documentation carefully before
    using it to avoid unintended costs.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在教授地理空间技能时，我使用开源或低成本选项，以便让尽可能多的人获得这些知识。由于大多数 Esri 用户都是专业或企业订阅者，很少有人了解个人使用的成本负担。无论你选择什么，请在使用之前仔细阅读文档，以避免不必要的费用。
- en: The ArcGIS API is distributed as the package arcgis. In the following example,
    you’ll install it via Conda, the suggested protocol, as you’ve done in several
    chapters in this book so far.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS API 是作为 arcgis 包分发的。在下面的示例中，你将通过 Conda 安装它，这是建议的协议，就像你在本书的几个章节中已经做过的那样。
- en: Installing ArcGIS Pro
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 ArcGIS Pro
- en: Although ArcGIS Pro is only for Windows, the API lets non-Windows users access
    ArcGIS features without having to open up a Windows environment. I am going to
    assume that if you already have a full ArcGIS Pro license, you can follow the
    documentation to install [Python Package Manager or Python Command Prompt](https://oreil.ly/sXsRt).
    To use the Pro license and work within your desktop environment with the API,
    you need to install ArcGIS on the same computer where you are running the commands.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 ArcGIS Pro 只适用于 Windows，但 API 允许非 Windows 用户访问 ArcGIS 功能，而无需打开 Windows 环境。我假设如果你已经有完整的
    ArcGIS Pro 许可证，你可以按照文档安装 [Python Package Manager or Python Command Prompt](https://oreil.ly/sXsRt)。要在桌面环境中使用
    Pro 许可证并与 API 一起工作，你需要在运行命令的同一台计算机上安装 ArcGIS。
- en: Tip
  id: totrans-20
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: If, like me, you have an ArcGIS Pro account but prefer to work in MacOS, you
    can use ArcGIS Pro offline. To do so, sign into your ArcGIS Pro account and, under
    Settings >> Licenses, check the box allowing you to work offline.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你和我一样拥有 ArcGIS Pro 账户，但更喜欢在 MacOS 上工作，你可以离线使用 ArcGIS Pro。为此，请登录你的 ArcGIS Pro
    账户，在“设置 >> 许可证”下，选中允许你离线工作的复选框。
- en: There are options to access publicly available resources even without a license,
    so let’s explore those.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 即使没有许可证，也有访问公开资源的选项，因此让我们探索一下。
- en: Setting Up Your Environment
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置你的环境
- en: Next, open your terminal. I suggest creating an environment for downloading
    ArcGIS. (As you may recall, environments allow you to install compatible versions
    of packages.) Here, I am calling my environment `esriENV`.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，打开您的终端。我建议为下载 ArcGIS 创建一个环境。（您可能记得，环境允许您安装兼容版本的软件包。）在这里，我称我的环境为 `esriENV`。
- en: Tip
  id: totrans-25
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: 'Although it is possible to update individual packages within an environment,
    if I generate persistent errors when working in an environment, I delete the whole
    thing and re-create it from scratch. Here is a new Python geospatial package with
    commonly used packages that you may want to consider adding to any created space:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然可以在环境中更新单个软件包，但如果在环境中工作时生成持久错误，我会将整个环境删除并从头开始创建。这是一个新的 Python 地理空间软件包，其中包含您可能希望考虑添加到任何创建的空间中的常用软件包：
- en: '[PRE0]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You may be curious about the Mamba install listed here. Since the writing of
    this book, [mambaforge](https://oreil.ly/1zzLj) has emerged as a Conda-forge community
    project. Operationally, Mamba promises speed and compatibility with Conda packages.
    As you experiment, you’ll reach your own preferred workflow. I have installed
    Mamba into my base environment and use it with my own projects, but the text has
    been written with the longer-term reliability of Conda environments.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能对这里列出的 Mamba 安装感兴趣。自本书编写以来，[mambaforge](https://oreil.ly/1zzLj) 已成为 Conda-forge
    社区项目。在操作上，Mamba 承诺速度和与 Conda 软件包的兼容性。在您的实验中，您将找到自己喜欢的工作流程。我已将 Mamba 安装到我的基础环境中，并在自己的项目中使用它，但本文是在长期可靠性的基础上编写的
    Conda 环境。
- en: 'Let’s review how to create your environment and install the packages required
    for this Notebook. Enter the following code in the terminal, but instead of `*myenv*`,
    insert the name of *your* environment:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下如何创建您的环境并安装本笔记本所需的软件包。在终端中输入以下代码，但是在 `*myenv*` 的地方插入 *您* 的环境名称：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'To create an environment and include a specific version of Python to address
    package dependencies, enter the following code:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个环境并包含一个特定版本的 Python 来解决软件包依赖关系，请输入以下代码：
- en: '[PRE2]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Now you must activate your new environment. We have only one channel or place
    to host installed packages at the moment, conda-forge, so we want all the dependencies
    that we need for installed packages to come from the conda-forge channel unless
    they exist only on default channels.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您必须激活您的新环境。目前我们只有一个频道或地方可以托管安装的软件包，即 conda-forge，因此我们希望所有需要安装软件包的依赖都来自 conda-forge
    频道，除非它们只存在于默认频道上。
- en: 'Alternatively, you may want to have the newest versions of packages on any
    channel in your list. If this is the case, use `conda config --set channel_priority
    strict`:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可能希望在列表中的任何频道上拥有最新版本的软件包。如果是这种情况，请使用`conda config --set channel_priority
    strict`：
- en: '[PRE3]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Installing Packages
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装软件包
- en: 'You are ready to install your packages:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 您已准备好安装您的软件包：
- en: '[PRE4]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, you will need to install the Jupyter Notebook; the IPython kernel, to
    execute the Python backend in Jupyter within a Conda environment; and Jupyter
    Notebook extensions to simplify coding tasks with tools like autocompletion:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将需要安装 Jupyter Notebook；IPython 内核，以在 Conda 环境中执行 Jupyter 的 Python 后端；以及
    Jupyter Notebook 扩展，以简化工具（如自动完成）的编码任务：
- en: '[PRE5]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'In your terminal, activate the ArcGIS environment using the name you gave it:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的终端中，使用您给它起的名称激活 ArcGIS 环境：
- en: '[PRE6]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Once the packages are downloaded, you can once again open a Jupyter Notebook
    from your terminal so that you can document your work and evaluate the output
    step-by-step:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 下载完成后，您可以再次从终端打开 Jupyter Notebook，以便逐步记录您的工作并评估输出结果：
- en: '[PRE7]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The Notebook will be installed along with the API and will open in a new window.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 笔记本将与 API 一起安装，并在新窗口中打开。
- en: Connecting to the ArcGIS Python API
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到 ArcGIS Python API
- en: Now that you’ve finished installing, it’s time to log in. First I’ll show you
    how to log in anonymously; the section after that explains how to log in with
    a developer or individual account.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，现在是时候登录了。首先，我将向您展示如何匿名登录；随后的部分将解释如何使用开发者或个人账户登录。
- en: Connecting to ArcGIS Online as an Anonymous User
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 作为匿名用户连接到 ArcGIS Online
- en: There are many ways to gain access to parts of ArcGIS for minimal or no charge;
    even without an ArcGIS account, you can use the resources, create maps, and share
    them, but with limited functionality. You can explore the options in Jupyter Notebook
    by running the code or exploring [the documentation](https://oreil.ly/kqmmF).
    Another benefit of a public account is that it allows anonymous access.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多方法可以免费或几乎不收费地访问 ArcGIS 的部分内容；即使没有 ArcGIS 账户，您也可以使用资源、创建地图并共享它们，但功能有限。您可以通过运行代码或查阅[文档](https://oreil.ly/kqmmF)在
    Jupyter Notebook 中探索这些选项。公共账户的另一个好处是它允许匿名访问。
- en: 'You’ll start by importing the Python API into your Jupyter Notebook. In this
    example, you’ll be using a public account, so only free resources will be shown.
    No problem—there is a lot here for you to explore. To import GIS from the `gis`
    module, run:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 您将首先在您的 Jupyter Notebook 中导入 Python API。在这个示例中，您将使用一个公共账户，因此只显示免费资源。没问题——这里有很多东西可以让您探索。要从`gis`模块导入
    GIS，运行：
- en: '[PRE8]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Connecting to an ArcGIS User Account with Credentials
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用凭据连接到 ArcGIS 用户账户
- en: 'If you have a user account, you can log in one of two ways: using the built-in
    login or using an API key. The advantage of logging in is that you can save any
    maps you create to your account.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您有用户账户，可以通过两种方式之一登录：使用内置登录或使用 API 密钥。登录的优势在于您可以将创建的任何地图保存到您的账户中。
- en: 'Either way, you’ll first need to import GIS using your terminal:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 无论哪种方式，您首先需要使用终端导入 GIS：
- en: '[PRE9]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'To use the built-in login, run:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用内置登录，运行：
- en: '[PRE10]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To log in with an API key, use the following code (I’ve shortened the token):'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 API 密钥登录，请使用以下代码（我已经缩短了令牌）：
- en: '[PRE11]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'When you connect with credentials and run the cell, the output will be your
    organization’s ArcGIS Online username. The username of my account is “datalchemy”;
    you will need to replace this with your own account credentials if you create
    an account:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 当您连接凭据并运行单元格时，输出将是您组织的 ArcGIS Online 用户名。我的账户用户名是“datalchemy”；如果您创建一个账户，您需要用您自己的账户凭据替换这些内容：
- en: '[PRE12]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'You can also log in with your password protected if you have an account and
    a login URL (listed in your organization’s settings), again substituting your
    own credentials:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您拥有账户和登录 URL（列在您组织的设置中），可以通过密码保护方式登录，再次用您自己的凭据替换：
- en: '[PRE13]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Once you run the cell, a box will prompt you to enter your username and password.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 运行单元格后，将弹出一个框，提示您输入用户名和密码。
- en: Now you’re ready to explore some layers of imagery.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以开始探索一些图像层次。
- en: 'Exploring Imagery Layers: Urban Heat Island Maps'
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索图像层：城市热岛地图
- en: Before we begin, a word about naming conventions. [Figure 6-1](#map_of_chicago)
    is a map of Chicago that I’ve named *map1*.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始之前，先说一下命名约定。[图 6-1](#map_of_chicago) 是一幅芝加哥地图，我称之为*map1*。
- en: 'The designation is arbitrary: you may name your maps according to your preferences,
    but the point is to avoid confusion when writing code that involves multiple maps.
    It is common to designate a map variable with an integer following it, or simply
    `m`. Select a method and be consistent. It should be distinct from the `map()`
    function. You can generate *map1* by running the following code in your Jupyter
    Notebook:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这个指定是任意的：您可以根据自己的喜好为地图命名，但重要的是在涉及多个地图的代码编写时避免混淆。通常会指定一个带有整数后缀的地图变量，或者简单地使用`m`。选择一种方法并保持一致。它应与`map()`函数有所区别。您可以通过在
    Jupyter Notebook 中运行以下代码生成*map1*：
- en: '[PRE14]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: This centers your map on Chicago, Illinois. You can set the area your map covers,
    called its *extent*, by zooming in on a specific location or by drawing a polygon.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这将使您的地图居中显示在伊利诺伊州的芝加哥。您可以通过缩放到特定位置或绘制多边形来设置地图覆盖的区域，称为其*范围*。
- en: '![Map of Chicago](assets/pgda_0601.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![芝加哥地图](assets/pgda_0601.png)'
- en: Figure 6-1\. Map of Chicago
  id: totrans-72
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-1\. 芝加哥地图
- en: Note
  id: totrans-73
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'To access ArcGIS Online’s help function, type:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问 ArcGIS Online 的帮助功能，请输入：
- en: '[PRE15]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'If you type a dot and hit Tab, a dropdown menu will display additional properties
    that you can click for more information:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您键入一个点并按 Tab 键，将显示一个下拉菜单，其中包含您可以点击以获取更多信息的附加属性：
- en: '[PRE16]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Now you can try layering some attributes onto your map. *Imagery layers* display
    data from image services. These resources allow you to apply rules to how images
    are displayed. You can search for them by identifying the item type as `Imagery
    Layer`.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以尝试将一些属性层叠到您的地图上。*图像层*显示来自图像服务的数据。这些资源允许您应用规则来显示图像。您可以通过将项目类型标识为`Imagery
    Layer`来搜索它们。
- en: 'You can use search terms in `gis.content.search()` to describe the features
    you would like to include in your map. Creating a variable assigned to `gis.content.search()`
    allows you to find available feature layers or other `item_type` data. Using the
    following code snippet, you can explore available Landsat 9 satellite views for
    your imagery layer. Different imagery layers have different properties. Here,
    I’ve restricted the search to the two options shown in [Figure 6-2](#searching_with_gisdotcontentdotsearchle),
    which are the publicly available feature layers with the indicated terms:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用`gis.content.search()`中的搜索词来描述您想在地图中包含的要素。创建一个分配给`gis.content.search()`的变量可以帮助您查找可用的要素图层或其他`item_type`数据。使用以下代码片段，您可以探索可用的Landsat
    9卫星视图，以用作影像层。不同的影像层具有不同的属性。在这里，我已将搜索限制为[图6-2](#searching_with_gisdotcontentdotsearchle)中显示的两个选项，这些选项是带有指定术语的公开可用要素图层：
- en: '[PRE17]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![Searching with gis.content.search() for Landsat 9 views](assets/pgda_0602.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![使用gis.content.search()搜索Landsat 9视图](assets/pgda_0602.png)'
- en: Figure 6-2\. Searching with `gis.content.search()` for Landsat 9 views
  id: totrans-82
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-2\. 使用`gis.content.search()`搜索Landsat 9视图
- en: '`Item_type` in the code block includes web scenes, feature layers, geospatial
    data, basemaps, and interactive 3D environments with terrain. You can see more
    about items and item types in the [documentation](https://oreil.ly/MRi96).'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块中的`item_type`包括Web场景、要素图层、地理空间数据、底图和具有地形的交互式3D环境。您可以在[文档](https://oreil.ly/MRi96)中了解更多关于项目和项目类型的信息。
- en: '*Web scenes* let you visualize and analyze geospatial content containing all
    configuration settings, such as a basemap, styling, and extent. To explore these,
    you can substitute `web scene` for `item_type`.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '*Web场景*允许您可视化和分析包含所有配置设置的地理空间内容，例如底图、样式和范围。要探索这些内容，您可以用`web scene`替换`item_type`。'
- en: 'We’ll use web scenes to explore heat islands in Chicago. According to the [US
    Environmental Protection Agency](https://oreil.ly/3RWFQ) (EPA), *heat islands*
    are:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用Web场景来探索芝加哥的热岛。根据[美国环保局](https://oreil.ly/3RWFQ)（EPA），*热岛*是：
- en: urbanized areas that experience higher temperatures than outlying areas. Structures
    such as buildings, roads, and other infrastructure absorb and re-emit the sun’s
    heat more than natural landscapes such as forests and water bodies. Urban areas,
    where these structures are highly concentrated and greenery is limited, become
    “islands” of higher temperatures relative to outlying areas.
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 城市化区域的温度比外围区域高。建筑物、道路和其他基础设施等结构比森林和水体等自然景观更多地吸收并重新发射太阳的热量。在这些结构高度集中且绿化有限的城市区域中，相对于外围区域，成为更高温度的“岛屿”。
- en: Urban heat island severity measures how city infrastructure absorbs and re-emits
    this heat.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 城市热岛严重性测量城市基础设施如何吸收并重新发射这些热量。
- en: 'To locate the image server URL and begin exploring heat islands on your map,
    click the title (“Urban Heat Islands”) in your search results or pull up a list
    by calling `img_svc_url` in the next cell:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 要定位图像服务器的URL并开始在地图上探索热岛，请单击搜索结果中的标题（“城市热岛”），或通过在下一个单元格中调用`img_svc_url`来列出：
- en: '[PRE18]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This outputs:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 这输出：
- en: '[PRE19]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'You can try raster functions with this code, too. More about those in the next
    section, but for now, try this:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用此代码尝试栅格函数。更多关于这些内容的信息在下一节中，但现在，请尝试这个：
- en: '[PRE20]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'This outputs:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这输出：
- en: '[PRE21]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'You have accessed the Urban Heat Island Severity imagery layer. Now add it
    to your map of Chicago:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经访问了城市热岛严重性影像层。现在将其添加到您的芝加哥地图中：
- en: '[PRE22]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The `landsat_urbanheat` layer is now added to your map, which should look similar
    to [Figure 6-3](#the_map_layer_added_to_the_map_extent).
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '`landsat_urbanheat`图层现在已添加到您的地图中，这应与[图6-3](#the_map_layer_added_to_the_map_extent)类似。'
- en: '![The map layer added to the map extent](assets/pgda_0603.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![添加到地图范围的地图图层](assets/pgda_0603.png)'
- en: Figure 6-3\. The map layer added to the map extent
  id: totrans-100
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-3\. 添加到地图范围的地图图层
- en: 'Now you’ll add the imagery layer from the URL for the Multispectral Landsat
    layer and assign it to the variable `landsat_ms`:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将从多光谱Landsat图层的URL中添加影像层，并将其分配给变量`landsat_ms`：
- en: '[PRE23]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The last line of code simply confirms the name of the layer.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一行代码仅确认了图层的名称。
- en: 'This should generate the following output:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这将生成以下输出：
- en: '[PRE24]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'A description of the image layer is also available with a line of code:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图像层的描述也可通过一行代码获取：
- en: '[PRE25]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The output is detailed:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 输出是详细的：
- en: '[PRE26]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: To explore additional raster function objects, visit the [Common Data Types
    Documentation](https://oreil.ly/MMRDP). I also recommend keeping the [ArcGIS Python
    API reference guide](https://oreil.ly/DDDfa) handy as you learn about raster functions
    and imagery layers.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: Raster Functions
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Raster functions process pixels from an image to one or more rasters without
    the need to download or create intermediate files for analysis. Access to raster
    functions is limited without additional credentials, but you still have the opportunity
    to explore Landsat multispectral imagery.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: 'This time, we’ll explore a map of Los Angeles, working our way through a few
    highlights:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'You’ll run another search in `gis.content.search()`. This time, you’re looking
    for images outside of your organization (if you have created one) by indicating
    `outside_org=True`. This is the setting when you are accessing publicly available
    datasets:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Your search results should include Multispectral Landsat, shown in [Figure 6-4](#search_results_showing_a_multispectral).
    To view the `landsat_item`, call it in a cell:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '![Search results showing a Multispectral Landsat imagery layer by Esri](assets/pgda_0604.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
- en: Figure 6-4\. Search results showing a Multispectral Landsat imagery layer by
    Esri
  id: totrans-120
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'For additional information, click on it or run the following code:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'This map features *multispectral bands of light*, which are detected with instruments
    more sensitive than the human eye. As you learned in [Chapter 1](ch01.xhtml#introduction_to_geospatial_analytics),
    multispectral bands capture image data within specific wavelength ranges across
    the electromagnetic spectrum to highlight different land-cover features. You can
    examine the name of each band, its minimum and maximum wavelengths, and other
    properties:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: The bands indicate details related to land mass, vegetation, and other types
    of land cover. [Table 6-1](#multispectral_and_thermal_infrared_sens) is an excerpt
    of the output, placed into a table for readability.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: Table 6-1\. Multispectral and Thermal Infrared Sensor Bands
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: '| Bands | Wavelength (micrometers) | Resolution (meters) |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
- en: '| Band 1—Coastal aerosol | 0.43–0.45 | 30 |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
- en: '| Band 2—Blue | 0.45–0.51 | 30 |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
- en: '| Band 3—Green | 0.53–0.59 | 30 |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
- en: '| Band 4—Red | 0.64–0.67 | 30 |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
- en: '| Band 5—Near Infrared (NIR) | 0.85–0.88 | 30 |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
- en: '| Band 6—Short-Wave Infrared (SWIR) 1 | 1.57–1.65 | 30 |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
- en: '| Band 7—Short-Wave Infrared (SWIR) 2 | 2.11–2.29 | 30 |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
- en: '| Band 8—Panchromatic | 0.50–0.68 | 15 |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
- en: '| Band 9—Cirrus | 1.36–1.38 | 30 |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
- en: '| Band 10—Thermal Infrared (TIRS) 1 | 10.6–11.19 | 100 |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
- en: '| Band 11—Thermal Infrared (TIRS) 2 | 11.50–12.51 | 100 |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
- en: 'Create the map using your Jupyter Notebook:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Now add the feature layer:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: You can now view your map ([Figure 6-5](#a_los_angeles_map_created_using_multisp)).
    You can also begin using raster functions.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '![A Los Angeles map created using Multispectral Landsat data](assets/pgda_0605.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
- en: Figure 6-5\. A Los Angeles map created using Multispectral Landsat data
  id: totrans-146
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Here, you’ll use a raster function to highlight color visualizations in your
    map. For example, `color infrared` shows bright red bands to indicate healthy
    vegetation, while `natural color` shows topography as we typically see it: green
    vegetation, blue water, brown soil.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您将使用一个栅格函数来突出显示地图中的彩色可视化效果。例如，`color infrared`显示鲜艳的红色条带来指示健康的植被，而`natural
    color`显示我们通常看到的地形：绿色的植被，蓝色的水域，棕色的土壤。
- en: 'Many of the options are available with a *dynamic range adjustment (DRA)* to
    enhance details and improve visibility when being matched to the range of your
    computer or other device. You can use the following code to generate a list of
    available raster functions, as shown in the output that follows:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 许多选项可通过*动态范围调整（DRA）*来进行调整，以增强细节并在匹配您的计算机或其他设备的范围时提高可见性。您可以使用以下代码生成可用栅格函数的列表，如随后显示的输出所示：
- en: '[PRE34]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'This outputs a list:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出一个列表：
- en: '[PRE35]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Getting familiar with a few of these functions should pave the way for you to
    take a deeper look at other options in your independent explorations.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 熟悉其中几个函数应该为您在独立探索中深入了解其他选项铺平了道路。
- en: 'Let’s try viewing `color_infrared`. You’ll use the `apply` function:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试查看`color_infrared`。您将使用`apply`函数：
- en: '[PRE36]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'To visualize the map, call the `map` function:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 要可视化地图，请调用`map`函数：
- en: '[PRE37]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Healthy vegetation is now shown in bright red ([Figure 6-6](#los_angeles_viewed_with_color_infrared)).
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 健康的植被现在以鲜艳的红色显示（[图6-6](#los_angeles_viewed_with_color_infrared)）。
- en: '![Los Angeles viewed with color_infrared](assets/pgda_0606.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![用彩色红外线查看的洛杉矶](assets/pgda_0606.png)'
- en: Figure 6-6\. Los Angeles viewed with `color_infrared`
  id: totrans-159
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-6\. 用`color_infrared`查看的洛杉矶
- en: 'The best raster function for viewing vegetation is often the Normalized Difference
    Vegetation Index (NDVI). [Figure 6-7](#los_angeles_ndvi) demonstrates the `NDVI_colorized`
    function, showing vegetation in green:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 用于查看植被的最佳栅格函数通常是归一化差异植被指数（NDVI）。[图6-7](#los_angeles_ndvi)展示了`NDVI_colorized`函数，显示绿色的植被：
- en: '[PRE38]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '![Los Angeles NDVI](assets/pgda_0607.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![Los Angeles NDVI](assets/pgda_0607.png)'
- en: Figure 6-7\. Los Angeles NDVI
  id: totrans-163
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-7\. 用于NDVI的洛杉矶
- en: You have learned how to search for images and feature layers and how to apply
    raster functions to a specific location to highlight specific features. Next,
    we will explore attributes and take a look at the `arcgis.geometry` module.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经学会了如何搜索图像和要素图层，以及如何对特定位置应用栅格函数来突出显示特定功能。接下来，我们将探讨属性，并查看`arcgis.geometry`模块。
- en: Exploring Image Attributes
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索图像属性
- en: 'In this section, you’ll explore the geometry of your Los Angeles map using
    the ArcGIS raster module [`get_samples`](https://oreil.ly/ffCTy). This module
    lets you view sample point locations, spatial resolutions, and pixel values for
    a selected geometry. It’s an example of the [ArcGIS REST API](https://oreil.ly/SWZTB),
    which provides information about the architecture of web applications. In contrast
    to the general ArcGIS API documentation, which is focused primarily on access
    points, the [ArcGIS REST API documentation](https://oreil.ly/QdcRC) provides the
    full scope of geospatial functions. It also [describes the arguments](https://oreil.ly/AXaKp)
    that the `get_samples` operation can call:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分中，您将使用ArcGIS栅格模块[`get_samples`](https://oreil.ly/ffCTy)来探索您的洛杉矶地图的几何形状。该模块允许您查看所选几何形状的样本点位置、空间分辨率和像素值。它是[ArcGIS
    REST API](https://oreil.ly/SWZTB)的一个示例，该API提供有关Web应用程序架构的信息。与主要关注访问点的一般ArcGIS
    API文档不同，[ArcGIS REST API文档](https://oreil.ly/QdcRC)提供了地理空间功能的全部范围。它还描述了`get_samples`操作可以调用的参数：
- en: '[PRE39]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Here you indicate the geometry and sample count of your map and return information
    about its image attributes, based on the extent you define―in this case, Los Angeles:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您指定地图的几何形状和样本计数，并根据您定义的范围返回有关其图像属性的信息―在本例中是洛杉矶的范围：
- en: '[PRE40]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Why geometry? When you create 3D models, data points like altitude and sun azimuth
    are useful for calculating hillshade. When working with the `hillshade` function,
    you are basically taking a 2D surface and rendering it as realistic 3D terrain.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么要使用几何形状？当您创建3D模型时，像高度和太阳方位角这样的数据点对于计算阴影坡度非常有用。在使用`hillshade`函数时，基本上是将2D表面渲染为逼真的3D地形。
- en: 'Next, indicate the geometry and sample count:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，指定几何形状和样本计数：
- en: '[PRE41]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'You can indicate an item to view in the samples list you have generated, or
    view all of them:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以指定要查看的样本列表中的项目，或查看所有项目：
- en: '[PRE42]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The output includes the location, an object ID, calculations of cloud cover,
    and pixel values, among other things:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 输出包括位置、对象ID、云层覆盖计算和像素值等信息：
- en: '[PRE43]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: In Python, we use the `datetime` object for *time-series data*, or data collected
    at different time points. Again, you are sampling the `datetime` class in Python
    and can render the acquisition date by running the following code. (I’ll provide
    additional details later in the chapter, but this is how we use the feature on
    samples data.)
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Python 中，我们使用`datetime`对象进行*时间序列数据*或在不同时间点收集的数据。再次，在 Python 中，您正在对`datetime`类进行采样，并可以通过运行以下代码渲染获取日期。（我将在本章后面提供更多详细信息，但这是我们在示例数据上使用该功能的方式。）
- en: 'Because Python accesses data based on zero-based indexing, using `[0]` requests
    the first index listed, or the first value in the sample:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Python 基于零索引访问数据，使用`[0]`请求列表中的第一个索引或示例中的第一个值：
- en: '[PRE44]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'This outputs:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出：
- en: '[PRE45]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: By sampling values at this specific location, Los Angeles, you can estimate
    a spectral profile for specific points on your map.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在 Los Angeles 的特定位置采样值，您可以估算地图上特定点的光谱配置。
- en: '[PRE46]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: If you select a specific pixel, the spectral profile will plot all of the bands
    reflected at that location, as shown in [Figure 6-8](#map_to_click_to_generate_the_spectral_p).
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 如果选择特定像素，光谱配置将绘制在该位置反射的所有波段，如[图 6-8](#map_to_click_to_generate_the_spectral_p)所示。
- en: The next code lets you select a point on the canvas in your Jupyter Notebook
    to identify the spectral profile. Note that if you run this example from the ArcGIS
    Python API guide and request Landsat 9, it will generate an error because additional
    bands were added.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个代码允许您在 Jupyter Notebook 中的画布上选择一个点以识别光谱配置。请注意，如果您从 ArcGIS Python API 指南运行此示例并请求
    Landsat 9，则会生成错误，因为添加了额外的波段。
- en: '![Map to click to generate the spectral profile in #a_spectral_profile_visualized_with_boke](assets/pgda_0608.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![点击生成光谱配置在#a_spectral_profile_visualized_with_boke](assets/pgda_0608.png)'
- en: Figure 6-8\. Map to click to generate the spectral profile in [Figure 6-9](#a_spectral_profile_visualized_with_boke)
  id: totrans-187
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-8\. 点击生成光谱配置在[图 6-9](#a_spectral_profile_visualized_with_boke)
- en: The `get_samples()` method will gather the pixel values contained in the sample
    data. The pixel values are *digital numbers.* To calculate them correctly, you’ll
    need to convert them, first to floating-point numbers and then to integers. Digital
    numbers record the electromagnetic intensity of the pixel.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '`get_samples()`方法将收集样本数据中包含的像素值。像素值是*数字。*为了正确计算它们，您需要先将其转换为浮点数，然后转换为整数。数字记录像素的电磁强度。'
- en: 'You installed the [Bokeh package](https://oreil.ly/QLQGJ) into your Conda environment
    to allow interactive plots and charting. The Landset specification was based on
    Landsat 8 data and only included eight bands. This results in a Bokeh error. To
    fix this, run it with the new bands included:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 您已将[Bokeh 包](https://oreil.ly/QLQGJ)安装到 Conda 环境中以允许交互式绘图和制图。Landset 规格基于 Landsat
    8 数据，并仅包括了八个波段。这导致了 Bokeh 的错误。为解决此问题，请使用包含新波段的运行：
- en: '[PRE47]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: You should get a message that Bokeh 2.4.2 (or your version number) has successfully
    loaded. Now return to the map and select your point. Click to generate the map
    shown in [Figure 6-8](#map_to_click_to_generate_the_spectral_p) (yours will have
    different values, depending on the point you select).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该收到 Bokeh 2.4.2（或您的版本号）已成功加载的消息。现在返回地图并选择您的点。点击生成[图 6-8](#map_to_click_to_generate_the_spectral_p)中显示的地图（您的地图将根据您选择的点有不同的值）。
- en: The map you generated ([Figure 6-8](#map_to_click_to_generate_the_spectral_p))
    is now interactive. Click anywhere on your new map to plot the spectral profile
    for that location. Now you can select different points and see what values you
    generate. [Figure 6-9](#a_spectral_profile_visualized_with_boke) shows the spectral
    profile of Band 9, used for detecting cirrus clouds, at the location I selected.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 您生成的地图（[图 6-8](#map_to_click_to_generate_the_spectral_p)）现在是交互式的。在新地图上任意点击以绘制该位置的光谱配置。现在您可以选择不同的点并查看生成的值。[图 6-9](#a_spectral_profile_visualized_with_boke)展示了在我选择的位置上用于探测卷云的第
    9 波段的光谱配置。
- en: '![A spectral profile visualized with Bokeh](assets/pgda_0609.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![使用 Bokeh 可视化的光谱配置](assets/pgda_0609.png)'
- en: Figure 6-9\. A spectral profile visualized with Bokeh
  id: totrans-194
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-9\. 使用 Bokeh 可视化的光谱配置
- en: Depending on the unique location you select when clicking on the Landsat 9 imagery
    layer, your spectral profile will be different. Refer to [Table 6-1](#multispectral_and_thermal_infrared_sens)
    to identify the bands included. These represent a few applications of the `get_samples`
    method in the ArcGIS Python API.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 根据点击Landsat 9图像图层时选择的独特位置，您的光谱配置文件将不同。请参阅[表 6-1](#multispectral_and_thermal_infrared_sens)以识别包含的波段。这些代表了ArcGIS
    Python API中`get_samples`方法的几个应用。
- en: Improving Images
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 改进图像
- en: 'Raster functions allow you to do things like extract specific bands to examine
    land use, vegetation, or fire; continuous data such as temperature; scanned images;
    and satellite images, among other things. A *stretch function* allows you to adjust
    the brightness and contrast on your map. The following code selects bands 3, 2,
    and 1 (red, green, and blue) from the visible spectrum and imports the `stretch`
    `raster.function`:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 光栅函数允许您执行诸如提取特定波段以检查土地利用、植被或火灾；连续数据（如温度）；扫描图像；以及卫星图像等操作。*拉伸函数*允许您调整地图上的亮度和对比度。以下代码从可见光谱中选择3、2和1波段（红、绿和蓝），并导入`stretch`
    `raster.function`：
- en: '[PRE48]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: The percent clip minimum (`percentclip`) that this code sets will exclude the
    lowest 10% of values from the stretch to apply to the raster. This is useful if
    most of the pixels are within a specific range. Setting the `stretch_type` trims
    away the outliers to redistribute the histogram of values, resulting in the image
    in [Figure 6-10](#natural_color_bands_depicting_what_the).
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '此代码设置的百分比剪切最小值(`percentclip`)将排除拉伸应用于栅格的最低10%值。如果大多数像素在特定范围内，这是非常有用的。设置`stretch_type`会修剪掉异常值，重新分布值的直方图，从而生成[图 6-10](#natural_color_bands_depicting_what_the)中的图像。 '
- en: '![Natural color bands depicting what the eye would see without enhancement](assets/pgda_0610.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![自然色波段展示了肉眼在没有增强的情况下所看到的图像](assets/pgda_0610.png)'
- en: Figure 6-10\. Natural color bands depicting what the eye would see without enhancement
  id: totrans-201
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-10\. 自然色波段展示了肉眼在没有增强的情况下所看到的图像
- en: The image in [Figure 6-10](#natural_color_bands_depicting_what_the) is what
    the eye would see without any enhancement. Depending on the features you are looking
    for, there may be other bands to explore. We will look at other bands in the following
    section.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 6-10](#natural_color_bands_depicting_what_the)中的图像是肉眼在没有任何增强的情况下所看到的。根据您要查找的特征，可能有其他波段可以探索。我们将在接下来的部分查看其他波段。'
- en: Comparing a Location over Multiple Points in Time
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比较同一位置的多个时间点
- en: The ArcGIS API allows you to compare images of the same location over different
    points in time using a map widget called a *time slider*, which enables you to
    animate a map using configurable properties like start and end times and intervals
    in between. For this example, I’ve selected a city and a satellite basemap.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS API允许您使用称为*时间滑块*的地图小部件比较同一位置在不同时间点的图像，该小部件使您可以使用可配置的属性（如开始和结束时间及其间隔）对地图进行动画化。对于此示例，我选择了一个城市和一个卫星底图。
- en: The map.zoom widget accepts values between 0 and 23\. Level 9 gives a panned-out
    global view; level 10 is somewhere between a large metropolitan area and a city;
    and level 20 is the level of individual buildings. I have never zoomed to 23,
    but doing so would result in the most detailed possible view. There are limitations
    to how much you can zoom, though, depending on the scale of the visualization
    parameters (conversion rates are available in the [documentation](https://oreil.ly/mbtnA)).
    You can change the zoom level and process the data, but the resolution will stay
    the same. For example, all Landsat imagery has a resolution of 15 meters. This
    means that the satellite image captures details on the ground that are 15 meters
    or larger. (For comparison, the Hollywood sign in Los Angeles and a standard semitruck
    trailer are both about 15 meters long.)
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 地图缩放小部件接受0到23之间的值。级别9提供了全球概览；级别10介于大型都市区域和城市之间；级别20是个体建筑物的级别。我从未缩放到23，但这样做会呈现出最详细的视图。然而，根据可视化参数的规模，缩放的限制程度有所不同（转换率可在[文档](https://oreil.ly/mbtnA)中查看）。您可以更改缩放级别并处理数据，但分辨率将保持不变。例如，所有Landsat图像的分辨率为15米。这意味着卫星图像捕捉到的地面细节为15米或更大。（作为比较，洛杉矶的好莱坞标志和标准半挂拖车均长约15米。）
- en: 'Try zooming to level 10:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试将缩放级别调整到10：
- en: '[PRE49]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'The name of the `item title` is printed as output for reference:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '`item title`的名称将作为输出打印以供参考：'
- en: '[PRE50]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: You have searched for a Landsat item, and the recovered item is confirmed by
    its title in the output. Different sublayers will have different details provided.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 您已搜索到一个Landsat项，并且通过其标题在输出中确认了该项。不同的子层将提供不同的详细信息。
- en: 'Add the layer to the map:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 将图层添加到地图中：
- en: '[PRE51]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Request confirmation that the `map.time_slider` is available:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 请求确认`map.time_slider`是否可用：
- en: '[PRE52]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: It should return the output `True`.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该返回输出`True`。
- en: 'You can adjust the dates to a specific interval. The following code measures
    10-day intervals between the selected start and end times:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将日期调整为特定间隔。以下代码测量所选开始和结束时间之间的10天间隔：
- en: '[PRE53]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: This code outputs the map in [Figure 6-11](#time_slider_widget), which includes
    the time-slider widget.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码将在[Figure 6-11](#time_slider_widget)中输出地图，其中包括时间滑块小部件。
- en: '![Time-slider widget](assets/pgda_0611.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![时间滑块小部件](assets/pgda_0611.png)'
- en: Figure 6-11\. Time-slider widget
  id: totrans-220
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-11\. 时间滑块小部件
- en: 'Select the `map.draw(polygon)` option in the code cells, and then draw a polygon
    with your cursor. If you have a specific location of interest, enter its coordinates:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码单元中选择`map.draw(polygon)`选项，然后使用鼠标绘制一个多边形。如果您有感兴趣的特定位置，请输入其坐标：
- en: '[PRE54]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: A *spatial reference* or *well-known ID (WKID)* defines tolerance and resolution
    for the location you have selected (see the [Spatial Reference List](https://oreil.ly/AecRp)).
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '*空间参考*或*WKID（Well-Known ID）*定义了您选择的位置的公差和分辨率（参见[空间参考列表](https://oreil.ly/AecRp)）。'
- en: 'Options for `map.draw` include selecting a point (`pt`), `polyline`, or `polygon`:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '`map.draw`选项包括选择点（`pt`）、`polyline`或`polygon`：'
- en: '[PRE55]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: When you select the polygon and run the code cell, simply return to the map
    and you will be able to trace a polygon. The time-slider widget allows comparison
    across a time series for an area of interest. When working with layers, you will
    often want to filter what appears on your canvas.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 当您选择多边形并运行代码单元时，只需返回到地图，您就可以跟踪一个多边形。时间滑块小部件允许在感兴趣的区域跨时间序列进行比较。在处理图层时，通常需要筛选出出现在画布上的内容。
- en: Filtering Layers
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 过滤图层
- en: 'You may want to filter your layers: for instance, perhaps you only want to
    see Landsat layers from a [specific collection](https://oreil.ly/iMcfn) with less
    than 10% cloud cover. For this, it’s helpful to get familiar with Landsat’s [data
    dictionaries](https://oreil.ly/9fR5U) for complete information about data elements,
    attributes, and names within a database or system.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能希望过滤您的图层：例如，也许您只想看到具有少于10%云覆盖率的[特定集合](https://oreil.ly/iMcfn)中的Landsat图层。为此，熟悉Landsat的[数据字典](https://oreil.ly/9fR5U)有助于获取关于数据库或系统中数据元素、属性和名称的完整信息。
- en: 'In the following code snippet, `WRS_Row` provides information about the orbital
    path of the satellite that took the image:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下代码片段中，`WRS_Row`提供了有关拍摄图像的卫星轨道路径的信息：
- en: '[PRE56]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: The value `36` indicates the northern hemisphere. (You can find these details
    in the Landsat data dictionary, the collection background, or elsewhere in Landsat’s
    information.)
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 值`36`表示北半球。（您可以在Landsat数据字典、集合背景或其他Landsat信息中找到这些详细信息。）
- en: 'Information you can access is shown in the HTML item description you generated
    earlier. Now you can view the table you just created in a dataframe (`df`):'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以访问的信息显示在您之前生成的HTML项目描述中。现在您可以在数据帧（`df`）中查看刚刚创建的表格：
- en: '[PRE57]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Because you are comparing dates, you’ll want to see the oldest acquisition
    date as well as the most recent. To view your output clearly, run it in the code
    cell. The important takeaway is to see the column headings and where to find identifying
    information ([Figure 6-12](#acquisition_date_output)). You can view the first
    five rows by calling `df.head()` as follows:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 因为您正在比较日期，您将希望看到最旧的获取日期以及最近的获取日期。要清楚地查看输出，请在代码单元中运行它。重要的是看列标题以及在哪里找到标识信息（见[Figure 6-12](#acquisition_date_output)）。您可以通过调用`df.head()`来查看前五行：
- en: '[PRE58]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '![Acquisition date output](assets/pgda_0612.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![采集日期输出](assets/pgda_0612.png)'
- en: Figure 6-12\. Acquisition date output
  id: totrans-237
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6-12\. 采集日期输出
- en: 'Now run `df.tail()` and select a recent acquisition date. You can run the code
    in your Jupyter Notebook:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 现在运行`df.tail()`并选择最近的获取日期。您可以在Jupyter Notebook中运行代码：
- en: '[PRE59]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'The following command gives the shape of the data:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令给出了数据的形状：
- en: '[PRE60]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'The output informs us that the data has 9 columns and 193 rows: `(193,9)`.'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 输出告诉我们，数据有9列和193行：`(193,9)`。
- en: 'If you only want the acquisition date, you can run this data, or any of the
    other columns, from the dataframe:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您只想要获取日期，可以运行此数据，或从数据帧中的任何其他列中获取：
- en: '[PRE61]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'This outputs:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 这个输出：
- en: '[PRE62]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Bands have specific wavelengths that are used in statistical calculations.
    You want to avoid overlapping pixels in an imagery layer because this can distort
    the calculations. You can use the default method, where the pixel value is calculated
    from the last dataset ([Figure 6-13](#overlapping_pixels_using_the_lastleft_p)):'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 波段具有特定波长，用于统计计算。在图像图层中要避免像素重叠，因为这可能会扭曲计算结果。您可以使用默认方法，其中像素值是从最后一个数据集计算的（见 [图 6-13](#overlapping_pixels_using_the_lastleft_p)）：
- en: '[PRE63]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '![Overlapping pixels using the last() method](assets/pgda_0613.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![使用 `last()` 方法重叠像素](assets/pgda_0613.png)'
- en: Figure 6-13\. Overlapping pixels using the `last()` method
  id: totrans-250
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-13\. 使用 `last()` 方法重叠像素
- en: 'Alternatively, you can request the `first()` method and calculate pixel value
    from the first raster dataset (output shown in [Figure 6-14](#overlapping_pixels_using_the_firstleft)):'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以请求 `first()` 方法，并从第一个光栅数据集计算像素值（输出显示在 [图 6-14](#overlapping_pixels_using_the_firstleft)
    中）：
- en: '[PRE64]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '![Overlapping pixels using the first() method](assets/pgda_0614.png)'
  id: totrans-253
  prefs: []
  type: TYPE_IMG
  zh: '![使用 `first()` 方法重叠像素](assets/pgda_0614.png)'
- en: Figure 6-14\. Overlapping pixels using the `first()` method
  id: totrans-254
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-14\. 使用 `first()` 方法重叠像素
- en: 'Querying the data by `OBJECTID`, aided by the `df(head)` and `df(tail)` data,
    you can compare images captured at different times:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 通过 `OBJECTID` 查询数据，辅以 `df(head)` 和 `df(tail)` 数据，您可以比较不同时期捕获的图像：
- en: '[PRE65]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'The [`stretch` function](https://oreil.ly/AsmeR) improves visibility by spreading
    the pixel values. There are different types of stretch, but here you are simply
    removing any extreme values by calculating the standard deviation (`stddev`):'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '[`stretch` 函数](https://oreil.ly/AsmeR) 通过扩展像素值来提高可见性。有不同类型的拉伸，但在这里，您只需通过计算标准偏差
    (`stddev`) 删除任何极端值： '
- en: '[PRE66]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: This will output [Figure 6-15](#arcgis_functions_showing_difference_in). The
    green swaths indicate increases in vegetation density, while magenta shows a decrease
    within the timeframe selected by `OBJECTID`.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 这将输出 [图 6-15](#arcgis_functions_showing_difference_in)。绿色条带表示植被密度增加，洋红色显示所选
    `OBJECTID` 时间范围内的减少。
- en: '![ArcGIS functions showing difference in images over time](assets/pgda_0615.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![ArcGIS 函数显示随时间图像差异](assets/pgda_0615.png)'
- en: Figure 6-15\. ArcGIS functions showing difference in images over time
  id: totrans-261
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-15\. ArcGIS 函数显示随时间图像差异
- en: 'Perhaps there is a certain threshold you want to capture. Try measuring only
    areas where the threshold change is above 10%. Use the following code:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 或许有您想要捕获的特定阈值。尝试仅测量阈值变化高于10%的区域。使用以下代码：
- en: '[PRE67]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: The output ([Figure 6-16](#masked_threshold_value_for_changes_in_v)) renders
    those areas in green.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 输出（[图 6-16](#masked_threshold_value_for_changes_in_v)）将这些区域呈现为绿色。
- en: '![Masked threshold value for changes in vegetation index (NDVI)](assets/pgda_0616.png)'
  id: totrans-265
  prefs: []
  type: TYPE_IMG
  zh: '![植被指数（NDVI）变化的掩码阈值](assets/pgda_0616.png)'
- en: Figure 6-16\. Masked threshold value for changes in vegetation index (NDVI)
  id: totrans-266
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-16\. 植被指数（NDVI）变化的掩码阈值
- en: 'Let’s render our map once again:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再次渲染地图：
- en: '[PRE68]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'The final image is displayed in [Figure 6-17](#the_combined_image_at_the_requested_thr).
    You can now see the masked threshold by adding the layers to the map:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 最终图像显示在 [图 6-17](#the_combined_image_at_the_requested_thr) 中。您现在可以通过向地图添加图层来查看掩码阈值：
- en: '[PRE69]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '![The combined image at the requested threshold displaying the masked threshold](assets/pgda_0617.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![在请求的阈值处显示的组合图像，展示了掩码阈值](assets/pgda_0617.png)'
- en: Figure 6-17\. The combined image at the requested threshold displaying the masked
    threshold
  id: totrans-272
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6-17\. 在请求的阈值处显示的组合图像，展示了掩码阈值
- en: Summary
  id: totrans-273
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Now that you’ve customized and explored a few publicly available resources from
    ArcGIS API for Python, you should have some familiarity with raster functions
    and image layers. To continue learning, try working with these functions and layers
    independently and see what other queries you can access.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经根据 ArcGIS API for Python 定制并探索了一些公开可用资源，应该对栅格函数和图像图层有所了解。继续学习时，请尝试独立使用这些函数和图层，看看您可以访问哪些其他查询。
