- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Statistics is a subject of amazingly many uses and surprisingly few effective
    practitioners.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Bradley Efron and R. J. Tibshirani, *An Introduction to the Bootstrap* (1993)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Welcome to *Behavioral Data Analysis with R and Python*! That we live in the
    age of data has become a platitude. Engineers now routinely use data from sensors
    on machines and turbines to predict when these will fail and do preventive maintenance.
    Similarly, marketers use troves of data, from your demographic information to
    your past purchases, to determine which ad to serve you and when. As the phrase
    goes, “Data is the new oil,” and algorithms are the new combustion engine powering
    our economy forward.
  prefs: []
  type: TYPE_NORMAL
- en: Most books on analytics, machine learning, and data science implicitly presume
    that the problems that engineers and marketers are trying to solve can be handled
    with the same approaches and tools. Sure, the variables have different names and
    there is some domain-specific knowledge to acquire, but k-means clustering is
    k-means clustering, whether you’re clustering data about turbines or posts on
    social media. By adopting machine learning tools wholesale this way, businesses
    have often been able to accurately predict behaviors, but at the expense of a
    deeper and richer understanding of what’s actually going on. This has fed into
    the criticism of data science models as “black boxes.”
  prefs: []
  type: TYPE_NORMAL
- en: Instead of aiming for accurate but opaque predictions, this book strives to
    answer the question, “What drives behavior?” If we decide to send an email to
    prospective customers, will they buy a subscription to our service *as a result
    of the email*? And which groups of customers should receive the email? Do older
    customers tend to purchase different products *because* they’re older? What is
    the impact of customer experience on loyalty and retention? By shifting our perspective
    from predicting behaviors to explaining them and measuring their causes, we’ll
    be able to break the curse of “correlation is not causation,” which has prevented
    generations of analysts from being confident in the results of their models.
  prefs: []
  type: TYPE_NORMAL
- en: 'This shift won’t come from the introduction of new analytical tools: we’ll
    use only two data analysis tools: good old linear regression and its logistic
    sibling. These two are intrinsically more readable than other types of models.
    Certainly, this often comes at the cost of a lower predictive accuracy (i.e.,
    they make more and larger errors in prediction), but that doesn’t matter for our
    purpose here of measuring relationships between variables.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Instead we’ll spend a lot of time learning to make sense of data. In my role
    as a data science interviewer, I have seen many candidates who can use sophisticated
    machine learning algorithms but haven’t developed a strong sense for data: they
    have little intuition for what’s going on in their data apart from what their
    algorithms tell them.'
  prefs: []
  type: TYPE_NORMAL
- en: 'I believe that you can develop that intuition, and along the way increase the
    value and outcomes of your analytics projects—often dramatically—by adopting the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: A behavioral science mindset, which sees data not as an end in itself but as
    a lens into the psychology and behaviors of human beings
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A causal analytics toolkit, which allows us to confidently say that one thing
    causes another and to determine how strong that relationship is
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'While each of these can provide great benefits on its own, I believe that they
    are natural complements that are best used together. Given that “a behavioral
    science mindset using a causal analytics toolkit” is a bit of a mouthful, I’ll
    call it instead a causal-behavioral approach or framework. This framework has
    an added benefit: it applies equally to experimental and historical data while
    leveraging the differences between them. This contrasts with traditional analytics,
    which handles them with completely different tools (e.g., ANOVA and T-test for
    experimental data) and data science, which doesn’t treat experimental data differently
    from historical data.'
  prefs: []
  type: TYPE_NORMAL
- en: Who This Book Is For
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you’re analyzing data in a business with R or Python, this book is for you.
    I use the word “business” loosely to mean any for-profit, nonprofit, or governmental
    organization where correct insights and actionable conclusions driving action
    are what matters.
  prefs: []
  type: TYPE_NORMAL
- en: 'In terms of math and stats background, it doesn’t matter whether you are a
    business analyst building monthly forecasts, a UX researcher looking at click-through
    behaviors, or a data scientist building machine learning models. This book has
    one fundamental prerequisite: you need to be at least somewhat familiar with linear
    and logistic regression. If you understand regression, you can follow the argument
    of this book and reap great benefits from it. On the other side of the spectrum,
    I believe even expert data scientists with PhDs in statistics or computer science
    will find the material new and useful, provided they are not already specialists
    in behavioral or causal analytics.'
  prefs: []
  type: TYPE_NORMAL
- en: In terms of programming background, you need to be able to read and write code
    in R or Python, ideally both. I will not show you how to define a function or
    how to manipulate data structures such as data frames or pandas. There are already
    excellent books doing a better job of it than I would (e.g., [*Python for Data
    Analysis*](https://www.oreilly.com/library/view/python-for-data/9781491957653/)
    by Wes McKinney (O’Reilly) and [*R for Data Science*](https://www.oreilly.com/library/view/r-for-data/9781491910382/)
    by Garrett Grolemund and Hadley Wickham (O’Reilly)). If you’ve read any of these
    books, taken an introductory class, or used at least one of the two languages
    at work, then you’ll be equipped for the material here. Similarly, I will usually
    not present and discuss the code used to create the numerous figures in the book,
    although it will be in the book’s GitHub.
  prefs: []
  type: TYPE_NORMAL
- en: Who This Book Is Not For
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you’re in academia or a field that requires you to follow academic norms
    (e.g., pharmaceutical trials), this book might still be of interest to you—but
    the recipes I’m describing might get you in trouble with your advisor/editor/manager.
  prefs: []
  type: TYPE_NORMAL
- en: This book is *not* an overview of conventional behavioral data analysis methods,
    such as T-test or ANOVA. I have yet to encounter a situation where regression
    was less effective than these methods for providing an answer to a business question,
    which is why I’m deliberately restraining this book to linear and logistic regression.
    If you want to learn other methods, you’ll have to look elsewhere (e.g., [*Hands-On
    Machine Learning with Scikit-Learn, Keras, and TensorFlow*](https://www.oreilly.com/library/view/hands-on-machine-learning/9781492032632/)
    (O’Reilly) by Aurélien Géron for machine learning algorithms).
  prefs: []
  type: TYPE_NORMAL
- en: 'Understanding and changing behaviors in applied settings requires both data
    analysis and qualitative skills. This book focuses squarely on the former, primarily
    for reasons of space. In addition, there are already excellent books that cover
    the latter, such as *Nudge: Improving Decisions About Health, Wealth, and Happiness*
    (Penguin) by Richard Thaler and Cass Sunstein and [*Designing for Behavior Change:
    Applying Psychology and Behavioral Economics*](https://www.oreilly.com/library/view/designing-for-behavior/9781492056027/)
    (O’Reilly) by Stephen Wendel. Nonetheless, I’ll provide an introduction to behavioral
    science concepts so that you can apply the tools from this book even if you’re
    new to the field.'
  prefs: []
  type: TYPE_NORMAL
- en: Finally, if you’re completely new to data analysis in R or Python, this is not
    the book for you. I recommend starting with some of the excellent introductions
    out there, such as the ones mentioned in this section.
  prefs: []
  type: TYPE_NORMAL
- en: R and Python Code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Why R *and* Python? Why not whichever of the two is superior? The “R versus
    Python” debate is still alive and kicking on the Internet. It is also, in my humble
    opinion, mostly irrelevant. The reality is that you’ll have to use whatever language
    is used in your organization, period. I once worked in a healthcare company where,
    for historical and regulatory reasons, SAS was the dominant language. I regularly
    used R and Python for my own analyses, but since I couldn’t avoid dealing with
    the legacy SAS code, I taught myself as much SAS as I needed during my first month
    there. Unless you spend your entire career in a company that doesn’t use R or
    Python, you’ll most likely end up picking up some basics in both anyway, so you
    might as well embrace bilingualism. I have yet to encounter anyone who stated
    that “learning to read code in [the other language] was a waste of my time.”
  prefs: []
  type: TYPE_NORMAL
- en: 'Assuming that you have the good luck of being in an organization that uses
    both, which language should you work with? I think it really depends on your context
    and the tasks you have to do. For example, I personally prefer doing exploratory
    data analysis (EDA) in R, but I find that Python is much easier to use for webscraping.
    I advise choosing based on the specifics of your job and relying on up-to-date
    information: both languages are constantly improving, and what was true for a
    previous version of R or Python may not be true for the current version. For example,
    Python is becoming a much friendlier environment for EDA than it once was. Your
    energy is better spent on learning both than on scouring forums to pick the best
    of the two.'
  prefs: []
  type: TYPE_NORMAL
- en: Code Environments
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'At the beginning of each chapter, I’ll call out the R and Python packages that
    need to be loaded specifically for that chapter. In addition, I’ll also be using
    a few standard packages across the entire book; to avoid repetition, these are
    called out only here (they are already included in all the scripts on GitHub).
    You should always start your code with them as well as with a few parameter settings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Code Conventions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I use R in RStudio. R 4.0 was launched while I was writing this book and I have
    adopted it to keep the book as current as possible.
  prefs: []
  type: TYPE_NORMAL
- en: 'R code is written in a code font with a comment indicating the language used,
    like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'I use Python in Anaconda’s Spyder. The “Python 2.0 vs. 3.0” discussion is hopefully
    behind us (at least for new code; legacy code can be a different story), and I’ll
    be using Python 3.7\. The convention for Python code is somewhat similar to the
    one for R:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'We’ll often look at the output of regressions. It can be quite verbose, with
    a lot of diagnostics that are not relevant to the arguments of this book. You
    shouldn’t disregard them in real life, but that’s a matter better covered in other
    books. Therefore, I’ll abbreviate the output like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Functional-Style Programming 101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'One of the steps of going from beginner to intermediate level as a programmer
    is to stop writing scripts in which your code is just a long succession of instructions
    and to structure your code into functions instead. In this book, we’ll write and
    reuse functions across chapters, such as the following ones to build Bootstrap
    confidence intervals:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Functions also have the added advantage of limiting incomprehension spillovers:
    even if you don’t understand how the preceding functions work, you can still take
    for granted that they return confidence intervals and follow the rest of the reasoning,
    postponing a deeper dive into their code until later.'
  prefs: []
  type: TYPE_NORMAL
- en: Using Code Examples
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Supplemental material (code examples, etc.) is available for download at [*https://oreil.ly/BehavioralDataAnalysis*](https://oreil.ly/BehavioralDataAnalysis).
  prefs: []
  type: TYPE_NORMAL
- en: If you have a technical question or a problem using the code examples, please
    send email to [*bookquestions@oreilly.com*](mailto:bookquestions@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: This book is here to help you get your job done. In general, if example code
    is offered with this book, you may use it in your programs and documentation.
    You do not need to contact us for permission unless you’re reproducing a significant
    portion of the code. For example, writing a program that uses several chunks of
    code from this book does not require permission. Selling or distributing examples
    from O’Reilly books does require permission. Answering a question by citing this
    book and quoting example code does not require permission. Incorporating a significant
    amount of example code from this book into your product’s documentation does require
    permission.
  prefs: []
  type: TYPE_NORMAL
- en: 'We appreciate, but do not require, attribution. An attribution usually includes
    the title, author, publisher, and ISBN. For example: “*Behavioral Data Analysis
    with R and Python*, by Florent Buisson (O’Reilly). Copyright 2021 Florent Buisson,
    978-1-492-06137-3.”'
  prefs: []
  type: TYPE_NORMAL
- en: If you feel your use of code examples falls outside fair use or the permission
    given above, feel free to contact us at [*permissions@oreilly.com*](mailto:permissions@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: Navigating This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The core intuition of the book is the idea that effective data analysis relies
    on a constant back and forth between three things:'
  prefs: []
  type: TYPE_NORMAL
- en: Actual behaviors in the real world and related psychological phenomena, such
    as intentions, thoughts, and emotions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Causal analytics and especially causal diagrams
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The book is split into five parts:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Part I, *Understanding Behaviors*](part01.xhtml#understanding_behaviors)'
  prefs: []
  type: TYPE_NORMAL
- en: This part sets the stage with the causal-behavioral framework and the connections
    between behaviors, causal reasoning, and data.
  prefs: []
  type: TYPE_NORMAL
- en: '[Part II, *Causal Diagrams and Deconfounding*](part02.xhtml#causal_diagrams_and_deconfounding)'
  prefs: []
  type: TYPE_NORMAL
- en: This part introduces the concept of confounding and explains how causal diagrams
    allow us to deconfound our data analyses.
  prefs: []
  type: TYPE_NORMAL
- en: '[Part III, *Robust Data Analysis*](part03.xhtml#robust_data_analysis)'
  prefs: []
  type: TYPE_NORMAL
- en: Here we explore tools for missing data and introduce Bootstrap simulations,
    as we’ll rely extensively on Bootstrap confidence intervals in the rest of the
    book. Data that is small, incomplete, or irregularly shaped (e.g., with multiple
    peaks or outliers) is not a new problem, but it can be especially acute with behavioral
    data.
  prefs: []
  type: TYPE_NORMAL
- en: '[Part IV, *Designing and Analyzing Experiments*](part04.xhtml#designing_and_analyzing_experiments)'
  prefs: []
  type: TYPE_NORMAL
- en: In this part, we’ll discuss how to design and analyze experiments.
  prefs: []
  type: TYPE_NORMAL
- en: '[Part V, *Advanced Tools in Behavioral Data Analysis*](part05.xhtml#advanced_tools_in_behavioral_data_analy)'
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we bring everything together to explore moderation, mediation, and
    instrumental variables.
  prefs: []
  type: TYPE_NORMAL
- en: The various parts of the book build somewhat on each other, and consequently
    I recommend reading them in order, at least for your first pass.
  prefs: []
  type: TYPE_NORMAL
- en: Conventions Used in This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following typographical conventions are used in this book:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Italic*'
  prefs: []
  type: TYPE_NORMAL
- en: Indicates new terms, URLs, email addresses, filenames, and file extensions.
  prefs: []
  type: TYPE_NORMAL
- en: '`Constant width`'
  prefs: []
  type: TYPE_NORMAL
- en: Used for program listings, as well as within paragraphs to refer to program
    elements such as variable or function names, databases, data types, environment
    variables, statements, and keywords.
  prefs: []
  type: TYPE_NORMAL
- en: '**`Constant width bold`**'
  prefs: []
  type: TYPE_NORMAL
- en: Shows commands or other text that should be typed literally by the user.
  prefs: []
  type: TYPE_NORMAL
- en: '*`Constant width italic`*'
  prefs: []
  type: TYPE_NORMAL
- en: Shows text that should be replaced with user-supplied values or by values determined
    by context.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a tip or suggestion.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a general note.
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element indicates a warning or caution.
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Online Learning
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: For more than 40 years, [*O’Reilly Media*](http://oreilly.com) has provided
    technology and business training, knowledge, and insight to help companies succeed.
  prefs: []
  type: TYPE_NORMAL
- en: Our unique network of experts and innovators share their knowledge and expertise
    through books, articles, and our online learning platform. O’Reilly’s online learning
    platform gives you on-demand access to live training courses, in-depth learning
    paths, interactive coding environments, and a vast collection of text and video
    from O’Reilly and 200+ other publishers. For more information, visit [*http://oreilly.com*](http://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: How to Contact Us
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Please address comments and questions concerning this book to the publisher:'
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Media, Inc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 1005 Gravenstein Highway North
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastopol, CA 95472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 800-998-9938 (in the United States or Canada)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-0515 (international or local)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-0104 (fax)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can access the web page for this book, which lists errata, examples, and
    additional information at [*https://oreil.ly/Behavioral_Data_Analysis_with_R_and_Python*](https://oreil.ly/Behavioral_Data_Analysis_with_R_and_Python).
  prefs: []
  type: TYPE_NORMAL
- en: Email [*bookquestions@oreilly.com*](mailto:bookquestions@oreilly.com) to comment
    or ask technical questions about this book.
  prefs: []
  type: TYPE_NORMAL
- en: For news and information about our books and courses, visit [*http://oreilly.com*](http://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: 'Find us on Facebook: [*http://facebook.com/oreilly*](http://facebook.com/oreilly)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow us on Twitter: [*http://twitter.com/oreillymedia*](http://twitter.com/oreillymedia)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Watch us on YouTube: [*http://youtube.com/oreillymedia*](http://youtube.com/oreillymedia)'
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Authors often thank their spouses for their patience and call out especially
    insightful reviewers. I have been blessed with having both in the same person.
    I don’t think anyone else would have dared or managed to send me back to the drawing
    board so many times, and this book is tremendously better for it. So my first
    thanks goes to my life and thought partner.
  prefs: []
  type: TYPE_NORMAL
- en: Several of my colleagues and fellow behavioral scientists have been generous
    enough to devote their time to reading and commenting on an earlier draft. This
    book is all the better for it. Thank you (in reverse alphabetical order) Jean
    Utke, Jessica Jakubowski, Chinmaya Gupta, and Phaedra Daipha!
  prefs: []
  type: TYPE_NORMAL
- en: A special thank goes to Bethany Winkel for her help with the writing.
  prefs: []
  type: TYPE_NORMAL
- en: I now cringe at how rough and confusing the very first drafts were. My development
    editor and technical reviewers patiently prodded me all the way to where the book
    is now, sharing their wealth of perspective and expertise. Thank you Gary O’Brien,
    and thank you Xuan Yin, Shannon White, Jason Stanley, Matt LeMay, and Andreas
    Kaltenbrunner.
  prefs: []
  type: TYPE_NORMAL
